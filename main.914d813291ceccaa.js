(self.webpackChunktoken_atm_spa=self.webpackChunktoken_atm_spa||[]).push([[179],{446:(Xt,j,ue)=>{"use strict";function Q(t){return"function"==typeof t}function ge(t){const e=t(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const De=ge(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function me(t,n){if(t){const e=t.indexOf(n);0<=e&&t.splice(e,1)}}class ve{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const s of e)s.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(Q(i))try{i()}catch(s){n=s instanceof De?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{he(s)}catch(o){n=n??[],o instanceof De?n=[...n,...o.errors]:n.push(o)}}if(n)throw new De(n)}}add(n){var e;if(n&&n!==this)if(this.closed)he(n);else{if(n instanceof ve){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(n)}}_hasParent(n){const{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){const{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&me(e,n)}remove(n){const{_finalizers:e}=this;e&&me(e,n),n instanceof ve&&n._removeParent(this)}}ve.EMPTY=(()=>{const t=new ve;return t.closed=!0,t})();const at=ve.EMPTY;function Re(t){return t instanceof ve||t&&"closed"in t&&Q(t.remove)&&Q(t.add)&&Q(t.unsubscribe)}function he(t){Q(t)?t():t.unsubscribe()}const F={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ae={setTimeout(t,n,...e){const{delegate:i}=ae;return i?.setTimeout?i.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){const{delegate:n}=ae;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Me(t){ae.setTimeout(()=>{const{onUnhandledError:n}=F;if(!n)throw t;n(t)})}function B(){}const ie=Ne("C",void 0,void 0);function Ne(t,n,e){return{kind:t,value:n,error:e}}let xe=null;function Ze(t){if(F.useDeprecatedSynchronousErrorHandling){const n=!xe;if(n&&(xe={errorThrown:!1,error:null}),t(),n){const{errorThrown:e,error:i}=xe;if(xe=null,e)throw i}}else t()}class Wt extends ve{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Re(n)&&n.add(this)):this.destination=le}static create(n,e,i){return new G(n,e,i)}next(n){this.isStopped?Z(function te(t){return Ne("N",t,void 0)}(n),this):this._next(n)}error(n){this.isStopped?Z(function X(t){return Ne("E",void 0,t)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Z(ie,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Qn=Function.prototype.bind;function x(t,n){return Qn.call(t,n)}class se{constructor(n){this.partialObserver=n}next(n){const{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(i){S(i)}}error(n){const{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(i){S(i)}else S(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){S(e)}}}class G extends Wt{constructor(n,e,i){let r;if(super(),Q(n)||!n)r={next:n??void 0,error:e??void 0,complete:i??void 0};else{let s;this&&F.useDeprecatedNextContext?(s=Object.create(n),s.unsubscribe=()=>this.unsubscribe(),r={next:n.next&&x(n.next,s),error:n.error&&x(n.error,s),complete:n.complete&&x(n.complete,s)}):r=n}this.destination=new se(r)}}function S(t){F.useDeprecatedSynchronousErrorHandling?function dn(t){F.useDeprecatedSynchronousErrorHandling&&xe&&(xe.errorThrown=!0,xe.error=t)}(t):Me(t)}function Z(t,n){const{onStoppedNotification:e}=F;e&&ae.setTimeout(()=>e(t,n))}const le={closed:!0,next:B,error:function E(t){throw t},complete:B},be="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ee(t){return t}function sn(t){return 0===t.length?Ee:1===t.length?t[0]:function(e){return t.reduce((i,r)=>r(i),e)}}let We=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new t;return i.source=this,i.operator=e,i}subscribe(e,i,r){const s=function je(t){return t&&t instanceof Wt||function en(t){return t&&Q(t.next)&&Q(t.error)&&Q(t.complete)}(t)&&Re(t)}(e)?e:new G(e,i,r);return Ze(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=Oe(i))((r,s)=>{const o=new G({next:a=>{try{e(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[be](){return this}pipe(...e){return sn(e)(this)}toPromise(e){return new(e=Oe(e))((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return t.create=n=>new t(n),t})();function Oe(t){var n;return null!==(n=t??F.Promise)&&void 0!==n?n:Promise}const ni=ge(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let It=(()=>{class t extends We{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new Te(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new ni}next(e){Ze(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){Ze(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){Ze(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:s}=this;return i||r?at:(this.currentObservers=null,s.push(e),new ve(()=>{this.currentObservers=null,me(s,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:s}=this;i?e.error(r):s&&e.complete()}asObservable(){const e=new We;return e.source=this,e}}return t.create=(n,e)=>new Te(n,e),t})();class Te extends It{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,n)}error(n){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,n)}complete(){var n,e;null===(e=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===e||e.call(n)}_subscribe(n){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(n))&&void 0!==i?i:at}}function $t(t){return Q(t?.lift)}function pt(t){return n=>{if($t(n))return n.lift(function(e){try{return t(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Xe(t,n,e,i,r){return new wn(t,n,e,i,r)}class wn extends Wt{constructor(n,e,i,r,s,o){super(n),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=e?function(a){try{e(a)}catch(l){n.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function Ie(t,n){return pt((e,i)=>{let r=0;e.subscribe(Xe(i,s=>{i.next(t.call(n,s,r++))}))})}function Y(t,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,n)}function En(t){return this instanceof En?(this.v=t,this):new En(t)}function Pt(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=function Se(t){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&t[n],i=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(s){e[s]=t[s]&&function(o){return new Promise(function(a,l){!function r(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}(a,l,(o=t[s](o)).done,o.value)})}}}const sc=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function bl(t){return Q(t?.then)}function a_(t){return Q(t[be])}function oc(t){return Symbol.asyncIterator&&Q(t?.[Symbol.asyncIterator])}function wl(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Cl=function OC(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function l_(t){return Q(t?.[Cl])}function C(t){return function Cn(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=e.apply(t,n||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(f){i[f]&&(r[f]=function(h){return new Promise(function(p,v){s.push([f,h,p,v])>1||a(f,h)})})}function a(f,h){try{!function l(f){f.value instanceof En?Promise.resolve(f.value.v).then(u,c):d(s[0][2],f)}(i[f](h))}catch(p){d(s[0][3],p)}}function u(f){a("next",f)}function c(f){a("throw",f)}function d(f,h){f(h),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const e=t.getReader();try{for(;;){const{value:i,done:r}=yield En(e.read());if(r)return yield En(void 0);yield yield En(i)}}finally{e.releaseLock()}})}function D(t){return Q(t?.getReader)}function R(t){if(t instanceof We)return t;if(null!=t){if(a_(t))return function K(t){return new We(n=>{const e=t[be]();if(Q(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(sc(t))return function re(t){return new We(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}(t);if(bl(t))return function Le(t){return new We(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,Me)})}(t);if(oc(t))return ut(t);if(l_(t))return function ze(t){return new We(n=>{for(const e of t)if(n.next(e),n.closed)return;n.complete()})}(t);if(D(t))return function Ft(t){return ut(C(t))}(t)}throw wl(t)}function ut(t){return new We(n=>{(function mn(t,n){var e,i,r,s;return function ne(t,n,e,i){return new(e||(e=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):function r(s){return s instanceof e?s:new e(function(o){o(s)})}(c.value).then(a,l)}u((i=i.apply(t,n||[])).next())})}(this,void 0,void 0,function*(){try{for(e=Pt(t);!(i=yield e.next()).done;)if(n.next(i.value),n.closed)return}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=e.return)&&(yield s.call(e))}finally{if(r)throw r.error}}n.complete()})})(t,n).catch(e=>n.error(e))})}function Tt(t,n,e,i=0,r=!1){const s=n.schedule(function(){e(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(s),!r)return s}function Rt(t,n,e=1/0){return Q(n)?Rt((i,r)=>Ie((s,o)=>n(i,s,r,o))(R(t(i,r))),e):("number"==typeof n&&(e=n),pt((i,r)=>function jt(t,n,e,i,r,s,o,a){const l=[];let u=0,c=0,d=!1;const f=()=>{d&&!l.length&&!u&&n.complete()},h=v=>u<i?p(v):l.push(v),p=v=>{s&&n.next(v),u++;let k=!1;R(e(v,c++)).subscribe(Xe(n,I=>{r?.(I),s?h(I):n.next(I)},()=>{k=!0},void 0,()=>{if(k)try{for(u--;l.length&&u<i;){const I=l.shift();o?Tt(n,o,()=>p(I)):p(I)}f()}catch(I){n.error(I)}}))};return t.subscribe(Xe(n,h,()=>{d=!0,f()})),()=>{a?.()}}(i,r,t,e)))}function Ye(t=1/0){return Rt(Ee,t)}const Ln=new We(t=>t.complete());function gr(t){return t&&Q(t.schedule)}function ls(t){return t[t.length-1]}function Un(t){return Q(ls(t))?t.pop():void 0}function si(t){return gr(ls(t))?t.pop():void 0}function Xi(t,n=0){return pt((e,i)=>{e.subscribe(Xe(i,r=>Tt(i,t,()=>i.next(r),n),()=>Tt(i,t,()=>i.complete(),n),r=>Tt(i,t,()=>i.error(r),n)))})}function Dl(t,n=0){return pt((e,i)=>{i.add(t.schedule(()=>e.subscribe(i),n))})}function Tl(t,n){if(!t)throw new Error("Iterable cannot be null");return new We(e=>{Tt(e,n,()=>{const i=t[Symbol.asyncIterator]();Tt(e,n,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function Pn(t,n){return n?function wf(t,n){if(null!=t){if(a_(t))return function ac(t,n){return R(t).pipe(Dl(n),Xi(n))}(t,n);if(sc(t))return function bf(t,n){return new We(e=>{let i=0;return n.schedule(function(){i===t.length?e.complete():(e.next(t[i++]),e.closed||this.schedule())})})}(t,n);if(bl(t))return function lc(t,n){return R(t).pipe(Dl(n),Xi(n))}(t,n);if(oc(t))return Tl(t,n);if(l_(t))return function Wo(t,n){return new We(e=>{let i;return Tt(e,n,()=>{i=t[Cl](),Tt(e,n,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){return void e.error(o)}s?e.complete():e.next(r)},0,!0)}),()=>Q(i?.return)&&i.return()})}(t,n);if(D(t))return function uc(t,n){return Tl(C(t),n)}(t,n)}throw wl(t)}(t,n):R(t)}function Sl(...t){const n=si(t),e=function Dn(t,n){return"number"==typeof ls(t)?t.pop():n}(t,1/0),i=t;return i.length?1===i.length?R(i[0]):Ye(e)(Pn(i,n)):Ln}function u_(t,n,...e){if(!0===n)return void t();if(!1===n)return;const i=new G({next:()=>{i.unsubscribe(),t()}});return R(n(...e)).subscribe(i)}function ln(t){for(let n in t)if(t[n]===ln)return n;throw Error("Could not find renamed property on target object.")}function c_(t,n){for(const e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function fn(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(fn).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const e=n.indexOf("\n");return-1===e?n:n.substring(0,e)}function d_(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const mF=ln({__forward_ref__:ln});function Ut(t){return t.__forward_ref__=Ut,t.toString=function(){return fn(this())},t}function Ke(t){return f_(t)?t():t}function f_(t){return"function"==typeof t&&t.hasOwnProperty(mF)&&t.__forward_ref__===Ut}function h_(t){return t&&!!t.\u0275providers}const IC="https://g.co/ng/security#xss";class U extends Error{constructor(n,e){super(Cf(n,e)),this.code=n}}function Cf(t,n){return`NG0${Math.abs(t)}${n?": "+n.trim():""}`}function ct(t){return"string"==typeof t?t:null==t?"":String(t)}function Df(t,n){throw new U(-201,!1)}function Lr(t,n){null==t&&function Zt(t,n,e,i){throw new Error(`ASSERTION ERROR: ${t}`+(null==i?"":` [Expected=> ${e} ${i} ${n} <=Actual]`))}(n,t,null,"!=")}function q(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function oi(t){return{providers:t.providers||[],imports:t.imports||[]}}function Tf(t){return AC(t,Sf)||AC(t,xC)}function AC(t,n){return t.hasOwnProperty(n)?t[n]:null}function RC(t){return t&&(t.hasOwnProperty(p_)||t.hasOwnProperty(TF))?t[p_]:null}const Sf=ln({\u0275prov:ln}),p_=ln({\u0275inj:ln}),xC=ln({ngInjectableDef:ln}),TF=ln({ngInjectorDef:ln});var Je=(()=>((Je=Je||{})[Je.Default=0]="Default",Je[Je.Host=1]="Host",Je[Je.Self=2]="Self",Je[Je.SkipSelf=4]="SkipSelf",Je[Je.Optional=8]="Optional",Je))();let m_;function Pr(t){const n=m_;return m_=t,n}function FC(t,n,e){const i=Tf(t);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&Je.Optional?null:void 0!==n?n:void Df(fn(t))}const gn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),cc={},__="__NG_DI_FLAG__",kf="ngTempTokenPath",kF="ngTokenPath",MF=/\n/gm,EF="\u0275",NC="__source";let dc;function Ml(t){const n=dc;return dc=t,n}function OF(t,n=Je.Default){if(void 0===dc)throw new U(-203,!1);return null===dc?FC(t,void 0,n):dc.get(t,n&Je.Optional?null:void 0,n)}function ee(t,n=Je.Default){return(function SF(){return m_}()||OF)(Ke(t),n)}function Ct(t,n=Je.Default){return ee(t,Mf(n))}function Mf(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function g_(t){const n=[];for(let e=0;e<t.length;e++){const i=Ke(t[e]);if(Array.isArray(i)){if(0===i.length)throw new U(900,!1);let r,s=Je.Default;for(let o=0;o<i.length;o++){const a=i[o],l=IF(a);"number"==typeof l?-1===l?r=a.token:s|=l:r=a}n.push(ee(r,s))}else n.push(ee(i))}return n}function fc(t,n){return t[__]=n,t.prototype[__]=n,t}function IF(t){return t[__]}function oo(t){return{toString:t}.toString()}var ks=(()=>((ks=ks||{})[ks.OnPush=0]="OnPush",ks[ks.Default=1]="Default",ks))(),us=(()=>{return(t=us||(us={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",us;var t})();const ao={},Yt=[],Ef=ln({\u0275cmp:ln}),y_=ln({\u0275dir:ln}),v_=ln({\u0275pipe:ln}),PC=ln({\u0275mod:ln}),lo=ln({\u0275fac:ln}),hc=ln({__NG_ELEMENT_ID__:ln});let xF=0;function $e(t){return oo(()=>{const n=BC(t),e={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===ks.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,data:t.data||{},encapsulation:t.encapsulation||us.Emulated,id:"c"+xF++,styles:t.styles||Yt,_:null,schemas:t.schemas||null,tView:null};HC(e);const i=t.dependencies;return e.directiveDefs=Of(i,!1),e.pipeDefs=Of(i,!0),e})}function NF(t){return Qt(t)||Pi(t)}function LF(t){return null!==t}function _i(t){return oo(()=>({type:t.type,bootstrap:t.bootstrap||Yt,declarations:t.declarations||Yt,imports:t.imports||Yt,exports:t.exports||Yt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function VC(t,n){if(null==t)return ao;const e={};for(const i in t)if(t.hasOwnProperty(i)){let r=t[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),e[r]=i,n&&(n[r]=s)}return e}function Ve(t){return oo(()=>{const n=BC(t);return HC(n),n})}function ar(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Qt(t){return t[Ef]||null}function Pi(t){return t[y_]||null}function lr(t){return t[v_]||null}function vr(t,n){const e=t[PC]||null;if(!e&&!0===n)throw new Error(`Type ${fn(t)} does not have '\u0275mod' property.`);return e}function BC(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,exportAs:t.exportAs||null,standalone:!0===t.standalone,selectors:t.selectors||Yt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:VC(t.inputs,n),outputs:VC(t.outputs)}}function HC(t){t.features?.forEach(n=>n(t))}function Of(t,n){if(!t)return null;const e=n?lr:NF;return()=>("function"==typeof t?t():t).map(i=>e(i)).filter(LF)}const uo=0,Ce=1,mt=2,Vn=3,cs=4,Ma=5,Vi=6,Ol=7,Yn=8,If=9,Af=10,vt=11,b_=12,pc=13,$C=14,Il=15,Bi=16,mc=17,Al=18,Ms=19,_c=20,jC=21,yn=22,w_=1,UC=2,Rf=7,xf=8,Rl=9,er=10;function br(t){return Array.isArray(t)&&"object"==typeof t[w_]}function ds(t){return Array.isArray(t)&&!0===t[w_]}function C_(t){return 0!=(4&t.flags)}function gc(t){return t.componentOffset>-1}function Ff(t){return 1==(1&t.flags)}function fs(t){return!!t.template}function VF(t){return 0!=(256&t[mt])}function Ea(t,n){return t.hasOwnProperty(lo)?t[lo]:null}class $F{constructor(n,e,i){this.previousValue=n,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function Hi(){return qC}function qC(t){return t.type.prototype.ngOnChanges&&(t.setInput=UF),jF}function jF(){const t=GC(this),n=t?.current;if(n){const e=t.previous;if(e===ao)t.previous=n;else for(let i in n)e[i]=n[i];t.current=null,this.ngOnChanges(n)}}function UF(t,n,e,i){const r=this.declaredInputs[e],s=GC(t)||function YF(t,n){return t[WC]=n}(t,{previous:ao,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[r];o[r]=new $F(l&&l.currentValue,n,a===ao),t[i]=n}Hi.ngInherit=!0;const WC="__ngSimpleChanges__";function GC(t){return t[WC]||null}const Vr=function(t,n,e){};function Si(t){for(;Array.isArray(t);)t=t[uo];return t}function Nf(t,n){return Si(n[t])}function wr(t,n){return Si(n[t.index])}function KC(t,n){return t.data[n]}function xl(t,n){return t[n]}function Cr(t,n){const e=n[t];return br(e)?e:e[uo]}function Lf(t){return 64==(64&t[mt])}function Zo(t,n){return null==n?null:t[n]}function JC(t){t[Al]=0}function T_(t,n){t[Ma]+=n;let e=t,i=t[Vn];for(;null!==i&&(1===n&&1===e[Ma]||-1===n&&0===e[Ma]);)i[Ma]+=n,e=i,i=i[Vn]}const dt={lFrame:lD(null),bindingsEnabled:!0};function eD(){return dt.bindingsEnabled}function J(){return dt.lFrame.lView}function Nt(){return dt.lFrame.tView}function H(t){return dt.lFrame.contextLView=t,t[Yn]}function $(t){return dt.lFrame.contextLView=null,t}function ki(){let t=tD();for(;null!==t&&64===t.type;)t=t.parent;return t}function tD(){return dt.lFrame.currentTNode}function Es(t,n){const e=dt.lFrame;e.currentTNode=t,e.isParent=n}function S_(){return dt.lFrame.isParent}function k_(){dt.lFrame.isParent=!1}function tr(){const t=dt.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function Fl(){return dt.lFrame.bindingIndex++}function fo(t){const n=dt.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function iN(t,n){const e=dt.lFrame;e.bindingIndex=e.bindingRootIndex=t,M_(n)}function M_(t){dt.lFrame.currentDirectiveIndex=t}function sD(){return dt.lFrame.currentQueryIndex}function O_(t){dt.lFrame.currentQueryIndex=t}function sN(t){const n=t[Ce];return 2===n.type?n.declTNode:1===n.type?t[Vi]:null}function oD(t,n,e){if(e&Je.SkipSelf){let r=n,s=t;for(;!(r=r.parent,null!==r||e&Je.Host||(r=sN(s),null===r||(s=s[Il],10&r.type))););if(null===r)return!1;n=r,t=s}const i=dt.lFrame=aD();return i.currentTNode=n,i.lView=t,!0}function I_(t){const n=aD(),e=t[Ce];dt.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function aD(){const t=dt.lFrame,n=null===t?null:t.child;return null===n?lD(t):n}function lD(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function uD(){const t=dt.lFrame;return dt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const cD=uD;function A_(){const t=uD();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function nr(){return dt.lFrame.selectedIndex}function Oa(t){dt.lFrame.selectedIndex=t}function On(){const t=dt.lFrame;return KC(t.tView,t.selectedIndex)}function Pf(t,n){for(let e=n.directiveStart,i=n.directiveEnd;e<i;e++){const s=t.data[e].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:c}=s;o&&(t.contentHooks??(t.contentHooks=[])).push(-e,o),a&&((t.contentHooks??(t.contentHooks=[])).push(e,a),(t.contentCheckHooks??(t.contentCheckHooks=[])).push(e,a)),l&&(t.viewHooks??(t.viewHooks=[])).push(-e,l),u&&((t.viewHooks??(t.viewHooks=[])).push(e,u),(t.viewCheckHooks??(t.viewCheckHooks=[])).push(e,u)),null!=c&&(t.destroyHooks??(t.destroyHooks=[])).push(e,c)}}function Vf(t,n,e){dD(t,n,3,e)}function Bf(t,n,e,i){(3&t[mt])===e&&dD(t,n,e,i)}function R_(t,n){let e=t[mt];(3&e)===n&&(e&=2047,e+=1,t[mt]=e)}function dD(t,n,e,i){const s=i??-1,o=n.length-1;let a=0;for(let l=void 0!==i?65535&t[Al]:0;l<o;l++)if("number"==typeof n[l+1]){if(a=n[l],null!=i&&a>=i)break}else n[l]<0&&(t[Al]+=65536),(a<s||-1==s)&&(pN(t,e,n,l),t[Al]=(4294901760&t[Al])+l+2),l++}function pN(t,n,e,i){const r=e[i]<0,s=e[i+1],a=t[r?-e[i]:e[i]];if(r){if(t[mt]>>11<t[Al]>>16&&(3&t[mt])===n){t[mt]+=2048,Vr(4,a,s);try{s.call(a)}finally{Vr(5,a,s)}}}else{Vr(4,a,s);try{s.call(a)}finally{Vr(5,a,s)}}}const Nl=-1;class vc{constructor(n,e,i){this.factory=n,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function F_(t,n,e){let i=0;for(;i<e.length;){const r=e[i];if("number"==typeof r){if(0!==r)break;i++;const s=e[i++],o=e[i++],a=e[i++];t.setAttribute(n,o,a,s)}else{const s=r,o=e[++i];hD(s)?t.setProperty(n,s,o):t.setAttribute(n,s,o),i++}}return i}function fD(t){return 3===t||4===t||6===t}function hD(t){return 64===t.charCodeAt(0)}function bc(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let e=-1;for(let i=0;i<n.length;i++){const r=n[i];"number"==typeof r?e=r:0===e||pD(t,e,r,null,-1===e||2===e?n[++i]:null)}}return t}function pD(t,n,e,i,r){let s=0,o=t.length;if(-1===n)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===n){o=-1;break}if(a>n){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==r&&(t[s+1]=r));if(i===t[s+1])return void(t[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(t.splice(o,0,n),s=o+1),t.splice(s++,0,e),null!==i&&t.splice(s++,0,i),null!==r&&t.splice(s++,0,r)}function mD(t){return t!==Nl}function Hf(t){return 32767&t}function $f(t,n){let e=function yN(t){return t>>16}(t),i=n;for(;e>0;)i=i[Il],e--;return i}let N_=!0;function jf(t){const n=N_;return N_=t,n}const _D=255,gD=5;let vN=0;const Os={};function Uf(t,n){const e=yD(t,n);if(-1!==e)return e;const i=n[Ce];i.firstCreatePass&&(t.injectorIndex=n.length,L_(i.data,t),L_(n,null),L_(i.blueprint,null));const r=P_(t,n),s=t.injectorIndex;if(mD(r)){const o=Hf(r),a=$f(r,n),l=a[Ce].data;for(let u=0;u<8;u++)n[s+u]=a[o+u]|l[o+u]}return n[s+8]=r,s}function L_(t,n){t.push(0,0,0,0,0,0,0,0,n)}function yD(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function P_(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let e=0,i=null,r=n;for(;null!==r;){if(i=SD(r),null===i)return Nl;if(e++,r=r[Il],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return Nl}function V_(t,n,e){!function bN(t,n,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(hc)&&(i=e[hc]),null==i&&(i=e[hc]=vN++);const r=i&_D;n.data[t+(r>>gD)]|=1<<r}(t,n,e)}function vD(t,n,e){if(e&Je.Optional||void 0!==t)return t;Df()}function bD(t,n,e,i){if(e&Je.Optional&&void 0===i&&(i=null),!(e&(Je.Self|Je.Host))){const r=t[If],s=Pr(void 0);try{return r?r.get(n,i,e&Je.Optional):FC(n,i,e&Je.Optional)}finally{Pr(s)}}return vD(i,0,e)}function wD(t,n,e,i=Je.Default,r){if(null!==t){if(1024&n[mt]){const o=function SN(t,n,e,i,r){let s=t,o=n;for(;null!==s&&null!==o&&1024&o[mt]&&!(256&o[mt]);){const a=CD(s,o,e,i|Je.Self,Os);if(a!==Os)return a;let l=s.parent;if(!l){const u=o[jC];if(u){const c=u.get(e,Os,i);if(c!==Os)return c}l=SD(o),o=o[Il]}s=l}return r}(t,n,e,i,Os);if(o!==Os)return o}const s=CD(t,n,e,i,Os);if(s!==Os)return s}return bD(n,e,i,r)}function CD(t,n,e,i,r){const s=function DN(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(hc)?t[hc]:void 0;return"number"==typeof n?n>=0?n&_D:TN:n}(e);if("function"==typeof s){if(!oD(n,t,i))return i&Je.Host?vD(r,0,i):bD(n,e,i,r);try{const o=s(i);if(null!=o||i&Je.Optional)return o;Df()}finally{cD()}}else if("number"==typeof s){let o=null,a=yD(t,n),l=Nl,u=i&Je.Host?n[Bi][Vi]:null;for((-1===a||i&Je.SkipSelf)&&(l=-1===a?P_(t,n):n[a+8],l!==Nl&&TD(i,!1)?(o=n[Ce],a=Hf(l),n=$f(l,n)):a=-1);-1!==a;){const c=n[Ce];if(DD(s,a,c.data)){const d=CN(a,n,e,o,i,u);if(d!==Os)return d}l=n[a+8],l!==Nl&&TD(i,n[Ce].data[a+8]===u)&&DD(s,a,n)?(o=c,a=Hf(l),n=$f(l,n)):a=-1}}return r}function CN(t,n,e,i,r,s){const o=n[Ce],a=o.data[t+8],c=Yf(a,o,e,null==i?gc(a)&&N_:i!=o&&0!=(3&a.type),r&Je.Host&&s===a);return null!==c?Ia(n,o,c,a):Os}function Yf(t,n,e,i,r){const s=t.providerIndexes,o=n.data,a=1048575&s,l=t.directiveStart,c=s>>20,f=r?a+c:t.directiveEnd;for(let h=i?a:a+c;h<f;h++){const p=o[h];if(h<l&&e===p||h>=l&&p.type===e)return h}if(r){const h=o[l];if(h&&fs(h)&&h.type===e)return l}return null}function Ia(t,n,e,i){let r=t[e];const s=n.data;if(function mN(t){return t instanceof vc}(r)){const o=r;o.resolving&&function _F(t,n){const e=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new U(-200,`Circular dependency in DI detected for ${t}${e}`)}(function Gt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ct(t)}(s[e]));const a=jf(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?Pr(o.injectImpl):null;oD(t,i,Je.Default);try{r=t[e]=o.factory(void 0,s,t,i),n.firstCreatePass&&e>=i.directiveStart&&function hN(t,n,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=n.type.prototype;if(i){const o=qC(n);(e.preOrderHooks??(e.preOrderHooks=[])).push(t,o),(e.preOrderCheckHooks??(e.preOrderCheckHooks=[])).push(t,o)}r&&(e.preOrderHooks??(e.preOrderHooks=[])).push(0-t,r),s&&((e.preOrderHooks??(e.preOrderHooks=[])).push(t,s),(e.preOrderCheckHooks??(e.preOrderCheckHooks=[])).push(t,s))}(e,s[e],n)}finally{null!==l&&Pr(l),jf(a),o.resolving=!1,cD()}}return r}function DD(t,n,e){return!!(e[n+(t>>gD)]&1<<t)}function TD(t,n){return!(t&Je.Self||t&Je.Host&&n)}class Ll{constructor(n,e){this._tNode=n,this._lView=e}get(n,e,i){return wD(this._tNode,this._lView,n,Mf(i),e)}}function TN(){return new Ll(ki(),J())}function lt(t){return oo(()=>{const n=t.prototype.constructor,e=n[lo]||B_(n),i=Object.prototype;let r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){const s=r[lo]||B_(r);if(s&&s!==e)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function B_(t){return f_(t)?()=>{const n=B_(Ke(t));return n&&n()}:Ea(t)}function SD(t){const n=t[Ce],e=n.type;return 2===e?n.declTNode:1===e?t[Vi]:null}const Vl="__parameters__";function Hl(t,n,e){return oo(()=>{const i=function H_(t){return function(...e){if(t){const i=t(...e);for(const r in i)this[r]=i[r]}}}(n);function r(...s){if(this instanceof r)return i.apply(this,s),this;const o=new r(...s);return a.annotation=o,a;function a(l,u,c){const d=l.hasOwnProperty(Vl)?l[Vl]:Object.defineProperty(l,Vl,{value:[]})[Vl];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(o),l}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}class Pe{constructor(n,e){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=q({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Aa(t,n){t.forEach(e=>Array.isArray(e)?Aa(e,n):n(e))}function MD(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function qf(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Dc(t,n){const e=[];for(let i=0;i<t;i++)e.push(n);return e}function Dr(t,n,e){let i=$l(t,n);return i>=0?t[1|i]=e:(i=~i,function ON(t,n,e,i){let r=t.length;if(r==n)t.push(e,i);else if(1===r)t.push(i,t[0]),t[0]=e;else{for(r--,t.push(t[r-1],t[r]);r>n;)t[r]=t[r-2],r--;t[n]=e,t[n+1]=i}}(t,i,n,e)),i}function j_(t,n){const e=$l(t,n);if(e>=0)return t[1|e]}function $l(t,n){return function ED(t,n,e){let i=0,r=t.length>>e;for(;r!==i;){const s=i+(r-i>>1),o=t[s<<e];if(n===o)return s<<e;o>n?r=s:i=s+1}return~(r<<e)}(t,n,1)}const Tc=fc(Hl("Optional"),8),Sc=fc(Hl("SkipSelf"),4);var ur=(()=>((ur=ur||{})[ur.Important=1]="Important",ur[ur.DashCase=2]="DashCase",ur))();const G_=new Map;let KN=0;const Q_="__ngContext__";function $i(t,n){br(n)?(t[Q_]=n[_c],function XN(t){G_.set(t[_c],t)}(n)):t[Q_]=n}let K_;function J_(t,n){return K_(t,n)}function Oc(t){const n=t[Vn];return ds(n)?n[Vn]:n}function X_(t){return GD(t[pc])}function eg(t){return GD(t[cs])}function GD(t){for(;null!==t&&!ds(t);)t=t[cs];return t}function Ul(t,n,e,i,r){if(null!=i){let s,o=!1;ds(i)?s=i:br(i)&&(o=!0,i=i[uo]);const a=Si(i);0===t&&null!==e?null==r?e0(n,e,a):Ra(n,e,a,r||null,!0):1===t&&null!==e?Ra(n,e,a,r||null,!0):2===t?function ag(t,n,e){const i=Qf(t,n);i&&function vL(t,n,e,i){t.removeChild(n,e,i)}(t,i,n,e)}(n,a,o):3===t&&n.destroyNode(a),null!=s&&function CL(t,n,e,i,r){const s=e[Rf];s!==Si(e)&&Ul(n,t,i,s,r);for(let a=er;a<e.length;a++){const l=e[a];Ic(l[Ce],l,t,n,i,s)}}(n,t,s,e,r)}}function ng(t,n,e){return t.createElement(n,e)}function QD(t,n){const e=t[Rl],i=e.indexOf(n),r=n[Vn];512&n[mt]&&(n[mt]&=-513,T_(r,-1)),e.splice(i,1)}function ig(t,n){if(t.length<=er)return;const e=er+n,i=t[e];if(i){const r=i[mc];null!==r&&r!==t&&QD(r,i),n>0&&(t[e-1][cs]=i[cs]);const s=qf(t,er+n);!function dL(t,n){Ic(t,n,n[vt],2,null,null),n[uo]=null,n[Vi]=null}(i[Ce],i);const o=s[Ms];null!==o&&o.detachView(s[Ce]),i[Vn]=null,i[cs]=null,i[mt]&=-65}return i}function KD(t,n){if(!(128&n[mt])){const e=n[vt];e.destroyNode&&Ic(t,n,e,3,null,null),function pL(t){let n=t[pc];if(!n)return rg(t[Ce],t);for(;n;){let e=null;if(br(n))e=n[pc];else{const i=n[er];i&&(e=i)}if(!e){for(;n&&!n[cs]&&n!==t;)br(n)&&rg(n[Ce],n),n=n[Vn];null===n&&(n=t),br(n)&&rg(n[Ce],n),e=n&&n[cs]}n=e}}(n)}}function rg(t,n){if(!(128&n[mt])){n[mt]&=-65,n[mt]|=128,function yL(t,n){let e;if(null!=t&&null!=(e=t.destroyHooks))for(let i=0;i<e.length;i+=2){const r=n[e[i]];if(!(r instanceof vc)){const s=e[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=r[s[o]],l=s[o+1];Vr(4,a,l);try{l.call(a)}finally{Vr(5,a,l)}}else{Vr(4,r,s);try{s.call(r)}finally{Vr(5,r,s)}}}}}(t,n),function gL(t,n){const e=t.cleanup,i=n[Ol];let r=-1;if(null!==e)for(let s=0;s<e.length-1;s+=2)if("string"==typeof e[s]){const o=e[s+3];o>=0?i[r=o]():i[r=-o].unsubscribe(),s+=2}else{const o=i[r=e[s+1]];e[s].call(o)}if(null!==i){for(let s=r+1;s<i.length;s++)(0,i[s])();n[Ol]=null}}(t,n),1===n[Ce].type&&n[vt].destroy();const e=n[mc];if(null!==e&&ds(n[Vn])){e!==n[Vn]&&QD(e,n);const i=n[Ms];null!==i&&i.detachView(t)}!function eL(t){G_.delete(t[_c])}(n)}}function JD(t,n,e){return function XD(t,n,e){let i=n;for(;null!==i&&40&i.type;)i=(n=i).parent;if(null===i)return e[uo];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:s}=t.data[i.directiveStart+r];if(s===us.None||s===us.Emulated)return null}return wr(i,e)}}(t,n.parent,e)}function Ra(t,n,e,i,r){t.insertBefore(n,e,i,r)}function e0(t,n,e){t.appendChild(n,e)}function t0(t,n,e,i,r){null!==i?Ra(t,n,e,i,r):e0(t,n,e)}function Qf(t,n){return t.parentNode(n)}function n0(t,n,e){return s0(t,n,e)}let sg,cg,eh,s0=function r0(t,n,e){return 40&t.type?wr(t,e):null};function Kf(t,n,e,i){const r=JD(t,i,n),s=n[vt],a=n0(i.parent||n[Vi],i,n);if(null!=r)if(Array.isArray(e))for(let l=0;l<e.length;l++)t0(s,r,e[l],a,!1);else t0(s,r,e,a,!1);void 0!==sg&&sg(s,i,n,e,r)}function Jf(t,n){if(null!==n){const e=n.type;if(3&e)return wr(n,t);if(4&e)return og(-1,t[n.index]);if(8&e){const i=n.child;if(null!==i)return Jf(t,i);{const r=t[n.index];return ds(r)?og(-1,r):Si(r)}}if(32&e)return J_(n,t)()||Si(t[n.index]);{const i=a0(t,n);return null!==i?Array.isArray(i)?i[0]:Jf(Oc(t[Bi]),i):Jf(t,n.next)}}return null}function a0(t,n){return null!==n?t[Bi][Vi].projection[n.projection]:null}function og(t,n){const e=er+t+1;if(e<n.length){const i=n[e],r=i[Ce].firstChild;if(null!==r)return Jf(i,r)}return n[Rf]}function lg(t,n,e,i,r,s,o){for(;null!=e;){const a=i[e.index],l=e.type;if(o&&0===n&&(a&&$i(Si(a),i),e.flags|=2),32!=(32&e.flags))if(8&l)lg(t,n,e.child,i,r,s,!1),Ul(n,t,r,a,s);else if(32&l){const u=J_(e,i);let c;for(;c=u();)Ul(n,t,r,c,s);Ul(n,t,r,a,s)}else 16&l?l0(t,n,i,e,r,s):Ul(n,t,r,a,s);e=o?e.projectionNext:e.next}}function Ic(t,n,e,i,r,s){lg(e,i,t.firstChild,n,r,s,!1)}function l0(t,n,e,i,r,s){const o=e[Bi],l=o[Vi].projection[i.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)Ul(n,t,r,l[u],s);else lg(t,n,l,o[Vn],r,s,!0)}function u0(t,n,e){""===e?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e)}function c0(t,n,e){const{mergedAttrs:i,classes:r,styles:s}=e;null!==i&&F_(t,n,i),null!==r&&u0(t,n,r),null!==s&&function TL(t,n,e){t.setAttribute(n,"style",e)}(t,n,s)}function p0(t){return function dg(){if(void 0===eh&&(eh=null,gn.trustedTypes))try{eh=gn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return eh}()?.createScriptURL(t)||t}class m0{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${IC})`}}function Qo(t){return t instanceof m0?t.changingThisBreaksApplicationSecurity:t}function Ac(t,n){const e=function FL(t){return t instanceof m0&&t.getTypeName()||null}(t);if(null!=e&&e!==n){if("ResourceURL"===e&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${e} (see ${IC})`)}return e===n}const VL=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Kn=(()=>((Kn=Kn||{})[Kn.NONE=0]="NONE",Kn[Kn.HTML=1]="HTML",Kn[Kn.STYLE=2]="STYLE",Kn[Kn.SCRIPT=3]="SCRIPT",Kn[Kn.URL=4]="URL",Kn[Kn.RESOURCE_URL=5]="RESOURCE_URL",Kn))();function _g(t){const n=xc();return n?n.sanitize(Kn.URL,t)||"":Ac(t,"URL")?Qo(t):function fg(t){return(t=String(t)).match(VL)?t:"unsafe:"+t}(ct(t))}function C0(t){const n=xc();if(n)return p0(n.sanitize(Kn.RESOURCE_URL,t)||"");if(Ac(t,"ResourceURL"))return p0(Qo(t));throw new U(904,!1)}function xc(){const t=J();return t&&t[b_]}const nh=new Pe("ENVIRONMENT_INITIALIZER"),T0=new Pe("INJECTOR",-1),S0=new Pe("INJECTOR_DEF_TYPES");class k0{get(n,e=cc){if(e===cc){const i=new Error(`NullInjectorError: No provider for ${fn(n)}!`);throw i.name="NullInjectorError",i}return e}}function KL(...t){return{\u0275providers:M0(0,t),\u0275fromNgModule:!0}}function M0(t,...n){const e=[],i=new Set;let r;return Aa(n,s=>{const o=s;gg(o,e,[],i)&&(r||(r=[]),r.push(o))}),void 0!==r&&E0(r,e),e}function E0(t,n){for(let e=0;e<t.length;e++){const{providers:r}=t[e];yg(r,s=>{n.push(s)})}}function gg(t,n,e,i){if(!(t=Ke(t)))return!1;let r=null,s=RC(t);const o=!s&&Qt(t);if(s||o){if(o&&!o.standalone)return!1;r=t}else{const l=t.ngModule;if(s=RC(l),!s)return!1;r=l}const a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const u of l)gg(u,n,e,i)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let u;i.add(r);try{Aa(s.imports,c=>{gg(c,n,e,i)&&(u||(u=[]),u.push(c))})}finally{}void 0!==u&&E0(u,n)}if(!a){const u=Ea(r)||(()=>new r);n.push({provide:r,useFactory:u,deps:Yt},{provide:S0,useValue:r,multi:!0},{provide:nh,useValue:()=>ee(r),multi:!0})}const l=s.providers;null==l||a||yg(l,c=>{n.push(c)})}}return r!==t&&void 0!==t.providers}function yg(t,n){for(let e of t)h_(e)&&(e=e.\u0275providers),Array.isArray(e)?yg(e,n):n(e)}const JL=ln({provide:String,useValue:ln});function vg(t){return null!==t&&"object"==typeof t&&JL in t}function xa(t){return"function"==typeof t}const bg=new Pe("Set Injector scope."),ih={},eP={};let wg;function rh(){return void 0===wg&&(wg=new k0),wg}class po{}class A0 extends po{get destroyed(){return this._destroyed}constructor(n,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Dg(n,o=>this.processProvider(o)),this.records.set(T0,zl(void 0,this)),r.has("environment")&&this.records.set(po,zl(void 0,this));const s=this.records.get(bg);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(S0.multi,Yt,Je.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();for(const n of this._onDestroyHooks)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(n){this._onDestroyHooks.push(n)}runInContext(n){this.assertNotDestroyed();const e=Ml(this),i=Pr(void 0);try{return n()}finally{Ml(e),Pr(i)}}get(n,e=cc,i=Je.Default){this.assertNotDestroyed(),i=Mf(i);const r=Ml(this),s=Pr(void 0);try{if(!(i&Je.SkipSelf)){let a=this.records.get(n);if(void 0===a){const l=function sP(t){return"function"==typeof t||"object"==typeof t&&t instanceof Pe}(n)&&Tf(n);a=l&&this.injectableDefInScope(l)?zl(Cg(n),ih):null,this.records.set(n,a)}if(null!=a)return this.hydrate(n,a)}return(i&Je.Self?rh():this.parent).get(n,e=i&Je.Optional&&e===cc?null:e)}catch(o){if("NullInjectorError"===o.name){if((o[kf]=o[kf]||[]).unshift(fn(n)),r)throw o;return function AF(t,n,e,i){const r=t[kf];throw n[NC]&&r.unshift(n[NC]),t.message=function RF(t,n,e,i=null){t=t&&"\n"===t.charAt(0)&&t.charAt(1)==EF?t.slice(2):t;let r=fn(n);if(Array.isArray(n))r=n.map(fn).join(" -> ");else if("object"==typeof n){let s=[];for(let o in n)if(n.hasOwnProperty(o)){let a=n[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):fn(a)))}r=`{${s.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${t.replace(MF,"\n  ")}`}("\n"+t.message,r,e,i),t[kF]=r,t[kf]=null,t}(o,n,"R3InjectorError",this.source)}throw o}finally{Pr(s),Ml(r)}}resolveInjectorInitializers(){const n=Ml(this),e=Pr(void 0);try{const i=this.get(nh.multi,Yt,Je.Self);for(const r of i)r()}finally{Ml(n),Pr(e)}}toString(){const n=[],e=this.records;for(const i of e.keys())n.push(fn(i));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new U(205,!1)}processProvider(n){let e=xa(n=Ke(n))?n:Ke(n&&n.provide);const i=function nP(t){return vg(t)?zl(void 0,t.useValue):zl(R0(t),ih)}(n);if(xa(n)||!0!==n.multi)this.records.get(e);else{let r=this.records.get(e);r||(r=zl(void 0,ih,!0),r.factory=()=>g_(r.multi),this.records.set(e,r)),e=n,r.multi.push(n)}this.records.set(e,i)}hydrate(n,e){return e.value===ih&&(e.value=eP,e.value=e.factory()),"object"==typeof e.value&&e.value&&function rP(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(n){if(!n.providedIn)return!1;const e=Ke(n.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}}function Cg(t){const n=Tf(t),e=null!==n?n.factory:Ea(t);if(null!==e)return e;if(t instanceof Pe)throw new U(204,!1);if(t instanceof Function)return function tP(t){const n=t.length;if(n>0)throw Dc(n,"?"),new U(204,!1);const e=function CF(t){const n=t&&(t[Sf]||t[xC]);return n?(function DF(t){if(t.hasOwnProperty("name"))return t.name;(""+t).match(/^function\s*([^\s(]+)/)}(t),n):null}(t);return null!==e?()=>e.factory(t):()=>new t}(t);throw new U(204,!1)}function R0(t,n,e){let i;if(xa(t)){const r=Ke(t);return Ea(r)||Cg(r)}if(vg(t))i=()=>Ke(t.useValue);else if(function I0(t){return!(!t||!t.useFactory)}(t))i=()=>t.useFactory(...g_(t.deps||[]));else if(function O0(t){return!(!t||!t.useExisting)}(t))i=()=>ee(Ke(t.useExisting));else{const r=Ke(t&&(t.useClass||t.provide));if(!function iP(t){return!!t.deps}(t))return Ea(r)||Cg(r);i=()=>new r(...g_(t.deps))}return i}function zl(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function Dg(t,n){for(const e of t)Array.isArray(e)?Dg(e,n):e&&h_(e)?Dg(e.\u0275providers,n):n(e)}class oP{}class x0{}class lP{resolveComponentFactory(n){throw function aP(t){const n=Error(`No component factory found for ${fn(t)}. Did you add it to @NgModule.entryComponents?`);return n.ngComponent=t,n}(n)}}let ql=(()=>{class t{}return t.NULL=new lP,t})();function uP(){return Wl(ki(),J())}function Wl(t,n){return new zt(wr(t,n))}let zt=(()=>{class t{constructor(e){this.nativeElement=e}}return t.__NG_ELEMENT_ID__=uP,t})();function cP(t){return t instanceof zt?t.nativeElement:t}class Fa{}let Tn=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function dP(){const t=J(),e=Cr(ki().index,t);return(br(e)?e:t)[vt]}(),t})(),fP=(()=>{class t{}return t.\u0275prov=q({token:t,providedIn:"root",factory:()=>null}),t})();class Fc{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const hP=new Fc("15.2.6"),Tg={},Sg="ngOriginalError";function kg(t){return t[Sg]}class Na{constructor(){this._console=console}handleError(n){const e=this._findOriginalError(n);this._console.error("ERROR",n),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(n){let e=n&&kg(n);for(;e&&kg(e);)e=kg(e);return e||null}}function Mg(t){return t.ownerDocument.defaultView}function mo(t){return t instanceof Function?t():t}function L0(t,n,e){let i=t.length;for(;;){const r=t.indexOf(n,e);if(-1===r)return r;if(0===r||t.charCodeAt(r-1)<=32){const s=n.length;if(r+s===i||t.charCodeAt(r+s)<=32)return r}e=r+1}}const P0="ng-template";function DP(t,n,e){let i=0,r=!0;for(;i<t.length;){let s=t[i++];if("string"==typeof s&&r){const o=t[i++];if(e&&"class"===s&&-1!==L0(o.toLowerCase(),n,0))return!0}else{if(1===s){for(;i<t.length&&"string"==typeof(s=t[i++]);)if(s.toLowerCase()===n)return!0;return!1}"number"==typeof s&&(r=!1)}}return!1}function V0(t){return 4===t.type&&t.value!==P0}function TP(t,n,e){return n===(4!==t.type||e?t.value:P0)}function SP(t,n,e){let i=4;const r=t.attrs||[],s=function EP(t){for(let n=0;n<t.length;n++)if(fD(t[n]))return n;return t.length}(r);let o=!1;for(let a=0;a<n.length;a++){const l=n[a];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!TP(t,l,e)||""===l&&1===n.length){if(hs(i))return!1;o=!0}}else{const u=8&i?l:n[++a];if(8&i&&null!==t.attrs){if(!DP(t.attrs,u,e)){if(hs(i))return!1;o=!0}continue}const d=kP(8&i?"class":l,r,V0(t),e);if(-1===d){if(hs(i))return!1;o=!0;continue}if(""!==u){let f;f=d>s?"":r[d+1].toLowerCase();const h=8&i?f:null;if(h&&-1!==L0(h,u,0)||2&i&&u!==f){if(hs(i))return!1;o=!0}}}}else{if(!o&&!hs(i)&&!hs(l))return!1;if(o&&hs(l))continue;o=!1,i=l|1&i}}return hs(i)||o}function hs(t){return 0==(1&t)}function kP(t,n,e,i){if(null===n)return-1;let r=0;if(i||!e){let s=!1;for(;r<n.length;){const o=n[r];if(o===t)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=n[++r];for(;"string"==typeof a;)a=n[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function OP(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){const i=t[e];if("number"==typeof i)return-1;if(i===n)return e;e++}return-1}(n,t)}function B0(t,n,e=!1){for(let i=0;i<n.length;i++)if(SP(t,n[i],e))return!0;return!1}function IP(t,n){e:for(let e=0;e<n.length;e++){const i=n[e];if(t.length===i.length){for(let r=0;r<t.length;r++)if(t[r]!==i[r])continue e;return!0}}return!1}function H0(t,n){return t?":not("+n.trim()+")":n}function AP(t){let n=t[0],e=1,i=2,r="",s=!1;for(;e<t.length;){let o=t[e];if("string"==typeof o)if(2&i){const a=t[++e];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""!==r&&!hs(o)&&(n+=H0(s,r),r=""),i=o,s=s||!hs(i);e++}return""!==r&&(n+=H0(s,r)),n}const ft={};function m(t){$0(Nt(),J(),nr()+t,!1)}function $0(t,n,e,i){if(!i)if(3==(3&n[mt])){const s=t.preOrderCheckHooks;null!==s&&Vf(n,s,e)}else{const s=t.preOrderHooks;null!==s&&Bf(n,s,0,e)}Oa(e)}function z0(t,n=null,e=null,i){const r=q0(t,n,e,i);return r.resolveInjectorInitializers(),r}function q0(t,n=null,e=null,i,r=new Set){const s=[e||Yt,KL(t)];return i=i||("object"==typeof t?void 0:fn(t)),new A0(s,n||rh(),i||null,r)}let Tr=(()=>{class t{static create(e,i){if(Array.isArray(e))return z0({name:""},i,e,"");{const r=e.name??"";return z0({name:r},e.parent,e.providers,r)}}}return t.THROW_IF_NOT_FOUND=cc,t.NULL=new k0,t.\u0275prov=q({token:t,providedIn:"any",factory:()=>ee(T0)}),t.__NG_ELEMENT_ID__=-1,t})();function T(t,n=Je.Default){const e=J();return null===e?ee(t,n):wD(ki(),e,Ke(t),n)}function eT(t,n){const e=t.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const s=e[i+1];if(-1!==s){const o=t.data[s];O_(e[i]),o.contentQueries(2,n[s],s)}}}function oh(t,n,e,i,r,s,o,a,l,u,c){const d=n.blueprint.slice();return d[uo]=r,d[mt]=76|i,(null!==c||t&&1024&t[mt])&&(d[mt]|=1024),JC(d),d[Vn]=d[Il]=t,d[Yn]=e,d[Af]=o||t&&t[Af],d[vt]=a||t&&t[vt],d[b_]=l||t&&t[b_]||null,d[If]=u||t&&t[If]||null,d[Vi]=s,d[_c]=function JN(){return KN++}(),d[jC]=c,d[Bi]=2==n.type?t[Bi]:d,d}function Ql(t,n,e,i,r){let s=t.data[n];if(null===s)s=function Rg(t,n,e,i,r){const s=tD(),o=S_(),l=t.data[n]=function r2(t,n,e,i,r,s){return{type:e,index:i,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,e,n,i,r);return null===t.firstChild&&(t.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(t,n,e,i,r),function nN(){return dt.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=e,s.value=i,s.attrs=r;const o=function yc(){const t=dt.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Es(s,!0),s}function Nc(t,n,e,i){if(0===e)return-1;const r=n.length;for(let s=0;s<e;s++)n.push(i),t.blueprint.push(i),t.data.push(null);return r}function xg(t,n,e){I_(n);try{const i=t.viewQuery;null!==i&&Ug(1,i,e);const r=t.template;null!==r&&tT(t,n,r,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&eT(t,n),t.staticViewQueries&&Ug(2,t.viewQuery,e);const s=t.components;null!==s&&function e2(t,n){for(let e=0;e<n.length;e++)D2(t,n[e])}(n,s)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{n[mt]&=-5,A_()}}function ah(t,n,e,i){const r=n[mt];if(128!=(128&r)){I_(n);try{JC(n),function iD(t){return dt.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==e&&tT(t,n,e,2,i);const o=3==(3&r);if(o){const u=t.preOrderCheckHooks;null!==u&&Vf(n,u,null)}else{const u=t.preOrderHooks;null!==u&&Bf(n,u,0,null),R_(n,0)}if(function w2(t){for(let n=X_(t);null!==n;n=eg(n)){if(!n[UC])continue;const e=n[Rl];for(let i=0;i<e.length;i++){const r=e[i];512&r[mt]||T_(r[Vn],1),r[mt]|=512}}}(n),function b2(t){for(let n=X_(t);null!==n;n=eg(n))for(let e=er;e<n.length;e++){const i=n[e],r=i[Ce];Lf(i)&&ah(r,i,r.template,i[Yn])}}(n),null!==t.contentQueries&&eT(t,n),o){const u=t.contentCheckHooks;null!==u&&Vf(n,u)}else{const u=t.contentHooks;null!==u&&Bf(n,u,1),R_(n,1)}!function JP(t,n){const e=t.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const r=e[i];if(r<0)Oa(~r);else{const s=r,o=e[++i],a=e[++i];iN(o,s),a(2,n[s])}}}finally{Oa(-1)}}(t,n);const a=t.components;null!==a&&function XP(t,n){for(let e=0;e<n.length;e++)C2(t,n[e])}(n,a);const l=t.viewQuery;if(null!==l&&Ug(2,l,i),o){const u=t.viewCheckHooks;null!==u&&Vf(n,u)}else{const u=t.viewHooks;null!==u&&Bf(n,u,2),R_(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[mt]&=-41,512&n[mt]&&(n[mt]&=-513,T_(n[Vn],-1))}finally{A_()}}}function tT(t,n,e,i,r){const s=nr(),o=2&i;try{Oa(-1),o&&n.length>yn&&$0(t,n,yn,!1),Vr(o?2:0,r),e(i,r)}finally{Oa(s),Vr(o?3:1,r)}}function Fg(t,n,e){if(C_(n)){const r=n.directiveEnd;for(let s=n.directiveStart;s<r;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,e[s],s)}}}function Ng(t,n,e){eD()&&(function c2(t,n,e,i){const r=e.directiveStart,s=e.directiveEnd;gc(e)&&function g2(t,n,e){const i=wr(n,t),r=nT(e),s=t[Af],o=lh(t,oh(t,r,null,e.onPush?32:16,i,n,s,s.createRenderer(i,e),null,null,null));t[n.index]=o}(n,e,t.data[r+e.componentOffset]),t.firstCreatePass||Uf(e,n),$i(i,n);const o=e.initialInputs;for(let a=r;a<s;a++){const l=t.data[a],u=Ia(n,t,a,e);$i(u,n),null!==o&&y2(0,a-r,u,l,0,o),fs(l)&&(Cr(e.index,n)[Yn]=Ia(n,t,a,e))}}(t,n,e,wr(e,n)),64==(64&e.flags)&&lT(t,n,e))}function Lg(t,n,e=wr){const i=n.localNames;if(null!==i){let r=n.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?e(n,t):t[o];t[r++]=a}}}function nT(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Pg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):n}function Pg(t,n,e,i,r,s,o,a,l,u){const c=yn+i,d=c+r,f=function t2(t,n){const e=[];for(let i=0;i<n;i++)e.push(i<t?null:ft);return e}(c,d),h="function"==typeof u?u():u;return f[Ce]={type:t,blueprint:f,template:e,queries:null,viewQuery:a,declTNode:n,data:f.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:h,incompleteFirstPass:!1}}function iT(t,n,e,i){const r=cT(n);null===e?r.push(i):(r.push(e),t.firstCreatePass&&dT(t).push(i,r.length-1))}function rT(t,n,e,i){for(let r in t)if(t.hasOwnProperty(r)){e=null===e?{}:e;const s=t[r];null===i?sT(e,n,r,s):i.hasOwnProperty(r)&&sT(e,n,i[r],s)}return e}function sT(t,n,e,i){t.hasOwnProperty(e)?t[e].push(n,i):t[e]=[n,i]}function Sr(t,n,e,i,r,s,o,a){const l=wr(n,e);let c,u=n.inputs;!a&&null!=u&&(c=u[i])?(Yg(t,e,c,i,r),gc(n)&&oT(e,n.index)):3&n.type&&(i=function o2(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(i),r=null!=o?o(r,n.value||"",i):r,s.setProperty(l,i,r))}function oT(t,n){const e=Cr(n,t);16&e[mt]||(e[mt]|=32)}function Vg(t,n,e,i){if(eD()){const r=null===i?null:{"":-1},s=function f2(t,n){const e=t.directiveRegistry;let i=null,r=null;if(e)for(let s=0;s<e.length;s++){const o=e[s];if(B0(n,o.selectors,!1))if(i||(i=[]),fs(o))if(null!==o.findHostDirectiveDefs){const a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o),Bg(t,n,a.length)}else i.unshift(o),Bg(t,n,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return null===i?null:[i,r]}(t,e);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&aT(t,n,e,o,r,a),r&&function h2(t,n,e){if(n){const i=t.localNames=[];for(let r=0;r<n.length;r+=2){const s=e[n[r+1]];if(null==s)throw new U(-301,!1);i.push(n[r],s)}}}(e,i,r)}e.mergedAttrs=bc(e.mergedAttrs,e.attrs)}function aT(t,n,e,i,r,s){for(let u=0;u<i.length;u++)V_(Uf(e,n),t,i[u].type);!function m2(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}(e,t.data.length,i.length);for(let u=0;u<i.length;u++){const c=i[u];c.providersResolver&&c.providersResolver(c)}let o=!1,a=!1,l=Nc(t,n,i.length,null);for(let u=0;u<i.length;u++){const c=i[u];e.mergedAttrs=bc(e.mergedAttrs,c.hostAttrs),_2(t,e,n,l,c),p2(l,c,r),null!==c.contentQueries&&(e.flags|=4),(null!==c.hostBindings||null!==c.hostAttrs||0!==c.hostVars)&&(e.flags|=64);const d=c.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??(t.preOrderHooks=[])).push(e.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(e.index),a=!0),l++}!function s2(t,n,e){const r=n.directiveEnd,s=t.data,o=n.attrs,a=[];let l=null,u=null;for(let c=n.directiveStart;c<r;c++){const d=s[c],f=e?e.get(d):null,p=f?f.outputs:null;l=rT(d.inputs,c,l,f?f.inputs:null),u=rT(d.outputs,c,u,p);const v=null===l||null===o||V0(n)?null:v2(l,c,o);a.push(v)}null!==l&&(l.hasOwnProperty("class")&&(n.flags|=8),l.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=a,n.inputs=l,n.outputs=u}(t,e,s)}function lT(t,n,e){const i=e.directiveStart,r=e.directiveEnd,s=e.index,o=function rN(){return dt.lFrame.currentDirectiveIndex}();try{Oa(s);for(let a=i;a<r;a++){const l=t.data[a],u=n[a];M_(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&d2(l,u)}}finally{Oa(-1),M_(o)}}function d2(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Bg(t,n,e){n.componentOffset=e,(t.components??(t.components=[])).push(n.index)}function p2(t,n,e){if(e){if(n.exportAs)for(let i=0;i<n.exportAs.length;i++)e[n.exportAs[i]]=t;fs(n)&&(e[""]=t)}}function _2(t,n,e,i,r){t.data[i]=r;const s=r.factory||(r.factory=Ea(r.type)),o=new vc(s,fs(r),T);t.blueprint[i]=o,e[i]=o,function l2(t,n,e,i,r){const s=r.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~n.index;(function u2(t){let n=t.length;for(;n>0;){const e=t[--n];if("number"==typeof e&&e<0)return e}return 0})(o)!=a&&o.push(a),o.push(e,i,s)}}(t,n,i,Nc(t,e,r.hostVars,ft),r)}function Is(t,n,e,i,r,s){const o=wr(t,n);!function Hg(t,n,e,i,r,s,o){if(null==s)t.removeAttribute(n,r,e);else{const a=null==o?ct(s):o(s,i||"",r);t.setAttribute(n,r,a,e)}}(n[vt],o,s,t.value,e,i,r)}function y2(t,n,e,i,r,s){const o=s[n];if(null!==o){const a=i.setInput;for(let l=0;l<o.length;){const u=o[l++],c=o[l++],d=o[l++];null!==a?i.setInput(e,d,u,c):e[c]=d}}}function v2(t,n,e){let i=null,r=0;for(;r<e.length;){const s=e[r];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===i&&(i=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===n){i.push(s,o[a+1],e[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function uT(t,n,e,i){return[t,!0,!1,n,null,0,i,e,null,null]}function C2(t,n){const e=Cr(n,t);if(Lf(e)){const i=e[Ce];48&e[mt]?ah(i,e,i.template,e[Yn]):e[Ma]>0&&$g(e)}}function $g(t){for(let i=X_(t);null!==i;i=eg(i))for(let r=er;r<i.length;r++){const s=i[r];if(Lf(s))if(512&s[mt]){const o=s[Ce];ah(o,s,o.template,s[Yn])}else s[Ma]>0&&$g(s)}const e=t[Ce].components;if(null!==e)for(let i=0;i<e.length;i++){const r=Cr(e[i],t);Lf(r)&&r[Ma]>0&&$g(r)}}function D2(t,n){const e=Cr(n,t),i=e[Ce];(function T2(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])})(i,e),xg(i,e,e[Yn])}function lh(t,n){return t[pc]?t[$C][cs]=n:t[pc]=n,t[$C]=n,n}function jg(t){for(;t;){t[mt]|=32;const n=Oc(t);if(VF(t)&&!n)return t;t=n}return null}function uh(t,n,e,i=!0){const r=n[Af];r.begin&&r.begin();try{ah(t,n,t.template,e)}catch(o){throw i&&hT(n,o),o}finally{r.end&&r.end()}}function Ug(t,n,e){O_(0),n(t,e)}function cT(t){return t[Ol]||(t[Ol]=[])}function dT(t){return t.cleanup||(t.cleanup=[])}function hT(t,n){const e=t[If],i=e?e.get(Na,null):null;i&&i.handleError(n)}function Yg(t,n,e,i,r){for(let s=0;s<e.length;){const o=e[s++],a=e[s++],l=n[o],u=t.data[o];null!==u.setInput?u.setInput(l,r,i,a):l[a]=r}}function _o(t,n,e){const i=Nf(n,t);!function ZD(t,n,e){t.setValue(n,e)}(t[vt],i,e)}function ch(t,n,e){let i=e?t.styles:null,r=e?t.classes:null,s=0;if(null!==n)for(let o=0;o<n.length;o++){const a=n[o];"number"==typeof a?s=a:1==s?r=d_(r,a):2==s&&(i=d_(i,a+": "+n[++o]+";"))}e?t.styles=i:t.stylesWithoutHost=i,e?t.classes=r:t.classesWithoutHost=r}function dh(t,n,e,i,r=!1){for(;null!==e;){const s=n[e.index];if(null!==s&&i.push(Si(s)),ds(s))for(let a=er;a<s.length;a++){const l=s[a],u=l[Ce].firstChild;null!==u&&dh(l[Ce],l,u,i)}const o=e.type;if(8&o)dh(t,n,e.child,i);else if(32&o){const a=J_(e,n);let l;for(;l=a();)i.push(l)}else if(16&o){const a=a0(n,e);if(Array.isArray(a))i.push(...a);else{const l=Oc(n[Bi]);dh(l[Ce],l,a,i,!0)}}e=r?e.projectionNext:e.next}return i}class Lc{get rootNodes(){const n=this._lView,e=n[Ce];return dh(e,n,e.firstChild,[])}constructor(n,e){this._lView=n,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Yn]}set context(n){this._lView[Yn]=n}get destroyed(){return 128==(128&this._lView[mt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Vn];if(ds(n)){const e=n[xf],i=e?e.indexOf(this):-1;i>-1&&(ig(n,i),qf(e,i))}this._attachedToViewContainer=!1}KD(this._lView[Ce],this._lView)}onDestroy(n){iT(this._lView[Ce],this._lView,null,n)}markForCheck(){jg(this._cdRefInjectingView||this._lView)}detach(){this._lView[mt]&=-65}reattach(){this._lView[mt]|=64}detectChanges(){uh(this._lView[Ce],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new U(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function hL(t,n){Ic(t,n,n[vt],2,null,null)}(this._lView[Ce],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new U(902,!1);this._appRef=n}}class S2 extends Lc{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;uh(n[Ce],n,n[Yn],!1)}checkNoChanges(){}get context(){return null}}class pT extends ql{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const e=Qt(n);return new Pc(e,this.ngModule)}}function mT(t){const n=[];for(let e in t)t.hasOwnProperty(e)&&n.push({propName:t[e],templateName:e});return n}class M2{constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,i){i=Mf(i);const r=this.injector.get(n,Tg,i);return r!==Tg||e===Tg?r:this.parentInjector.get(n,e,i)}}class Pc extends x0{get inputs(){return mT(this.componentDef.inputs)}get outputs(){return mT(this.componentDef.outputs)}constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=function RP(t){return t.map(AP).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}create(n,e,i,r){let s=(r=r||this.ngModule)instanceof po?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new M2(n,s):n,a=o.get(Fa,null);if(null===a)throw new U(407,!1);const l=o.get(fP,null),u=a.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",d=i?function n2(t,n,e){return t.selectRootElement(n,e===us.ShadowDom)}(u,i,this.componentDef.encapsulation):ng(u,c,function k2(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(c)),f=this.componentDef.onPush?288:272,h=Pg(0,null,null,1,0,null,null,null,null,null),p=oh(null,h,null,f,null,null,a,u,l,o,null);let v,k;I_(p);try{const I=this.componentDef;let z,P=null;I.findHostDirectiveDefs?(z=[],P=new Map,I.findHostDirectiveDefs(I,z,P),z.push(I)):z=[I];const oe=function O2(t,n){const e=t[Ce],i=yn;return t[i]=n,Ql(e,i,2,"#host",null)}(p,d),tt=function I2(t,n,e,i,r,s,o,a){const l=r[Ce];!function A2(t,n,e,i){for(const r of t)n.mergedAttrs=bc(n.mergedAttrs,r.hostAttrs);null!==n.mergedAttrs&&(ch(n,n.mergedAttrs,!0),null!==e&&c0(i,e,n))}(i,t,n,o);const u=s.createRenderer(n,e),c=oh(r,nT(e),null,e.onPush?32:16,r[t.index],t,s,u,a||null,null,null);return l.firstCreatePass&&Bg(l,t,i.length-1),lh(r,c),r[t.index]=c}(oe,d,I,z,p,a,u);k=KC(h,yn),d&&function x2(t,n,e,i){if(i)F_(t,e,["ng-version",hP.full]);else{const{attrs:r,classes:s}=function xP(t){const n=[],e=[];let i=1,r=2;for(;i<t.length;){let s=t[i];if("string"==typeof s)2===r?""!==s&&n.push(s,t[++i]):8===r&&e.push(s);else{if(!hs(r))break;r=s}i++}return{attrs:n,classes:e}}(n.selectors[0]);r&&F_(t,e,r),s&&s.length>0&&u0(t,e,s.join(" "))}}(u,I,d,i),void 0!==e&&function F2(t,n,e){const i=t.projection=[];for(let r=0;r<n.length;r++){const s=e[r];i.push(null!=s?Array.from(s):null)}}(k,this.ngContentSelectors,e),v=function R2(t,n,e,i,r,s){const o=ki(),a=r[Ce],l=wr(o,r);aT(a,r,o,e,null,i);for(let c=0;c<e.length;c++)$i(Ia(r,a,o.directiveStart+c,o),r);lT(a,r,o),l&&$i(l,r);const u=Ia(r,a,o.directiveStart+o.componentOffset,o);if(t[Yn]=r[Yn]=u,null!==s)for(const c of s)c(u,n);return Fg(a,o,t),u}(tt,I,z,P,p,[N2]),xg(h,p,null)}finally{A_()}return new E2(this.componentType,v,Wl(k,p),p,k)}}class E2 extends oP{constructor(n,e,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.instance=e,this.hostView=this.changeDetectorRef=new S2(r),this.componentType=n}setInput(n,e){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[n])){const s=this._rootLView;Yg(s[Ce],s,r,n,e),oT(s,this._tNode.index)}}get injector(){return new Ll(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function N2(){const t=ki();Pf(J()[Ce],t)}function _t(t){let n=function _T(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),e=!0;const i=[t];for(;n;){let r;if(fs(t))r=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new U(903,!1);r=n.\u0275dir}if(r){if(e){i.push(r);const o=t;o.inputs=zg(t.inputs),o.declaredInputs=zg(t.declaredInputs),o.outputs=zg(t.outputs);const a=r.hostBindings;a&&B2(t,a);const l=r.viewQuery,u=r.contentQueries;if(l&&P2(t,l),u&&V2(t,u),c_(t.inputs,r.inputs),c_(t.declaredInputs,r.declaredInputs),c_(t.outputs,r.outputs),fs(r)&&r.data.animation){const c=t.data;c.animation=(c.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===_t&&(e=!1)}}n=Object.getPrototypeOf(n)}!function L2(t){let n=0,e=null;for(let i=t.length-1;i>=0;i--){const r=t[i];r.hostVars=n+=r.hostVars,r.hostAttrs=bc(r.hostAttrs,e=bc(e,r.hostAttrs))}}(i)}function zg(t){return t===ao?{}:t===Yt?[]:t}function P2(t,n){const e=t.viewQuery;t.viewQuery=e?(i,r)=>{n(i,r),e(i,r)}:n}function V2(t,n){const e=t.contentQueries;t.contentQueries=e?(i,r,s)=>{n(i,r,s),e(i,r,s)}:n}function B2(t,n){const e=t.hostBindings;t.hostBindings=e?(i,r)=>{n(i,r),e(i,r)}:n}function fh(t){return!!qg(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function qg(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function As(t,n,e){return t[n]=e}function ji(t,n,e){return!Object.is(t[n],e)&&(t[n]=e,!0)}function zn(t,n,e,i){const r=J();return ji(r,Fl(),n)&&(Nt(),Is(On(),r,t,n,e,i)),zn}function Jl(t,n,e,i){return ji(t,Fl(),e)?n+ct(e)+i:ft}function Xl(t,n,e,i,r,s){const a=function La(t,n,e,i){const r=ji(t,n,e);return ji(t,n+1,i)||r}(t,function co(){return dt.lFrame.bindingIndex}(),e,r);return fo(2),a?n+ct(e)+i+ct(r)+s:ft}function V(t,n,e,i,r,s,o,a){const l=J(),u=Nt(),c=t+yn,d=u.firstCreatePass?function Z2(t,n,e,i,r,s,o,a,l){const u=n.consts,c=Ql(n,t,4,o||null,Zo(u,a));Vg(n,e,c,Zo(u,l)),Pf(n,c);const d=c.tView=Pg(2,c,i,r,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,u);return null!==n.queries&&(n.queries.template(n,c),d.queries=n.queries.embeddedTView(c)),c}(c,u,l,n,e,i,r,s,o):u.data[c];Es(d,!1);const f=l[vt].createComment("");Kf(u,l,f,d),$i(f,l),lh(l,l[c]=uT(f,l,f,d)),Ff(d)&&Ng(u,l,d),null!=o&&Lg(l,d,a)}function Rs(t){return xl(function tN(){return dt.lFrame.contextLView}(),yn+t)}function y(t,n,e){const i=J();return ji(i,Fl(),n)&&Sr(Nt(),On(),i,t,n,i[vt],e,!1),y}function Wg(t,n,e,i,r){const o=r?"class":"style";Yg(t,e,n.inputs[o],o,i)}function _(t,n,e,i){const r=J(),s=Nt(),o=yn+t,a=r[vt],l=s.firstCreatePass?function K2(t,n,e,i,r,s){const o=n.consts,l=Ql(n,t,2,i,Zo(o,r));return Vg(n,e,l,Zo(o,s)),null!==l.attrs&&ch(l,l.attrs,!1),null!==l.mergedAttrs&&ch(l,l.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,l),l}(o,s,r,n,e,i):s.data[o],u=r[o]=ng(a,n,function fN(){return dt.lFrame.currentNamespace}()),c=Ff(l);return Es(l,!0),c0(a,u,l),32!=(32&l.flags)&&Kf(s,r,u,l),0===function QF(){return dt.lFrame.elementDepthCount}()&&$i(u,r),function KF(){dt.lFrame.elementDepthCount++}(),c&&(Ng(s,r,l),Fg(s,l,r)),null!==i&&Lg(r,l),_}function g(){let t=ki();S_()?k_():(t=t.parent,Es(t,!1));const n=t;!function JF(){dt.lFrame.elementDepthCount--}();const e=Nt();return e.firstCreatePass&&(Pf(e,t),C_(t)&&e.queries.elementEnd(t)),null!=n.classesWithoutHost&&function _N(t){return 0!=(8&t.flags)}(n)&&Wg(e,n,J(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function gN(t){return 0!=(16&t.flags)}(n)&&Wg(e,n,J(),n.stylesWithoutHost,!1),g}function Ae(t,n,e,i){return _(t,n,e,i),g(),Ae}function Bn(t,n,e){const i=J(),r=Nt(),s=t+yn,o=r.firstCreatePass?function J2(t,n,e,i,r){const s=n.consts,o=Zo(s,i),a=Ql(n,t,8,"ng-container",o);return null!==o&&ch(a,o,!0),Vg(n,e,a,Zo(s,r)),null!==n.queries&&n.queries.elementStart(n,a),a}(s,r,i,n,e):r.data[s];Es(o,!0);const a=i[s]=i[vt].createComment("");return Kf(r,i,a,o),$i(a,i),Ff(o)&&(Ng(r,i,o),Fg(r,o,i)),null!=e&&Lg(i,o),Bn}function Hn(){let t=ki();const n=Nt();return S_()?k_():(t=t.parent,Es(t,!1)),n.firstCreatePass&&(Pf(n,t),C_(t)&&n.queries.elementEnd(t)),Hn}function Fe(){return J()}function Bc(t){return!!t&&"function"==typeof t.then}function IT(t){return!!t&&"function"==typeof t.subscribe}const Gg=IT;function N(t,n,e,i){const r=J(),s=Nt(),o=ki();return function RT(t,n,e,i,r,s,o){const a=Ff(i),u=t.firstCreatePass&&dT(t),c=n[Yn],d=cT(n);let f=!0;if(3&i.type||o){const v=wr(i,n),k=o?o(v):v,I=d.length,z=o?oe=>o(Si(oe[i.index])):i.index;let P=null;if(!o&&a&&(P=function X2(t,n,e,i){const r=t.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===e&&r[s+1]===i){const a=n[Ol],l=r[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(t,n,r,i.index)),null!==P)(P.__ngLastListenerFn__||P).__ngNextListenerFn__=s,P.__ngLastListenerFn__=s,f=!1;else{s=FT(i,n,c,s,!1);const oe=e.listen(k,r,s);d.push(s,oe),u&&u.push(r,z,I,I+1)}}else s=FT(i,n,c,s,!1);const h=i.outputs;let p;if(f&&null!==h&&(p=h[r])){const v=p.length;if(v)for(let k=0;k<v;k+=2){const tt=n[p[k]][p[k+1]].subscribe(s),rt=d.length;d.push(s,tt),u&&u.push(r,i.index,rt,-(rt+1))}}}(s,r,r[vt],o,t,n,i),N}function xT(t,n,e,i){try{return Vr(6,n,e),!1!==e(i)}catch(r){return hT(t,r),!1}finally{Vr(7,n,e)}}function FT(t,n,e,i,r){return function s(o){if(o===Function)return i;jg(t.componentOffset>-1?Cr(t.index,n):n);let l=xT(n,e,i,o),u=s.__ngNextListenerFn__;for(;u;)l=xT(n,e,u,o)&&l,u=u.__ngNextListenerFn__;return r&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function w(t=1){return function oN(t){return(dt.lFrame.contextLView=function aN(t,n){for(;t>0;)n=n[Il],t--;return n}(t,dt.lFrame.contextLView))[Yn]}(t)}function eV(t,n){let e=null;const i=function MP(t){const n=t.attrs;if(null!=n){const e=n.indexOf(5);if(!(1&e))return n[e+1]}return null}(t);for(let r=0;r<n.length;r++){const s=n[r];if("*"!==s){if(null===i?B0(t,s,!0):IP(i,s))return r}else e=r}return e}function Hc(t){const n=J()[Bi][Vi];if(!n.projection){const i=n.projection=Dc(t?t.length:1,null),r=i.slice();let s=n.child;for(;null!==s;){const o=t?eV(s,t):0;null!==o&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s),s=s.next}}}function ou(t,n=0,e){const i=J(),r=Nt(),s=Ql(r,yn+t,16,null,e||null);null===s.projection&&(s.projection=n),k_(),32!=(32&s.flags)&&function wL(t,n,e){l0(n[vt],0,n,e,JD(t,e,n),n0(e.parent||n[Vi],e,n))}(r,i,s)}function ph(t,n,e){return Zg(t,"",n,"",e),ph}function Zg(t,n,e,i,r){const s=J(),o=Jl(s,n,e,i);return o!==ft&&Sr(Nt(),On(),s,t,o,s[vt],r,!1),Zg}function mh(t,n){return t<<17|n<<2}function Ko(t){return t>>17&32767}function Qg(t){return 2|t}function Pa(t){return(131068&t)>>2}function Kg(t,n){return-131069&t|n<<2}function Jg(t){return 1|t}function UT(t,n,e,i,r){const s=t[e+1],o=null===n;let a=i?Ko(s):Pa(s),l=!1;for(;0!==a&&(!1===l||o);){const c=t[a+1];oV(t[a],n)&&(l=!0,t[a+1]=i?Jg(c):Qg(c)),a=i?Ko(c):Pa(c)}l&&(t[e+1]=i?Qg(s):Jg(s))}function oV(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&$l(t,n)>=0}const li={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function YT(t){return t.substring(li.key,li.keyEnd)}function zT(t,n){const e=li.textEnd;return e===n?-1:(n=li.keyEnd=function cV(t,n,e){for(;n<e&&t.charCodeAt(n)>32;)n++;return n}(t,li.key=n,e),au(t,n,e))}function au(t,n,e){for(;n<e&&t.charCodeAt(n)<=32;)n++;return n}function go(t,n,e){return ps(t,n,e,!1),go}function st(t,n){return ps(t,n,null,!0),st}function Xg(t){!function ms(t,n,e,i){const r=Nt(),s=fo(2);r.firstUpdatePass&&KT(r,null,s,i);const o=J();if(e!==ft&&ji(o,s,e)){const a=r.data[nr()];if(tS(a,i)&&!QT(r,s)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(e=d_(l,e||"")),Wg(r,a,o,e,i)}else!function vV(t,n,e,i,r,s,o,a){r===ft&&(r=Yt);let l=0,u=0,c=0<r.length?r[0]:null,d=0<s.length?s[0]:null;for(;null!==c||null!==d;){const f=l<r.length?r[l+1]:void 0,h=u<s.length?s[u+1]:void 0;let v,p=null;c===d?(l+=2,u+=2,f!==h&&(p=d,v=h)):null===d||null!==c&&c<d?(l+=2,p=c):(u+=2,p=d,v=h),null!==p&&XT(t,n,e,i,p,v,o,a),c=l<r.length?r[l]:null,d=u<s.length?s[u]:null}}(r,a,o,o[vt],o[s+1],o[s+1]=function yV(t,n,e){if(null==e||""===e)return Yt;const i=[],r=Qo(e);if(Array.isArray(r))for(let s=0;s<r.length;s++)t(i,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&t(i,s,r[s]);else"string"==typeof r&&n(i,r);return i}(t,n,e),i,s)}}(Dr,Fs,t,!0)}function Fs(t,n){for(let e=function lV(t){return function WT(t){li.key=0,li.keyEnd=0,li.value=0,li.valueEnd=0,li.textEnd=t.length}(t),zT(t,au(t,0,li.textEnd))}(n);e>=0;e=zT(n,e))Dr(t,YT(n),!0)}function ps(t,n,e,i){const r=J(),s=Nt(),o=fo(2);s.firstUpdatePass&&KT(s,t,o,i),n!==ft&&ji(r,o,n)&&XT(s,s.data[nr()],r,r[vt],t,r[o+1]=function bV(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=fn(Qo(t)))),t}(n,e),i,o)}function QT(t,n){return n>=t.expandoStartIndex}function KT(t,n,e,i){const r=t.data;if(null===r[e+1]){const s=r[nr()],o=QT(t,e);tS(s,i)&&null===n&&!o&&(n=!1),n=function pV(t,n,e,i){const r=function E_(t){const n=dt.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let s=i?n.residualClasses:n.residualStyles;if(null===r)0===(i?n.classBindings:n.styleBindings)&&(e=$c(e=ey(null,t,n,e,i),n.attrs,i),s=null);else{const o=n.directiveStylingLast;if(-1===o||t[o]!==r)if(e=ey(r,t,n,e,i),null===s){let l=function mV(t,n,e){const i=e?n.classBindings:n.styleBindings;if(0!==Pa(i))return t[Ko(i)]}(t,n,i);void 0!==l&&Array.isArray(l)&&(l=ey(null,t,n,l[1],i),l=$c(l,n.attrs,i),function _V(t,n,e,i){t[Ko(e?n.classBindings:n.styleBindings)]=i}(t,n,i,l))}else s=function gV(t,n,e){let i;const r=n.directiveEnd;for(let s=1+n.directiveStylingLast;s<r;s++)i=$c(i,t[s].hostAttrs,e);return $c(i,n.attrs,e)}(t,n,i)}return void 0!==s&&(i?n.residualClasses=s:n.residualStyles=s),e}(r,s,n,i),function rV(t,n,e,i,r,s){let o=s?n.classBindings:n.styleBindings,a=Ko(o),l=Pa(o);t[i]=e;let c,u=!1;if(Array.isArray(e)?(c=e[1],(null===c||$l(e,c)>0)&&(u=!0)):c=e,r)if(0!==l){const f=Ko(t[a+1]);t[i+1]=mh(f,a),0!==f&&(t[f+1]=Kg(t[f+1],i)),t[a+1]=function nV(t,n){return 131071&t|n<<17}(t[a+1],i)}else t[i+1]=mh(a,0),0!==a&&(t[a+1]=Kg(t[a+1],i)),a=i;else t[i+1]=mh(l,0),0===a?a=i:t[l+1]=Kg(t[l+1],i),l=i;u&&(t[i+1]=Qg(t[i+1])),UT(t,c,i,!0),UT(t,c,i,!1),function sV(t,n,e,i,r){const s=r?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof n&&$l(s,n)>=0&&(e[i+1]=Jg(e[i+1]))}(n,c,t,i,s),o=mh(a,l),s?n.classBindings=o:n.styleBindings=o}(r,s,n,e,o,i)}}function ey(t,n,e,i,r){let s=null;const o=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<o&&(s=n[a],i=$c(i,s.hostAttrs,r),s!==t);)a++;return null!==t&&(e.directiveStylingLast=a),i}function $c(t,n,e){const i=e?1:2;let r=-1;if(null!==n)for(let s=0;s<n.length;s++){const o=n[s];"number"==typeof o?r=o:r===i&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Dr(t,o,!!e||n[++s]))}return void 0===t?null:t}function XT(t,n,e,i,r,s,o,a){if(!(3&n.type))return;const l=t.data,u=l[a+1],c=function iV(t){return 1==(1&t)}(u)?eS(l,n,e,r,Pa(u),o):void 0;_h(c)||(_h(s)||function tV(t){return 2==(2&t)}(u)&&(s=eS(l,null,e,r,a,o)),function DL(t,n,e,i,r){if(n)r?t.addClass(e,i):t.removeClass(e,i);else{let s=-1===i.indexOf("-")?void 0:ur.DashCase;null==r?t.removeStyle(e,i,s):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=ur.Important),t.setStyle(e,i,r,s))}}(i,o,Nf(nr(),e),r,s))}function eS(t,n,e,i,r,s){const o=null===n;let a;for(;r>0;){const l=t[r],u=Array.isArray(l),c=u?l[1]:l,d=null===c;let f=e[r+1];f===ft&&(f=d?Yt:void 0);let h=d?j_(f,i):c===i?f:void 0;if(u&&!_h(h)&&(h=j_(l,i)),_h(h)&&(a=h,o))return a;const p=t[r+1];r=o?Ko(p):Pa(p)}if(null!==n){let l=s?n.residualClasses:n.residualStyles;null!=l&&(a=j_(l,i))}return a}function _h(t){return void 0!==t}function tS(t,n){return 0!=(t.flags&(n?8:16))}function M(t,n=""){const e=J(),i=Nt(),r=t+yn,s=i.firstCreatePass?Ql(i,r,1,n,null):i.data[r],o=e[r]=function tg(t,n){return t.createText(n)}(e[vt],n);Kf(i,e,o,s),Es(s,!1)}function it(t){return qt("",t,""),it}function qt(t,n,e){const i=J(),r=Jl(i,t,n,e);return r!==ft&&_o(i,nr(),r),qt}function ty(t,n,e,i,r){const s=J(),o=Xl(s,t,n,e,i,r);return o!==ft&&_o(s,nr(),o),ty}const uu="en-US";let CS=uu;function ry(t,n,e,i,r){if(t=Ke(t),Array.isArray(t))for(let s=0;s<t.length;s++)ry(t[s],n,e,i,r);else{const s=Nt(),o=J();let a=xa(t)?t:Ke(t.provide),l=R0(t);const u=ki(),c=1048575&u.providerIndexes,d=u.directiveStart,f=u.providerIndexes>>20;if(xa(t)||!t.multi){const h=new vc(l,r,T),p=oy(a,n,r?c:c+f,d);-1===p?(V_(Uf(u,o),s,a),sy(s,t,n.length),n.push(a),u.directiveStart++,u.directiveEnd++,r&&(u.providerIndexes+=1048576),e.push(h),o.push(h)):(e[p]=h,o[p]=h)}else{const h=oy(a,n,c+f,d),p=oy(a,n,c,c+f),k=p>=0&&e[p];if(r&&!k||!r&&!(h>=0&&e[h])){V_(Uf(u,o),s,a);const I=function VB(t,n,e,i,r){const s=new vc(t,e,T);return s.multi=[],s.index=n,s.componentProviders=0,WS(s,r,i&&!e),s}(r?PB:LB,e.length,r,i,l);!r&&k&&(e[p].providerFactory=I),sy(s,t,n.length,0),n.push(a),u.directiveStart++,u.directiveEnd++,r&&(u.providerIndexes+=1048576),e.push(I),o.push(I)}else sy(s,t,h>-1?h:p,WS(e[r?p:h],l,!r&&i));!r&&i&&k&&e[p].componentProviders++}}}function sy(t,n,e,i){const r=xa(n),s=function XL(t){return!!t.useClass}(n);if(r||s){const l=(s?Ke(n.useClass):n).prototype.ngOnDestroy;if(l){const u=t.destroyHooks||(t.destroyHooks=[]);if(!r&&n.multi){const c=u.indexOf(e);-1===c?u.push(e,[i,l]):u[c+1].push(i,l)}else u.push(e,l)}}}function WS(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function oy(t,n,e,i){for(let r=e;r<i;r++)if(n[r]===t)return r;return-1}function LB(t,n,e,i){return ay(this.multi,[])}function PB(t,n,e,i){const r=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Ia(e,e[Ce],this.providerFactory.index,i);s=a.slice(0,o),ay(r,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],ay(r,s);return s}function ay(t,n){for(let e=0;e<t.length;e++)n.push((0,t[e])());return n}function Kt(t,n=[]){return e=>{e.providersResolver=(i,r)=>function NB(t,n,e){const i=Nt();if(i.firstCreatePass){const r=fs(t);ry(e,i.data,i.blueprint,r,!0),ry(n,i.data,i.blueprint,r,!1)}}(i,r?r(t):t,n)}}class cu{}class GS{}class ZS extends cu{constructor(n,e){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new pT(this);const i=vr(n);this._bootstrapComponents=mo(i.bootstrap),this._r3Injector=q0(n,e,[{provide:cu,useValue:this},{provide:ql,useValue:this.componentFactoryResolver}],fn(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class ly extends GS{constructor(n){super(),this.moduleType=n}create(n){return new ZS(this.moduleType,n)}}class HB extends cu{constructor(n,e,i){super(),this.componentFactoryResolver=new pT(this),this.instance=null;const r=new A0([...n,{provide:cu,useValue:this},{provide:ql,useValue:this.componentFactoryResolver}],e||rh(),i,new Set(["environment"]));this.injector=r,r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function wh(t,n,e=null){return new HB(t,n,e).injector}let $B=(()=>{class t{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e.id)){const i=M0(0,e.type),r=i.length>0?wh([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e.id,r)}return this.cachedInjectors.get(e.id)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=q({token:t,providedIn:"environment",factory:()=>new t(ee(po))}),t})();function QS(t){t.getStandaloneInjector=n=>n.get($B).getOrCreateStandaloneInjector(t)}function sk(t,n,e,i,r,s){const o=n+e;return ji(t,o,r)?As(t,o+1,s?i.call(s,r):i(r)):function Wc(t,n){const e=t[n];return e===ft?void 0:e}(t,o+1)}function dr(t,n){const e=Nt();let i;const r=t+yn;e.firstCreatePass?(i=function r3(t,n){if(n)for(let e=n.length-1;e>=0;e--){const i=n[e];if(t===i.name)return i}}(n,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks??(e.destroyHooks=[])).push(r,i.onDestroy)):i=e.data[r];const s=i.factory||(i.factory=Ea(i.type)),o=Pr(T);try{const a=jf(!1),l=s();return jf(a),function Q2(t,n,e,i){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),n[e]=i}(e,J(),r,l),l}finally{Pr(o)}}function fr(t,n,e){const i=t+yn,r=J(),s=xl(r,i);return function Gc(t,n){return t[Ce].data[n].pure}(r,i)?sk(r,tr(),n,s.transform,e,s):s.transform(e)}function cy(t){return n=>{setTimeout(t,void 0,n)}}const ke=class u3 extends It{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,e,i){let r=n,s=e||(()=>null),o=i;if(n&&"object"==typeof n){const l=n;r=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=cy(s),r&&(r=cy(r)),o&&(o=cy(o)));const a=super.subscribe({next:r,error:s,complete:o});return n instanceof ve&&n.add(a),a}};function c3(){return this._results[Symbol.iterator]()}class dy{get changes(){return this._changes||(this._changes=new ke)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=dy.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=c3)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){const i=this;i.dirty=!1;const r=function Br(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function MN(t,n,e){if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],s=n[i];if(e&&(r=e(r),s=e(s)),s!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let _s=(()=>{class t{}return t.__NG_ELEMENT_ID__=h3,t})();const d3=_s,f3=class extends d3{constructor(n,e,i){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(n,e){const i=this._declarationTContainer.tView,r=oh(this._declarationLView,i,n,16,null,i.declTNode,null,null,null,null,e||null);r[mc]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[Ms];return null!==o&&(r[Ms]=o.createEmbeddedView(i)),xg(i,r,n),new Lc(r)}};function h3(){return Ch(ki(),J())}function Ch(t,n){return 4&t.type?new f3(n,t,Wl(t,n)):null}let Mi=(()=>{class t{}return t.__NG_ELEMENT_ID__=p3,t})();function p3(){return fk(ki(),J())}const m3=Mi,ck=class extends m3{constructor(n,e,i){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=i}get element(){return Wl(this._hostTNode,this._hostLView)}get injector(){return new Ll(this._hostTNode,this._hostLView)}get parentInjector(){const n=P_(this._hostTNode,this._hostLView);if(mD(n)){const e=$f(n,this._hostLView),i=Hf(n);return new Ll(e[Ce].data[i+8],e)}return new Ll(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const e=dk(this._lContainer);return null!==e&&e[n]||null}get length(){return this._lContainer.length-er}createEmbeddedView(n,e,i){let r,s;"number"==typeof i?r=i:null!=i&&(r=i.index,s=i.injector);const o=n.createEmbeddedView(e||{},s);return this.insert(o,r),o}createComponent(n,e,i,r,s){const o=n&&!function Cc(t){return"function"==typeof t}(n);let a;if(o)a=e;else{const d=e||{};a=d.index,i=d.injector,r=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const l=o?n:new Pc(Qt(n)),u=i||this.parentInjector;if(!s&&null==l.ngModule){const f=(o?u:this.parentInjector).get(po,null);f&&(s=f)}const c=l.create(u,r,void 0,s);return this.insert(c.hostView,a),c}insert(n,e){const i=n._lView,r=i[Ce];if(function ZF(t){return ds(t[Vn])}(i)){const c=this.indexOf(n);if(-1!==c)this.detach(c);else{const d=i[Vn],f=new ck(d,d[Vi],d[Vn]);f.detach(f.indexOf(n))}}const s=this._adjustIndex(e),o=this._lContainer;!function mL(t,n,e,i){const r=er+i,s=e.length;i>0&&(e[r-1][cs]=n),i<s-er?(n[cs]=e[r],MD(e,er+i,n)):(e.push(n),n[cs]=null),n[Vn]=e;const o=n[mc];null!==o&&e!==o&&function _L(t,n){const e=t[Rl];n[Bi]!==n[Vn][Vn][Bi]&&(t[UC]=!0),null===e?t[Rl]=[n]:e.push(n)}(o,n);const a=n[Ms];null!==a&&a.insertView(t),n[mt]|=64}(r,i,o,s);const a=og(s,o),l=i[vt],u=Qf(l,o[Rf]);return null!==u&&function fL(t,n,e,i,r,s){i[uo]=r,i[Vi]=n,Ic(t,i,e,1,r,s)}(r,o[Vi],l,i,u,a),n.attachToViewContainerRef(),MD(fy(o),s,n),n}move(n,e){return this.insert(n,e)}indexOf(n){const e=dk(this._lContainer);return null!==e?e.indexOf(n):-1}remove(n){const e=this._adjustIndex(n,-1),i=ig(this._lContainer,e);i&&(qf(fy(this._lContainer),e),KD(i[Ce],i))}detach(n){const e=this._adjustIndex(n,-1),i=ig(this._lContainer,e);return i&&null!=qf(fy(this._lContainer),e)?new Lc(i):null}_adjustIndex(n,e=0){return n??this.length+e}};function dk(t){return t[xf]}function fy(t){return t[xf]||(t[xf]=[])}function fk(t,n){let e;const i=n[t.index];if(ds(i))e=i;else{let r;if(8&t.type)r=Si(i);else{const s=n[vt];r=s.createComment("");const o=wr(t,n);Ra(s,Qf(s,o),r,function bL(t,n){return t.nextSibling(n)}(s,o),!1)}n[t.index]=e=uT(i,n,r,t),lh(n,e)}return new ck(e,t,n)}class hy{constructor(n){this.queryList=n,this.matches=null}clone(){return new hy(this.queryList)}setDirty(){this.queryList.setDirty()}}class py{constructor(n=[]){this.queries=n}createEmbeddedView(n){const e=n.queries;if(null!==e){const i=null!==n.contentQueries?n.contentQueries[0]:e.length,r=[];for(let s=0;s<i;s++){const o=e.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new py(r)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)null!==yk(n,e).matches&&this.queries[e].setDirty()}}class hk{constructor(n,e,i=null){this.predicate=n,this.flags=e,this.read=i}}class my{constructor(n=[]){this.queries=n}elementStart(n,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,s=this.getByIndex(i).embeddedTView(n,r);s&&(s.indexInDeclarationView=i,null!==e?e.push(s):e=[s])}return null!==e?new my(e):null}template(n,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class _y{constructor(n,e=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new _y(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=n.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(n,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(n,e,_3(e,s)),this.matchTNodeWithReadOption(n,e,Yf(e,n,s,!1,!1))}else i===_s?4&e.type&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,Yf(e,n,i,!1,!1))}matchTNodeWithReadOption(n,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===zt||r===Mi||r===_s&&4&e.type)this.addMatch(e.index,-2);else{const s=Yf(e,n,r,!1,!1);null!==s&&this.addMatch(e.index,s)}else this.addMatch(e.index,i)}}addMatch(n,e){null===this.matches?this.matches=[n,e]:this.matches.push(n,e)}}function _3(t,n){const e=t.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===n)return e[i+1];return null}function y3(t,n,e,i){return-1===e?function g3(t,n){return 11&t.type?Wl(t,n):4&t.type?Ch(t,n):null}(n,t):-2===e?function v3(t,n,e){return e===zt?Wl(n,t):e===_s?Ch(n,t):e===Mi?fk(n,t):void 0}(t,n,i):Ia(t,t[Ce],e,n)}function pk(t,n,e,i){const r=n[Ms].queries[i];if(null===r.matches){const s=t.data,o=e.matches,a=[];for(let l=0;l<o.length;l+=2){const u=o[l];a.push(u<0?null:y3(n,s[u],o[l+1],e.metadata.read))}r.matches=a}return r.matches}function gy(t,n,e,i){const r=t.queries.getByIndex(e),s=r.matches;if(null!==s){const o=pk(t,n,r,e);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)i.push(o[a/2]);else{const u=s[a+1],c=n[-l];for(let d=er;d<c.length;d++){const f=c[d];f[mc]===f[Vn]&&gy(f[Ce],f,u,i)}if(null!==c[Rl]){const d=c[Rl];for(let f=0;f<d.length;f++){const h=d[f];gy(h[Ce],h,u,i)}}}}}return i}function de(t){const n=J(),e=Nt(),i=sD();O_(i+1);const r=yk(e,i);if(t.dirty&&function GF(t){return 4==(4&t[mt])}(n)===(2==(2&r.metadata.flags))){if(null===r.matches)t.reset([]);else{const s=r.crossesNgTemplate?gy(e,n,i,[]):pk(e,n,r,i);t.reset(s,cP),t.notifyOnChanges()}return!0}return!1}function pe(t,n,e){const i=Nt();i.firstCreatePass&&(gk(i,new hk(t,n,e),-1),2==(2&n)&&(i.staticViewQueries=!0)),_k(i,J(),n)}function fe(){return function b3(t,n){return t[Ms].queries[n].queryList}(J(),sD())}function _k(t,n,e){const i=new dy(4==(4&e));iT(t,n,i,i.destroy),null===n[Ms]&&(n[Ms]=new py),n[Ms].queries.push(new hy(i))}function gk(t,n,e){null===t.queries&&(t.queries=new my),t.queries.track(new _y(n,e))}function yk(t,n){return t.queries.getByIndex(n)}function hr(t,n){return Ch(t,n)}function Th(...t){}const Sh=new Pe("Application Initializer");let kh=(()=>{class t{constructor(e){this.appInits=e,this.resolve=Th,this.reject=Th,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const e=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const s=this.appInits[r]();if(Bc(s))e.push(s);else if(Gg(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});e.push(o)}}Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(ee(Sh,8))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Qc=new Pe("AppId",{providedIn:"root",factory:function Lk(){return`${Dy()}${Dy()}${Dy()}`}});function Dy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Pk=new Pe("Platform Initializer"),Mh=new Pe("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Vk=new Pe("AnimationModuleType");let $3=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const yo=new Pe("LocaleId",{providedIn:"root",factory:()=>Ct(yo,Je.Optional|Je.SkipSelf)||function j3(){return typeof $localize<"u"&&$localize.locale||uu}()});class Y3{constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}}let Bk=(()=>{class t{compileModuleSync(e){return new ly(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),s=mo(vr(e).declarations).reduce((o,a)=>{const l=Qt(a);return l&&o.push(new Pc(l)),o},[]);return new Y3(i,s)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const W3=(()=>Promise.resolve(0))();function Ty(t){typeof Zone>"u"?W3.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class hn{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ke(!1),this.onMicrotaskEmpty=new ke(!1),this.onStable=new ke(!1),this.onError=new ke(!1),typeof Zone>"u")throw new U(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function G3(){let t=gn.requestAnimationFrame,n=gn.cancelAnimationFrame;if(typeof Zone<"u"&&t&&n){const e=t[Zone.__symbol__("OriginalDelegate")];e&&(t=e);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function K3(t){const n=()=>{!function Q3(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(gn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,ky(t),t.isCheckStableRunning=!0,Sy(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),ky(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,s,o,a)=>{try{return jk(t),e.invokeTask(r,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&n(),Uk(t)}},onInvoke:(e,i,r,s,o,a,l)=>{try{return jk(t),e.invoke(r,s,o,a,l)}finally{t.shouldCoalesceRunChangeDetection&&n(),Uk(t)}},onHasTask:(e,i,r,s)=>{e.hasTask(r,s),i===r&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,ky(t),Sy(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(e,i,r,s)=>(e.handleError(r,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!hn.isInAngularZone())throw new U(909,!1)}static assertNotInAngularZone(){if(hn.isInAngularZone())throw new U(909,!1)}run(n,e,i){return this._inner.run(n,e,i)}runTask(n,e,i,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,n,Z3,Th,Th);try{return s.runTask(o,e,i)}finally{s.cancelTask(o)}}runGuarded(n,e,i){return this._inner.runGuarded(n,e,i)}runOutsideAngular(n){return this._outer.run(n)}}const Z3={};function Sy(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function ky(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function jk(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Uk(t){t._nesting--,Sy(t)}class J3{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ke,this.onMicrotaskEmpty=new ke,this.onStable=new ke,this.onError=new ke}run(n,e,i){return n.apply(e,i)}runGuarded(n,e,i){return n.apply(e,i)}runOutsideAngular(n){return n()}runTask(n,e,i,r){return n.apply(e,i)}}const Yk=new Pe(""),Eh=new Pe("");let Oy,My=(()=>{class t{constructor(e,i,r){this._ngZone=e,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Oy||(function X3(t){Oy=t}(r),r.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{hn.assertNotInAngularZone(),Ty(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ty(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:s,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,r){return[]}}return t.\u0275fac=function(e){return new(e||t)(ee(hn),ee(Ey),ee(Eh))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})(),Ey=(()=>{class t{constructor(){this._applications=new Map}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return Oy?.findTestabilityInTree(this,e,i)??null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const vo=!1;let Jo=null;const zk=new Pe("AllowMultipleToken"),Iy=new Pe("PlatformDestroyListeners"),qk=new Pe("appBootstrapListener");class Wk{constructor(n,e){this.name=n,this.token=e}}function Zk(t,n,e=[]){const i=`Platform: ${n}`,r=new Pe(i);return(s=[])=>{let o=Ay();if(!o||o.injector.get(zk,!1)){const a=[...e,...s,{provide:r,useValue:!0}];t?t(a):function nH(t){if(Jo&&!Jo.get(zk,!1))throw new U(400,!1);Jo=t;const n=t.get(Kk);(function Gk(t){const n=t.get(Pk,null);n&&n.forEach(e=>e())})(t)}(function Qk(t=[],n){return Tr.create({name:n,providers:[{provide:bg,useValue:"platform"},{provide:Iy,useValue:new Set([()=>Jo=null])},...t]})}(a,i))}return function rH(t){const n=Ay();if(!n)throw new U(401,!1);return n}()}}function Ay(){return Jo?.get(Kk)??null}let Kk=(()=>{class t{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const r=function Xk(t,n){let e;return e="noop"===t?new J3:("zone.js"===t?void 0:t)||new hn(n),e}(i?.ngZone,function Jk(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(i)),s=[{provide:hn,useValue:r}];return r.run(()=>{const o=Tr.create({providers:s,parent:this.injector,name:e.moduleType.name}),a=e.create(o),l=a.injector.get(Na,null);if(!l)throw new U(402,!1);return r.runOutsideAngular(()=>{const u=r.onError.subscribe({next:c=>{l.handleError(c)}});a.onDestroy(()=>{Oh(this._modules,a),u.unsubscribe()})}),function eM(t,n,e){try{const i=e();return Bc(i)?i.catch(r=>{throw n.runOutsideAngular(()=>t.handleError(r)),r}):i}catch(i){throw n.runOutsideAngular(()=>t.handleError(i)),i}}(l,r,()=>{const u=a.injector.get(kh);return u.runInitializers(),u.donePromise.then(()=>(function DS(t){Lr(t,"Expected localeId to be defined"),"string"==typeof t&&(CS=t.toLowerCase().replace(/_/g,"-"))}(a.injector.get(yo,uu)||uu),this._moduleDoBootstrap(a),a))})})}bootstrapModule(e,i=[]){const r=tM({},i);return function eH(t,n,e){const i=new ly(e);return Promise.resolve(i)}(0,0,e).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(e){const i=e.injector.get(hu);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new U(-403,!1);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new U(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(Iy,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(ee(Tr))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function tM(t,n){return Array.isArray(n)?n.reduce(tM,t):{...t,...n}}let hu=(()=>{class t{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(e,i,r){this._zone=e,this._injector=i,this._exceptionHandler=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new We(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new We(a=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{hn.assertNotInAngularZone(),Ty(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const u=this._zone.onUnstable.subscribe(()=>{hn.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),u.unsubscribe()}});this.isStable=Sl(s,o.pipe(function kl(t={}){const{connector:n=(()=>new It),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=t;return s=>{let o,a,l,u=0,c=!1,d=!1;const f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),o=l=void 0,c=d=!1},p=()=>{const v=o;h(),v?.unsubscribe()};return pt((v,k)=>{u++,!d&&!c&&f();const I=l=l??n();k.add(()=>{u--,0===u&&!d&&!c&&(a=u_(p,r))}),I.subscribe(k),!o&&u>0&&(o=new G({next:z=>I.next(z),error:z=>{d=!0,f(),a=u_(h,e,z),I.error(z)},complete:()=>{c=!0,f(),a=u_(h,i),I.complete()}}),R(v).subscribe(o))})(s)}}()))}bootstrap(e,i){const r=e instanceof x0;if(!this._injector.get(kh).done){!r&&function El(t){const n=Qt(t)||Pi(t)||lr(t);return null!==n&&n.standalone}(e);throw new U(405,vo)}let o;o=r?e:this._injector.get(ql).resolveComponentFactory(e),this.componentTypes.push(o.componentType);const a=function tH(t){return t.isBoundToModule}(o)?void 0:this._injector.get(cu),u=o.create(Tr.NULL,[],i||o.selector,a),c=u.location.nativeElement,d=u.injector.get(Yk,null);return d?.registerApplication(c),u.onDestroy(()=>{this.detachView(u.hostView),Oh(this.components,u),d?.unregisterApplication(c)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new U(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;Oh(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const i=this._injector.get(qk,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>Oh(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new U(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(e){return new(e||t)(ee(hn),ee(po),ee(Na))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Oh(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}let bo=(()=>{class t{}return t.__NG_ELEMENT_ID__=oH,t})();function oH(t){return function aH(t,n,e){if(gc(t)&&!e){const i=Cr(t.index,n);return new Lc(i,i)}return 47&t.type?new Lc(n[Bi],n):null}(ki(),J(),16==(16&t))}class oM{constructor(){}supports(n){return fh(n)}create(n){return new hH(n)}}const fH=(t,n)=>n;class hH{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||fH}forEachItem(n){let e;for(e=this._itHead;null!==e;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,i=this._removalsHead,r=0,s=null;for(;e||i;){const o=!i||e&&e.currentIndex<lM(i,r,s)?e:i,a=lM(o,r,s),l=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{s||(s=[]);const u=a-r,c=l-r;if(u!=c){for(let f=0;f<u;f++){const h=f<s.length?s[f]:s[f]=0,p=h+f;c<=p&&p<u&&(s[f]=h+1)}s[o.previousIndex]=c-u}}a!==l&&n(o,a,l)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)n(e)}diff(n){if(null==n&&(n=[]),!fh(n))throw new U(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let r,s,o,e=this._itHead,i=!1;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)s=n[a],o=this._trackByFn(a,s),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,s,o,a)),Object.is(e.item,s)||this._addIdentityChange(e,s)):(e=this._mismatch(e,s,o,a),i=!0),e=e._next}else r=0,function q2(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{const e=t[Symbol.iterator]();let i;for(;!(i=e.next()).done;)n(i.value)}}(n,a=>{o=this._trackByFn(r,a),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,a,o,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,o,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,i,r){let s;return null===n?s=this._itTail:(s=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,s,r)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,s,r)):n=this._addAfter(new pH(e,i),s,r),n}_verifyReinsertion(n,e,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?n=this._reinsertAfter(s,n._prev,r):n.currentIndex!=r&&(n.currentIndex=r,this._addToMoves(n,r)),n}_truncate(n){for(;null!==n;){const e=n._next;this._addToRemovals(this._unlink(n)),n=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const r=n._prevRemoved,s=n._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(n,e,i),this._addToMoves(n,i),n}_moveAfter(n,e,i){return this._unlink(n),this._insertAfter(n,e,i),this._addToMoves(n,i),n}_addAfter(n,e,i){return this._insertAfter(n,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,e,i){const r=null===e?this._itHead:e._next;return n._next=r,n._prev=e,null===r?this._itTail=n:r._prev=n,null===e?this._itHead=n:e._next=n,null===this._linkedRecords&&(this._linkedRecords=new aM),this._linkedRecords.put(n),n.currentIndex=i,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const e=n._prev,i=n._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new aM),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class pH{constructor(n,e){this.item=n,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class mH{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,n))return i;return null}remove(n){const e=n._prevDup,i=n._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class aM{constructor(){this.map=new Map}put(n){const e=n.trackById;let i=this.map.get(e);i||(i=new mH,this.map.set(e,i)),i.add(n)}get(n,e){const r=this.map.get(n);return r?r.get(n,e):null}remove(n){const e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function lM(t,n,e){const i=t.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+n+r}class uM{constructor(){}supports(n){return n instanceof Map||qg(n)}create(){return new _H}}class _H{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let e;for(e=this._mapHead;null!==e;e=e._next)n(e)}forEachPreviousItem(n){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)n(e)}forEachChangedItem(n){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}diff(n){if(n){if(!(n instanceof Map||qg(n)))throw new U(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(n,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const s=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,s)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,e){if(n){const i=n._prev;return e._next=n,e._prev=i,n._prev=e,i&&(i._next=e),n===this._mapHead&&(this._mapHead=e),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(n,e){if(this._records.has(n)){const r=this._records.get(n);this._maybeAddToChanges(r,e);const s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}const i=new gH(n);return this._records.set(n,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,e){Object.is(e,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=e,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,e){n instanceof Map?n.forEach(e):Object.keys(n).forEach(i=>e(n[i],i))}}class gH{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function cM(){return new xh([new oM])}let xh=(()=>{class t{constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new t(e)}static extend(e){return{provide:t,useFactory:i=>t.create(e,i||cM()),deps:[[t,new Sc,new Tc]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new U(901,!1)}}return t.\u0275prov=q({token:t,providedIn:"root",factory:cM}),t})();function dM(){return new Kc([new uM])}let Kc=(()=>{class t{constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new t(e)}static extend(e){return{provide:t,useFactory:i=>t.create(e,i||dM()),deps:[[t,new Sc,new Tc]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(i)return i;throw new U(901,!1)}}return t.\u0275prov=q({token:t,providedIn:"root",factory:dM}),t})();const bH=Zk(null,"core",[]);let wH=(()=>{class t{constructor(e){}}return t.\u0275fac=function(e){return new(e||t)(ee(hu))},t.\u0275mod=_i({type:t}),t.\u0275inj=oi({}),t})();function pu(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let Ly=null;function wo(){return Ly}class TH{}const ui=new Pe("DocumentToken");let Py=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=q({token:t,factory:function(){return function SH(){return ee(fM)}()},providedIn:"platform"}),t})();const kH=new Pe("Location Initialized");let fM=(()=>{class t extends Py{constructor(e){super(),this._doc=e,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return wo().getBaseHref(this._doc)}onPopState(e){const i=wo().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=wo().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){hM()?this._history.pushState(e,i,r):this._location.hash=r}replaceState(e,i,r){hM()?this._history.replaceState(e,i,r):this._location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(ee(ui))},t.\u0275prov=q({token:t,factory:function(){return function MH(){return new fM(ee(ui))}()},providedIn:"platform"}),t})();function hM(){return!!window.history.pushState}function Vy(t,n){if(0==t.length)return n;if(0==n.length)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,2==e?t+n.substring(1):1==e?t+n:t+"/"+n}function pM(t){const n=t.match(/#|\?|$/),e=n&&n.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function Co(t){return t&&"?"!==t[0]?"?"+t:t}let Ha=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=q({token:t,factory:function(){return Ct(_M)},providedIn:"root"}),t})();const mM=new Pe("appBaseHref");let _M=(()=>{class t extends Ha{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Ct(ui).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Vy(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Co(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const o=this.prepareExternalUrl(r+Co(s));this._platformLocation.pushState(e,i,o)}replaceState(e,i,r,s){const o=this.prepareExternalUrl(r+Co(s));this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return t.\u0275fac=function(e){return new(e||t)(ee(Py),ee(mM,8))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),EH=(()=>{class t extends Ha{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Vy(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let o=this.prepareExternalUrl(r+Co(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(e,i,o)}replaceState(e,i,r,s){let o=this.prepareExternalUrl(r+Co(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return t.\u0275fac=function(e){return new(e||t)(ee(Py),ee(mM,8))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})(),By=(()=>{class t{constructor(e){this._subject=new ke,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function AH(t){if(new RegExp("^(https?:)?//").test(t)){const[,e]=t.split(/\/\/[^\/]+/);return e}return t}(pM(gM(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Co(i))}normalize(e){return t.stripTrailingSlash(function IH(t,n){if(!t||!n.startsWith(t))return n;const e=n.substring(t.length);return""===e||["/",";","?","#"].includes(e[0])?e:n}(this._basePath,gM(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Co(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Co(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return t.normalizeQueryParams=Co,t.joinWithSlash=Vy,t.stripTrailingSlash=pM,t.\u0275fac=function(e){return new(e||t)(ee(Ha))},t.\u0275prov=q({token:t,factory:function(){return function OH(){return new By(ee(Ha))}()},providedIn:"root"}),t})();function gM(t){return t.replace(/\/index.html$/,"")}const Zy=/\s+/,kM=[];let Uh=(()=>{class t{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this.initialClasses=kM,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(Zy):kM}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(Zy):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,Boolean(e[i]));this._applyStateDiff()}_updateState(e,i){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(Zy).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return t.\u0275fac=function(e){return new(e||t)(T(xh),T(Kc),T(zt),T(Tn))},t.\u0275dir=Ve({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),t})();class _${constructor(n,e,i,r){this.$implicit=n,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ei=(()=>{class t{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,o)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new _$(r.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)i.remove(null===s?void 0:s);else if(null!==s){const a=i.get(s);i.move(a,o),OM(a,r)}});for(let r=0,s=i.length;r<s;r++){const a=i.get(r).context;a.index=r,a.count=s,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{OM(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return t.\u0275fac=function(e){return new(e||t)(T(Mi),T(_s),T(xh))},t.\u0275dir=Ve({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function OM(t,n){t.context.$implicit=n.item}let Jt=(()=>{class t{constructor(e,i){this._viewContainer=e,this._context=new y$,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){IM("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){IM("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return t.\u0275fac=function(e){return new(e||t)(T(Mi),T(_s))},t.\u0275dir=Ve({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class y${constructor(){this.$implicit=null,this.ngIf=null}}function IM(t,n){if(n&&!n.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${fn(n)}'.`)}class Qy{constructor(n,e){this._viewContainerRef=n,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(n){n&&!this._created?this.create():!n&&this._created&&this.destroy()}}let ed=(()=>{class t{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const i of this._defaultViews)i.enforceState(e)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ve({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),t})(),Ky=(()=>{class t{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new Qy(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(T(Mi),T(_s),T(ed,9))},t.\u0275dir=Ve({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),t})();class b${createSubscription(n,e){return n.subscribe({next:e,error:i=>{throw i}})}dispose(n){n.unsubscribe()}}class w${createSubscription(n,e){return n.then(e,i=>{throw i})}dispose(n){}}const C$=new w$,D$=new b$;let Jy=(()=>{class t{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if(Bc(e))return C$;if(IT(e))return D$;throw function vs(t,n){return new U(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(T(bo,16))},t.\u0275pipe=ar({name:"async",type:t,pure:!1,standalone:!0}),t})(),RM=(()=>{class t{constructor(e){this.differs=e,this.keyValues=[],this.compareFn=xM}transform(e,i=xM){if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ||(this.differ=this.differs.find(e).create());const r=this.differ.diff(e),s=i!==this.compareFn;return r&&(this.keyValues=[],r.forEachItem(o=>{this.keyValues.push(function L$(t,n){return{key:t,value:n}}(o.key,o.currentValue))})),(r||s)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}}return t.\u0275fac=function(e){return new(e||t)(T(Kc,16))},t.\u0275pipe=ar({name:"keyvalue",type:t,pure:!1,standalone:!0}),t})();function xM(t,n){const e=t.key,i=n.key;if(e===i)return 0;if(void 0===e)return 1;if(void 0===i)return-1;if(null===e)return 1;if(null===i)return-1;if("string"==typeof e&&"string"==typeof i)return e<i?-1:1;if("number"==typeof e&&"number"==typeof i)return e-i;if("boolean"==typeof e&&"boolean"==typeof i)return e<i?-1:1;const r=String(e),s=String(i);return r==s?0:r<s?-1:1}let mu=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=_i({type:t}),t.\u0275inj=oi({}),t})();const FM="browser";function NM(t){return t===FM}let U$=(()=>{class t{}return t.\u0275prov=q({token:t,providedIn:"root",factory:()=>new Y$(ee(ui),window)}),t})();class Y${constructor(n,e){this.document=n,this.window=e,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const e=function z$(t,n){const e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(n)||s.querySelector(`[name="${n}"]`);if(o)return o}r=i.nextNode()}}return null}(this.document,n);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=n)}}scrollToElement(n){const e=n.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=LM(this.window.history)||LM(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function LM(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class vj extends TH{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class iv extends vj{static makeCurrent(){!function DH(t){Ly||(Ly=t)}(new iv)}onAndCancel(n,e,i){return n.addEventListener(e,i,!1),()=>{n.removeEventListener(e,i,!1)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=function bj(){return nd=nd||document.querySelector("base"),nd?nd.getAttribute("href"):null}();return null==e?null:function wj(t){qh=qh||document.createElement("a"),qh.setAttribute("href",t);const n=qh.pathname;return"/"===n.charAt(0)?n:`/${n}`}(e)}resetBaseElement(){nd=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return function p$(t,n){n=encodeURIComponent(n);for(const e of t.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===n)return decodeURIComponent(s)}return null}(document.cookie,n)}}let qh,nd=null;const $M=new Pe("TRANSITION_ID"),Dj=[{provide:Sh,useFactory:function Cj(t,n,e){return()=>{e.get(kh).donePromise.then(()=>{const i=wo(),r=n.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[$M,ui,Tr],multi:!0}];let Sj=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();const Wh=new Pe("EventManagerPlugins");let Gh=(()=>{class t{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const o=r[s];if(o.supports(e))return this._eventNameToPlugin.set(e,o),o}throw new Error(`No event manager plugin found for event ${e}`)}}return t.\u0275fac=function(e){return new(e||t)(ee(Wh),ee(hn))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();class jM{constructor(n){this._doc=n}addGlobalEventListener(n,e,i){const r=wo().getGlobalEventTarget(this._doc,n);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let UM=(()=>{class t{constructor(){this.usageCount=new Map}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)0===this.changeUsageCount(i,-1)&&this.onStyleRemoved(i)}onStyleRemoved(e){}onStyleAdded(e){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(e,i){const r=this.usageCount;let s=r.get(e)??0;return s+=i,s>0?r.set(e,s):r.delete(e),s}ngOnDestroy(){for(const e of this.getAllStyles())this.onStyleRemoved(e);this.usageCount.clear()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})(),id=(()=>{class t extends UM{constructor(e){super(),this.doc=e,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.forEach(s=>s.remove()),i.delete(e)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}addStyleToHost(e,i){const r=this.doc.createElement("style");r.textContent=i,e.appendChild(r);const s=this.styleRef.get(i);s?s.push(r):this.styleRef.set(i,[r])}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}}return t.\u0275fac=function(e){return new(e||t)(ee(ui))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();const rv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},sv=/%COMP%/g,qM=new Pe("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function WM(t,n){return n.flat(100).map(e=>e.replace(sv,t))}function GM(t){return n=>{if("__ngUnwrap__"===n)return t;!1===t(n)&&(n.preventDefault(),n.returnValue=!1)}}let Zh=(()=>{class t{constructor(e,i,r,s){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new ov(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;const r=this.getOrCreateRenderer(e,i);return r instanceof KM?r.applyToHost(e):r instanceof av&&r.applyStyles(),r}getOrCreateRenderer(e,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const o=this.eventManager,a=this.sharedStylesHost,l=this.removeStylesOnCompDestory;switch(i.encapsulation){case us.Emulated:s=new KM(o,a,i,this.appId,l);break;case us.ShadowDom:return new Rj(o,a,e,i);default:s=new av(o,a,i,l)}s.onDestroy=()=>r.delete(i.id),r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(ee(Gh),ee(id),ee(Qc),ee(qM))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();class ov{constructor(n){this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,e){return e?document.createElementNS(rv[e]||e,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,e){(QM(n)?n.content:n).appendChild(e)}insertBefore(n,e,i){n&&(QM(n)?n.content:n).insertBefore(e,i)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let i="string"==typeof n?document.querySelector(n):n;if(!i)throw new Error(`The selector "${n}" did not match any elements`);return e||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,i,r){if(r){e=r+":"+e;const s=rv[r];s?n.setAttributeNS(s,e,i):n.setAttribute(e,i)}else n.setAttribute(e,i)}removeAttribute(n,e,i){if(i){const r=rv[i];r?n.removeAttributeNS(r,e):n.removeAttribute(`${i}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,i,r){r&(ur.DashCase|ur.Important)?n.style.setProperty(e,i,r&ur.Important?"important":""):n.style[e]=i}removeStyle(n,e,i){i&ur.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,i){n[e]=i}setValue(n,e){n.nodeValue=e}listen(n,e,i){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,e,GM(i)):this.eventManager.addEventListener(n,e,GM(i))}}function QM(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class Rj extends ov{constructor(n,e,i,r){super(n),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=WM(r.id,r.styles);for(const o of s){const a=document.createElement("style");a.textContent=o,this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,i){return super.insertBefore(this.nodeOrShadowRoot(n),e,i)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class av extends ov{constructor(n,e,i,r,s=i.id){super(n),this.sharedStylesHost=e,this.removeStylesOnCompDestory=r,this.rendererUsageCount=0,this.styles=WM(s,i.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class KM extends av{constructor(n,e,i,r,s){const o=r+"-"+i.id;super(n,e,i,s,o),this.contentAttr=function Oj(t){return"_ngcontent-%COMP%".replace(sv,t)}(o),this.hostAttr=function Ij(t){return"_nghost-%COMP%".replace(sv,t)}(o)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){const i=super.createElement(n,e);return super.setAttribute(i,this.contentAttr,""),i}}let xj=(()=>{class t extends jM{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return t.\u0275fac=function(e){return new(e||t)(ee(ui))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();const JM=["alt","control","meta","shift"],Fj={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Nj={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Lj=(()=>{class t extends jM{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,i,r){const s=t.parseEventName(i),o=t.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>wo().onAndCancel(e,s.domEventName,o))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=t._normalizeKey(i.pop());let o="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),o="code."),JM.forEach(u=>{const c=i.indexOf(u);c>-1&&(i.splice(c,1),o+=u+".")}),o+=s,0!=i.length||0===s.length)return null;const l={};return l.domEventName=r,l.fullKey=o,l}static matchEventFullKeyCode(e,i){let r=Fj[e.key]||e.key,s="";return i.indexOf("code.")>-1&&(r=e.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),JM.forEach(o=>{o!==r&&(0,Nj[o])(e)&&(s+=o+".")}),s+=r,s===i)}static eventCallback(e,i,r){return s=>{t.matchEventFullKeyCode(s,e)&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return t.\u0275fac=function(e){return new(e||t)(ee(ui))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();const e1=[{provide:Mh,useValue:FM},{provide:Pk,useValue:function Pj(){iv.makeCurrent()},multi:!0},{provide:ui,useFactory:function Bj(){return function EL(t){cg=t}(document),document},deps:[]}],Hj=Zk(bH,"browser",e1),t1=new Pe(""),n1=[{provide:Eh,useClass:class Tj{addToWindow(n){gn.getAngularTestability=(i,r=!0)=>{const s=n.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},gn.getAllAngularTestabilities=()=>n.getAllTestabilities(),gn.getAllAngularRootElements=()=>n.getAllRootElements(),gn.frameworkStabilizers||(gn.frameworkStabilizers=[]),gn.frameworkStabilizers.push(i=>{const r=gn.getAllAngularTestabilities();let s=r.length,o=!1;const a=function(l){o=o||l,s--,0==s&&i(o)};r.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(n,e,i){return null==e?null:n.getTestability(e)??(i?wo().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null)}},deps:[]},{provide:Yk,useClass:My,deps:[hn,Ey,Eh]},{provide:My,useClass:My,deps:[hn,Ey,Eh]}],r1=[{provide:bg,useValue:"root"},{provide:Na,useFactory:function Vj(){return new Na},deps:[]},{provide:Wh,useClass:xj,multi:!0,deps:[ui,hn,Mh]},{provide:Wh,useClass:Lj,multi:!0,deps:[ui]},{provide:Zh,useClass:Zh,deps:[Gh,id,Qc,qM]},{provide:Fa,useExisting:Zh},{provide:UM,useExisting:id},{provide:id,useClass:id,deps:[ui]},{provide:Gh,useClass:Gh,deps:[Wh,hn]},{provide:class q${},useClass:Sj,deps:[]},[]];let s1=(()=>{class t{constructor(e){}static withServerTransition(e){return{ngModule:t,providers:[{provide:Qc,useValue:e.appId},{provide:$M,useExisting:Qc},Dj]}}}return t.\u0275fac=function(e){return new(e||t)(ee(t1,12))},t.\u0275mod=_i({type:t}),t.\u0275inj=oi({providers:[...r1,...n1],imports:[mu,wH]}),t})(),o1=(()=>{class t{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return t.\u0275fac=function(e){return new(e||t)(ee(ui))},t.\u0275prov=q({token:t,factory:function(e){let i=null;return i=e?new e:function jj(){return new o1(ee(ui))}(),i},providedIn:"root"}),t})();typeof window<"u"&&window;const{isArray:Gj}=Array,{getPrototypeOf:Zj,prototype:Qj,keys:Kj}=Object;function u1(t){if(1===t.length){const n=t[0];if(Gj(n))return{args:n,keys:null};if(function Jj(t){return t&&"object"==typeof t&&Zj(t)===Qj}(n)){const e=Kj(n);return{args:e.map(i=>n[i]),keys:e}}}return{args:t,keys:null}}const{isArray:Xj}=Array;function cv(t){return Ie(n=>function eU(t,n){return Xj(n)?t(...n):t(n)}(t,n))}function c1(t,n){return t.reduce((e,i,r)=>(e[i]=n[r],e),{})}let d1=(()=>{class t{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return t.\u0275fac=function(e){return new(e||t)(T(Tn),T(zt))},t.\u0275dir=Ve({type:t}),t})(),$a=(()=>{class t extends d1{}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275dir=Ve({type:t,features:[_t]}),t})();const kr=new Pe("NgValueAccessor"),nU={provide:kr,useExisting:Ut(()=>dv),multi:!0};let dv=(()=>{class t extends $a{writeValue(e){this.setProperty("checked",e)}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275dir=Ve({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,i){1&e&&N("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},features:[Kt([nU]),_t]}),t})();const iU={provide:kr,useExisting:Ut(()=>Ns),multi:!0},sU=new Pe("CompositionEventMode");let Ns=(()=>{class t extends d1{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function rU(){const t=wo()?wo().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return t.\u0275fac=function(e){return new(e||t)(T(Tn),T(zt),T(sU,8))},t.\u0275dir=Ve({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&N("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Kt([iU]),_t]}),t})();const oU=!1,gi=new Pe("NgValidators"),ta=new Pe("NgAsyncValidators");function w1(t){return null!=t}function C1(t){const n=Bc(t)?Pn(t):t;if(oU&&!Gg(n)){let e="Expected async validator to return Promise or Observable.";throw"object"==typeof t&&(e+=" Are you using a synchronous validator where an async validator is expected?"),new U(-1101,e)}return n}function D1(t){let n={};return t.forEach(e=>{n=null!=e?{...n,...e}:n}),0===Object.keys(n).length?null:n}function T1(t,n){return n.map(e=>e(t))}function S1(t){return t.map(n=>function lU(t){return!t.validate}(n)?n:e=>n.validate(e))}function fv(t){return null!=t?function k1(t){if(!t)return null;const n=t.filter(w1);return 0==n.length?null:function(e){return D1(T1(e,n))}}(S1(t)):null}function hv(t){return null!=t?function M1(t){if(!t)return null;const n=t.filter(w1);return 0==n.length?null:function(e){return function tU(...t){const n=Un(t),{args:e,keys:i}=u1(t),r=new We(s=>{const{length:o}=e;if(!o)return void s.complete();const a=new Array(o);let l=o,u=o;for(let c=0;c<o;c++){let d=!1;R(e[c]).subscribe(Xe(s,f=>{d||(d=!0,u--),a[c]=f},()=>l--,void 0,()=>{(!l||!d)&&(u||s.next(i?c1(i,a):a),s.complete())}))}});return n?r.pipe(cv(n)):r}(T1(e,n).map(C1)).pipe(Ie(D1))}}(S1(t)):null}function E1(t,n){return null===t?[n]:Array.isArray(t)?[...t,n]:[t,n]}function pv(t){return t?Array.isArray(t)?t:[t]:[]}function Kh(t,n){return Array.isArray(t)?t.includes(n):t===n}function A1(t,n){const e=pv(n);return pv(t).forEach(r=>{Kh(e,r)||e.push(r)}),e}function R1(t,n){return pv(n).filter(e=>!Kh(t,e))}class x1{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=fv(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=hv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,e){return!!this.control&&this.control.hasError(n,e)}getError(n,e){return this.control?this.control.getError(n,e):null}}class sr extends x1{get formDirective(){return null}get path(){return null}}class na extends x1{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class F1{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Mr=(()=>{class t extends F1{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(T(na,2))},t.\u0275dir=Ve({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&st("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[_t]}),t})(),N1=(()=>{class t extends F1{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(T(sr,10))},t.\u0275dir=Ve({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&st("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[_t]}),t})();function L1(t,n){return t?`with name: '${n}'`:`at index: ${n}`}const gv=!1,rd="VALID",Xh="INVALID",_u="PENDING",sd="DISABLED";function yv(t){return(ep(t)?t.validators:t)||null}function vv(t,n){return(ep(n)?n.asyncValidators:t)||null}function ep(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class B1{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===rd}get invalid(){return this.status===Xh}get pending(){return this.status==_u}get disabled(){return this.status===sd}get enabled(){return this.status!==sd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(A1(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(A1(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(R1(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(R1(n,this._rawAsyncValidators))}hasValidator(n){return Kh(this._rawValidators,n)}hasAsyncValidator(n){return Kh(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=_u,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=sd,this.errors=null,this._forEachChild(i=>{i.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=rd,this._forEachChild(i=>{i.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===rd||this.status===_u)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?sd:rd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=_u,this._hasOwnPendingAsyncValidator=!0;const e=C1(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent)}get(n){let e=n;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(n,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new ke,this.statusChanges=new ke}_calculateStatus(){return this._allControlsDisabled()?sd:this.errors?Xh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(_u)?_u:this._anyControlsHaveStatus(Xh)?Xh:rd}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){ep(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function mU(t){return Array.isArray(t)?fv(t):t||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function _U(t){return Array.isArray(t)?hv(t):t||null}(this._rawAsyncValidators)}}class bv extends B1{constructor(n,e,i){super(yv(e),vv(i,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,i={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){(function V1(t,n,e){t._forEachChild((i,r)=>{if(void 0===e[r])throw new U(1002,gv?function pU(t,n){return`Must supply a value for form control ${L1(t,n)}`}(n,r):"")})})(this,!0,n),Object.keys(n).forEach(i=>{(function P1(t,n,e){const i=t.controls;if(!(n?Object.keys(i):i).length)throw new U(1e3,gv?function fU(t){return`\n    There are no form controls registered with this ${t?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(n):"");if(!i[e])throw new U(1001,gv?function hU(t,n){return`Cannot find form control ${L1(t,n)}`}(n,e):"")})(this,!0,i),this.controls[i].setValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(Object.keys(n).forEach(i=>{const r=this.controls[i];r&&r.patchValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((i,r)=>{i.reset(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,i)=>(n[i]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&n(i,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&n(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(n,e){let i=n;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}const gu=new Pe("CallSetDisabledState",{providedIn:"root",factory:()=>tp}),tp="always";function od(t,n,e=tp){wv(t,n),n.valueAccessor.writeValue(t.value),(t.disabled||"always"===e)&&n.valueAccessor.setDisabledState?.(t.disabled),function vU(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&H1(t,n)})}(t,n),function wU(t,n){const e=(i,r)=>{n.valueAccessor.writeValue(i),r&&n.viewToModelUpdate(i)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}(t,n),function bU(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&H1(t,n),"submit"!==t.updateOn&&t.markAsTouched()})}(t,n),function yU(t,n){if(n.valueAccessor.setDisabledState){const e=i=>{n.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}(t,n)}function rp(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function wv(t,n){const e=function O1(t){return t._rawValidators}(t);null!==n.validator?t.setValidators(E1(e,n.validator)):"function"==typeof e&&t.setValidators([e]);const i=function I1(t){return t._rawAsyncValidators}(t);null!==n.asyncValidator?t.setAsyncValidators(E1(i,n.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]);const r=()=>t.updateValueAndValidity();rp(n._rawValidators,r),rp(n._rawAsyncValidators,r)}function H1(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const kU={provide:sr,useExisting:Ut(()=>op)},ad=(()=>Promise.resolve())();let op=(()=>{class t extends sr{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new ke,this.form=new bv({},fv(e),hv(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){ad.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),od(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){ad.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){ad.then(()=>{const i=this._findContainer(e.path),r=new bv({});(function $1(t,n){wv(t,n)})(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){ad.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){ad.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,function j1(t,n){t._syncPendingControls(),n.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return t.\u0275fac=function(e){return new(e||t)(T(gi,10),T(ta,10),T(gu,8))},t.\u0275dir=Ve({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&N("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Kt([kU]),_t]}),t})();function U1(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}function Y1(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const z1=class extends B1{constructor(n=null,e,i){super(yv(e),vv(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ep(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=Y1(n)?n.value:n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){U1(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){U1(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){Y1(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},OU={provide:na,useExisting:Ut(()=>mr)},G1=(()=>Promise.resolve())();let mr=(()=>{class t extends na{constructor(e,i,r,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new z1,this._registered=!1,this.update=new ke,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function Tv(t,n){if(!n)return null;let e,i,r;return Array.isArray(n),n.forEach(s=>{s.constructor===Ns?e=s:function TU(t){return Object.getPrototypeOf(t.constructor)===$a}(s)?i=s:r=s}),r||i||e||null}(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function Dv(t,n){if(!t.hasOwnProperty("model"))return!1;const e=t.model;return!!e.isFirstChange()||!Object.is(n,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){od(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){G1.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&pu(i);G1.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function np(t,n){return[...n.path,t]}(e,this._parent):[e]}}return t.\u0275fac=function(e){return new(e||t)(T(sr,9),T(gi,10),T(ta,10),T(kr,10),T(bo,8),T(gu,8))},t.\u0275dir=Ve({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Kt([OU]),_t,Hi]}),t})(),Z1=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ve({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const IU={provide:kr,useExisting:Ut(()=>ap),multi:!0};let ap=(()=>{class t extends $a{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275dir=Ve({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&N("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[Kt([IU]),_t]}),t})(),Q1=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=_i({type:t}),t.\u0275inj=oi({}),t})();const BU={provide:kr,useExisting:Ut(()=>ja),multi:!0};function iE(t,n){return null==t?`${n}`:(n&&"object"==typeof n&&(n="Object"),`${t}: ${n}`.slice(0,50))}let ja=(()=>{class t extends $a{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const r=iE(this._getOptionId(e),e);this.setProperty("value",r)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){const i=function HU(t){return t.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i):e}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275dir=Ve({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,i){1&e&&N("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Kt([BU]),_t]}),t})(),ld=(()=>{class t{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(iE(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(T(zt),T(Tn),T(ja,9))},t.\u0275dir=Ve({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const $U={provide:kr,useExisting:Ut(()=>Ev),multi:!0};function rE(t,n){return null==t?`${n}`:("string"==typeof n&&(n=`'${n}'`),n&&"object"==typeof n&&(n="Object"),`${t}: ${n}`.slice(0,50))}let Ev=(()=>{class t extends $a{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let i;if(this.value=e,Array.isArray(e)){const r=e.map(s=>this._getOptionId(s));i=(s,o)=>{s._setSelected(r.indexOf(o.toString())>-1)}}else i=(r,s)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{const r=[],s=i.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const u=this._getOptionValue(o[a].value);r.push(u)}}else{const o=i.options;for(let a=0;a<o.length;a++){const l=o[a];if(l.selected){const u=this._getOptionValue(l.value);r.push(u)}}}this.value=r,e(r)}}_registerOption(e){const i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){const i=function jU(t){return t.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275dir=Ve({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,i){1&e&&N("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Kt([$U]),_t]}),t})(),ud=(()=>{class t{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(rE(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(rE(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(T(zt),T(Tn),T(Ev,9))},t.\u0275dir=Ve({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})(),KU=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=_i({type:t}),t.\u0275inj=oi({imports:[Q1]}),t})(),XU=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:gu,useValue:e.callSetDisabledState??tp}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=_i({type:t}),t.\u0275inj=oi({imports:[KU]}),t})();function qe(...t){return Pn(t,si(t))}class yi extends It{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){const{hasError:n,thrownError:e,_value:i}=this;if(n)throw e;return this._throwIfClosed(),i}next(n){super.next(this._value=n)}}const cd=ge(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Iv(...t){const n=si(t),e=Un(t),{args:i,keys:r}=u1(t);if(0===i.length)return Pn([],n);const s=new We(function eY(t,n,e=Ee){return i=>{pE(n,()=>{const{length:r}=t,s=new Array(r);let o=r,a=r;for(let l=0;l<r;l++)pE(n,()=>{const u=Pn(t[l],n);let c=!1;u.subscribe(Xe(i,d=>{s[l]=d,c||(c=!0,a--),a||i.next(e(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}(i,n,r?o=>c1(r,o):Ee));return e?s.pipe(cv(e)):s}function pE(t,n,e){t?Tt(e,t,n):n()}function Av(...t){return function tY(){return Ye(1)}()(Pn(t,si(t)))}function mE(t){return new We(n=>{R(t()).subscribe(n)})}function dd(t,n){const e=Q(t)?t:()=>t,i=r=>r.error(e());return new We(n?r=>n.schedule(i,0,r):i)}function Rv(){return pt((t,n)=>{let e=null;t._refCount++;const i=Xe(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(e=null);const r=t._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),n.unsubscribe()});t.subscribe(i),i.closed||(e=t.connect())})}class _E extends We{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,$t(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new ve;const e=this.getSubject();n.add(this.source.subscribe(Xe(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),n.closed&&(this._connection=null,n=ve.EMPTY)}return n}refCount(){return Rv()(this)}}function Ls(t,n){return pt((e,i)=>{let r=null,s=0,o=!1;const a=()=>o&&!r&&i.complete();e.subscribe(Xe(i,l=>{r?.unsubscribe();let u=0;const c=s++;R(t(l,c)).subscribe(r=Xe(i,d=>i.next(n?n(l,d,c,u++):d),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function To(t){return t<=0?()=>Ln:pt((n,e)=>{let i=0;n.subscribe(Xe(e,r=>{++i<=t&&(e.next(r),t<=i&&e.complete())}))})}function Sn(t,n){return pt((e,i)=>{let r=0;e.subscribe(Xe(i,s=>t.call(n,s,r++)&&i.next(s)))})}function lp(t){return pt((n,e)=>{let i=!1;n.subscribe(Xe(e,r=>{i=!0,e.next(r)},()=>{i||e.next(t),e.complete()}))})}function gE(t=iY){return pt((n,e)=>{let i=!1;n.subscribe(Xe(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(t())))})}function iY(){return new cd}function ia(t,n){const e=arguments.length>=2;return i=>i.pipe(t?Sn((r,s)=>t(r,s,i)):Ee,To(1),e?lp(n):gE(()=>new cd))}function Ya(t,n){return Q(n)?Rt(t,n,1):Rt(t,1)}function Ui(t,n,e){const i=Q(t)||n||e?{next:t,error:n,complete:e}:t;return i?pt((r,s)=>{var o;null===(o=i.subscribe)||void 0===o||o.call(i);let a=!0;r.subscribe(Xe(s,l=>{var u;null===(u=i.next)||void 0===u||u.call(i,l),s.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),s.complete()},l=>{var u;a=!1,null===(u=i.error)||void 0===u||u.call(i,l),s.error(l)},()=>{var l,u;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(u=i.finalize)||void 0===u||u.call(i)}))}):Ee}function ra(t){return pt((n,e)=>{let s,i=null,r=!1;i=n.subscribe(Xe(e,void 0,void 0,o=>{s=R(t(o,ra(t)(n))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}function xv(t,n){return pt(function rY(t,n,e,i,r){return(s,o)=>{let a=e,l=n,u=0;s.subscribe(Xe(o,c=>{const d=u++;l=a?t(l,c,d):(a=!0,c),i&&o.next(l)},r&&(()=>{a&&o.next(l),o.complete()})))}}(t,n,arguments.length>=2,!0))}function Fv(t){return t<=0?()=>Ln:pt((n,e)=>{let i=[];n.subscribe(Xe(e,r=>{i.push(r),t<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function yE(t,n){const e=arguments.length>=2;return i=>i.pipe(t?Sn((r,s)=>t(r,s,i)):Ee,Fv(1),e?lp(n):gE(()=>new cd))}function Nv(t){return pt((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}const ht="primary",fd=Symbol("RouteTitle");class aY{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function yu(t){return new aY(t)}function lY(t,n,e){const i=e.path.split("/");if(i.length>t.length||"full"===e.pathMatch&&(n.hasChildren()||i.length<t.length))return null;const r={};for(let s=0;s<i.length;s++){const o=i[s],a=t[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function Ps(t,n){const e=t?Object.keys(t):void 0,i=n?Object.keys(n):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!vE(t[r],n[r]))return!1;return!0}function vE(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;const e=[...t].sort(),i=[...n].sort();return e.every((r,s)=>i[s]===r)}return t===n}function bE(t){return Array.prototype.concat.apply([],t)}function wE(t){return t.length>0?t[t.length-1]:null}function Oi(t,n){for(const e in t)t.hasOwnProperty(e)&&n(t[e],e)}function sa(t){return Gg(t)?t:Bc(t)?Pn(Promise.resolve(t)):qe(t)}const up=!1,cY={exact:function TE(t,n,e){if(!za(t.segments,n.segments)||!cp(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children)if(!t.children[i]||!TE(t.children[i],n.children[i],e))return!1;return!0},subset:SE},CE={exact:function dY(t,n){return Ps(t,n)},subset:function fY(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>vE(t[e],n[e]))},ignored:()=>!0};function DE(t,n,e){return cY[e.paths](t.root,n.root,e.matrixParams)&&CE[e.queryParams](t.queryParams,n.queryParams)&&!("exact"===e.fragment&&t.fragment!==n.fragment)}function SE(t,n,e){return kE(t,n,n.segments,e)}function kE(t,n,e,i){if(t.segments.length>e.length){const r=t.segments.slice(0,e.length);return!(!za(r,e)||n.hasChildren()||!cp(r,e,i))}if(t.segments.length===e.length){if(!za(t.segments,e)||!cp(t.segments,e,i))return!1;for(const r in n.children)if(!t.children[r]||!SE(t.children[r],n.children[r],i))return!1;return!0}{const r=e.slice(0,t.segments.length),s=e.slice(t.segments.length);return!!(za(t.segments,r)&&cp(t.segments,r,i)&&t.children[ht])&&kE(t.children[ht],n,s,i)}}function cp(t,n,e){return n.every((i,r)=>CE[e](t[r].parameters,i.parameters))}class oa{constructor(n=new bt([],{}),e={},i=null){this.root=n,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yu(this.queryParams)),this._queryParamMap}toString(){return mY.serialize(this)}}class bt{constructor(n,e){this.segments=n,this.children=e,this.parent=null,Oi(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return dp(this)}}class hd{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=yu(this.parameters)),this._parameterMap}toString(){return OE(this)}}function za(t,n){return t.length===n.length&&t.every((e,i)=>e.path===n[i].path)}let pd=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=q({token:t,factory:function(){return new Lv},providedIn:"root"}),t})();class Lv{parse(n){const e=new TY(n);return new oa(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){const e=`/${md(n.root,!0)}`,i=function yY(t){const n=Object.keys(t).map(e=>{const i=t[e];return Array.isArray(i)?i.map(r=>`${fp(e)}=${fp(r)}`).join("&"):`${fp(e)}=${fp(i)}`}).filter(e=>!!e);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${e}${i}${"string"==typeof n.fragment?`#${function _Y(t){return encodeURI(t)}(n.fragment)}`:""}`}}const mY=new Lv;function dp(t){return t.segments.map(n=>OE(n)).join("/")}function md(t,n){if(!t.hasChildren())return dp(t);if(n){const e=t.children[ht]?md(t.children[ht],!1):"",i=[];return Oi(t.children,(r,s)=>{s!==ht&&i.push(`${s}:${md(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function pY(t,n){let e=[];return Oi(t.children,(i,r)=>{r===ht&&(e=e.concat(n(i,r)))}),Oi(t.children,(i,r)=>{r!==ht&&(e=e.concat(n(i,r)))}),e}(t,(i,r)=>r===ht?[md(t.children[ht],!1)]:[`${r}:${md(i,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ht]?`${dp(t)}/${e[0]}`:`${dp(t)}/(${e.join("//")})`}}function ME(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function fp(t){return ME(t).replace(/%3B/gi,";")}function Pv(t){return ME(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function hp(t){return decodeURIComponent(t)}function EE(t){return hp(t.replace(/\+/g,"%20"))}function OE(t){return`${Pv(t.path)}${function gY(t){return Object.keys(t).map(n=>`;${Pv(n)}=${Pv(t[n])}`).join("")}(t.parameters)}`}const vY=/^[^\/()?;=#]+/;function pp(t){const n=t.match(vY);return n?n[0]:""}const bY=/^[^=?&#]+/,CY=/^[^&#]+/;class TY{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new bt([],{}):new bt([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(i[ht]=new bt(n,e)),i}parseSegment(){const n=pp(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new U(4009,up);return this.capture(n),new hd(hp(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const e=pp(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=pp(this.remaining);r&&(i=r,this.capture(i))}n[hp(e)]=hp(i)}parseQueryParam(n){const e=function wY(t){const n=t.match(bY);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const o=function DY(t){const n=t.match(CY);return n?n[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const r=EE(e),s=EE(i);if(n.hasOwnProperty(r)){let o=n[r];Array.isArray(o)||(o=[o],n[r]=o),o.push(s)}else n[r]=s}parseParens(n){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=pp(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new U(4010,up);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):n&&(s=ht);const o=this.parseChildren();e[s]=1===Object.keys(o).length?o[ht]:new bt([],o),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new U(4011,up)}}function Vv(t){return t.segments.length>0?new bt([],{[ht]:t}):t}function mp(t){const n={};for(const i of Object.keys(t.children)){const s=mp(t.children[i]);(s.segments.length>0||s.hasChildren())&&(n[i]=s)}return function SY(t){if(1===t.numberOfChildren&&t.children[ht]){const n=t.children[ht];return new bt(t.segments.concat(n.segments),n.children)}return t}(new bt(t.segments,n))}function qa(t){return t instanceof oa}const Bv=!1;function _d(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function gd(t){return"object"==typeof t&&null!=t&&t.outlets}function vu(t,n,e,i,r){let o,s={};i&&Oi(i,(l,u)=>{s[u]=Array.isArray(l)?l.map(c=>`${c}`):`${l}`}),o=t===n?e:RE(t,n,e);const a=Vv(mp(o));return new oa(a,s,r)}function RE(t,n,e){const i={};return Oi(t.children,(r,s)=>{i[s]=r===n?e:RE(r,n,e)}),new bt(t.segments,i)}class xE{constructor(n,e,i){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=i,n&&i.length>0&&_d(i[0]))throw new U(4003,Bv&&"Root segment cannot have matrix parameters");const r=i.find(gd);if(r&&r!==wE(i))throw new U(4004,Bv&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}function FE(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new xE(!0,0,t);let n=0,e=!1;const i=t.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Oi(s.outlets,(l,u)=>{a[u]="string"==typeof l?l.split("/"):l}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?e=!0:".."===a?n++:""!=a&&r.push(a))}),r):[...r,s]},[]);return new xE(e,n,i)}class bu{constructor(n,e,i){this.segmentGroup=n,this.processChildren=e,this.index=i}}function NE(t,n,e){let i=t,r=n,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new U(4005,Bv&&"Invalid number of '../'");r=i.segments.length}return new bu(i,!1,r-s)}function Hv(t,n,e){if(t||(t=new bt([],{})),0===t.segments.length&&t.hasChildren())return wu(t,n,e);const i=function AY(t,n,e){let i=0,r=n;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=e.length)return s;const o=t.segments[r],a=e[i];if(gd(a))break;const l=`${a}`,u=i<e.length-1?e[i+1]:null;if(r>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!PE(l,u,o))return s;i+=2}else{if(!PE(l,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(t,n,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const s=new bt(t.segments.slice(0,i.pathIndex),{});return s.children[ht]=new bt(t.segments.slice(i.pathIndex),t.children),wu(s,0,r)}return i.match&&0===r.length?new bt(t.segments,{}):i.match&&!t.hasChildren()?$v(t,n,e):i.match?wu(t,0,r):$v(t,n,e)}function wu(t,n,e){if(0===e.length)return new bt(t.segments,{});{const i=function IY(t){return gd(t[0])?t[0].outlets:{[ht]:t}}(e),r={};if(!i[ht]&&t.children[ht]&&1===t.numberOfChildren&&0===t.children[ht].segments.length){const s=wu(t.children[ht],n,e);return new bt(t.segments,s.children)}return Oi(i,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=Hv(t.children[o],n,s))}),Oi(t.children,(s,o)=>{void 0===i[o]&&(r[o]=s)}),new bt(t.segments,r)}}function $v(t,n,e){const i=t.segments.slice(0,n);let r=0;for(;r<e.length;){const s=e[r];if(gd(s)){const l=RY(s.outlets);return new bt(i,l)}if(0===r&&_d(e[0])){i.push(new hd(t.segments[n].path,LE(e[0]))),r++;continue}const o=gd(s)?s.outlets[ht]:`${s}`,a=r<e.length-1?e[r+1]:null;o&&a&&_d(a)?(i.push(new hd(o,LE(a))),r+=2):(i.push(new hd(o,{})),r++)}return new bt(i,{})}function RY(t){const n={};return Oi(t,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(n[i]=$v(new bt([],{}),0,e))}),n}function LE(t){const n={};return Oi(t,(e,i)=>n[i]=`${e}`),n}function PE(t,n,e){return t==e.path&&Ps(n,e.parameters)}const yd="imperative";class Vs{constructor(n,e){this.id=n,this.url=e}}class jv extends Vs{constructor(n,e,i="imperative",r=null){super(n,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class aa extends Vs{constructor(n,e,i){super(n,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class _p extends Vs{constructor(n,e,i,r){super(n,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class gp extends Vs{constructor(n,e,i,r){super(n,e),this.reason=i,this.code=r,this.type=16}}class Uv extends Vs{constructor(n,e,i,r){super(n,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class xY extends Vs{constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class FY extends Vs{constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class NY extends Vs{constructor(n,e,i,r,s){super(n,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class LY extends Vs{constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class PY extends Vs{constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class VY{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class BY{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class HY{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $Y{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jY{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class UY{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class VE{constructor(n,e,i){this.routerEvent=n,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let qY=(()=>{class t{createUrlTree(e,i,r,s,o,a){const u=function MY(t,n,e,i,r){if(0===e.length)return vu(n.root,n.root,n.root,i,r);const s=FE(e);return s.toRoot()?vu(n.root,n.root,new bt([],{}),i,r):function o(l){const u=function OY(t,n,e,i){return t.isAbsolute?new bu(n.root,!0,0):-1===i?new bu(e,e===n.root,0):NE(e,i+(_d(t.commands[0])?0:1),t.numberOfDoubleDots)}(s,n,t.snapshot?._urlSegment,l),c=u.processChildren?wu(u.segmentGroup,u.index,s.commands):Hv(u.segmentGroup,u.index,s.commands);return vu(n.root,u.segmentGroup,c,i,r)}(t.snapshot?._lastPathIndex)}(e||i.root,r,s,o,a);return u}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})(),GY=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=q({token:t,factory:function(n){return qY.\u0275fac(n)},providedIn:"root"}),t})();class BE{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){const e=Yv(n,this._root);return e?e.children.map(i=>i.value):[]}firstChild(n){const e=Yv(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){const e=zv(n,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==n)}pathFromRoot(n){return zv(n,this._root).map(e=>e.value)}}function Yv(t,n){if(t===n.value)return n;for(const e of n.children){const i=Yv(t,e);if(i)return i}return null}function zv(t,n){if(t===n.value)return[n];for(const e of n.children){const i=zv(t,e);if(i.length)return i.unshift(n),i}return[]}class So{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}}function Cu(t){const n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}class HE extends BE{constructor(n,e){super(n),this.snapshot=e,qv(this,n)}toString(){return this.snapshot.toString()}}function $E(t,n){const e=function ZY(t,n){const o=new yp([],{},{},"",{},ht,n,null,t.root,-1,{});return new UE("",new So(o,[]))}(t,n),i=new yi([new hd("",{})]),r=new yi({}),s=new yi({}),o=new yi({}),a=new yi(""),l=new Du(i,r,o,a,s,ht,n,e.root);return l.snapshot=e.root,new HE(new So(l,[]),e)}class Du{constructor(n,e,i,r,s,o,a,l){this.url=n,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(Ie(u=>u[fd]))??qe(void 0),this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ie(n=>yu(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ie(n=>yu(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function jE(t,n="emptyOnly"){const e=t.pathFromRoot;let i=0;if("always"!==n)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function QY(t){return t.reduce((n,e)=>({params:{...n.params,...e.params},data:{...n.data,...e.data},resolve:{...e.data,...n.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class yp{get title(){return this.data?.[fd]}constructor(n,e,i,r,s,o,a,l,u,c,d){this.url=n,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=u,this._lastPathIndex=c,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=yu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class UE extends BE{constructor(n,e){super(e),this.url=n,qv(this,e)}toString(){return YE(this._root)}}function qv(t,n){n.value._routerState=t,n.children.forEach(e=>qv(t,e))}function YE(t){const n=t.children.length>0?` { ${t.children.map(YE).join(", ")} } `:"";return`${t.value}${n}`}function Wv(t){if(t.snapshot){const n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,Ps(n.queryParams,e.queryParams)||t.queryParams.next(e.queryParams),n.fragment!==e.fragment&&t.fragment.next(e.fragment),Ps(n.params,e.params)||t.params.next(e.params),function uY(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!Ps(t[e],n[e]))return!1;return!0}(n.url,e.url)||t.url.next(e.url),Ps(n.data,e.data)||t.data.next(e.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Gv(t,n){const e=Ps(t.params,n.params)&&function hY(t,n){return za(t,n)&&t.every((e,i)=>Ps(e.parameters,n[i].parameters))}(t.url,n.url);return e&&!(!t.parent!=!n.parent)&&(!t.parent||Gv(t.parent,n.parent))}function vd(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=n.value;const r=function JY(t,n,e){return n.children.map(i=>{for(const r of e.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return vd(t,i,r);return vd(t,i)})}(t,n,e);return new So(i,r)}{if(t.shouldAttach(n.value)){const s=t.retrieve(n.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=n.value,o.children=n.children.map(a=>vd(t,a)),o}}const i=function XY(t){return new Du(new yi(t.url),new yi(t.params),new yi(t.queryParams),new yi(t.fragment),new yi(t.data),t.outlet,t.component,t)}(n.value),r=n.children.map(s=>vd(t,s));return new So(i,r)}}const Zv="ngNavigationCancelingError";function zE(t,n){const{redirectTo:e,navigationBehaviorOptions:i}=qa(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,r=qE(!1,0,n);return r.url=e,r.navigationBehaviorOptions=i,r}function qE(t,n,e){const i=new Error("NavigationCancelingError: "+(t||""));return i[Zv]=!0,i.cancellationCode=n,e&&(i.url=e),i}function WE(t){return GE(t)&&qa(t.url)}function GE(t){return t&&t[Zv]}class e4{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new bd,this.attachRef=null}}let bd=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new e4,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const vp=!1;let bp=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ht,this.activateEvents=new ke,this.deactivateEvents=new ke,this.attachEvents=new ke,this.detachEvents=new ke,this.parentContexts=Ct(bd),this.location=Ct(Mi),this.changeDetector=Ct(bo),this.environmentInjector=Ct(po)}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new U(4012,vp);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new U(4012,vp);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new U(4012,vp);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new U(4013,vp);this._activatedRoute=e;const r=this.location,o=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new t4(e,a,r.injector);if(i&&function n4(t){return!!t.resolveComponentFactory}(i)){const u=i.resolveComponentFactory(o);this.activated=r.createComponent(u,r.length,l)}else this.activated=r.createComponent(o,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ve({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Hi]}),t})();class t4{constructor(n,e,i){this.route=n,this.childContexts=e,this.parent=i}get(n,e){return n===Du?this.route:n===bd?this.childContexts:this.parent.get(n,e)}}let Qv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=$e({type:t,selectors:[["ng-component"]],standalone:!0,features:[QS],decls:1,vars:0,template:function(e,i){1&e&&Ae(0,"router-outlet")},dependencies:[bp],encapsulation:2}),t})();function ZE(t,n){return t.providers&&!t._injector&&(t._injector=wh(t.providers,n,`Route: ${t.path}`)),t._injector??n}function Jv(t){const n=t.children&&t.children.map(Jv),e=n?{...t,children:n}:{...t};return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==ht&&(e.component=Qv),e}function Ur(t){return t.outlet||ht}function QE(t,n){const e=t.filter(i=>Ur(i)===n);return e.push(...t.filter(i=>Ur(i)!==n)),e}function wd(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){const e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class a4{constructor(n,e,i,r){this.routeReuseStrategy=n,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(n){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,n),Wv(this.futureState.root),this.activateChildRoutes(e,i,n)}deactivateChildRoutes(n,e,i){const r=Cu(e);n.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Oi(r,(s,o)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(n,e,i){const r=n.value,s=e?e.value:null;if(r===s)if(r.component){const o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(n,e,o.children)}else this.deactivateChildRoutes(n,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){const i=e.getContext(n.value.outlet),r=i&&n.value.component?i.children:e,s=Cu(n);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);if(i&&i.outlet){const o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:o,route:n,contexts:a})}}deactivateRouteAndOutlet(n,e){const i=e.getContext(n.value.outlet),r=i&&n.value.component?i.children:e,s=Cu(n);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(n,e,i){const r=Cu(e);n.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new UY(s.value.snapshot))}),n.children.length&&this.forwardEvent(new $Y(n.value.snapshot))}activateRoutes(n,e,i){const r=n.value,s=e?e.value:null;if(Wv(r),r===s)if(r.component){const o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(n,e,o.children)}else this.activateChildRoutes(n,e,i);else if(r.component){const o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Wv(a.route.value),this.activateChildRoutes(n,null,o.children)}else{const a=wd(r.snapshot),l=a?.get(ql)??null;o.attachRef=null,o.route=r,o.resolver=l,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(n,null,o.children)}}else this.activateChildRoutes(n,null,i)}}class KE{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class wp{constructor(n,e){this.component=n,this.route=e}}function l4(t,n,e){const i=t._root;return Cd(i,n?n._root:null,e,[i.value])}function Tu(t,n){const e=Symbol(),i=n.get(t,e);return i===e?"function"!=typeof t||function wF(t){return null!==Tf(t)}(t)?n.get(t):t:i}function Cd(t,n,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Cu(n);return t.children.forEach(o=>{(function c4(t,n,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=n?n.value:null,a=e?e.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function d4(t,n,e){if("function"==typeof e)return e(t,n);switch(e){case"pathParamsChange":return!za(t.url,n.url);case"pathParamsOrQueryParamsChange":return!za(t.url,n.url)||!Ps(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Gv(t,n)||!Ps(t.queryParams,n.queryParams);default:return!Gv(t,n)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new KE(i)):(s.data=o.data,s._resolvedData=o._resolvedData),Cd(t,n,s.component?a?a.children:null:e,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new wp(a.outlet.component,o))}else o&&Dd(n,a,r),r.canActivateChecks.push(new KE(i)),Cd(t,null,s.component?a?a.children:null:e,i,r)})(o,s[o.value.outlet],e,i.concat([o.value]),r),delete s[o.value.outlet]}),Oi(s,(o,a)=>Dd(o,e.getContext(a),r)),r}function Dd(t,n,e){const i=Cu(t),r=t.value;Oi(i,(s,o)=>{Dd(s,r.component?n?n.children.getContext(o):null:n,e)}),e.canDeactivateChecks.push(new wp(r.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,r))}function Td(t){return"function"==typeof t}function Xv(t){return t instanceof cd||"EmptyError"===t?.name}const Cp=Symbol("INITIAL_VALUE");function Su(){return Ls(t=>Iv(t.map(n=>n.pipe(To(1),function nY(...t){const n=si(t);return pt((e,i)=>{(n?Av(t,e,n):Av(t,e)).subscribe(i)})}(Cp)))).pipe(Ie(n=>{for(const e of n)if(!0!==e){if(e===Cp)return Cp;if(!1===e||e instanceof oa)return e}return!0}),Sn(n=>n!==Cp),To(1)))}function JE(t){return function Qe(...t){return sn(t)}(Ui(n=>{if(qa(n))throw zE(0,n)}),Ie(n=>!0===n))}const eb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function XE(t,n,e,i,r){const s=tb(t,n,e);return s.matched?function E4(t,n,e,i){const r=n.canMatch;return r&&0!==r.length?qe(r.map(o=>{const a=Tu(o,t);return sa(function g4(t){return t&&Td(t.canMatch)}(a)?a.canMatch(n,e):t.runInContext(()=>a(n,e)))})).pipe(Su(),JE()):qe(!0)}(i=ZE(n,i),n,e).pipe(Ie(o=>!0===o?s:{...eb})):qe(s)}function tb(t,n,e){if(""===n.path)return"full"===n.pathMatch&&(t.hasChildren()||e.length>0)?{...eb}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(n.matcher||lY)(e,t,n);if(!r)return{...eb};const s={};Oi(r.posParams,(a,l)=>{s[l]=a.path});const o=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function Dp(t,n,e,i){if(e.length>0&&function A4(t,n,e){return e.some(i=>Tp(t,n,i)&&Ur(i)!==ht)}(t,e,i)){const s=new bt(n,function I4(t,n,e,i){const r={};r[ht]=i,i._sourceSegment=t,i._segmentIndexShift=n.length;for(const s of e)if(""===s.path&&Ur(s)!==ht){const o=new bt([],{});o._sourceSegment=t,o._segmentIndexShift=n.length,r[Ur(s)]=o}return r}(t,n,i,new bt(e,t.children)));return s._sourceSegment=t,s._segmentIndexShift=n.length,{segmentGroup:s,slicedSegments:[]}}if(0===e.length&&function R4(t,n,e){return e.some(i=>Tp(t,n,i))}(t,e,i)){const s=new bt(t.segments,function O4(t,n,e,i,r){const s={};for(const o of i)if(Tp(t,e,o)&&!r[Ur(o)]){const a=new bt([],{});a._sourceSegment=t,a._segmentIndexShift=n.length,s[Ur(o)]=a}return{...r,...s}}(t,n,e,i,t.children));return s._sourceSegment=t,s._segmentIndexShift=n.length,{segmentGroup:s,slicedSegments:e}}const r=new bt(t.segments,t.children);return r._sourceSegment=t,r._segmentIndexShift=n.length,{segmentGroup:r,slicedSegments:e}}function Tp(t,n,e){return(!(t.hasChildren()||n.length>0)||"full"!==e.pathMatch)&&""===e.path}function eO(t,n,e,i){return!!(Ur(t)===i||i!==ht&&Tp(n,e,t))&&("**"===t.path||tb(n,t,e).matched)}function tO(t,n,e){return 0===n.length&&!t.children[e]}const Sp=!1;class kp{constructor(n){this.segmentGroup=n||null}}class nO{constructor(n){this.urlTree=n}}function Sd(t){return dd(new kp(t))}function iO(t){return dd(new nO(t))}class L4{constructor(n,e,i,r,s){this.injector=n,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0}apply(){const n=Dp(this.urlTree.root,[],[],this.config).segmentGroup,e=new bt(n.segments,n.children);return this.expandSegmentGroup(this.injector,this.config,e,ht).pipe(Ie(s=>this.createUrlTree(mp(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ra(s=>{if(s instanceof nO)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof kp?this.noMatchError(s):s}))}match(n){return this.expandSegmentGroup(this.injector,this.config,n.root,ht).pipe(Ie(r=>this.createUrlTree(mp(r),n.queryParams,n.fragment))).pipe(ra(r=>{throw r instanceof kp?this.noMatchError(r):r}))}noMatchError(n){return new U(4002,Sp)}createUrlTree(n,e,i){const r=Vv(n);return new oa(r,e,i)}expandSegmentGroup(n,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(n,e,i).pipe(Ie(s=>new bt([],s))):this.expandSegment(n,i,e,i.segments,r,!0)}expandChildren(n,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return Pn(r).pipe(Ya(s=>{const o=i.children[s],a=QE(e,s);return this.expandSegmentGroup(n,a,o,s).pipe(Ie(l=>({segment:l,outlet:s})))}),xv((s,o)=>(s[o.outlet]=o.segment,s),{}),yE())}expandSegment(n,e,i,r,s,o){return Pn(i).pipe(Ya(a=>this.expandSegmentAgainstRoute(n,e,i,a,r,s,o).pipe(ra(u=>{if(u instanceof kp)return qe(null);throw u}))),ia(a=>!!a),ra((a,l)=>{if(Xv(a))return tO(e,r,s)?qe(new bt([],{})):Sd(e);throw a}))}expandSegmentAgainstRoute(n,e,i,r,s,o,a){return eO(r,e,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(n,e,r,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,e,i,r,s,o):Sd(e):Sd(e)}expandSegmentAgainstRouteUsingRedirect(n,e,i,r,s,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,i,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(n,e,i,r,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,e,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?iO(s):this.lineralizeSegments(i,s).pipe(Rt(o=>{const a=new bt(o,{});return this.expandSegment(n,a,e,o,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,e,i,r,s,o){const{matched:a,consumedSegments:l,remainingSegments:u,positionalParamSegments:c}=tb(e,r,s);if(!a)return Sd(e);const d=this.applyRedirectCommands(l,r.redirectTo,c);return r.redirectTo.startsWith("/")?iO(d):this.lineralizeSegments(r,d).pipe(Rt(f=>this.expandSegment(n,e,i,f.concat(u),o,!1)))}matchSegmentAgainstRoute(n,e,i,r,s){return"**"===i.path?(n=ZE(i,n),i.loadChildren?(i._loadedRoutes?qe({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(n,i)).pipe(Ie(a=>(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,new bt(r,{})))):qe(new bt(r,{}))):XE(e,i,r,n).pipe(Ls(({matched:o,consumedSegments:a,remainingSegments:l})=>o?this.getChildConfig(n=i._injector??n,i,r).pipe(Rt(c=>{const d=c.injector??n,f=c.routes,{segmentGroup:h,slicedSegments:p}=Dp(e,a,l,f),v=new bt(h.segments,h.children);if(0===p.length&&v.hasChildren())return this.expandChildren(d,f,v).pipe(Ie(P=>new bt(a,P)));if(0===f.length&&0===p.length)return qe(new bt(a,{}));const k=Ur(i)===s;return this.expandSegment(d,v,f,p,k?ht:s,!0).pipe(Ie(z=>new bt(a.concat(z.segments),z.children)))})):Sd(e)))}getChildConfig(n,e,i){return e.children?qe({routes:e.children,injector:n}):e.loadChildren?void 0!==e._loadedRoutes?qe({routes:e._loadedRoutes,injector:e._loadedInjector}):function M4(t,n,e,i){const r=n.canLoad;return void 0===r||0===r.length?qe(!0):qe(r.map(o=>{const a=Tu(o,t);return sa(function h4(t){return t&&Td(t.canLoad)}(a)?a.canLoad(n,e):t.runInContext(()=>a(n,e)))})).pipe(Su(),JE())}(n,e,i).pipe(Rt(r=>r?this.configLoader.loadChildren(n,e).pipe(Ui(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function F4(t){return dd(qE(Sp,3))}())):qe({routes:[],injector:n})}lineralizeSegments(n,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return qe(i);if(r.numberOfChildren>1||!r.children[ht])return n.redirectTo,dd(new U(4e3,Sp));r=r.children[ht]}}applyRedirectCommands(n,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),n,i)}applyRedirectCreateUrlTree(n,e,i,r){const s=this.createSegmentGroup(n,e.root,i,r);return new oa(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){const i={};return Oi(n,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const a=r.substring(1);i[s]=e[a]}else i[s]=r}),i}createSegmentGroup(n,e,i,r){const s=this.createSegments(n,e.segments,i,r);let o={};return Oi(e.children,(a,l)=>{o[l]=this.createSegmentGroup(n,a,i,r)}),new bt(s,o)}createSegments(n,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(n,s,r):this.findOrReturn(s,i))}findPosParam(n,e,i){const r=i[e.path.substring(1)];if(!r)throw new U(4001,Sp);return r}findOrReturn(n,e){let i=0;for(const r of e){if(r.path===n.path)return e.splice(i),r;i++}return n}}class V4{}class $4{constructor(n,e,i,r,s,o,a){this.injector=n,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a}recognize(){const n=Dp(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,ht).pipe(Ie(e=>{if(null===e)return null;const i=new yp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ht,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new So(i,e),s=new UE(this.url,r);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(n){const e=n.value,i=jE(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),n.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(n,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(n,e,i):this.processSegment(n,e,i,i.segments,r)}processChildren(n,e,i){return Pn(Object.keys(i.children)).pipe(Ya(r=>{const s=i.children[r],o=QE(e,r);return this.processSegmentGroup(n,o,s,r)}),xv((r,s)=>r&&s?(r.push(...s),r):null),function sY(t,n=!1){return pt((e,i)=>{let r=0;e.subscribe(Xe(i,s=>{const o=t(s,r++);(o||n)&&i.next(s),!o&&i.complete()}))})}(r=>null!==r),lp(null),yE(),Ie(r=>{if(null===r)return null;const s=sO(r);return function j4(t){t.sort((n,e)=>n.value.outlet===ht?-1:e.value.outlet===ht?1:n.value.outlet.localeCompare(e.value.outlet))}(s),s}))}processSegment(n,e,i,r,s){return Pn(e).pipe(Ya(o=>this.processSegmentAgainstRoute(o._injector??n,o,i,r,s)),ia(o=>!!o),ra(o=>{if(Xv(o))return tO(i,r,s)?qe([]):qe(null);throw o}))}processSegmentAgainstRoute(n,e,i,r,s){if(e.redirectTo||!eO(e,i,r,s))return qe(null);let o;if("**"===e.path){const a=r.length>0?wE(r).parameters:{},l=aO(i)+r.length;o=qe({snapshot:new yp(r,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,lO(e),Ur(e),e.component??e._loadedComponent??null,e,oO(i),l,uO(e)),consumedSegments:[],remainingSegments:[]})}else o=XE(i,e,r,n).pipe(Ie(({matched:a,consumedSegments:l,remainingSegments:u,parameters:c})=>{if(!a)return null;const d=aO(i)+l.length;return{snapshot:new yp(l,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,lO(e),Ur(e),e.component??e._loadedComponent??null,e,oO(i),d,uO(e)),consumedSegments:l,remainingSegments:u}}));return o.pipe(Ls(a=>{if(null===a)return qe(null);const{snapshot:l,consumedSegments:u,remainingSegments:c}=a;n=e._injector??n;const d=e._loadedInjector??n,f=function U4(t){return t.children?t.children:t.loadChildren?t._loadedRoutes:[]}(e),{segmentGroup:h,slicedSegments:p}=Dp(i,u,c,f.filter(k=>void 0===k.redirectTo));if(0===p.length&&h.hasChildren())return this.processChildren(d,f,h).pipe(Ie(k=>null===k?null:[new So(l,k)]));if(0===f.length&&0===p.length)return qe([new So(l,[])]);const v=Ur(e)===s;return this.processSegment(d,f,h,p,v?ht:s).pipe(Ie(k=>null===k?null:[new So(l,k)]))}))}}function Y4(t){const n=t.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function sO(t){const n=[],e=new Set;for(const i of t){if(!Y4(i)){n.push(i);continue}const r=n.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):n.push(i)}for(const i of e){const r=sO(i.children);n.push(new So(i.value,r))}return n.filter(i=>!e.has(i))}function oO(t){let n=t;for(;n._sourceSegment;)n=n._sourceSegment;return n}function aO(t){let n=t,e=n._segmentIndexShift??0;for(;n._sourceSegment;)n=n._sourceSegment,e+=n._segmentIndexShift??0;return e-1}function lO(t){return t.data||{}}function uO(t){return t.resolve||{}}function cO(t){return"string"==typeof t.title||null===t.title}function nb(t){return Ls(n=>{const e=t(n);return e?Pn(e).pipe(Ie(()=>n)):qe(n)})}const ku=new Pe("ROUTES");let ib=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Ct(Bk)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return qe(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=sa(e.loadComponent()).pipe(Ie(fO),Ui(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),Nv(()=>{this.componentLoaders.delete(e)})),r=new _E(i,()=>new It).pipe(Rv());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return qe({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe(Ie(a=>{this.onLoadEndListener&&this.onLoadEndListener(i);let l,u,c=!1;Array.isArray(a)?u=a:(l=a.create(e).injector,u=bE(l.get(ku,[],Je.Self|Je.Optional)));return{routes:u.map(Jv),injector:l}}),Nv(()=>{this.childrenLoaders.delete(i)})),o=new _E(s,()=>new It).pipe(Rv());return this.childrenLoaders.set(i,o),o}loadModuleFactoryOrRoutes(e){return sa(e()).pipe(Ie(fO),Rt(i=>i instanceof GS||Array.isArray(i)?qe(i):Pn(this.compiler.compileModuleAsync(i))))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function fO(t){return function J4(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Ep=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new It,this.configLoader=Ct(ib),this.environmentInjector=Ct(po),this.urlSerializer=Ct(pd),this.rootContexts=Ct(bd),this.navigationId=0,this.afterPreactivation=()=>qe(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new BY(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new VY(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e){return this.transitions=new yi({id:0,targetPageId:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:yd,restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Sn(i=>0!==i.id),Ie(i=>({...i,extractedUrl:e.urlHandlingStrategy.extract(i.rawUrl)})),Ls(i=>{let r=!1,s=!1;return qe(i).pipe(Ui(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ls(o=>{const a=e.browserUrlTree.toString(),l=!e.navigated||o.extractedUrl.toString()!==a||a!==e.currentUrlTree.toString();if(!l&&"reload"!==(o.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const c="";return this.events.next(new gp(o.id,e.serializeUrl(i.rawUrl),c,0)),e.rawUrlTree=o.rawUrl,o.resolve(null),Ln}if(e.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return hO(o.source)&&(e.browserUrlTree=o.extractedUrl),qe(o).pipe(Ls(c=>{const d=this.transitions?.getValue();return this.events.next(new jv(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),d!==this.transitions?.getValue()?Ln:Promise.resolve(c)}),function P4(t,n,e,i){return Ls(r=>function N4(t,n,e,i,r){return new L4(t,n,e,i,r).apply()}(t,n,e,r.extractedUrl,i).pipe(Ie(s=>({...r,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,e.config),Ui(c=>{this.currentNavigation={...this.currentNavigation,finalUrl:c.urlAfterRedirects},i.urlAfterRedirects=c.urlAfterRedirects}),function q4(t,n,e,i,r){return Rt(s=>function H4(t,n,e,i,r,s,o="emptyOnly"){return new $4(t,n,e,i,r,o,s).recognize().pipe(Ls(a=>null===a?function B4(t){return new We(n=>n.error(t))}(new V4):qe(a)))}(t,n,e,s.urlAfterRedirects,i.serialize(s.urlAfterRedirects),i,r).pipe(Ie(o=>({...s,targetSnapshot:o}))))}(this.environmentInjector,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),Ui(c=>{if(i.targetSnapshot=c.targetSnapshot,"eager"===e.urlUpdateStrategy){if(!c.extras.skipLocationChange){const f=e.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl);e.setBrowserUrl(f,c)}e.browserUrlTree=c.urlAfterRedirects}const d=new xY(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}));if(l&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:c,extractedUrl:d,source:f,restoredState:h,extras:p}=o,v=new jv(c,this.urlSerializer.serialize(d),f,h);this.events.next(v);const k=$E(d,this.rootComponentType).snapshot;return qe(i={...o,targetSnapshot:k,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const c="";return this.events.next(new gp(o.id,e.serializeUrl(i.extractedUrl),c,1)),e.rawUrlTree=o.rawUrl,o.resolve(null),Ln}}),Ui(o=>{const a=new FY(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),Ie(o=>i={...o,guards:l4(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function v4(t,n){return Rt(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=e;return 0===o.length&&0===s.length?qe({...e,guardsResult:!0}):function b4(t,n,e,i){return Pn(t).pipe(Rt(r=>function k4(t,n,e,i,r){const s=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return s&&0!==s.length?qe(s.map(a=>{const l=wd(n)??r,u=Tu(a,l);return sa(function _4(t){return t&&Td(t.canDeactivate)}(u)?u.canDeactivate(t,n,e,i):l.runInContext(()=>u(t,n,e,i))).pipe(ia())})).pipe(Su()):qe(!0)}(r.component,r.route,e,n,i)),ia(r=>!0!==r,!0))}(o,i,r,t).pipe(Rt(a=>a&&function f4(t){return"boolean"==typeof t}(a)?function w4(t,n,e,i){return Pn(n).pipe(Ya(r=>Av(function D4(t,n){return null!==t&&n&&n(new HY(t)),qe(!0)}(r.route.parent,i),function C4(t,n){return null!==t&&n&&n(new jY(t)),qe(!0)}(r.route,i),function S4(t,n,e){const i=n[n.length-1],s=n.slice(0,n.length-1).reverse().map(o=>function u4(t){const n=t.routeConfig?t.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:t,guards:n}:null}(o)).filter(o=>null!==o).map(o=>mE(()=>qe(o.guards.map(l=>{const u=wd(o.node)??e,c=Tu(l,u);return sa(function m4(t){return t&&Td(t.canActivateChild)}(c)?c.canActivateChild(i,t):u.runInContext(()=>c(i,t))).pipe(ia())})).pipe(Su())));return qe(s).pipe(Su())}(t,r.path,e),function T4(t,n,e){const i=n.routeConfig?n.routeConfig.canActivate:null;if(!i||0===i.length)return qe(!0);const r=i.map(s=>mE(()=>{const o=wd(n)??e,a=Tu(s,o);return sa(function p4(t){return t&&Td(t.canActivate)}(a)?a.canActivate(n,t):o.runInContext(()=>a(n,t))).pipe(ia())}));return qe(r).pipe(Su())}(t,r.route,e))),ia(r=>!0!==r,!0))}(i,s,t,n):qe(a)),Ie(a=>({...e,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),Ui(o=>{if(i.guardsResult=o.guardsResult,qa(o.guardsResult))throw zE(0,o.guardsResult);const a=new NY(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),Sn(o=>!!o.guardsResult||(e.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),nb(o=>{if(o.guards.canActivateChecks.length)return qe(o).pipe(Ui(a=>{const l=new LY(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),Ls(a=>{let l=!1;return qe(a).pipe(function W4(t,n){return Rt(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return qe(e);let s=0;return Pn(r).pipe(Ya(o=>function G4(t,n,e,i){const r=t.routeConfig,s=t._resolve;return void 0!==r?.title&&!cO(r)&&(s[fd]=r.title),function Z4(t,n,e,i){const r=function Q4(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===r.length)return qe({});const s={};return Pn(r).pipe(Rt(o=>function K4(t,n,e,i){const r=wd(n)??i,s=Tu(t,r);return sa(s.resolve?s.resolve(n,e):r.runInContext(()=>s(n,e)))}(t[o],n,e,i).pipe(ia(),Ui(a=>{s[o]=a}))),Fv(1),function oY(t){return Ie(()=>t)}(s),ra(o=>Xv(o)?Ln:dd(o)))}(s,t,n,i).pipe(Ie(o=>(t._resolvedData=o,t.data=jE(t,e).resolve,r&&cO(r)&&(t.data[fd]=r.title),null)))}(o.route,i,t,n)),Ui(()=>s++),Fv(1),Rt(o=>s===r.length?qe(e):Ln))})}(e.paramsInheritanceStrategy,this.environmentInjector),Ui({next:()=>l=!0,complete:()=>{l||(e.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),Ui(a=>{const l=new PY(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),nb(o=>{const a=l=>{const u=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(l.routeConfig).pipe(Ui(c=>{l.component=c}),Ie(()=>{})));for(const c of l.children)u.push(...a(c));return u};return Iv(a(o.targetSnapshot.root)).pipe(lp(),To(1))}),nb(()=>this.afterPreactivation()),Ie(o=>{const a=function KY(t,n,e){const i=vd(t,n._root,e?e._root:void 0);return new HE(i,n)}(e.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return i={...o,targetRouterState:a}}),Ui(o=>{e.currentUrlTree=o.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),e.routerState=o.targetRouterState,"deferred"===e.urlUpdateStrategy&&(o.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,o),e.browserUrlTree=o.urlAfterRedirects)}),((t,n,e)=>Ie(i=>(new a4(n,i.targetRouterState,i.currentRouterState,e).activate(t),i)))(this.rootContexts,e.routeReuseStrategy,o=>this.events.next(o)),To(1),Ui({next:o=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new aa(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{r=!0}}),Nv(()=>{r||s||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),ra(o=>{if(s=!0,GE(o)){WE(o)||(e.navigated=!0,e.restoreHistory(i,!0));const a=new _p(i.id,this.urlSerializer.serialize(i.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),WE(o)){const l=e.urlHandlingStrategy.merge(o.url,e.rawUrlTree),u={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||hO(i.source)};e.scheduleNavigation(l,yd,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{e.restoreHistory(i,!0);const a=new Uv(i.id,this.urlSerializer.serialize(i.extractedUrl),o,i.targetSnapshot??void 0);this.events.next(a);try{i.resolve(e.errorHandler(o))}catch(l){i.reject(l)}}return Ln}))}))}cancelNavigationTransition(e,i,r){const s=new _p(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(s),e.resolve(!1)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function hO(t){return t!==yd}let pO=(()=>{class t{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===ht);return i}getResolvedTitleForRoute(e){return e.data[fd]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=q({token:t,factory:function(){return Ct(X4)},providedIn:"root"}),t})(),X4=(()=>{class t extends pO{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return t.\u0275fac=function(e){return new(e||t)(ee(o1))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ez=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=q({token:t,factory:function(){return Ct(nz)},providedIn:"root"}),t})();class tz{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}}let nz=(()=>{class t extends tz{}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Op=new Pe("",{providedIn:"root",factory:()=>({})});let rz=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=q({token:t,factory:function(){return Ct(sz)},providedIn:"root"}),t})(),sz=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function oz(t){throw t}function az(t,n,e){return n.parse("/")}const lz={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},uz={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Yi=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Ct($3),this.isNgZoneEnabled=!1,this.options=Ct(Op,{optional:!0})||{},this.errorHandler=this.options.errorHandler||oz,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||az,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Ct(rz),this.routeReuseStrategy=Ct(ez),this.urlCreationStrategy=Ct(GY),this.titleStrategy=Ct(pO),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=bE(Ct(ku,{optional:!0})??[]),this.navigationTransitions=Ct(Ep),this.urlSerializer=Ct(pd),this.location=Ct(By),this.isNgZoneEnabled=Ct(hn)instanceof hn&&hn.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new oa,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=$E(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),yd,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,r){const s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){const l={...r};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(e);this.scheduleNavigation(a,i,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(e){this.config=e.map(Jv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=i,u=l?this.currentUrlTree.fragment:o;let c=null;switch(a){case"merge":c={...this.currentUrlTree.queryParams,...s};break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=s||null}return null!==c&&(c=this.removeEmptyProps(c)),this.urlCreationStrategy.createUrlTree(r,this.routerState,this.currentUrlTree,e,c,u??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=qa(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,yd,null,i)}navigate(e,i={skipLocationChange:!1}){return function cz(t){for(let n=0;n<t.length;n++){const e=t[n];if(null==e)throw new U(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...lz}:!1===i?{...uz}:i,qa(e))return DE(this.currentUrlTree,e,r);const s=this.parseUrl(e);return DE(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}scheduleNavigation(e,i,r,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,u,c;return o?(a=o.resolve,l=o.reject,u=o.promise):u=new Promise((d,f)=>{a=d,l=f}),c="computed"===this.canceledNavigationResolution?r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:c,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:s,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),s={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===r?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Ip=(()=>{class t{constructor(e,i,r,s,o,a){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=o,this.locationStrategy=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new It;const l=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=e.events.subscribe(u=>{u instanceof aa&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=pu(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=pu(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=pu(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,r,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||r||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:function D0(t,n,e){return function QL(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?C0:_g}(n,e)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const r=this.renderer,s=this.el.nativeElement;null!==i?r.setAttribute(s,e,i):r.removeAttribute(s,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return t.\u0275fac=function(e){return new(e||t)(T(Yi),T(Du),function zf(t){return function wN(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const e=t.attrs;if(e){const i=e.length;let r=0;for(;r<i;){const s=e[r];if(fD(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<i&&"string"==typeof e[r];)r++;else{if(s===n)return e[r+1];r+=2}}}return null}(ki(),t)}("tabindex"),T(Tn),T(zt),T(Ha))},t.\u0275dir=Ve({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(e,i){1&e&&N("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&e&&zn("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[Hi]}),t})(),mO=(()=>{class t{get isActive(){return this._isActive}constructor(e,i,r,s,o){this.router=e,this.element=i,this.renderer=r,this.cdr=s,this.link=o,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new ke,this.routerEventsSubscription=e.events.subscribe(a=>{a instanceof aa&&this.update()})}ngAfterContentInit(){qe(this.links.changes,qe(null)).pipe(Ye()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=Pn(e).pipe(Ye()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function dz(t){return!!t.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&e.isActive(r.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}}return t.\u0275fac=function(e){return new(e||t)(T(Yi),T(zt),T(Tn),T(bo),T(Ip,8))},t.\u0275dir=Ve({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(e,i,r){if(1&e&&function mk(t,n,e,i){const r=Nt();if(r.firstCreatePass){const s=ki();gk(r,new hk(n,e,i),s.index),function w3(t,n){const e=t.contentQueries||(t.contentQueries=[]);n!==(e.length?e[e.length-1]:-1)&&e.push(t.queries.length-1,n)}(r,t),2==(2&e)&&(r.staticContentQueries=!0)}_k(r,J(),e)}(r,Ip,5),2&e){let s;de(s=fe())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Hi]}),t})();class _O{}let fz=(()=>{class t{constructor(e,i,r,s,o){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Sn(e=>e instanceof aa),Ya(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=wh(s.providers,e,`Route: ${s.path}`));const o=s._injector??e,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Pn(r).pipe(Ye())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):qe(null);const s=r.pipe(Rt(o=>null===o?qe(void 0):(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,this.processRoutes(o.injector??e,o.routes))));return i.loadComponent&&!i._loadedComponent?Pn([s,this.loader.loadComponent(i)]).pipe(Ye()):s})}}return t.\u0275fac=function(e){return new(e||t)(ee(Yi),ee(Bk),ee(po),ee(_O),ee(ib))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const sb=new Pe("");let gO=(()=>{class t{constructor(e,i,r,s,o={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof jv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof aa&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof VE&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new VE(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return t.\u0275fac=function(e){!function X0(){throw new Error("invalid")}()},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();var Er=(()=>((Er=Er||{})[Er.COMPLETE=0]="COMPLETE",Er[Er.FAILED=1]="FAILED",Er[Er.REDIRECTING=2]="REDIRECTING",Er))();const Mu=!1;function la(t,n){return{\u0275kind:t,\u0275providers:n}}const ob=new Pe("",{providedIn:"root",factory:()=>!1});function vO(){const t=Ct(Tr);return n=>{const e=t.get(hu);if(n!==e.components[0])return;const i=t.get(Yi),r=t.get(bO);1===t.get(ab)&&i.initialNavigation(),t.get(wO,null,Je.Optional)?.setUpPreloading(),t.get(sb,null,Je.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const bO=new Pe(Mu?"bootstrap done indicator":"",{factory:()=>new It}),ab=new Pe(Mu?"initial navigation":"",{providedIn:"root",factory:()=>1});function gz(){let t=[];return t=Mu?[{provide:nh,multi:!0,useFactory:()=>{const n=Ct(Yi);return()=>n.events.subscribe(e=>{console.group?.(`Router Event: ${e.constructor.name}`),console.log(function YY(t){if(!("type"in t))return`Unknown Router Event: ${t.constructor.name}`;switch(t.type){case 14:return`ActivationEnd(path: '${t.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${t.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${t.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${t.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state}, shouldActivate: ${t.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 2:return`NavigationCancel(id: ${t.id}, url: '${t.url}')`;case 16:return`NavigationSkipped(id: ${t.id}, url: '${t.url}')`;case 1:return`NavigationEnd(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${t.id}, url: '${t.url}', error: ${t.error})`;case 0:return`NavigationStart(id: ${t.id}, url: '${t.url}')`;case 6:return`ResolveEnd(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 5:return`ResolveStart(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 10:return`RouteConfigLoadEnd(path: ${t.route.path})`;case 9:return`RouteConfigLoadStart(path: ${t.route.path})`;case 4:return`RoutesRecognized(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 15:return`Scroll(anchor: '${t.anchor}', position: '${t.position?`${t.position[0]}, ${t.position[1]}`:null}')`}}(e)),console.log(e),console.groupEnd?.()})}}]:[],la(1,t)}const wO=new Pe(Mu?"router preloader":"");function yz(t){return la(0,[{provide:wO,useExisting:fz},{provide:_O,useExisting:t}])}const kd=!1,CO=new Pe(kd?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),vz=[By,{provide:pd,useClass:Lv},Yi,bd,{provide:Du,useFactory:function yO(t){return t.routerState.root},deps:[Yi]},ib,kd?{provide:ob,useValue:!0}:[]];function bz(){return new Wk("Router",Yi)}let DO=(()=>{class t{constructor(e){}static forRoot(e,i){return{ngModule:t,providers:[vz,kd&&i?.enableTracing?gz().\u0275providers:[],{provide:ku,multi:!0,useValue:e},{provide:CO,useFactory:Tz,deps:[[Yi,new Tc,new Sc]]},{provide:Op,useValue:i||{}},i?.useHash?{provide:Ha,useClass:EH}:{provide:Ha,useClass:_M},{provide:sb,useFactory:()=>{const t=Ct(U$),n=Ct(hn),e=Ct(Op),i=Ct(Ep),r=Ct(pd);return e.scrollOffset&&t.setOffset(e.scrollOffset),new gO(r,i,t,n,e)}},i?.preloadingStrategy?yz(i.preloadingStrategy).\u0275providers:[],{provide:Wk,multi:!0,useFactory:bz},i?.initialNavigation?Sz(i):[],[{provide:TO,useFactory:vO},{provide:qk,multi:!0,useExisting:TO}]]}}static forChild(e){return{ngModule:t,providers:[{provide:ku,multi:!0,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)(ee(CO,8))},t.\u0275mod=_i({type:t}),t.\u0275inj=oi({imports:[Qv]}),t})();function Tz(t){if(kd&&t)throw new U(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Sz(t){return["disabled"===t.initialNavigation?la(3,[{provide:Sh,multi:!0,useFactory:()=>{const n=Ct(Yi);return()=>{n.setUpLocationChangeListener()}}},{provide:ab,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?la(2,[{provide:ab,useValue:0},{provide:Sh,multi:!0,deps:[Tr],useFactory:n=>{const e=n.get(kH,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const r=n.get(Yi),s=n.get(bO);(function hz(t,n){t.events.pipe(Sn(e=>e instanceof aa||e instanceof _p||e instanceof Uv||e instanceof gp),Ie(e=>e instanceof aa||e instanceof gp?Er.COMPLETE:e instanceof _p&&(0===e.code||1===e.code)?Er.REDIRECTING:Er.FAILED),Sn(e=>e!==Er.REDIRECTING),To(1)).subscribe(()=>{n()})})(r,()=>{i(!0)}),n.get(Ep).afterPreactivation=()=>(i(!0),s.closed?qe(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const TO=new Pe(kd?"Router Initializer":"");var b=ue(861);class Bs{constructor(n="",e="",i="text",r="",s=""){this.propertyID="",this.propertyName="",this.propertyType="text",this.inputPlaceholder="",this.tooltip="",this.propertyID=n,this.propertyName=e,this.propertyType=i,this.inputPlaceholder=r,this.tooltip=s}}function SO(t,n){if(n.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Hs(t,n,e){SO(t,n),n.set(t,e)}function kO(t,n,e){if(!n.has(t))throw new TypeError("attempted to "+e+" private field on non-instance");return n.get(t)}function Gn(t,n,e){return function Mz(t,n,e){if(n.set)n.set.call(t,e);else{if(!n.writable)throw new TypeError("attempted to set read only private field");n.value=e}}(t,kO(t,n,"set"),e),e}function nn(t,n){return function Ez(t,n){return n.get?n.get.call(t):n.value}(t,kO(t,n,"get"))}function vi(t){var n,e,i,r=2;for(typeof Symbol<"u"&&(e=Symbol.asyncIterator,i=Symbol.iterator);r--;){if(e&&null!=(n=t[e]))return n.call(t);if(i&&null!=(n=t[i]))return new Ap(n.call(t));e="@@asyncIterator",i="@@iterator"}throw new TypeError("Object is not async iterable")}function Ap(t){function n(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var i=e.done;return Promise.resolve(e.value).then(function(r){return{value:r,done:i}})}return(Ap=function(i){this.s=i,this.n=i.next}).prototype={s:null,n:null,next:function(){return n(this.n.apply(this.s,arguments))},return:function(i){var r=this.s.return;return void 0===r?Promise.resolve({value:i,done:!0}):n(r.apply(this.s,arguments))},throw:function(i){var r=this.s.return;return void 0===r?Promise.reject(i):n(r.apply(this.s,arguments))}},new Ap(t)}class lb{constructor(n,e,i){this._id=n,this._name=e,this._term=i}get id(){return this._id}get name(){return this._name}get term(){return this._term}static deserialize(n){if("string"!=typeof n.id||"string"!=typeof n.name||"string"!=typeof n.term?.name)throw new Error("Invalid data");return new lb(n.id,n.name,n.term.name)}}class Rp{constructor(n,e,i,r,s){this._id=n,this._moduleId=e,this._type=i,this._contentId=r,this._pointsPossible=s}get id(){return this._id}get moduleId(){return this._moduleId}get type(){return this._type}get contentId(){return this._contentId}get pointsPossible(){return this._pointsPossible??0}static deserialize(n){if("string"!=typeof n.id||"string"!=typeof n.module_id||"string"!=typeof n.type||typeof n.content_id<"u"&&"string"!=typeof n.content_id||typeof n.content_details?.points_possible<"u"&&"number"!=typeof n.content_details?.points_possible)throw new Error("Invalid data");return new Rp(n.id,n.module_id,n.type,n.content_id,n.content_details?.points_possible)}}class ub{constructor(n,e,i,r){this._id=n,this._quizId=e,this._studentId=i,this._attempt=r}get id(){return this._id}get quizId(){return this._quizId}get studentId(){return this._studentId}get attempt(){return this._attempt}static deserialize(n){if("string"!=typeof n.id||"string"!=typeof n.quiz_id||"string"!=typeof n.user_id||"number"!=typeof n.attempt||"string"!=typeof n.workflow_state)throw new Error("Invalid data");return new ub(n.id,n.quiz_id,n.user_id,n.attempt-("untaken"==n.workflow_state?1:0))}}class Md{constructor(n,e,i){this._id=n,this._name=e,this._email=i}get id(){return this._id}get name(){return this._name}get email(){return this._email??""}static deserialize(n){if("string"!=typeof n.id||"string"!=typeof n.name||typeof n.email<"u"&&"string"!=typeof n.email)throw new Error("Invalid data");return new Md(n.id,n.name,n.email)}}class Eu{constructor(n,e,i){this._id=n,this._content=e,this._createdAt=i}get id(){return this._id}get content(){return this._content}get createdAt(){return this._createdAt}static deserialize(n){if("string"!=typeof n.id||"string"!=typeof n.comment||"string"!=typeof n.created_at)throw new Error("Invalid data");return new Eu(n.id,n.comment,new Date(n.created_at))}}function MO(t,n){this.v=t,this.k=n}function Ed(t){var n,e;function i(s,o){try{var a=t[s](o),l=a.value,u=l instanceof MO;Promise.resolve(u?l.v:l).then(function(c){if(u){var d="return"===s?"return":"next";if(!l.k||c.done)return i(d,c);c=t[d](c).value}r(a.done?"return":"normal",c)},function(c){i("throw",c)})}catch(c){r("throw",c)}}function r(s,o){switch(s){case"return":n.resolve({value:o,done:!0});break;case"throw":n.reject(o);break;default:n.resolve({value:o,done:!1})}(n=n.next)?i(n.key,n.arg):e=null}this._invoke=function(s,o){return new Promise(function(a,l){var u={key:s,arg:o,resolve:a,reject:l,next:null};e?e=e.next=u:(n=e=u,i(s,o))})},"function"!=typeof t.return&&(this.return=void 0)}Ed.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Ed.prototype.next=function(t){return this._invoke("next",t)},Ed.prototype.throw=function(t){return this._invoke("throw",t)},Ed.prototype.return=function(t){return this._invoke("return",t)};class zi{constructor(n,e,i){this.data=i(n.data),this.nextURL=this.extractNextURL(n),this.requestHandler=e,this.dataProcessor=i}extractNextURL(n){const e=n.headers.link;if(e)for(const i of e.split(","))if(i.endsWith('rel="next"')){const r=i.split(";")[0];return r?.substring(1,r.length-1)}}hasNextPage(){return null!=this.nextURL}fetchNextPage(){var n=this;return(0,b.Z)(function*(){if(!n.nextURL)return;const e=yield n.requestHandler(n.nextURL);n.data.push(...n.dataProcessor(e.data)),n.nextURL=n.extractNextURL(e)})()}generator(){var n=this;return function Iz(t){return function(){return new Ed(t.apply(this,arguments))}}(function*(){let e=0;for(;n.hasNextPage()||e!=n.data.length;){e==n.data.length&&(yield(t=n.fetchNextPage(),new MO(t,0)));const i=n.data[e++];if(!i)throw new Error("Index out of bound");yield i}var t})()}[Symbol.asyncIterator](){return this.generator()}}class Az{constructor(n,e,i){this.data=i(n.data),this.extractURLs(n),this.requestHandler=e,this.dataProcessor=i}extractURLs(n){const e=n.headers.link;if(this.prevURL=void 0,this.nextURL=void 0,e)for(const i of e.split(","))if(i.endsWith('rel="next"')){const r=i.split(";")[0];this.nextURL=r?.substring(1,r.length-1)}else if(i.endsWith('rel="prev"')){const r=i.split(";")[0];this.prevURL=r?.substring(1,r.length-1)}}hasPrevPage(){return null!=this.prevURL}prev(){var n=this;return(0,b.Z)(function*(){if(!n.prevURL)return;const e=yield n.requestHandler(n.prevURL);n.data=n.dataProcessor(e.data),n.extractURLs(e)})()}hasNextPage(){return null!=this.nextURL}next(){var n=this;return(0,b.Z)(function*(){if(!n.nextURL)return;const e=yield n.requestHandler(n.nextURL);n.data=n.dataProcessor(e.data),n.extractURLs(e)})()}*generator(){for(const n of this.data)yield n}[Symbol.iterator](){return this.generator()}}Math.pow(10,8);var EO=6e4,OO=36e5;function un(t,n){if(n.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+n.length+" present")}function Ii(t){if(null===t||!0===t||!1===t)return NaN;var n=Number(t);return isNaN(n)?n:n<0?Math.ceil(n):Math.floor(n)}function AO(t,n){var e;un(1,arguments);var i=Ii(null!==(e=n?.additionalDigits)&&void 0!==e?e:2);if(2!==i&&1!==i&&0!==i)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!=typeof t&&"[object String]"!==Object.prototype.toString.call(t))return new Date(NaN);var s,r=function Hz(t){var i,n={},e=t.split(xp.dateTimeDelimiter);if(e.length>2)return n;if(/:/.test(e[0])?i=e[0]:(n.date=e[0],i=e[1],xp.timeZoneDelimiter.test(n.date)&&(n.date=t.split(xp.timeZoneDelimiter)[0],i=t.substr(n.date.length,t.length))),i){var r=xp.timezone.exec(i);r?(n.time=i.replace(r[1],""),n.timezone=r[1]):n.time=i}return n}(t);if(r.date){var o=function $z(t,n){var e=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+n)+"})|(\\d{2}|[+-]\\d{"+(2+n)+"})$)"),i=t.match(e);if(!i)return{year:NaN,restDateString:""};var r=i[1]?parseInt(i[1]):null,s=i[2]?parseInt(i[2]):null;return{year:null===s?r:100*s,restDateString:t.slice((i[1]||i[2]).length)}}(r.date,i);s=function jz(t,n){if(null===n)return new Date(NaN);var e=t.match(Pz);if(!e)return new Date(NaN);var i=!!e[4],r=Od(e[1]),s=Od(e[2])-1,o=Od(e[3]),a=Od(e[4]),l=Od(e[5])-1;if(i)return function Zz(t,n,e){return n>=1&&n<=53&&e>=0&&e<=6}(0,a,l)?function zz(t,n,e){var i=new Date(0);i.setUTCFullYear(t,0,4);var s=7*(n-1)+e+1-(i.getUTCDay()||7);return i.setUTCDate(i.getUTCDate()+s),i}(n,a,l):new Date(NaN);var u=new Date(0);return function Wz(t,n,e){return n>=0&&n<=11&&e>=1&&e<=(qz[n]||(RO(t)?29:28))}(n,s,o)&&function Gz(t,n){return n>=1&&n<=(RO(t)?366:365)}(n,r)?(u.setUTCFullYear(n,s,Math.max(r,o)),u):new Date(NaN)}(o.restDateString,o.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);var u,a=s.getTime(),l=0;if(r.time&&(l=function Uz(t){var n=t.match(Vz);if(!n)return NaN;var e=cb(n[1]),i=cb(n[2]),r=cb(n[3]);return function Qz(t,n,e){return 24===t?0===n&&0===e:e>=0&&e<60&&n>=0&&n<60&&t>=0&&t<25}(e,i,r)?e*OO+i*EO+1e3*r:NaN}(r.time),isNaN(l)))return new Date(NaN);if(!r.timezone){var c=new Date(a+l),d=new Date(0);return d.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),d.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),d}return u=function Yz(t){if("Z"===t)return 0;var n=t.match(Bz);if(!n)return 0;var e="+"===n[1]?-1:1,i=parseInt(n[2]),r=n[3]&&parseInt(n[3])||0;return function Kz(t,n){return n>=0&&n<=59}(0,r)?e*(i*OO+r*EO):NaN}(r.timezone),isNaN(u)?new Date(NaN):new Date(a+l+u)}var xp={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Pz=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Vz=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Bz=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Od(t){return t?parseInt(t):1}function cb(t){return t&&parseFloat(t.replace(",","."))||0}var qz=[31,null,31,30,31,30,31,31,30,31,30,31];function RO(t){return t%400==0||t%4==0&&t%100!=0}function Id(t){return(Id="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(t)}function Zn(t){un(1,arguments);var n=Object.prototype.toString.call(t);return t instanceof Date||"object"===Id(t)&&"[object Date]"===n?new Date(t.getTime()):"number"==typeof t||"[object Number]"===n?new Date(t):(("string"==typeof t||"[object String]"===n)&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function kt(t,n){for(var e=t<0?"-":"",i=Math.abs(t).toString();i.length<n;)i="0"+i;return e+i}function Fp(t,n){var e,i;un(1,arguments);var r=Zn(t);if(isNaN(r.getTime()))throw new RangeError("Invalid time value");var s=String(null!==(e=n?.format)&&void 0!==e?e:"extended"),o=String(null!==(i=n?.representation)&&void 0!==i?i:"complete");if("extended"!==s&&"basic"!==s)throw new RangeError("format must be 'extended' or 'basic'");if("date"!==o&&"time"!==o&&"complete"!==o)throw new RangeError("representation must be 'date', 'time', or 'complete'");var a="",l="",u="extended"===s?"-":"",c="extended"===s?":":"";if("time"!==o){var d=kt(r.getDate(),2),f=kt(r.getMonth()+1,2),h=kt(r.getFullYear(),4);a="".concat(h).concat(u).concat(f).concat(u).concat(d)}if("date"!==o){var p=r.getTimezoneOffset();if(0!==p){var v=Math.abs(p),k=kt(Math.floor(v/60),2),I=kt(v%60,2);l="".concat(p<0?"+":"-").concat(k,":").concat(I)}else l="Z";var rt=""===a?"":"T",cn=[kt(r.getHours(),2),kt(r.getMinutes(),2),kt(r.getSeconds(),2)].join(c);a="".concat(a).concat(rt).concat(cn).concat(l)}return a}function Np(t,n){un(2,arguments);var e=Zn(t),i=Zn(n),r=e.getTime()-i.getTime();return r<0?-1:r>0?1:r}function xO(t,n){return function(){return t.apply(n,arguments)}}const{toString:FO}=Object.prototype,{getPrototypeOf:db}=Object,fb=(t=Object.create(null),n=>{const e=FO.call(n);return t[e]||(t[e]=e.slice(8,-1).toLowerCase())}),ko=t=>(t=t.toLowerCase(),n=>fb(n)===t),Lp=t=>n=>typeof n===t,{isArray:Ou}=Array,Ad=Lp("undefined");var t;const NO=ko("ArrayBuffer"),eq=Lp("string"),ua=Lp("function"),LO=Lp("number"),hb=t=>null!==t&&"object"==typeof t,Pp=t=>{if("object"!==fb(t))return!1;const n=db(t);return!(null!==n&&n!==Object.prototype&&null!==Object.getPrototypeOf(n)||Symbol.toStringTag in t||Symbol.iterator in t)},nq=ko("Date"),iq=ko("File"),rq=ko("Blob"),sq=ko("FileList"),lq=ko("URLSearchParams");function Rd(t,n,{allOwnKeys:e=!1}={}){if(null===t||typeof t>"u")return;let i,r;if("object"!=typeof t&&(t=[t]),Ou(t))for(i=0,r=t.length;i<r;i++)n.call(null,t[i],i,t);else{const s=e?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(i=0;i<o;i++)a=s[i],n.call(null,t[a],a,t)}}function PO(t,n){n=n.toLowerCase();const e=Object.keys(t);let r,i=e.length;for(;i-- >0;)if(r=e[i],n===r.toLowerCase())return r;return null}const VO=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,BO=t=>!Ad(t)&&t!==VO,_q=(t=>n=>t&&n instanceof t)(typeof Uint8Array<"u"&&db(Uint8Array)),vq=ko("HTMLFormElement"),HO=(({hasOwnProperty:t})=>(n,e)=>t.call(n,e))(Object.prototype),wq=ko("RegExp"),$O=(t,n)=>{const e=Object.getOwnPropertyDescriptors(t),i={};Rd(e,(r,s)=>{!1!==n(r,s,t)&&(i[s]=r)}),Object.defineProperties(t,i)},mb="abcdefghijklmnopqrstuvwxyz",jO="0123456789",UO={DIGIT:jO,ALPHA:mb,ALPHA_DIGIT:mb+mb.toUpperCase()+jO},W={isArray:Ou,isArrayBuffer:NO,isBuffer:function Jz(t){return null!==t&&!Ad(t)&&null!==t.constructor&&!Ad(t.constructor)&&ua(t.constructor.isBuffer)&&t.constructor.isBuffer(t)},isFormData:t=>{const n="[object FormData]";return t&&("function"==typeof FormData&&t instanceof FormData||FO.call(t)===n||ua(t.toString)&&t.toString()===n)},isArrayBufferView:function Xz(t){let n;return n=typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&NO(t.buffer),n},isString:eq,isNumber:LO,isBoolean:t=>!0===t||!1===t,isObject:hb,isPlainObject:Pp,isUndefined:Ad,isDate:nq,isFile:iq,isBlob:rq,isRegExp:wq,isFunction:ua,isStream:t=>hb(t)&&ua(t.pipe),isURLSearchParams:lq,isTypedArray:_q,isFileList:sq,forEach:Rd,merge:function pb(){const{caseless:t}=BO(this)&&this||{},n={},e=(i,r)=>{const s=t&&PO(n,r)||r;n[s]=Pp(n[s])&&Pp(i)?pb(n[s],i):Pp(i)?pb({},i):Ou(i)?i.slice():i};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&Rd(arguments[i],e);return n},extend:(t,n,e,{allOwnKeys:i}={})=>(Rd(n,(r,s)=>{t[s]=e&&ua(r)?xO(r,e):r},{allOwnKeys:i}),t),trim:t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:t=>(65279===t.charCodeAt(0)&&(t=t.slice(1)),t),inherits:(t,n,e,i)=>{t.prototype=Object.create(n.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:n.prototype}),e&&Object.assign(t.prototype,e)},toFlatObject:(t,n,e,i)=>{let r,s,o;const a={};if(n=n||{},null==t)return n;do{for(r=Object.getOwnPropertyNames(t),s=r.length;s-- >0;)o=r[s],(!i||i(o,t,n))&&!a[o]&&(n[o]=t[o],a[o]=!0);t=!1!==e&&db(t)}while(t&&(!e||e(t,n))&&t!==Object.prototype);return n},kindOf:fb,kindOfTest:ko,endsWith:(t,n,e)=>{t=String(t),(void 0===e||e>t.length)&&(e=t.length);const i=t.indexOf(n,e-=n.length);return-1!==i&&i===e},toArray:t=>{if(!t)return null;if(Ou(t))return t;let n=t.length;if(!LO(n))return null;const e=new Array(n);for(;n-- >0;)e[n]=t[n];return e},forEachEntry:(t,n)=>{const i=(t&&t[Symbol.iterator]).call(t);let r;for(;(r=i.next())&&!r.done;){const s=r.value;n.call(t,s[0],s[1])}},matchAll:(t,n)=>{let e;const i=[];for(;null!==(e=t.exec(n));)i.push(e);return i},isHTMLForm:vq,hasOwnProperty:HO,hasOwnProp:HO,reduceDescriptors:$O,freezeMethods:t=>{$O(t,(n,e)=>{if(ua(t)&&-1!==["arguments","caller","callee"].indexOf(e))return!1;if(ua(t[e])){if(n.enumerable=!1,"writable"in n)return void(n.writable=!1);n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+e+"'")})}})},toObjectSet:(t,n)=>{const e={},i=r=>{r.forEach(s=>{e[s]=!0})};return Ou(t)?i(t):i(String(t).split(n)),e},toCamelCase:t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,i,r){return i.toUpperCase()+r}),noop:()=>{},toFiniteNumber:(t,n)=>(t=+t,Number.isFinite(t)?t:n),findKey:PO,global:VO,isContextDefined:BO,ALPHABET:UO,generateString:(t=16,n=UO.ALPHA_DIGIT)=>{let e="";const{length:i}=n;for(;t--;)e+=n[Math.random()*i|0];return e},isSpecCompliantForm:function Mq(t){return!!(t&&ua(t.append)&&"FormData"===t[Symbol.toStringTag]&&t[Symbol.iterator])},toJSONObject:t=>{const n=new Array(10),e=(i,r)=>{if(hb(i)){if(n.indexOf(i)>=0)return;if(!("toJSON"in i)){n[r]=i;const s=Ou(i)?[]:{};return Rd(i,(o,a)=>{const l=e(o,r+1);!Ad(l)&&(s[a]=l)}),n[r]=void 0,s}}return i};return e(t,0)}};function Iu(t,n,e,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=t,this.name="AxiosError",n&&(this.code=n),e&&(this.config=e),i&&(this.request=i),r&&(this.response=r)}W.inherits(Iu,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:W.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const YO=Iu.prototype,zO={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{zO[t]={value:t}}),Object.defineProperties(Iu,zO),Object.defineProperty(YO,"isAxiosError",{value:!0}),Iu.from=(t,n,e,i,r,s)=>{const o=Object.create(YO);return W.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>"isAxiosError"!==a),Iu.call(o,t.message,n,e,i,r),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const rn=Iu;function _b(t){return W.isPlainObject(t)||W.isArray(t)}function WO(t){return W.endsWith(t,"[]")?t.slice(0,-2):t}function GO(t,n,e){return t?t.concat(n).map(function(r,s){return r=WO(r),!e&&s?"["+r+"]":r}).join(e?".":""):n}const Oq=W.toFlatObject(W,{},null,function(n){return/^is[A-Z]/.test(n)}),Vp=function Iq(t,n,e){if(!W.isObject(t))throw new TypeError("target must be an object");n=n||new FormData;const i=(e=W.toFlatObject(e,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,k){return!W.isUndefined(k[v])})).metaTokens,r=e.visitor||c,s=e.dots,o=e.indexes,l=(e.Blob||typeof Blob<"u"&&Blob)&&W.isSpecCompliantForm(n);if(!W.isFunction(r))throw new TypeError("visitor must be a function");function u(p){if(null===p)return"";if(W.isDate(p))return p.toISOString();if(!l&&W.isBlob(p))throw new rn("Blob is not supported. Use a Buffer instead.");return W.isArrayBuffer(p)||W.isTypedArray(p)?l&&"function"==typeof Blob?new Blob([p]):Buffer.from(p):p}function c(p,v,k){let I=p;if(p&&!k&&"object"==typeof p)if(W.endsWith(v,"{}"))v=i?v:v.slice(0,-2),p=JSON.stringify(p);else if(W.isArray(p)&&function Eq(t){return W.isArray(t)&&!t.some(_b)}(p)||(W.isFileList(p)||W.endsWith(v,"[]"))&&(I=W.toArray(p)))return v=WO(v),I.forEach(function(P,oe){!W.isUndefined(P)&&null!==P&&n.append(!0===o?GO([v],oe,s):null===o?v:v+"[]",u(P))}),!1;return!!_b(p)||(n.append(GO(k,v,s),u(p)),!1)}const d=[],f=Object.assign(Oq,{defaultVisitor:c,convertValue:u,isVisitable:_b});if(!W.isObject(t))throw new TypeError("data must be an object");return function h(p,v){if(!W.isUndefined(p)){if(-1!==d.indexOf(p))throw Error("Circular reference detected in "+v.join("."));d.push(p),W.forEach(p,function(I,z){!0===(!(W.isUndefined(I)||null===I)&&r.call(n,I,W.isString(z)?z.trim():z,v,f))&&h(I,v?v.concat(z):[z])}),d.pop()}}(t),n};function ZO(t){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return n[i]})}function QO(t,n){this._pairs=[],t&&Vp(t,this,n)}const KO=QO.prototype;KO.append=function(n,e){this._pairs.push([n,e])},KO.toString=function(n){const e=n?function(i){return n.call(this,i,ZO)}:ZO;return this._pairs.map(function(r){return e(r[0])+"="+e(r[1])},"").join("&")};const JO=QO;function Aq(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function XO(t,n,e){if(!n)return t;const i=e&&e.encode||Aq,r=e&&e.serialize;let s;if(s=r?r(n,e):W.isURLSearchParams(n)?n.toString():new JO(n,e).toString(i),s){const o=t.indexOf("#");-1!==o&&(t=t.slice(0,o)),t+=(-1===t.indexOf("?")?"?":"&")+s}return t}const eI=class Rq{constructor(){this.handlers=[]}use(n,e,i){return this.handlers.push({fulfilled:n,rejected:e,synchronous:!!i&&i.synchronous,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){W.forEach(this.handlers,function(i){null!==i&&n(i)})}},tI={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},xq=typeof URLSearchParams<"u"?URLSearchParams:JO,Fq=typeof FormData<"u"?FormData:null,Nq=typeof Blob<"u"?Blob:null,Lq=(()=>{let t;return(!(typeof navigator<"u")||"ReactNative"!==(t=navigator.product)&&"NativeScript"!==t&&"NS"!==t)&&typeof window<"u"&&typeof document<"u"})(),$s={isBrowser:!0,classes:{URLSearchParams:xq,FormData:Fq,Blob:Nq},isStandardBrowserEnv:Lq,isStandardBrowserWebWorkerEnv:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,protocols:["http","https","file","blob","url","data"]},nI=function $q(t){function n(e,i,r,s){let o=e[s++];const a=Number.isFinite(+o),l=s>=e.length;return o=!o&&W.isArray(r)?r.length:o,l?(r[o]=W.hasOwnProp(r,o)?[r[o],i]:i,!a):((!r[o]||!W.isObject(r[o]))&&(r[o]=[]),n(e,i,r[o],s)&&W.isArray(r[o])&&(r[o]=function Hq(t){const n={},e=Object.keys(t);let i;const r=e.length;let s;for(i=0;i<r;i++)s=e[i],n[s]=t[s];return n}(r[o])),!a)}if(W.isFormData(t)&&W.isFunction(t.entries)){const e={};return W.forEachEntry(t,(i,r)=>{n(function Bq(t){return W.matchAll(/\w+|\[(\w*)]/g,t).map(n=>"[]"===n[0]?"":n[1]||n[0])}(i),r,e,0)}),e}return null},jq={"Content-Type":void 0},Bp={transitional:tI,adapter:["xhr","http"],transformRequest:[function(n,e){const i=e.getContentType()||"",r=i.indexOf("application/json")>-1,s=W.isObject(n);if(s&&W.isHTMLForm(n)&&(n=new FormData(n)),W.isFormData(n))return r&&r?JSON.stringify(nI(n)):n;if(W.isArrayBuffer(n)||W.isBuffer(n)||W.isStream(n)||W.isFile(n)||W.isBlob(n))return n;if(W.isArrayBufferView(n))return n.buffer;if(W.isURLSearchParams(n))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let a;if(s){if(i.indexOf("application/x-www-form-urlencoded")>-1)return function Vq(t,n){return Vp(t,new $s.classes.URLSearchParams,Object.assign({visitor:function(e,i,r,s){return $s.isNode&&W.isBuffer(e)?(this.append(i,e.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},n))}(n,this.formSerializer).toString();if((a=W.isFileList(n))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Vp(a?{"files[]":n}:n,l&&new l,this.formSerializer)}}return s||r?(e.setContentType("application/json",!1),function Uq(t,n,e){if(W.isString(t))try{return(n||JSON.parse)(t),W.trim(t)}catch(i){if("SyntaxError"!==i.name)throw i}return(e||JSON.stringify)(t)}(n)):n}],transformResponse:[function(n){const e=this.transitional||Bp.transitional,i=e&&e.forcedJSONParsing,r="json"===this.responseType;if(n&&W.isString(n)&&(i&&!this.responseType||r)){const o=!(e&&e.silentJSONParsing)&&r;try{return JSON.parse(n)}catch(a){if(o)throw"SyntaxError"===a.name?rn.from(a,rn.ERR_BAD_RESPONSE,this,null,this.response):a}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:$s.classes.FormData,Blob:$s.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};W.forEach(["delete","get","head"],function(n){Bp.headers[n]={}}),W.forEach(["post","put","patch"],function(n){Bp.headers[n]=W.merge(jq)});const gb=Bp,Yq=W.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),iI=Symbol("internals");function xd(t){return t&&String(t).trim().toLowerCase()}function Hp(t){return!1===t||null==t?t:W.isArray(t)?t.map(Hp):String(t)}function yb(t,n,e,i,r){if(W.isFunction(i))return i.call(this,n,e);if(r&&(n=e),W.isString(n)){if(W.isString(i))return-1!==n.indexOf(i);if(W.isRegExp(i))return i.test(n)}}class $p{constructor(n){n&&this.set(n)}set(n,e,i){const r=this;function s(a,l,u){const c=xd(l);if(!c)throw new Error("header name must be a non-empty string");const d=W.findKey(r,c);(!d||void 0===r[d]||!0===u||void 0===u&&!1!==r[d])&&(r[d||l]=Hp(a))}const o=(a,l)=>W.forEach(a,(u,c)=>s(u,c,l));return W.isPlainObject(n)||n instanceof this.constructor?o(n,e):W.isString(n)&&(n=n.trim())&&!(t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim()))(n)?o((t=>{const n={};let e,i,r;return t&&t.split("\n").forEach(function(o){r=o.indexOf(":"),e=o.substring(0,r).trim().toLowerCase(),i=o.substring(r+1).trim(),!(!e||n[e]&&Yq[e])&&("set-cookie"===e?n[e]?n[e].push(i):n[e]=[i]:n[e]=n[e]?n[e]+", "+i:i)}),n})(n),e):null!=n&&s(e,n,i),this}get(n,e){if(n=xd(n)){const i=W.findKey(this,n);if(i){const r=this[i];if(!e)return r;if(!0===e)return function qq(t){const n=Object.create(null),e=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=e.exec(t);)n[i[1]]=i[2];return n}(r);if(W.isFunction(e))return e.call(this,r,i);if(W.isRegExp(e))return e.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,e){if(n=xd(n)){const i=W.findKey(this,n);return!(!i||void 0===this[i]||e&&!yb(0,this[i],i,e))}return!1}delete(n,e){const i=this;let r=!1;function s(o){if(o=xd(o)){const a=W.findKey(i,o);a&&(!e||yb(0,i[a],a,e))&&(delete i[a],r=!0)}}return W.isArray(n)?n.forEach(s):s(n),r}clear(n){const e=Object.keys(this);let i=e.length,r=!1;for(;i--;){const s=e[i];(!n||yb(0,this[s],s,n,!0))&&(delete this[s],r=!0)}return r}normalize(n){const e=this,i={};return W.forEach(this,(r,s)=>{const o=W.findKey(i,s);if(o)return e[o]=Hp(r),void delete e[s];const a=n?function Gq(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,e,i)=>e.toUpperCase()+i)}(s):String(s).trim();a!==s&&delete e[s],e[a]=Hp(r),i[a]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const e=Object.create(null);return W.forEach(this,(i,r)=>{null!=i&&!1!==i&&(e[r]=n&&W.isArray(i)?i.join(", "):i)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,e])=>n+": "+e).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...e){const i=new this(n);return e.forEach(r=>i.set(r)),i}static accessor(n){const i=(this[iI]=this[iI]={accessors:{}}).accessors,r=this.prototype;function s(o){const a=xd(o);i[a]||(function Zq(t,n){const e=W.toCamelCase(" "+n);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+e,{value:function(r,s,o){return this[i].call(this,n,r,s,o)},configurable:!0})})}(r,o),i[a]=!0)}return W.isArray(n)?n.forEach(s):s(n),this}}$p.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),W.freezeMethods($p.prototype),W.freezeMethods($p);const Mo=$p;function vb(t,n){const e=this||gb,i=n||e,r=Mo.from(i.headers);let s=i.data;return W.forEach(t,function(a){s=a.call(e,s,r.normalize(),n?n.status:void 0)}),r.normalize(),s}function rI(t){return!(!t||!t.__CANCEL__)}function sI(t,n,e){rn.call(this,t??"canceled",rn.ERR_CANCELED,n,e),this.name="CanceledError"}W.inherits(sI,rn,{__CANCEL__:!0});const jp=sI,Kq=$s.isStandardBrowserEnv?{write:function(e,i,r,s,o,a){const l=[];l.push(e+"="+encodeURIComponent(i)),W.isNumber(r)&&l.push("expires="+new Date(r).toGMTString()),W.isString(s)&&l.push("path="+s),W.isString(o)&&l.push("domain="+o),!0===a&&l.push("secure"),document.cookie=l.join("; ")},read:function(e){const i=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function oI(t,n){return t&&!function Jq(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}(n)?function Xq(t,n){return n?t.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):t}(t,n):n}const eW=$s.isStandardBrowserEnv?function(){const n=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a");let i;function r(s){let o=s;return n&&(e.setAttribute("href",o),o=e.href),e.setAttribute("href",o),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:"/"===e.pathname.charAt(0)?e.pathname:"/"+e.pathname}}return i=r(window.location.href),function(o){const a=W.isString(o)?r(o):o;return a.protocol===i.protocol&&a.host===i.host}}():function(){return!0},iW=function nW(t,n){t=t||10;const e=new Array(t),i=new Array(t);let o,r=0,s=0;return n=void 0!==n?n:1e3,function(l){const u=Date.now(),c=i[s];o||(o=u),e[r]=l,i[r]=u;let d=s,f=0;for(;d!==r;)f+=e[d++],d%=t;if(r=(r+1)%t,r===s&&(s=(s+1)%t),u-o<n)return;const h=c&&u-c;return h?Math.round(1e3*f/h):void 0}};function aI(t,n){let e=0;const i=iW(50,250);return r=>{const s=r.loaded,o=r.lengthComputable?r.total:void 0,a=s-e,l=i(a);e=s;const c={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&s<=o?(o-s)/l:void 0,event:r};c[n?"download":"upload"]=!0,t(c)}}const Up={http:null,xhr:typeof XMLHttpRequest<"u"&&function(t){return new Promise(function(e,i){let r=t.data;const s=Mo.from(t.headers).normalize(),o=t.responseType;let a;function l(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}W.isFormData(r)&&($s.isStandardBrowserEnv||$s.isStandardBrowserWebWorkerEnv)&&s.setContentType(!1);let u=new XMLHttpRequest;if(t.auth){const h=t.auth.username||"",p=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(h+":"+p))}const c=oI(t.baseURL,t.url);function d(){if(!u)return;const h=Mo.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders());(function Qq(t,n,e){const i=e.config.validateStatus;e.status&&i&&!i(e.status)?n(new rn("Request failed with status code "+e.status,[rn.ERR_BAD_REQUEST,rn.ERR_BAD_RESPONSE][Math.floor(e.status/100)-4],e.config,e.request,e)):t(e)})(function(I){e(I),l()},function(I){i(I),l()},{data:o&&"text"!==o&&"json"!==o?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:h,config:t,request:u}),u=null}if(u.open(t.method.toUpperCase(),XO(c,t.params,t.paramsSerializer),!0),u.timeout=t.timeout,"onloadend"in u?u.onloadend=d:u.onreadystatechange=function(){!u||4!==u.readyState||0===u.status&&(!u.responseURL||0!==u.responseURL.indexOf("file:"))||setTimeout(d)},u.onabort=function(){u&&(i(new rn("Request aborted",rn.ECONNABORTED,t,u)),u=null)},u.onerror=function(){i(new rn("Network Error",rn.ERR_NETWORK,t,u)),u=null},u.ontimeout=function(){let p=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";t.timeoutErrorMessage&&(p=t.timeoutErrorMessage),i(new rn(p,(t.transitional||tI).clarifyTimeoutError?rn.ETIMEDOUT:rn.ECONNABORTED,t,u)),u=null},$s.isStandardBrowserEnv){const h=(t.withCredentials||eW(c))&&t.xsrfCookieName&&Kq.read(t.xsrfCookieName);h&&s.set(t.xsrfHeaderName,h)}void 0===r&&s.setContentType(null),"setRequestHeader"in u&&W.forEach(s.toJSON(),function(p,v){u.setRequestHeader(v,p)}),W.isUndefined(t.withCredentials)||(u.withCredentials=!!t.withCredentials),o&&"json"!==o&&(u.responseType=t.responseType),"function"==typeof t.onDownloadProgress&&u.addEventListener("progress",aI(t.onDownloadProgress,!0)),"function"==typeof t.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",aI(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=h=>{u&&(i(!h||h.type?new jp(null,t,u):h),u.abort(),u=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));const f=function tW(t){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return n&&n[1]||""}(c);f&&-1===$s.protocols.indexOf(f)?i(new rn("Unsupported protocol "+f+":",rn.ERR_BAD_REQUEST,t)):u.send(r||null)})}};W.forEach(Up,(t,n)=>{if(t){try{Object.defineProperty(t,"name",{value:n})}catch{}Object.defineProperty(t,"adapterName",{value:n})}});const rW={getAdapter:t=>{t=W.isArray(t)?t:[t];const{length:n}=t;let e,i;for(let r=0;r<n&&(e=t[r],!(i=W.isString(e)?Up[e.toLowerCase()]:e));r++);if(!i)throw!1===i?new rn(`Adapter ${e} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(W.hasOwnProp(Up,e)?`Adapter '${e}' is not available in the build`:`Unknown adapter '${e}'`);if(!W.isFunction(i))throw new TypeError("adapter is not a function");return i},adapters:Up};function bb(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new jp(null,t)}function lI(t){return bb(t),t.headers=Mo.from(t.headers),t.data=vb.call(t,t.transformRequest),-1!==["post","put","patch"].indexOf(t.method)&&t.headers.setContentType("application/x-www-form-urlencoded",!1),rW.getAdapter(t.adapter||gb.adapter)(t).then(function(i){return bb(t),i.data=vb.call(t,t.transformResponse,i),i.headers=Mo.from(i.headers),i},function(i){return rI(i)||(bb(t),i&&i.response&&(i.response.data=vb.call(t,t.transformResponse,i.response),i.response.headers=Mo.from(i.response.headers))),Promise.reject(i)})}const uI=t=>t instanceof Mo?t.toJSON():t;function Au(t,n){n=n||{};const e={};function i(u,c,d){return W.isPlainObject(u)&&W.isPlainObject(c)?W.merge.call({caseless:d},u,c):W.isPlainObject(c)?W.merge({},c):W.isArray(c)?c.slice():c}function r(u,c,d){return W.isUndefined(c)?W.isUndefined(u)?void 0:i(void 0,u,d):i(u,c,d)}function s(u,c){if(!W.isUndefined(c))return i(void 0,c)}function o(u,c){return W.isUndefined(c)?W.isUndefined(u)?void 0:i(void 0,u):i(void 0,c)}function a(u,c,d){return d in n?i(u,c):d in t?i(void 0,u):void 0}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,c)=>r(uI(u),uI(c),!0)};return W.forEach(Object.keys(t).concat(Object.keys(n)),function(c){const d=l[c]||r,f=d(t[c],n[c],c);W.isUndefined(f)&&d!==a||(e[c]=f)}),e}const cI="1.3.5",wb={};["object","boolean","number","function","string","symbol"].forEach((t,n)=>{wb[t]=function(i){return typeof i===t||"a"+(n<1?"n ":" ")+t}});const dI={};wb.transitional=function(n,e,i){function r(s,o){return"[Axios v"+cI+"] Transitional option '"+s+"'"+o+(i?". "+i:"")}return(s,o,a)=>{if(!1===n)throw new rn(r(o," has been removed"+(e?" in "+e:"")),rn.ERR_DEPRECATED);return e&&!dI[o]&&(dI[o]=!0,console.warn(r(o," has been deprecated since v"+e+" and will be removed in the near future"))),!n||n(s,o,a)}};const Cb={assertOptions:function sW(t,n,e){if("object"!=typeof t)throw new rn("options must be an object",rn.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let r=i.length;for(;r-- >0;){const s=i[r],o=n[s];if(o){const a=t[s],l=void 0===a||o(a,s,t);if(!0!==l)throw new rn("option "+s+" must be "+l,rn.ERR_BAD_OPTION_VALUE)}else if(!0!==e)throw new rn("Unknown option "+s,rn.ERR_BAD_OPTION)}},validators:wb},ca=Cb.validators;class Yp{constructor(n){this.defaults=n,this.interceptors={request:new eI,response:new eI}}request(n,e){"string"==typeof n?(e=e||{}).url=n:e=n||{},e=Au(this.defaults,e);const{transitional:i,paramsSerializer:r,headers:s}=e;let o;void 0!==i&&Cb.assertOptions(i,{silentJSONParsing:ca.transitional(ca.boolean),forcedJSONParsing:ca.transitional(ca.boolean),clarifyTimeoutError:ca.transitional(ca.boolean)},!1),null!=r&&(W.isFunction(r)?e.paramsSerializer={serialize:r}:Cb.assertOptions(r,{encode:ca.function,serialize:ca.function},!0)),e.method=(e.method||this.defaults.method||"get").toLowerCase(),o=s&&W.merge(s.common,s[e.method]),o&&W.forEach(["delete","get","head","post","put","patch","common"],p=>{delete s[p]}),e.headers=Mo.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(v){"function"==typeof v.runWhen&&!1===v.runWhen(e)||(l=l&&v.synchronous,a.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let c,f,d=0;if(!l){const p=[lI.bind(this),void 0];for(p.unshift.apply(p,a),p.push.apply(p,u),f=p.length,c=Promise.resolve(e);d<f;)c=c.then(p[d++],p[d++]);return c}f=a.length;let h=e;for(d=0;d<f;){const p=a[d++],v=a[d++];try{h=p(h)}catch(k){v.call(this,k);break}}try{c=lI.call(this,h)}catch(p){return Promise.reject(p)}for(d=0,f=u.length;d<f;)c=c.then(u[d++],u[d++]);return c}getUri(n){return XO(oI((n=Au(this.defaults,n)).baseURL,n.url),n.params,n.paramsSerializer)}}W.forEach(["delete","get","head","options"],function(n){Yp.prototype[n]=function(e,i){return this.request(Au(i||{},{method:n,url:e,data:(i||{}).data}))}}),W.forEach(["post","put","patch"],function(n){function e(i){return function(s,o,a){return this.request(Au(a||{},{method:n,headers:i?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Yp.prototype[n]=e(),Yp.prototype[n+"Form"]=e(!0)});const zp=Yp;class Db{constructor(n){if("function"!=typeof n)throw new TypeError("executor must be a function.");let e;this.promise=new Promise(function(s){e=s});const i=this;this.promise.then(r=>{if(!i._listeners)return;let s=i._listeners.length;for(;s-- >0;)i._listeners[s](r);i._listeners=null}),this.promise.then=r=>{let s;const o=new Promise(a=>{i.subscribe(a),s=a}).then(r);return o.cancel=function(){i.unsubscribe(s)},o},n(function(s,o,a){i.reason||(i.reason=new jp(s,o,a),e(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){this.reason?n(this.reason):this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const e=this._listeners.indexOf(n);-1!==e&&this._listeners.splice(e,1)}static source(){let n;return{token:new Db(function(r){n=r}),cancel:n}}}const oW=Db,Tb={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Tb).forEach(([t,n])=>{Tb[n]=t});const uW=Tb,di=function fI(t){const n=new zp(t),e=xO(zp.prototype.request,n);return W.extend(e,zp.prototype,n,{allOwnKeys:!0}),W.extend(e,n,null,{allOwnKeys:!0}),e.create=function(r){return fI(Au(t,r))},e}(gb);di.Axios=zp,di.CanceledError=jp,di.CancelToken=oW,di.isCancel=rI,di.VERSION=cI,di.toFormData=Vp,di.AxiosError=rn,di.Cancel=di.CanceledError,di.all=function(n){return Promise.all(n)},di.spread=function aW(t){return function(e){return t.apply(null,e)}},di.isAxiosError=function lW(t){return W.isObject(t)&&!0===t.isAxiosError},di.mergeConfig=Au,di.AxiosHeaders=Mo,di.formToJSON=t=>nI(W.isHTMLForm(t)?new FormData(t):t),di.HttpStatusCode=uW,di.default=di;const cW=di,dW=["head","options","put","post","patch","delete","get","request"];function qp(t){if(null==t)return!1;if("boolean"==typeof t.isAxiosError&&t.isAxiosError){if(!t.response)return!0;const e=t.response.status;return null==e||e<400||e>=500}return!0}class Sb{}class fW{static getAxiosService(){const n=window.axiosProxy;return n?new Proxy({},{get(e,i){if("symbol"!=typeof i&&dW.includes(i))return(...r)=>n(i,...r)}}):cW}}class kb{constructor(n,e,i,r){this._id=n,this._name=e,this._email=i,this._avatarURL=r}get id(){return this._id}get name(){return this._name}get email(){return this._email??""}get avatarURL(){return this._avatarURL??""}static deserialize(n){if("string"!=typeof n.id||"string"!=typeof n.name||typeof n.email<"u"&&"string"!=typeof n.email||typeof n.avatar_url<"u"&&"string"!=typeof n.avatar_url)throw new Error("Invalid data");return new kb(n.id,n.name,n.email,n.avatar_url)}}class Wp{static convertAsyncIterableToList(n){return(0,b.Z)(function*(){const e=[];var s,i=!1,r=!1;try{for(var a,o=vi(n);i=!(a=yield o.next()).done;i=!1)e.push(a.value)}catch(l){r=!0,s=l}finally{try{i&&null!=o.return&&(yield o.return())}finally{if(r)throw s}}return e})()}}class Gp{constructor(n,e,i,r){this._id=n,this._title=e,this._assignmentId=i,this._pointsPossible=r}get id(){return this._id}get title(){return this._title}get assignmentId(){return this._assignmentId}get pointsPossible(){return this._pointsPossible}static deserialize(n){if("string"!=typeof n.id||"string"!=typeof n.title||"string"!=typeof n.assignment_id||"number"!=typeof n.points_possible)throw new Error("Invalid data");return new Gp(n.id,n.title,n.assignment_id,n.points_possible)}}class Mb{constructor(n,e,i,r){this._id=n,this._title=e,this._studentIds=i,this._lockAt=r}get id(){return this._id}get title(){return this._title}get studentIds(){return this._studentIds}get lockAt(){return this._lockAt}static deserialize(n){if("string"!=typeof n.id||"string"!=typeof n.title||"object"!=typeof n.student_ids||typeof n.lock_at<"u"&&"string"!=typeof n.lock_at||!Array.isArray(n.student_ids))throw new Error("Invalid data");return new Mb(n.id,n.title,n.student_ids,n.lock_at?AO(n.lock_at):void 0)}}class Eb{constructor(n,e){this._id=n,this._name=e}get id(){return this._id}get name(){return this._name}static deserialize(n){if("string"!=typeof n.id||"string"!=typeof n.name)throw new Error("Invalid data");return new Eb(n.id,n.name)}}class Ob{constructor(n,e){this._id=n,this._name=e}get id(){return this._id}get name(){return this._name}static deserialize(n){if("string"!=typeof n.id||"string"!=typeof n.name)throw new Error("Invalid data");return new Ob(n.id,n.name)}}class Ib{constructor(n,e){this._id=n,this._workflowState=e}get id(){return this._id}get workflowState(){return this._workflowState}static deserialize(n){if("string"!=typeof n.id||"string"!=typeof n.workflow_state)throw new Error("Invalid data");return new Ib(n.id,n.workflow_state)}}class Zp{static execute(n,e=function(){var o=(0,b.Z)(function*(a,l){return null==l});return function(a,l){return o.apply(this,arguments)}}(),i=5,r=250,s=2){return(0,b.Z)(function*(){let o=0,a=r;for(;;){let l,u;try{l=yield n()}catch(c){u=c}if(yield e(l,u)){if(null!=u)throw u;return l}if(!(o<i))throw u??new Error("Result of exponential backoff execution does not pass the checker");o++,console.log(`Retrying... wait for ${a} ms`),yield new Promise(c=>setTimeout(c,a)),a*=s}})()}}let An=(()=>{var t=new WeakMap,n=new WeakMap;class e{constructor(r){Hs(this,t,{writable:!0,value:void 0}),Hs(this,n,{writable:!0,value:void 0}),this.axiosService=r}hasCredentialConfigured(){return null!=nn(this,t)&&null!=nn(this,n)}configureCredential(r,s){var o=this;return(0,b.Z)(function*(){Gn(o,t,r),Gn(o,n,s);try{yield o.getUserInformation("self")}catch(a){return a}})()}clearCredential(){var r=this;return(0,b.Z)(function*(){Gn(r,t,void 0),Gn(r,n,void 0)})()}rawAPIRequest(r,s){var o=this;return(0,b.Z)(function*(){const a=function(){var l=(0,b.Z)(function*(){return yield o.axiosService.request({...s,url:nn(o,t)+r,headers:{...s?.headers,Accept:"application/json+canvas-string-ids",Authorization:"Bearer "+nn(o,n)}})});return function(){return l.apply(this,arguments)}}();return yield Zp.execute(a,function(){var l=(0,b.Z)(function*(u,c){return!qp(c)});return function(u,c){return l.apply(this,arguments)}}())})()}apiRequest(r,s){var o=this;return(0,b.Z)(function*(){return(yield o.rawAPIRequest(r,s)).data})()}paginatedRequestHandler(r){var s=this;return(0,b.Z)(function*(){const o=function(){var a=(0,b.Z)(function*(){return yield s.axiosService.request({url:r,headers:{Accept:"application/json+canvas-string-ids",Authorization:"Bearer "+nn(s,n)}})});return function(){return a.apply(this,arguments)}}();return yield Zp.execute(o,function(){var a=(0,b.Z)(function*(l,u){return!qp(u)});return function(l,u){return a.apply(this,arguments)}}())})()}safeGuardForAssignment(r,s){var o=this;return(0,b.Z)(function*(){const a=yield o.apiRequest(`/api/v1/courses/${r}/assignments/${s}`);if(!a.name.includes("Token ATM")||a.id!=s)throw new Error("Safe guard for assignment is violated!")})()}safeGuardForQuiz(r,s){var o=this;return(0,b.Z)(function*(){const a=yield o.apiRequest(`/api/v1/courses/${r}/quizzes/${s}`);if(!a.title.includes("Token ATM")||a.id!=s)throw new Error("Safe guard for quiz is violated!")})()}safeGuardForAssignmentGroup(r,s){var o=this;return(0,b.Z)(function*(){const a=yield o.apiRequest(`/api/v1/courses/${r}/assignment_groups/${s}`);if(!a.name.includes("Token ATM")||a.id!=s)throw new Error("Safe guard for assignment group is violated!")})()}safeGuardForModule(r,s){var o=this;return(0,b.Z)(function*(){const a=yield o.apiRequest(`/api/v1/courses/${r}/modules/${s}`);if(!a.name.includes("Token ATM")||a.id!=s)throw new Error("Safe guard for module is violated!")})()}safeGuardForPage(r,s){var o=this;return(0,b.Z)(function*(){const a=yield o.apiRequest(`/api/v1/courses/${r}/pages/${s}`);if(!a.title.includes("Token ATM")||a.page_id!=s)throw new Error("Safe guard for page is violated!")})()}getCourses(r="teacher",s="active"){var o=this;return(0,b.Z)(function*(){const a=yield o.rawAPIRequest("/api/v1/courses",{params:{per_page:100,enrollment_type:r,enrollment_state:s,include:["term"]}});return new zi(a,function(){var l=(0,b.Z)(function*(u){return yield o.paginatedRequestHandler(u)});return function(u){return l.apply(this,arguments)}}(),l=>{let u=l;if(Object.hasOwn(l,"meta")){const c=l.meta.primaryCollection,d=new Map,f=Object.keys(l).filter(h=>!["meta",c].includes(h))[0];if(f)for(const h of l[f])h.id&&d.set(h.id,h);u=l[c];for(const h of u)h.term=d.get(h.enrollment_term_id)}return u.map(c=>lb.deserialize(c))})})()}getPageContentById(r,s){var o=this;return(0,b.Z)(function*(){const l=(yield o.rawAPIRequest(`/api/v1/courses/${r}/pages/${s}`)).data.body;if(!l)throw new Error("Page fetch error");return l})()}getUserInformation(r){var s=this;return(0,b.Z)(function*(){const o=yield s.apiRequest(`/api/v1/users/${r}`);return kb.deserialize(o)})()}deletePage(r,s){var o=this;return(0,b.Z)(function*(){yield o.safeGuardForPage(r,s),yield o.apiRequest(`/api/v1/courses/${r}/pages/${s}`,{method:"delete"})})()}createPage(r,s,o,a="teachers",l=!1,u=!1){var c=this;return(0,b.Z)(function*(){return(yield c.apiRequest(`/api/v1/courses/${r}/pages`,{method:"post",data:{wiki_page:{title:s,body:o,editing_roles:a,notify_of_update:l,published:u}}})).page_id})()}modifyPage(r,s,o,a=!1,l=!1){var u=this;return(0,b.Z)(function*(){return yield u.safeGuardForPage(r,s),(yield u.apiRequest(`/api/v1/courses/${r}/pages/${s}`,{method:"put",data:{wiki_page:{body:o,notify_of_update:a,published:l}}})).page_id})()}getPageIdByName(r,s){var o=this;return(0,b.Z)(function*(){let a=yield Wp.convertAsyncIterableToList(new zi(yield o.rawAPIRequest(`/api/v1/courses/${r}/pages`,{params:{search_term:s,per_page:100}}),function(){var l=(0,b.Z)(function*(u){return yield o.paginatedRequestHandler(u)});return function(u){return l.apply(this,arguments)}}(),l=>l.map(u=>[u.page_id,u.title])));if(a=a.filter(l=>l[1]==s),0==a.length)throw new Error("Page not found");if(a.length>1)throw new Error("Multiple pages found");return a[0]?.[0]})()}getPageContentByName(r,s){var o=this;return(0,b.Z)(function*(){return yield o.getPageContentById(r,yield o.getPageIdByName(r,s))})()}getQuizSubmissions(r,s){var o=this;return(0,b.Z)(function*(){const a=yield o.rawAPIRequest(`/api/v1/courses/${r}/quizzes/${s}/submissions`,{params:{per_page:100}});return new zi(a,function(){var l=(0,b.Z)(function*(u){return yield o.paginatedRequestHandler(u)});return function(u){return l.apply(this,arguments)}}(),l=>l.quiz_submissions.map(u=>ub.deserialize(u)))})()}getSubmissionComments(r,s,o){var a=this;return(0,b.Z)(function*(){return(yield a.apiRequest(`/api/v1/courses/${r}/assignments/${o}/submissions/${s}`,{params:{include:["submission_comments"]}})).submission_comments.map(u=>Eu.deserialize(u))})()}getSingleSubmissionGrade(r,s,o,a=0){var l=this;return(0,b.Z)(function*(){return(yield l.apiRequest(`/api/v1/courses/${r}/assignments/${o}/submissions/${s}`)).score??a})()}deleteSubmissionComment(r,s,o,a){var l=this;return(0,b.Z)(function*(){yield l.safeGuardForAssignment(r,o),yield l.apiRequest(`/api/v1/courses/${r}/assignments/${o}/submissions/${s}/comments/${a}`,{method:"delete"})})()}postComment(r,s,o,a){var l=this;return(0,b.Z)(function*(){yield l.safeGuardForAssignment(r,o);const c=(yield l.apiRequest(`/api/v1/courses/${r}/assignments/${o}/submissions/${s}`,{method:"put",data:{comment:{text_comment:a}}})).submission_comments;for(let d=c.length-1;d>=0;d--){let f;try{f=Eu.deserialize(c[d])}catch{continue}if(f.content==a)return f}throw new Error("Comment creation failed")})()}deleteComment(r,s,o,a){var l=this;return(0,b.Z)(function*(){yield l.safeGuardForAssignment(r,o),yield l.apiRequest(`/api/v1/courses/${r}/assignments/${o}/submissions/${s}/comments/${a}`,{method:"delete"})})()}modifyComment(r,s,o,a,l){var u=this;return(0,b.Z)(function*(){yield u.safeGuardForAssignment(r,o);const c=yield u.apiRequest(`/api/v1/courses/${r}/assignments/${o}/submissions/${s}/comments/${a}`,{method:"put",data:{comment:l}});return Eu.deserialize(c)})()}gradeSubmission(r,s,o,a){var l=this;return(0,b.Z)(function*(){yield l.safeGuardForAssignment(r,o),yield l.apiRequest(`/api/v1/courses/${r}/assignments/${o}/submissions/${s}`,{method:"put",data:{submission:{posted_grade:a.toString()}}})})()}gradeSubmissionWithPostingComment(r,s,o,a,l){var u=this;return(0,b.Z)(function*(){yield u.safeGuardForAssignment(r,o);const d=(yield u.apiRequest(`/api/v1/courses/${r}/assignments/${o}/submissions/${s}`,{method:"put",data:{comment:{text_comment:l},submission:{posted_grade:a.toString()}}})).submission_comments;for(let f=d.length-1;f>=0;f--){let h;try{h=Eu.deserialize(d[f])}catch{continue}if(h.content==l)return h}throw new Error("Comment creation failed")})()}getAssignmentIdByQuizId(r,s){var o=this;return(0,b.Z)(function*(){return(yield o.apiRequest(`/api/v1/courses/${r}/quizzes/${s}`)).assignment_id})()}getQuizSubmissionAttempt(r,s,o,a,l=1,{assignmentId:u}={}){var c=this;return(0,b.Z)(function*(){u||(u=yield c.getAssignmentIdByQuizId(r,s));const d=new zi(yield c.rawAPIRequest(`/api/v1/courses/${r}/quizzes/${s}/questions`,{params:{per_page:100,quiz_submission_id:o,quiz_submission_attempt:l}}),function(){var xn=(0,b.Z)(function*(Ci){return yield c.paginatedRequestHandler(Ci)});return function(Ci){return xn.apply(this,arguments)}}(),xn=>xn.map(Ci=>{const Ni={id:Ci.id,answers:[]};for(const ro of Ci.answers)Ni.answers.push({id:ro.id,text:ro.text});return Ni})),f=new Map;var v,h=!1,p=!1;try{for(var I,k=vi(d);h=!(I=yield k.next()).done;h=!1){const xn=I.value;f.has(xn.id)||f.set(xn.id,new Map);for(const Ci of xn.answers)f.get(xn.id)?.set(Ci.id,Ci.text)}}catch(xn){p=!0,v=xn}finally{try{h&&null!=k.return&&(yield k.return())}finally{if(p)throw v}}const z=(yield c.apiRequest(`/api/v1/courses/${r}/assignments/${u}/submissions/${a}`,{params:{include:["submission_history"]}})).submission_history,P=new Map;let oe=new Date;for(const xn of z){if(xn.attempt!=l)continue;oe=AO(xn.submitted_at);const Ci=xn.submission_data;for(const Ni of Ci){if(null==Ni.answer_id)continue;const ro=f.get(Ni.question_id)?.get(Ni.answer_id);ro&&P.set(Ni.question_id,ro)}break}const tt=[];var Qi,rt=!1,cn=!1;try{for(var Fi,xi=vi(d);rt=!(Fi=yield xi.next()).done;rt=!1)tt.push(P.get(Fi.value.id)??"")}catch(xn){cn=!0,Qi=xn}finally{try{rt&&null!=xi.return&&(yield xi.return())}finally{if(cn)throw Qi}}return[oe,tt]})()}getCourseStudentEnrollments(r){var s=this;return(0,b.Z)(function*(){return new zi(yield s.rawAPIRequest(`/api/v1/courses/${r}/users`,{params:{enrollment_type:["student"],enrollment_state:["active"],per_page:100}}),function(){var o=(0,b.Z)(function*(a){return yield s.paginatedRequestHandler(a)});return function(a){return o.apply(this,arguments)}}(),o=>o.map(a=>Md.deserialize(a)))})()}getModuleScore(r,s,o){var a=this;return(0,b.Z)(function*(){let l=0,u=0;const c=new zi(yield a.rawAPIRequest(`/api/v1/courses/${r}/modules/${s}/items`,{params:{include:["content_details"],per_page:100}}),function(){var k=(0,b.Z)(function*(I){return yield a.paginatedRequestHandler(I)});return function(I){return k.apply(this,arguments)}}(),k=>k.map(I=>Rp.deserialize(I)));var h,d=!1,f=!1;try{for(var v,p=vi(c);d=!(v=yield p.next()).done;d=!1){const k=v.value;if(k.contentId)switch(u+=k.pointsPossible,k.type){case"Assignment":l+=(yield a.getSingleSubmissionGrade(r,o,k.contentId,0));break;case"Quiz":l+=(yield a.getSingleSubmissionGrade(r,o,yield a.getAssignmentIdByQuizId(r,k.contentId),0))}}}catch(k){f=!0,h=k}finally{try{d&&null!=p.return&&(yield p.return())}finally{if(f)throw h}}return[l,u]})()}getCourseStudents(r,s=50,o){var a=this;return(0,b.Z)(function*(){return new Az(yield a.rawAPIRequest(`/api/v1/courses/${r}/users`,{params:{enrollment_type:["student"],enrollment_state:["active"],per_page:s,search_term:o}}),function(){var l=(0,b.Z)(function*(u){return yield a.paginatedRequestHandler(u)});return function(u){return l.apply(this,arguments)}}(),l=>l.map(u=>Md.deserialize(u)))})()}getStudentsGrades(r,s,o){var a=this;return(0,b.Z)(function*(){const l=new zi(yield a.rawAPIRequest(`/api/v1/courses/${r}/students/submissions`,{params:{student_ids:o,assignment_ids:[s],enrollment_state:"active",per_page:100}}),function(){var v=(0,b.Z)(function*(k){return yield a.paginatedRequestHandler(k)});return function(k){return v.apply(this,arguments)}}(),v=>v.map(k=>({user_id:k.user_id,score:k.score??0}))),u=new Map;var f,c=!1,d=!1;try{for(var p,h=vi(l);c=!(p=yield h.next()).done;c=!1){const v=p.value;u.set(v.user_id,v.score)}}catch(v){d=!0,f=v}finally{try{c&&null!=h.return&&(yield h.return())}finally{if(d)throw f}}return u})()}createAssignment(r,s,o,a=""){var l=this;return(0,b.Z)(function*(){return(yield l.apiRequest(`/api/v1/courses/${r}/assignments`,{method:"post",data:{assignment:{name:o,submission_types:["none"],notify_of_update:!1,points_possible:0,description:a,assignment_group_id:s,published:!0}}})).id})()}deleteAssignment(r,s){var o=this;return(0,b.Z)(function*(){yield o.safeGuardForAssignment(r,s),yield o.apiRequest(`/api/v1/courses/${r}/assignments/${s}`,{method:"delete"})})()}createModule(r,s){var o=this;return(0,b.Z)(function*(){return(yield o.apiRequest(`/api/v1/courses/${r}/modules`,{method:"post",data:{module:{name:s}}})).id})()}publishModule(r,s){var o=this;return(0,b.Z)(function*(){return yield o.safeGuardForModule(r,s),(yield o.apiRequest(`/api/v1/courses/${r}/modules/${s}`,{method:"put",data:{module:{published:!0}}})).id})()}deleteModule(r,s,o=!1){var a=this;return(0,b.Z)(function*(){if(yield a.safeGuardForModule(r,s),o){const h=new zi(yield a.rawAPIRequest(`/api/v1/courses/${r}/modules/${s}/items`,{params:{include:["content_details"],per_page:100}}),function(){var p=(0,b.Z)(function*(v){return yield a.paginatedRequestHandler(v)});return function(v){return p.apply(this,arguments)}}(),p=>p.map(v=>Rp.deserialize(v)));var c,l=!1,u=!1;try{for(var f,d=vi(h);l=!(f=yield d.next()).done;l=!1){const p=f.value;if(p.contentId)switch(p.type){case"Assignment":yield a.deleteAssignment(r,p.contentId);break;case"Quiz":yield a.deleteQuiz(r,p.contentId)}}}catch(p){u=!0,c=p}finally{try{l&&null!=d.return&&(yield d.return())}finally{if(u)throw c}}}yield a.apiRequest(`/api/v1/courses/${r}/modules/${s}`,{method:"delete"})})()}getModuleIdByName(r,s){var o=this;return(0,b.Z)(function*(){const a=new zi(yield o.rawAPIRequest(`/api/v1/courses/${r}/modules`,{params:{search_term:s,per_page:100}}),function(){var p=(0,b.Z)(function*(v){return yield o.paginatedRequestHandler(v)});return function(v){return p.apply(this,arguments)}}(),p=>p.map(v=>Eb.deserialize(v)));let l;var d,u=!1,c=!1;try{for(var h,f=vi(a);u=!(h=yield f.next()).done;u=!1){const p=h.value;if(p.name==s){if(null!=l)throw new Error("Multiple modules found");l=p.id}}}catch(p){c=!0,d=p}finally{try{u&&null!=f.return&&(yield f.return())}finally{if(c)throw d}}if(null==l)throw new Error("Module not found");return l})()}addModuleItem(r,s,o,a){var l=this;return(0,b.Z)(function*(){return yield l.safeGuardForModule(r,s),(yield l.apiRequest(`/api/v1/courses/${r}/modules/${s}/items`,{method:"post",data:{module_item:{type:o,content_id:a}}})).id})()}getAssignmentGroupIdByName(r,s){var o=this;return(0,b.Z)(function*(){const a=new zi(yield o.rawAPIRequest(`/api/v1/courses/${r}/assignment_groups`,{params:{per_page:100}}),function(){var p=(0,b.Z)(function*(v){return yield o.paginatedRequestHandler(v)});return function(v){return p.apply(this,arguments)}}(),p=>p.map(v=>[v.id,v.name]));let l;var d,u=!1,c=!1;try{for(var h,f=vi(a);u=!(h=yield f.next()).done;u=!1){const[p,v]=h.value;if(v==s){if(null!=l)throw new Error("Multiple assignment groups found");l=p}}}catch(p){c=!0,d=p}finally{try{u&&null!=f.return&&(yield f.return())}finally{if(c)throw d}}if(null==l)throw new Error("No assignment group found");return l})()}deleteAssignmentGroup(r,s){var o=this;return(0,b.Z)(function*(){yield o.safeGuardForAssignmentGroup(r,s),yield o.apiRequest(`/api/v1/courses/${r}/assignment_groups/${s}`,{method:"delete"})})()}createAssignmentGroup(r,s){var o=this;return(0,b.Z)(function*(){return(yield o.apiRequest(`/api/v1/courses/${r}/assignment_groups`,{method:"post",data:{name:s,group_weight:0}})).id})()}deleteQuiz(r,s){var o=this;return(0,b.Z)(function*(){yield o.safeGuardForQuiz(r,s),yield o.apiRequest(`/api/v1/courses/${r}/quizzes/${s}`,{method:"delete"})})()}createQuiz(r,s,o,a,l="graded_survey"){var u=this;return(0,b.Z)(function*(){return(yield u.apiRequest(`/api/v1/courses/${r}/quizzes`,{method:"post",data:{quiz:{title:o,description:a,quiz_type:l,assignment_group_id:s,allowed_attempts:100,points_possible:0,published:!1}}})).id})()}canQuizUnpublished(r,s){var o=this;return(0,b.Z)(function*(){return(yield o.apiRequest(`/api/v1/courses/${r}/quizzes/${s}`)).unpublishable})()}changeQuizPublishState(r,s,o=!0,a=!1){var l=this;return(0,b.Z)(function*(){yield l.safeGuardForQuiz(r,s);try{yield l.apiRequest(`/api/v1/courses/${r}/quizzes/${s}`,{method:"put",data:{quiz:{published:o,notify_of_update:a}}})}catch{return!1}return!0})()}modifyQuiz(r,s,o,a,l=!1){var u=this;return(0,b.Z)(function*(){return yield u.safeGuardForQuiz(r,s),(yield u.apiRequest(`/api/v1/courses/${r}/quizzes/${s}`,{method:"put",data:{quiz:{title:o,description:a,notify_of_update:l}}})).id})()}changeQuizLockDate(r,s,o){var a=this;return(0,b.Z)(function*(){yield a.safeGuardForQuiz(r,s),yield a.apiRequest(`/api/v1/courses/${r}/quizzes/${s}`,{method:"put",data:{quiz:{lock_at:null==o?null:Fp(o)}}})})()}clearQuizQuestions(r,s){var o=this;return(0,b.Z)(function*(){yield o.safeGuardForQuiz(r,s);const a=new zi(yield o.rawAPIRequest(`/api/v1/courses/${r}/quizzes/${s}/questions`,{params:{per_page:100}}),function(){var h=(0,b.Z)(function*(p){return yield o.paginatedRequestHandler(p)});return function(p){return h.apply(this,arguments)}}(),h=>h.map(p=>p.id));var c,l=!1,u=!1;try{for(var f,d=vi(a);l=!(f=yield d.next()).done;l=!1){const h=f.value;yield o.apiRequest(`/api/v1/courses/${r}/quizzes/${s}/questions/${h}`,{method:"delete"})}}catch(h){u=!0,c=h}finally{try{l&&null!=d.return&&(yield d.return())}finally{if(u)throw c}}})()}createQuizQuestions(r,s,o){var a=this;return(0,b.Z)(function*(){yield a.safeGuardForQuiz(r,s);for(const l of o)yield a.apiRequest(`/api/v1/courses/${r}/quizzes/${s}/questions`,{method:"post",data:{question:l.toJSON()}})})()}replaceQuizQuestions(r,s,o){var a=this;return(0,b.Z)(function*(){yield a.safeGuardForQuiz(r,s);const l=yield Wp.convertAsyncIterableToList(new zi(yield a.rawAPIRequest(`/api/v1/courses/${r}/quizzes/${s}/questions`,{params:{per_page:100}}),function(){var c=(0,b.Z)(function*(d){return yield a.paginatedRequestHandler(d)});return function(d){return c.apply(this,arguments)}}(),c=>c.map(d=>d.id))),u=Math.min(l.length,o.length);for(let c=0;c<u;c++)yield a.apiRequest(`/api/v1/courses/${r}/quizzes/${s}/questions/${l[c]}`,{method:"put",data:{question:o[c]?.toJSON()}});for(let c=u;c<l.length;c++)yield a.apiRequest(`/api/v1/courses/${r}/quizzes/${s}/questions/${l[c]}`,{method:"delete"});for(let c=u;c<o.length;c++)yield a.apiRequest(`/api/v1/courses/${r}/quizzes/${s}/questions`,{method:"post",data:{question:o[c]?.toJSON()}})})()}getQuiz(r,s){var o=this;return(0,b.Z)(function*(){const a=yield o.apiRequest(`/api/v1/courses/${r}/quizzes/${s}`);return Gp.deserialize(a)})()}getAssignmentOverrides(r,s){var o=this;return(0,b.Z)(function*(){return new zi(yield o.rawAPIRequest(`/api/v1/courses/${r}/assignments/${s}/overrides`),function(){var a=(0,b.Z)(function*(l){return yield o.paginatedRequestHandler(l)});return function(l){return a.apply(this,arguments)}}(),a=>a.map(l=>Mb.deserialize(l)))})()}createAssignmentOverrideForStudent(r,s,o,a,l){var u=this;return(0,b.Z)(function*(){let c,d=0;var p,f=!1,h=!1;try{for(var k,v=vi(yield u.getAssignmentOverrides(r,s));f=!(k=yield v.next()).done;f=!1){const I=k.value;{const z=I.title.split(" - ");if(z.length>=3&&(d=parseInt(z[2])+1),I.studentIds.includes(o))return!1;if(I.studentIds.length>=e.ASSIGNMENT_OVERRIDE_MAX_SIZE||null==I.lockAt||0!=Np(I.lockAt,l))continue;c=I;break}}}catch(I){h=!0,p=I}finally{try{f&&null!=v.return&&(yield v.return())}finally{if(h)throw p}}return c?yield u.apiRequest(`/api/v1/courses/${r}/assignments/${s}/overrides/${c.id}`,{method:"put",data:{assignment_override:{student_ids:c.studentIds.concat([o]),title:c.title,lock_at:Fp(l)}}}):yield u.apiRequest(`/api/v1/courses/${r}/assignments/${s}/overrides`,{method:"post",data:{assignment_override:{student_ids:[o],title:`${a} - ${d}`,lock_at:Fp(l)}}}),!0})()}deleteAssignmentOverrideForStudent(r,s,o){var a=this;return(0,b.Z)(function*(){let l;var d,u=!1,c=!1;try{for(var h,f=vi(yield a.getAssignmentOverrides(r,s));u=!(h=yield f.next()).done;u=!1){const p=h.value;if(p.studentIds.includes(o)){l=p;break}}}catch(p){c=!0,d=p}finally{try{u&&null!=f.return&&(yield f.return())}finally{if(c)throw d}}return null!=l&&(1==l.studentIds.length?yield a.apiRequest(`/api/v1/courses/${r}/assignments/${s}/overrides/${l.id}`,{method:"delete"}):(l.studentIds.splice(l.studentIds.indexOf(o),1),yield a.apiRequest(`/api/v1/courses/${r}/assignments/${s}/overrides/${l.id}`,{method:"put",data:{assignment_override:{student_ids:l.studentIds,title:l.title,lock_at:l.lockAt?Fp(l.lockAt):void 0}}})),!0)})()}getAssignmentSubmission(r,s,o){var a=this;return(0,b.Z)(function*(){return Ib.deserialize(yield a.apiRequest(`/api/v1/courses/${r}/assignments/${s}/submissions/${o}`))})()}getQuizIdByName(r,s){var o=this;return(0,b.Z)(function*(){const a=new zi(yield o.rawAPIRequest(`/api/v1/courses/${r}/quizzes`,{params:{search_term:s,per_page:100}}),function(){var p=(0,b.Z)(function*(v){return yield o.paginatedRequestHandler(v)});return function(v){return p.apply(this,arguments)}}(),p=>p.map(v=>Gp.deserialize(v)));let l;var d,u=!1,c=!1;try{for(var h,f=vi(a);u=!(h=yield f.next()).done;u=!1){const p=h.value;if(p.title==s){if(null!=l)throw new Error("Multiple quizzes found");l=p.id}}}catch(p){c=!0,d=p}finally{try{u&&null!=f.return&&(yield f.return())}finally{if(c)throw d}}if(!l)throw new Error("Quiz not found");return l})()}getAssignmentIdByName(r,s){var o=this;return(0,b.Z)(function*(){const a=new zi(yield o.rawAPIRequest(`/api/v1/courses/${r}/assignments`,{params:{search_term:s,per_page:100}}),function(){var p=(0,b.Z)(function*(v){return yield o.paginatedRequestHandler(v)});return function(v){return p.apply(this,arguments)}}(),p=>p.map(v=>Ob.deserialize(v)));let l;var d,u=!1,c=!1;try{for(var h,f=vi(a);u=!(h=yield f.next()).done;u=!1){const p=h.value;if(p.name==s){if(null!=l)throw new Error("Multiple assignments found");l=p.id}}}catch(p){c=!0,d=p}finally{try{u&&null!=f.return&&(yield f.return())}finally{if(c)throw d}}if(!l)throw new Error("Assignment not found");return l})()}getStudentByEmail(r,s){var o=this;return(0,b.Z)(function*(){const a=new zi(yield o.rawAPIRequest(`/api/v1/courses/${r}/users`,{params:{enrollment_type:["student"],enrollment_state:["active"],per_page:100,search_term:s}}),function(){var p=(0,b.Z)(function*(v){return yield o.paginatedRequestHandler(v)});return function(v){return p.apply(this,arguments)}}(),p=>p.map(v=>Md.deserialize(v)));let l;var d,u=!1,c=!1;try{for(var h,f=vi(a);u=!(h=yield f.next()).done;u=!1){const p=h.value;if(p.email==s){if(l)throw new Error("Multiple students found with the same email!");l=p}}}catch(p){c=!0,d=p}finally{try{u&&null!=f.return&&(yield f.return())}finally{if(c)throw d}}return l})()}}return e.ASSIGNMENT_OVERRIDE_MAX_SIZE=35,e.\u0275fac=function(r){return new(r||e)(ee(Sb))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function hI(t,n,e){if(!n.has(t))throw new TypeError("attempted to get private field on non-instance");return e}const mW="function"==typeof atob,_W="function"==typeof btoa,Ru="function"==typeof Buffer,mI="function"==typeof TextDecoder?new TextDecoder:void 0,_I="function"==typeof TextEncoder?new TextEncoder:void 0,Fd=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),Qp=(t=>{let n={};return t.forEach((e,i)=>n[e]=i),n})(Fd),yW=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,Ai=String.fromCharCode.bind(String),gI="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):t=>new Uint8Array(Array.prototype.slice.call(t,0)),yI=t=>t.replace(/=/g,"").replace(/[+\/]/g,n=>"+"==n?"-":"_"),vI=t=>t.replace(/[^A-Za-z0-9\+\/]/g,""),Ab=_W?t=>btoa(t):Ru?t=>Buffer.from(t,"binary").toString("base64"):t=>{let n,e,i,r,s="";const o=t.length%3;for(let a=0;a<t.length;){if((e=t.charCodeAt(a++))>255||(i=t.charCodeAt(a++))>255||(r=t.charCodeAt(a++))>255)throw new TypeError("invalid character found");n=e<<16|i<<8|r,s+=Fd[n>>18&63]+Fd[n>>12&63]+Fd[n>>6&63]+Fd[63&n]}return o?s.slice(0,o-3)+"===".substring(o):s},Rb=Ru?t=>Buffer.from(t).toString("base64"):t=>{let e=[];for(let i=0,r=t.length;i<r;i+=4096)e.push(Ai.apply(null,t.subarray(i,i+4096)));return Ab(e.join(""))},vW=t=>{if(t.length<2)return(n=t.charCodeAt(0))<128?t:n<2048?Ai(192|n>>>6)+Ai(128|63&n):Ai(224|n>>>12&15)+Ai(128|n>>>6&63)+Ai(128|63&n);var n=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320);return Ai(240|n>>>18&7)+Ai(128|n>>>12&63)+Ai(128|n>>>6&63)+Ai(128|63&n)},bW=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,CI=Ru?t=>Buffer.from(t,"utf8").toString("base64"):_I?t=>Rb(_I.encode(t)):t=>Ab((t=>t.replace(bW,vW))(t)),wW=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,CW=t=>{switch(t.length){case 4:var e=((7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3))-65536;return Ai(55296+(e>>>10))+Ai(56320+(1023&e));case 3:return Ai((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return Ai((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},xb=mW?t=>atob(vI(t)):Ru?t=>Buffer.from(t,"base64").toString("binary"):t=>{if(t=t.replace(/\s+/g,""),!yW.test(t))throw new TypeError("malformed base64.");t+="==".slice(2-(3&t.length));let n,i,r,e="";for(let s=0;s<t.length;)n=Qp[t.charAt(s++)]<<18|Qp[t.charAt(s++)]<<12|(i=Qp[t.charAt(s++)])<<6|(r=Qp[t.charAt(s++)]),e+=64===i?Ai(n>>16&255):64===r?Ai(n>>16&255,n>>8&255):Ai(n>>16&255,n>>8&255,255&n);return e},kI=Ru?t=>gI(Buffer.from(t,"base64")):t=>gI(xb(t).split("").map(n=>n.charCodeAt(0))),DW=Ru?t=>Buffer.from(t,"base64").toString("utf8"):mI?t=>mI.decode(kI(t)):t=>(t=>t.replace(wW,CW))(xb(t)),EI=t=>vI(t.replace(/[-_]/g,n=>"-"==n?"+":"/")),qi_encode=(t,n=!1)=>n?yI(CI(t)):CI(t),qi_decode=t=>DW(EI(t)),qi_fromUint8Array=(t,n=!1)=>n?yI(Rb(t)):Rb(t),qi_toUint8Array=t=>kI(EI(t));class yt{constructor(n,e,i,r,s,o,a){this._configuration=n,this._name=e,this._id=i,this._quizId=r,this._description=s,this._isPublished=o,this._tokenOptions=a}get configuration(){return this._configuration}get name(){return this._name}set name(n){this._name=n}get id(){return this._id}get quizId(){return this._quizId}set quizId(n){this._quizId=n}get description(){return this._description}set description(n){this._description=n}get isPublished(){return this._isPublished}set isPublished(n){this._isPublished=n}get tokenOptions(){return this._tokenOptions}set tokenOptions(n){this._tokenOptions=n}get availableTokenOptions(){return this.tokenOptions.filter(n=>!n.isMigrating)}addTokenOption(n,e){this.configuration.updateNextFreeTokenOptionId(n.id),null==e?this._tokenOptions.push(n):this._tokenOptions.splice(e,0,n)}deleteTokenOption(n){const e=this._tokenOptions.indexOf(n);if(-1==e)throw new Error("Token option does not exist");this._tokenOptions.splice(e,1)}toJSON(){return{name:this.name,id:this.id,quiz_id:this.quizId,description:qi_encode(this.description),is_published:this.isPublished,token_options:this.tokenOptions.map(n=>n.toJSON())}}static deserialize(n,e){if("string"!=typeof e.name||"number"!=typeof e.id||"string"!=typeof e.quiz_id||typeof e.description<"u"&&"string"!=typeof e.description||"boolean"!=typeof e.is_published||"object"!=typeof e.token_options||!Array.isArray(e.token_options))throw new Error("Invalid data");const i=new yt(n,e.name,e.id,e.quiz_id,e.description?qi_decode(e.description):"",e.is_published,[]);return i.tokenOptions=e.token_options.map(r=>n.tokenOptionResolver(i,r)),i}}let da=(()=>{class t{static deriveAESKey(e,i){return(0,b.Z)(function*(){const r=yield window.crypto.subtle.importKey("raw",(new TextEncoder).encode(e),"PBKDF2",!1,["deriveBits","deriveKey"]);return yield window.crypto.subtle.deriveKey({name:"PBKDF2",hash:"SHA-512",salt:i,iterations:1e5},r,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])})()}static encryptAES(e,i,r){return(0,b.Z)(function*(){null==r&&(r=window.crypto.getRandomValues(new Uint8Array(t.AES_IV_LENGTH)));const s=yield window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},e,(new TextEncoder).encode(i));return[r,new Uint8Array(s)]})()}static decryptAES(e,i,r){return(0,b.Z)(function*(){return(new TextDecoder).decode(yield window.crypto.subtle.decrypt({name:"AES-GCM",iv:r},e,i))})()}}return t.AES_IV_LENGTH=12,t})();class RI{static contactUint8Array(n,e){const i=new Uint8Array(n.length+e.length);return i.set(n),i.set(e,n.length),i}static splitUint8Array(n,e){return[n.subarray(0,e),n.subarray(e)]}}var xI=ue(667);function Jp(t){return[...Array(t)].map(()=>Math.random().toString(36)[2]??"0").join("")}var Nd=new WeakMap,Ld=new WeakMap,Eo=new WeakMap,Nb=new WeakSet;class Xp{constructor(n,e,i,r,s,o,a,l,u,c,d){(function hW(t,n){SO(t,n),n.add(t)})(this,Nb),Hs(this,Nd,{writable:!0,value:void 0}),Hs(this,Ld,{writable:!0,value:void 0}),Hs(this,Eo,{writable:!0,value:void 0}),this._course=n,this._logAssignmentId=e,this._uid=i,this._suffix=r,this._description=s,this._nextFreeTokenOptionGroupId=o,this._nextFreeTokenOptionId=a,this._tokenOptionGroups=l,this._tokenOptionResolver=u,Gn(this,Nd,c),Gn(this,Ld,d)}get course(){return this._course}get logAssignmentId(){return this._logAssignmentId}set logAssignmentId(n){this._logAssignmentId=n}get uid(){return this._uid}set uid(n){this._uid=n}get suffix(){return this._suffix}get description(){return this._description}get tokenOptionGroups(){return this._tokenOptionGroups}set tokenOptionGroups(n){this._tokenOptionGroups=n}get tokenOptionResolver(){return this._tokenOptionResolver}getTokenOptionGroupById(n){for(const e of this.tokenOptionGroups)if(e.id==n)return e}getTokenOptionById(n){for(const e of this.tokenOptionGroups)for(const i of e.tokenOptions)if(i.id==n)return i}addTokenOptionGroup(n){this._nextFreeTokenOptionGroupId=Math.max(this._nextFreeTokenOptionGroupId,n.id)+1,this._tokenOptionGroups.push(n)}updateNextFreeTokenOptionId(n){this._nextFreeTokenOptionId=Math.max(this._nextFreeTokenOptionId,n)+1}deleteTokenOptionGroup(n){const e=this._tokenOptionGroups.indexOf(n);if(-1==e)throw new Error("Token option group does not exist");this._tokenOptionGroups.splice(e,1)}get nextFreeTokenOptionGroupId(){return this._nextFreeTokenOptionGroupId}get nextFreeTokenOptionId(){return this._nextFreeTokenOptionId}toJSON(){return{log_assignment_id:this.logAssignmentId,uid:this.uid,suffix:this.suffix,description:qi_encode(this.description),next_free_token_option_group_id:this.nextFreeTokenOptionGroupId,next_free_token_option_id:this.nextFreeTokenOptionId,token_option_groups:this.tokenOptionGroups.map(n=>n.toJSON())}}getSecureConfig(){return{password:nn(this,Nd),salt:qi_fromUint8Array(nn(this,Ld))}}regenerateSecureConfig(){Gn(this,Eo,void 0),Gn(this,Nd,Jp(32)),Gn(this,Ld,window.crypto.getRandomValues(new Uint8Array(32)))}encryptStudentRecord(n){var e=this;return(0,b.Z)(function*(){if(null==nn(e,Eo)&&(yield hI(e,Nb,FI).call(e)),null==nn(e,Eo))throw new Error("AES encryption key generation failed");const i=JSON.parse(JSON.stringify(n));return qi_fromUint8Array(RI.contactUint8Array(...yield da.encryptAES(nn(e,Eo),JSON.stringify((0,xI.nN)(i)))))})()}decryptStudentRecord(n){var e=this;return(0,b.Z)(function*(){if(null==nn(e,Eo)&&(yield hI(e,Nb,FI).call(e)),null==nn(e,Eo))throw new Error("AES encryption key generation failed");const[i,r]=RI.splitUint8Array(qi_toUint8Array(n),da.AES_IV_LENGTH);return(0,xI.Lj)(JSON.parse(yield da.decryptAES(nn(e,Eo),r,i)))})()}static deserialize(n,e,i,r){if("string"!=typeof e.log_assignment_id||"string"!=typeof e.uid||typeof e.suffix<"u"&&"string"!=typeof e.suffix||typeof e.description<"u"&&"string"!=typeof e.description||"number"!=typeof e.next_free_token_option_group_id||"number"!=typeof e.next_free_token_option_id||"object"!=typeof e.token_option_groups||!Array.isArray(e.token_option_groups)||"string"!=typeof i.password||"string"!=typeof i.salt)throw new Error("Invalid data");const s=new Xp(n,e.log_assignment_id,e.uid,e.suffix??"",e.description?qi_decode(e.description):"",e.next_free_token_option_group_id,e.next_free_token_option_id,[],r,i.password,qi_toUint8Array(i.salt));return s.tokenOptionGroups=e.token_option_groups.map(o=>yt.deserialize(s,o)),s}}function FI(){return Lb.apply(this,arguments)}function Lb(){return(Lb=(0,b.Z)(function*(){Gn(this,Eo,yield da.deriveAESKey(nn(this,Nd),nn(this,Ld)))})).apply(this,arguments)}class Fu{hasValidTokenOption(n){if(0==n.length)return!1;for(const e of n)if(null!=this.validate(e))return!0;return!1}}class SW extends Fu{get infoDescription(){return"Description"}process(n){return n.map(e=>this.validate(e)?.description??"")}validate(n){return null==n.description?void 0:n}}function Pd(t){if(un(1,arguments),!function kW(t){return un(1,arguments),t instanceof Date||"object"===Id(t)&&"[object Date]"===Object.prototype.toString.call(t)}(t)&&"number"!=typeof t)return!1;var n=Zn(t);return!isNaN(Number(n))}var OW=864e5;function em(t){un(1,arguments);var e=Zn(t),i=e.getUTCDay(),r=(i<1?7:0)+i-1;return e.setUTCDate(e.getUTCDate()-r),e.setUTCHours(0,0,0,0),e}function NI(t){un(1,arguments);var n=Zn(t),e=n.getUTCFullYear(),i=new Date(0);i.setUTCFullYear(e+1,0,4),i.setUTCHours(0,0,0,0);var r=em(i),s=new Date(0);s.setUTCFullYear(e,0,4),s.setUTCHours(0,0,0,0);var o=em(s);return n.getTime()>=r.getTime()?e+1:n.getTime()>=o.getTime()?e:e-1}var RW=6048e5;var LI={};function tm(){return LI}function nm(t,n){var e,i,r,s,o,a,l,u;un(1,arguments);var c=tm(),d=Ii(null!==(e=null!==(i=null!==(r=null!==(s=n?.weekStartsOn)&&void 0!==s?s:null==n||null===(o=n.locale)||void 0===o||null===(a=o.options)||void 0===a?void 0:a.weekStartsOn)&&void 0!==r?r:c.weekStartsOn)&&void 0!==i?i:null===(l=c.locale)||void 0===l||null===(u=l.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==e?e:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=Zn(t),h=f.getUTCDay(),p=(h<d?7:0)+h-d;return f.setUTCDate(f.getUTCDate()-p),f.setUTCHours(0,0,0,0),f}function PI(t,n){var e,i,r,s,o,a,l,u;un(1,arguments);var c=Zn(t),d=c.getUTCFullYear(),f=tm(),h=Ii(null!==(e=null!==(i=null!==(r=null!==(s=n?.firstWeekContainsDate)&&void 0!==s?s:null==n||null===(o=n.locale)||void 0===o||null===(a=o.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==r?r:f.firstWeekContainsDate)&&void 0!==i?i:null===(l=f.locale)||void 0===l||null===(u=l.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==e?e:1);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(d+1,0,h),p.setUTCHours(0,0,0,0);var v=nm(p,n),k=new Date(0);k.setUTCFullYear(d,0,h),k.setUTCHours(0,0,0,0);var I=nm(k,n);return c.getTime()>=v.getTime()?d+1:c.getTime()>=I.getTime()?d:d-1}var NW=6048e5;const fa_y=function(n,e){var i=n.getUTCFullYear(),r=i>0?i:1-i;return kt("yy"===e?r%100:r,e.length)},fa_M=function(n,e){var i=n.getUTCMonth();return"M"===e?String(i+1):kt(i+1,2)},fa_d=function(n,e){return kt(n.getUTCDate(),e.length)},fa_h=function(n,e){return kt(n.getUTCHours()%12||12,e.length)},fa_H=function(n,e){return kt(n.getUTCHours(),e.length)},fa_m=function(n,e){return kt(n.getUTCMinutes(),e.length)},fa_s=function(n,e){return kt(n.getUTCSeconds(),e.length)},fa_S=function(n,e){var i=e.length,r=n.getUTCMilliseconds();return kt(Math.floor(r*Math.pow(10,i-3)),e.length)};var VW={G:function(n,e,i){var r=n.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return i.era(r,{width:"abbreviated"});case"GGGGG":return i.era(r,{width:"narrow"});default:return i.era(r,{width:"wide"})}},y:function(n,e,i){if("yo"===e){var r=n.getUTCFullYear();return i.ordinalNumber(r>0?r:1-r,{unit:"year"})}return fa_y(n,e)},Y:function(n,e,i,r){var s=PI(n,r),o=s>0?s:1-s;return"YY"===e?kt(o%100,2):"Yo"===e?i.ordinalNumber(o,{unit:"year"}):kt(o,e.length)},R:function(n,e){return kt(NI(n),e.length)},u:function(n,e){return kt(n.getUTCFullYear(),e.length)},Q:function(n,e,i){var r=Math.ceil((n.getUTCMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return kt(r,2);case"Qo":return i.ordinalNumber(r,{unit:"quarter"});case"QQQ":return i.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return i.quarter(r,{width:"narrow",context:"formatting"});default:return i.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,i){var r=Math.ceil((n.getUTCMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return kt(r,2);case"qo":return i.ordinalNumber(r,{unit:"quarter"});case"qqq":return i.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return i.quarter(r,{width:"narrow",context:"standalone"});default:return i.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,i){var r=n.getUTCMonth();switch(e){case"M":case"MM":return fa_M(n,e);case"Mo":return i.ordinalNumber(r+1,{unit:"month"});case"MMM":return i.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return i.month(r,{width:"narrow",context:"formatting"});default:return i.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,i){var r=n.getUTCMonth();switch(e){case"L":return String(r+1);case"LL":return kt(r+1,2);case"Lo":return i.ordinalNumber(r+1,{unit:"month"});case"LLL":return i.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return i.month(r,{width:"narrow",context:"standalone"});default:return i.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,i,r){var s=function LW(t,n){un(1,arguments);var e=Zn(t),i=nm(e,n).getTime()-function FW(t,n){var e,i,r,s,o,a,l,u;un(1,arguments);var c=tm(),d=Ii(null!==(e=null!==(i=null!==(r=null!==(s=n?.firstWeekContainsDate)&&void 0!==s?s:null==n||null===(o=n.locale)||void 0===o||null===(a=o.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==r?r:c.firstWeekContainsDate)&&void 0!==i?i:null===(l=c.locale)||void 0===l||null===(u=l.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==e?e:1),f=PI(t,n),h=new Date(0);return h.setUTCFullYear(f,0,d),h.setUTCHours(0,0,0,0),nm(h,n)}(e,n).getTime();return Math.round(i/NW)+1}(n,r);return"wo"===e?i.ordinalNumber(s,{unit:"week"}):kt(s,e.length)},I:function(n,e,i){var r=function xW(t){un(1,arguments);var n=Zn(t),e=em(n).getTime()-function AW(t){un(1,arguments);var n=NI(t),e=new Date(0);return e.setUTCFullYear(n,0,4),e.setUTCHours(0,0,0,0),em(e)}(n).getTime();return Math.round(e/RW)+1}(n);return"Io"===e?i.ordinalNumber(r,{unit:"week"}):kt(r,e.length)},d:function(n,e,i){return"do"===e?i.ordinalNumber(n.getUTCDate(),{unit:"date"}):fa_d(n,e)},D:function(n,e,i){var r=function IW(t){un(1,arguments);var n=Zn(t),e=n.getTime();n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0);var i=n.getTime();return Math.floor((e-i)/OW)+1}(n);return"Do"===e?i.ordinalNumber(r,{unit:"dayOfYear"}):kt(r,e.length)},E:function(n,e,i){var r=n.getUTCDay();switch(e){case"E":case"EE":case"EEE":return i.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return i.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(r,{width:"short",context:"formatting"});default:return i.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,i,r){var s=n.getUTCDay(),o=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return kt(o,2);case"eo":return i.ordinalNumber(o,{unit:"day"});case"eee":return i.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return i.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(s,{width:"short",context:"formatting"});default:return i.day(s,{width:"wide",context:"formatting"})}},c:function(n,e,i,r){var s=n.getUTCDay(),o=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return kt(o,e.length);case"co":return i.ordinalNumber(o,{unit:"day"});case"ccc":return i.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return i.day(s,{width:"narrow",context:"standalone"});case"cccccc":return i.day(s,{width:"short",context:"standalone"});default:return i.day(s,{width:"wide",context:"standalone"})}},i:function(n,e,i){var r=n.getUTCDay(),s=0===r?7:r;switch(e){case"i":return String(s);case"ii":return kt(s,e.length);case"io":return i.ordinalNumber(s,{unit:"day"});case"iii":return i.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return i.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return i.day(r,{width:"short",context:"formatting"});default:return i.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,i){var s=n.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return i.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return i.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return i.dayPeriod(s,{width:"narrow",context:"formatting"});default:return i.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(n,e,i){var s,r=n.getUTCHours();switch(s=12===r?"noon":0===r?"midnight":r/12>=1?"pm":"am",e){case"b":case"bb":return i.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return i.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return i.dayPeriod(s,{width:"narrow",context:"formatting"});default:return i.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(n,e,i){var s,r=n.getUTCHours();switch(s=r>=17?"evening":r>=12?"afternoon":r>=4?"morning":"night",e){case"B":case"BB":case"BBB":return i.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return i.dayPeriod(s,{width:"narrow",context:"formatting"});default:return i.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(n,e,i){if("ho"===e){var r=n.getUTCHours()%12;return 0===r&&(r=12),i.ordinalNumber(r,{unit:"hour"})}return fa_h(n,e)},H:function(n,e,i){return"Ho"===e?i.ordinalNumber(n.getUTCHours(),{unit:"hour"}):fa_H(n,e)},K:function(n,e,i){var r=n.getUTCHours()%12;return"Ko"===e?i.ordinalNumber(r,{unit:"hour"}):kt(r,e.length)},k:function(n,e,i){var r=n.getUTCHours();return 0===r&&(r=24),"ko"===e?i.ordinalNumber(r,{unit:"hour"}):kt(r,e.length)},m:function(n,e,i){return"mo"===e?i.ordinalNumber(n.getUTCMinutes(),{unit:"minute"}):fa_m(n,e)},s:function(n,e,i){return"so"===e?i.ordinalNumber(n.getUTCSeconds(),{unit:"second"}):fa_s(n,e)},S:function(n,e){return fa_S(n,e)},X:function(n,e,i,r){var o=(r._originalDate||n).getTimezoneOffset();if(0===o)return"Z";switch(e){case"X":return BI(o);case"XXXX":case"XX":return Wa(o);default:return Wa(o,":")}},x:function(n,e,i,r){var o=(r._originalDate||n).getTimezoneOffset();switch(e){case"x":return BI(o);case"xxxx":case"xx":return Wa(o);default:return Wa(o,":")}},O:function(n,e,i,r){var o=(r._originalDate||n).getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+VI(o,":");default:return"GMT"+Wa(o,":")}},z:function(n,e,i,r){var o=(r._originalDate||n).getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+VI(o,":");default:return"GMT"+Wa(o,":")}},t:function(n,e,i,r){return kt(Math.floor((r._originalDate||n).getTime()/1e3),e.length)},T:function(n,e,i,r){return kt((r._originalDate||n).getTime(),e.length)}};function VI(t,n){var e=t>0?"-":"+",i=Math.abs(t),r=Math.floor(i/60),s=i%60;if(0===s)return e+String(r);var o=n||"";return e+String(r)+o+kt(s,2)}function BI(t,n){return t%60==0?(t>0?"-":"+")+kt(Math.abs(t)/60,2):Wa(t,n)}function Wa(t,n){var e=n||"",i=t>0?"-":"+",r=Math.abs(t);return i+kt(Math.floor(r/60),2)+e+kt(r%60,2)}const BW=VW;var HI=function(n,e){switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},$I=function(n,e){switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}};const jW={p:$I,P:function(n,e){var o,i=n.match(/(P+)(p+)?/)||[],r=i[1],s=i[2];if(!s)return HI(n,e);switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;default:o=e.dateTime({width:"full"})}return o.replace("{{date}}",HI(r,e)).replace("{{time}}",$I(s,e))}};var YW=["D","DD"],zW=["YY","YYYY"];function jI(t,n,e){if("YYYY"===t)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(n,"`) for formatting years to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===t)throw new RangeError("Use `yy` instead of `YY` (in `".concat(n,"`) for formatting years to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===t)throw new RangeError("Use `d` instead of `D` (in `".concat(n,"`) for formatting days of the month to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===t)throw new RangeError("Use `dd` instead of `DD` (in `".concat(n,"`) for formatting days of the month to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var GW={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function Pb(t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=n.width?String(n.width):t.defaultWidth;return t.formats[e]||t.formats[t.defaultWidth]}}const t5={date:Pb({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:Pb({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:Pb({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var n5={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function Vd(t){return function(n,e){var r;if("formatting"===(null!=e&&e.context?String(e.context):"standalone")&&t.formattingValues){var s=t.defaultFormattingWidth||t.defaultWidth,o=null!=e&&e.width?String(e.width):s;r=t.formattingValues[o]||t.formattingValues[s]}else{var a=t.defaultWidth,l=null!=e&&e.width?String(e.width):t.defaultWidth;r=t.values[l]||t.values[a]}return r[t.argumentCallback?t.argumentCallback(n):n]}}const p5={ordinalNumber:function(n,e){var i=Number(n),r=i%100;if(r>20||r<10)switch(r%10){case 1:return i+"st";case 2:return i+"nd";case 3:return i+"rd"}return i+"th"},era:Vd({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Vd({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(n){return n-1}}),month:Vd({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Vd({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Vd({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function Bd(t){return function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.width,s=n.match(i&&t.matchPatterns[i]||t.matchPatterns[t.defaultMatchWidth]);if(!s)return null;var u,o=s[0],a=i&&t.parsePatterns[i]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?function _5(t,n){for(var e=0;e<t.length;e++)if(n(t[e]))return e}(a,function(d){return d.test(o)}):function m5(t,n){for(var e in t)if(t.hasOwnProperty(e)&&n(t[e]))return e}(a,function(d){return d.test(o)});return u=t.valueCallback?t.valueCallback(l):l,{value:u=e.valueCallback?e.valueCallback(u):u,rest:n.slice(o.length)}}}var I5={ordinalNumber:function g5(t){return function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.match(t.matchPattern);if(!i)return null;var r=i[0],s=n.match(t.parsePattern);if(!s)return null;var o=t.valueCallback?t.valueCallback(s[0]):s[0];return{value:o=e.valueCallback?e.valueCallback(o):o,rest:n.slice(r.length)}}}({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(n){return parseInt(n,10)}}),era:Bd({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Bd({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(n){return n+1}}),month:Bd({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Bd({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Bd({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};const R5={code:"en-US",formatDistance:function(n,e,i){var r,s=GW[n];return r="string"==typeof s?s:1===e?s.one:s.other.replace("{{count}}",e.toString()),null!=i&&i.addSuffix?i.comparison&&i.comparison>0?"in "+r:r+" ago":r},formatLong:t5,formatRelative:function(n,e,i,r){return n5[n]},localize:p5,match:I5,options:{weekStartsOn:0,firstWeekContainsDate:1}};var x5=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,F5=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,N5=/^'([^]*?)'?$/,L5=/''/g,P5=/[a-zA-Z]/;function ha(t,n,e){var i,r,s,o,a,l,u,c,d,f,h,p,v,k,I,z,P,oe;un(2,arguments);var tt=String(n),rt=tm(),cn=null!==(i=null!==(r=e?.locale)&&void 0!==r?r:rt.locale)&&void 0!==i?i:R5,Qi=Ii(null!==(s=null!==(o=null!==(a=null!==(l=e?.firstWeekContainsDate)&&void 0!==l?l:null==e||null===(u=e.locale)||void 0===u||null===(c=u.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==a?a:rt.firstWeekContainsDate)&&void 0!==o?o:null===(d=rt.locale)||void 0===d||null===(f=d.options)||void 0===f?void 0:f.firstWeekContainsDate)&&void 0!==s?s:1);if(!(Qi>=1&&Qi<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var xi=Ii(null!==(h=null!==(p=null!==(v=null!==(k=e?.weekStartsOn)&&void 0!==k?k:null==e||null===(I=e.locale)||void 0===I||null===(z=I.options)||void 0===z?void 0:z.weekStartsOn)&&void 0!==v?v:rt.weekStartsOn)&&void 0!==p?p:null===(P=rt.locale)||void 0===P||null===(oe=P.options)||void 0===oe?void 0:oe.weekStartsOn)&&void 0!==h?h:0);if(!(xi>=0&&xi<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!cn.localize)throw new RangeError("locale must contain localize property");if(!cn.formatLong)throw new RangeError("locale must contain formatLong property");var Fi=Zn(t);if(!Pd(Fi))throw new RangeError("Invalid time value");var xn=function UW(t){var n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),t.getTime()-n.getTime()}(Fi),Ci=function EW(t,n){return un(2,arguments),function MW(t,n){un(2,arguments);var e=Zn(t).getTime(),i=Ii(n);return new Date(e+i)}(t,-Ii(n))}(Fi,xn),Ni={firstWeekContainsDate:Qi,weekStartsOn:xi,locale:cn,_originalDate:Fi},ro=tt.match(F5).map(function(Ki){var ye=Ki[0];return"p"===ye||"P"===ye?(0,jW[ye])(Ki,cn.formatLong):Ki}).join("").match(x5).map(function(Ki){if("''"===Ki)return"'";var ye=Ki[0];if("'"===ye)return function V5(t){var n=t.match(N5);return n?n[1].replace(L5,"'"):t}(Ki);var Be=BW[ye];if(Be)return!(null!=e&&e.useAdditionalWeekYearTokens)&&function WW(t){return-1!==zW.indexOf(t)}(Ki)&&jI(Ki,n,String(t)),!(null!=e&&e.useAdditionalDayOfYearTokens)&&function qW(t){return-1!==YW.indexOf(t)}(Ki)&&jI(Ki,n,String(t)),Be(Ci,Ki,cn.localize,Ni);if(ye.match(P5))throw new RangeError("Format string contains an unescaped latin alphabet character `"+ye+"`");return Ki}).join("");return ro}class B5 extends Fu{get infoDescription(){return"End At"}process(n){return n.map(e=>{const i=this.validate(e);return null==i?"":ha(i.endTime,"MMM dd, yyyy kk:mm:ss")})}validate(n){const e=n.endTime;return null!=e&&Pd(e)?n:void 0}}class H5{}class $5 extends H5{constructor(n){super(),this.transformers=n}process(n){const e=[];for(const r of this.transformers)r.hasValidTokenOption(n)&&e.push([r.infoDescription,r.process(n)]);if(0==e.length)return"";const i=[];for(let r=0;r<n.length;r++){const s=[];for(let o=0;o<e.length;o++){const a=e[o]?.[1]?.[r];null!=a&&s.push(a)}i.push(s)}return['<table style="border: 1px solid black; border-collapse: collapse;">',"<thead>","<tr>",...e.map(r=>`<th style="text-align: center; margin-left: 1rem; margin-right: 1rem; border: 1px solid black;">${r[0]}</th>`),"</tr>","</thead>","<tbody>",...i.map(r=>`<tr>${r.map(s=>`<td style="text-align: center; margin-left: 1rem; margin-right: 1rem; border: 1px solid black;">${s}</td>`).join("")}</tr>`),"</tbody>","</table>"].join("")}}class j5 extends Fu{get infoDescription(){return"Token Option"}process(n){return n.map(e=>this.validate(e)?.name??"")}validate(n){return null==n.name?void 0:n}}class U5 extends Fu{get infoDescription(){return"Start At"}process(n){return n.map(e=>{const i=this.validate(e);return null==i?"":ha(i.startTime,"MMM dd, yyyy kk:mm:ss")})}validate(n){const e=n.startTime;return null!=e&&Pd(e)?n:void 0}}class Y5 extends Fu{get infoDescription(){return"Token Balance Change"}process(n){return n.map(e=>this.validate(e)?.tokenBalanceChange?.toString()??"")}validate(n){return null==n.tokenBalanceChange?void 0:n}}class z5{constructor(n="Question",e="",i=0){this._name=n,this._text=e,this._pointsPossible=i}get name(){return this._name}get text(){return this._text}get pointsPossible(){return this._pointsPossible}toJSON(){return{question_name:this.name,question_text:this.text,question_type:this.questionType,points_possible:this.pointsPossible}}}class q5 extends z5{constructor(n="Question",e="",i=0,r=[]){super(n,e,i),this._options=r}get options(){return this._options}get questionType(){return"multiple_choice_question"}toJSON(){const n=this.options.map(e=>({answer_text:e}));return{...super.toJSON(),answers:n}}}class Oo{constructor(n,e,i,r,s,o,a){this._group=n,this._type=e,this._id=i,this._name=r,this._description=s,this._tokenBalanceChange=o,this._isMigrating=a}get group(){return this._group}set group(n){this._group=n}get type(){return this._type}set type(n){this._type=n}get id(){return this._id}set id(n){this._id=n}get name(){return this._name}set name(n){this._name=n}get description(){return this._description}set description(n){this._description=n}get tokenBalanceChange(){return this._tokenBalanceChange}set tokenBalanceChange(n){this._tokenBalanceChange=n}set isMigrating(n){this._isMigrating=n}get isMigrating(){return this._isMigrating}get prompt(){return"Request for "+this.name}toJSON(){return{type:this.type,id:this.id,name:this.name,description:qi_encode(this.description),token_balance_change:this.tokenBalanceChange,is_migrating:!!this.isMigrating||void 0}}static resolveTokenOption(n,e){if("string"!=typeof e.type||"number"!=typeof e.id||"string"!=typeof e.name||typeof e.description<"u"&&"string"!=typeof e.description||"number"!=typeof e.token_balance_change||typeof e.is_migrating<"u"&&"boolean"!=typeof e.is_migrating)throw new Error("Invalid data");return[n,e.type,e.id,e.name,e.description?qi_decode(e.description):"",e.token_balance_change,e.is_migrating??!1]}}class js extends Oo{static deserialize(n,e){return new js(...super.resolveTokenOption(n,e))}}class Us{}let W5=(()=>{class t extends Us{resolve(e,i){return js.deserialize(e,i)}get type(){return"basic"}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();function Or(t){return un(1,arguments),Math.floor(function G5(t){return un(1,arguments),Zn(t).getTime()}(t)/1e3)}function _r(t){return un(1,arguments),Zn(1e3*Ii(t))}class Ga extends Oo{constructor(n,e,i,r,s,o,a,l,u,c,d){super(n,e,i,r,s,o,a),this._moduleName=l,this._moduleId=u,this._startTime=c,this._gradeThreshold=d}get moduleName(){return this._moduleName}set moduleName(n){this._moduleName=n}get moduleId(){return this._moduleId}set moduleId(n){this._moduleId=n}get startTime(){return this._startTime}set startTime(n){this._startTime=n}get gradeThreshold(){return this._gradeThreshold}set gradeThreshold(n){this._gradeThreshold=n}toJSON(){return{...super.toJSON(),module_name:this.moduleName,module_id:this.moduleId,start_time:Or(this.startTime),grade_threshold:this.gradeThreshold}}static resolveEarnByModuleTokenOption(n,e){if("string"!=typeof e.module_name||"string"!=typeof e.module_id||"number"!=typeof e.start_time||"number"!=typeof e.grade_threshold)throw new Error("Invalid data");return[...super.resolveTokenOption(n,e),e.module_name,e.module_id,_r(e.start_time),e.grade_threshold]}static deserialize(n,e){return new Ga(...this.resolveEarnByModuleTokenOption(n,e))}}let Z5=(()=>{class t extends Us{resolve(e,i){return Ga.deserialize(e,i)}get type(){return"earn-by-module"}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();class Hd extends Oo{constructor(n,e,i,r,s,o,a,l,u,c,d){super(n,e,i,r,s,o,a),this._quizName=l,this._quizId=u,this._startTime=c,this._gradeThreshold=d}get quizName(){return this._quizName}set quizName(n){this._quizName=n}get quizId(){return this._quizId}set quizId(n){this._quizId=n}get startTime(){return this._startTime}set startTime(n){this._startTime=n}get gradeThreshold(){return this._gradeThreshold}set gradeThreshold(n){this._gradeThreshold=n}toJSON(){return{...super.toJSON(),quiz_name:this.quizName,quiz_id:this.quizId,start_time:Or(this.startTime),grade_threshold:this.gradeThreshold}}static resolveEarnByQuizTokenOption(n,e){if("string"!=typeof e.quiz_name||"string"!=typeof e.quiz_id||"number"!=typeof e.start_time||"number"!=typeof e.grade_threshold)throw new Error("Invalid data");return[...super.resolveTokenOption(n,e),e.quiz_name,e.quiz_id,_r(e.start_time),e.grade_threshold]}static deserialize(n,e){return new Hd(...this.resolveEarnByQuizTokenOption(n,e))}}let Q5=(()=>{class t extends Us{resolve(e,i){return Hd.deserialize(e,i)}get type(){return"earn-by-quiz"}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();class $d extends Oo{constructor(n,e,i,r,s,o,a,l,u,c,d){super(n,e,i,r,s,o,a),this._surveyId=l,this._fieldName=u,this._startTime=c,this._endTime=d}get surveyId(){return this._surveyId}set surveyId(n){this._surveyId=n}get fieldName(){return this._fieldName}set fieldName(n){this._fieldName=n}get startTime(){return this._startTime}set startTime(n){this._startTime=n}get endTime(){return this._endTime}set endTime(n){this._endTime=n}toJSON(){return{...super.toJSON(),quiz_id:this.surveyId,field_name:this.fieldName,start_time:Or(this.startTime),end_time:Or(this.endTime)}}static resolveEarnByQuizTokenOption(n,e){if("string"!=typeof e.quiz_id||"string"!=typeof e.field_name||"number"!=typeof e.start_time||"number"!=typeof e.end_time)throw new Error("Invalid data");return[...super.resolveTokenOption(n,e),e.quiz_id,e.field_name,_r(e.start_time),_r(e.end_time)]}static deserialize(n,e){return new $d(...this.resolveEarnByQuizTokenOption(n,e))}}let K5=(()=>{class t extends Us{resolve(e,i){return $d.deserialize(e,i)}get type(){return"earn-by-survey"}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();class Za extends Oo{constructor(n,e,i,r,s,o,a,l,u,c,d,f){super(n,e,i,r,s,o,a),this._assignmentName=l,this._assignmentId=u,this._startTime=c,this._endTime=d,this._newDueTime=f}get assignmentName(){return this._assignmentName}set assignmentName(n){this._assignmentName=n}get assignmentId(){return this._assignmentId}set assignmentId(n){this._assignmentId=n}get startTime(){return this._startTime}set startTime(n){this._startTime=n}get endTime(){return this._endTime}set endTime(n){this._endTime=n}get newDueTime(){return this._newDueTime}set newDueTime(n){this._newDueTime=n}toJSON(){return{...super.toJSON(),assignment_name:this.assignmentName,assignment_id:this.assignmentId,start_time:Or(this.startTime),end_time:Or(this.endTime),new_due_time:Or(this.newDueTime)}}static resolveSpendForAssignmentResubmissionTokenOption(n,e){if("string"!=typeof e.assignment_name||"string"!=typeof e.assignment_id||"number"!=typeof e.start_time||"number"!=typeof e.end_time||"number"!=typeof e.new_due_time)throw new Error("Invalid data");return[...super.resolveTokenOption(n,e),e.assignment_name,e.assignment_id,_r(e.start_time),_r(e.end_time),_r(e.new_due_time)]}static deserialize(n,e){return new Za(...this.resolveSpendForAssignmentResubmissionTokenOption(n,e))}}let J5=(()=>{class t extends Us{resolve(e,i){return Za.deserialize(e,i)}get type(){return"spend-for-assignment-resubmission"}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();class pa extends Oo{constructor(n,e,i,r,s,o,a,l,u,c,d,f,h){super(n,e,i,r,s,o,a),this._quizName=l,this._quizId=u,this._startTime=c,this._endTime=d,this._newDueTime=f,this._excludeTokenOptionIds=h}get quizName(){return this._quizName}set quizName(n){this._quizName=n}get quizId(){return this._quizId}set quizId(n){this._quizId=n}get startTime(){return this._startTime}set startTime(n){this._startTime=n}get endTime(){return this._endTime}set endTime(n){this._endTime=n}get newDueTime(){return this._newDueTime}set newDueTime(n){this._newDueTime=n}get excludeTokenOptionIds(){return this._excludeTokenOptionIds}set excludeTokenOptionIds(n){this._excludeTokenOptionIds=n}toJSON(){return{...super.toJSON(),quiz_name:this.quizName,quiz_id:this.quizId,start_time:Or(this.startTime),end_time:Or(this.endTime),new_due_time:Or(this.newDueTime),exclude_token_option_ids:this._excludeTokenOptionIds}}static resolveSpendForLabDataTokenOption(n,e){if("string"!=typeof e.quiz_name||"string"!=typeof e.quiz_id||"number"!=typeof e.start_time||"number"!=typeof e.end_time||"number"!=typeof e.new_due_time||typeof e.exclude_token_option_ids<"u"&&"object"!=typeof e.exclude_token_option_ids||"object"==typeof e.exclude_token_option_ids&&!Array.isArray(e.exclude_token_option_ids))throw new Error("Invalid data");if(null!=e.exclude_token_option_ids)for(const i of e.exclude_token_option_ids)if("number"!=typeof i)throw new Error("Invalid data");return[...super.resolveTokenOption(n,e),e.quiz_name,e.quiz_id,_r(e.start_time),_r(e.end_time),_r(e.new_due_time),e.exclude_token_option_ids??[]]}static deserialize(n,e){return new pa(...this.resolveSpendForLabDataTokenOption(n,e))}}let X5=(()=>{class t extends Us{resolve(e,i){return pa.deserialize(e,i)}get type(){return"spend-for-lab-data"}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();class Lu extends Oo{constructor(n,e,i,r,s,o,a,l){super(n,e,i,r,s,o,a),this._excludeTokenOptionIds=l}get excludeTokenOptionIds(){return this._excludeTokenOptionIds}set excludeTokenOptionIds(n){this._excludeTokenOptionIds=n}toJSON(){return{...super.toJSON(),exclude_token_option_ids:this._excludeTokenOptionIds}}static resolveSpendForLabSwitchTokenOption(n,e){if(typeof e.exclude_token_option_ids<"u"&&"object"!=typeof e.exclude_token_option_ids||"object"==typeof e.exclude_token_option_ids&&!Array.isArray(e.exclude_token_option_ids))throw new Error("Invalid data");if(null!=e.exclude_token_option_ids)for(const i of e.exclude_token_option_ids)if("number"!=typeof i)throw new Error("Invalid data");return[...super.resolveTokenOption(n,e),e.exclude_token_option_ids??[]]}static deserialize(n,e){return new Lu(...this.resolveSpendForLabSwitchTokenOption(n,e))}}let e6=(()=>{class t extends Us{resolve(e,i){return Lu.deserialize(e,i)}get type(){return"spend-for-lab-switch"}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();class Pu extends Oo{constructor(n,e,i,r,s,o,a,l){super(n,e,i,r,s,o,a),this._initialized=!1,this._withdrawTokenOptionId=l}initialize(){if(this._initialized)return;this._initialized=!0;const n=this.group.configuration.getTokenOptionById(this.withdrawTokenOptionId);!n||!this.validateTokenOptionType(n)||(this._withdrawTokenOption=n)}get withdrawTokenOption(){if(this.initialize(),this._withdrawTokenOption)return this._withdrawTokenOption}get withdrawTokenOptionId(){return this._withdrawTokenOptionId}set withdrawTokenOptionId(n){this._withdrawTokenOptionId=n,this._initialized=!1,this.initialize()}toJSON(){return{...super.toJSON(),withdraw_token_option_id:this.withdrawTokenOptionId}}static resolveWithdrawTokenOption(n,e){if("number"!=typeof e.withdraw_token_option_id)throw new Error("Invalid data");return[...super.resolveTokenOption(n,e),e.withdraw_token_option_id]}}class im extends Pu{validateTokenOptionType(n){return n instanceof Za}get startTime(){return this.withdrawTokenOption?.startTime}get endTime(){return this.withdrawTokenOption?.endTime}static deserialize(n,e){return new im(...super.resolveWithdrawTokenOption(n,e))}}let t6=(()=>{class t extends Us{resolve(e,i){return im.deserialize(e,i)}get type(){return"withdraw-assignment-resubmission"}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();class rm extends Pu{validateTokenOptionType(n){return n instanceof pa}get startTime(){return this.withdrawTokenOption?.startTime}get endTime(){return this.withdrawTokenOption?.endTime}static deserialize(n,e){return new rm(...super.resolveWithdrawTokenOption(n,e))}}let n6=(()=>{class t extends Us{resolve(e,i){return rm.deserialize(e,i)}get type(){return"withdraw-lab-data"}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();class jd extends Pu{validateTokenOptionType(n){return n instanceof Lu}static deserialize(n,e){return new jd(...super.resolveWithdrawTokenOption(n,e))}}const r6=[W5,Z5,Q5,J5,X5,K5,t6,n6,e6,(()=>{class t extends Us{resolve(e,i){return jd.deserialize(e,i)}get type(){return"withdraw-lab-switch"}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})()],UI=new Pe("TOKEN_OPTION_RESOLVERS");let s6=(()=>{class t{constructor(e){this._tokenOptionResolversMap=new Map,e&&e.forEach(i=>{this._tokenOptionResolversMap.set(i.type,i)})}getTokenOptionResolver(e){const i=this._tokenOptionResolversMap.get(e);if(!i)throw new Error("Unsupported token option type");return i}resolveTokenOption(e,i){if("string"!=typeof i.type)throw new Error("Invalid data");return this.getTokenOptionResolver(i.type).resolve(e,i)}}return t.\u0275fac=function(e){return new(e||t)(ee(UI,8))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var o6=ue(191),l6=ue(867).e,u6=/<(![a-zA-Z\s]+)>/;class d6 extends Fu{get infoDescription(){return"Extend Assignment/Quiz Lock Date To"}process(n){return n.map(e=>{const i=this.validate(e);return null==i?"":ha(i.newDueTime,"MMM dd, yyyy kk:mm:ss")})}validate(n){const e=n.newDueTime;return null!=e&&Pd(e)?n:void 0}}let Vb,Yr=(()=>{class t{constructor(e,i){this.canvasService=e,this.tokenOptionResolverRegistry=i}resolvePageContent(e){const i=function c6(t){if("string"!=typeof t)throw new TypeError("First argument must be a string");if(""===t)return[];var e,n=t.match(u6);return n&&n[1]&&(e=n[1]),l6(o6(t),null,e)}(e);for(const r of i)if("tag"==r.type&&"p"==r.name&&"text"==r.children[0]?.type&&"string"==typeof r.children[0]?.data)return r.children[0]?.data;throw new Error("Page resolve failed")}readConfigurationFromPage(e,i){var r=this;return(0,b.Z)(function*(){let s=yield r.canvasService.getPageContentByName(e.id,i);return s=r.resolvePageContent(s),s})()}writeConfigurationToPage(e,i,r){var s=this;return(0,b.Z)(function*(){yield s.canvasService.modifyPage(e.id,i,`<p>${r}</p>`)})()}saveConfiguration(e){var i=this;return(0,b.Z)(function*(){const r=yield i.canvasService.getPageIdByName(e.course.id,t.TOKEN_ATM_CONFIGURATION_PAGE_NAME);yield i.writeConfigurationToPage(e.course,r,JSON.stringify(e))})()}getAssignmentGroupId(e){var i=this;return(0,b.Z)(function*(){return yield i.canvasService.getAssignmentGroupIdByName(e.course.id,t.TOKEN_ATM_ASSIGNMENT_GROUP_PREFIX+` - ${e.uid} - ${e.suffix}`)})()}getModuleId(e){var i=this;return(0,b.Z)(function*(){return yield i.canvasService.getModuleIdByName(e.course.id,t.TOKEN_ATM_MODULE_PREFIX+` - ${e.uid} - ${e.suffix}`)})()}getTokenATMConfiguration(e){var i=this;return(0,b.Z)(function*(){const r=yield i.readConfigurationFromPage(e,t.TOKEN_ATM_CONFIGURATION_PAGE_NAME),s=yield i.readConfigurationFromPage(e,t.TOKEN_ATM_SECURE_CONFIGURATION_PAGE_NAME),o=JSON.parse(r),a=JSON.parse(s);return Xp.deserialize(e,o,a,(l,u)=>i.tokenOptionResolverRegistry.resolveTokenOption(l,u))})()}updateTokenOptionGroupMetadata(e){var i=this;return(0,b.Z)(function*(){const r=e.configuration.course.id,s=e.quizId;yield i.canvasService.modifyQuiz(r,s,t.TOKEN_ATM_QUIZ_PREFIX+e.name,e.description)})()}updateTokenOptionGroup(e){var i=this;return(0,b.Z)(function*(){const r=e.configuration.course.id,s=e.quizId;let o=!1;e.isPublished&&(o=yield i.canvasService.canQuizUnpublished(r,s)),e.isPublished&&o&&(o=yield i.canvasService.changeQuizPublishState(r,s,!1)),yield i.canvasService.modifyQuiz(r,s,t.TOKEN_ATM_QUIZ_PREFIX+e.name,e.description);const a=new q5("Choose a token option",new $5([new j5,new U5,new B5,new d6,new Y5,new SW]).process(e.availableTokenOptions),0,e.availableTokenOptions.map(l=>l.prompt));return yield i.canvasService.replaceQuizQuestions(r,s,[a]),yield i.saveConfiguration(e.configuration),e.isPublished&&o&&(yield i.canvasService.changeQuizPublishState(r,s,!0)),!e.isPublished||o})()}addNewTokenOptionGroup(e,i,r,s=!0){var o=this;return(0,b.Z)(function*(){s&&e.configuration.addTokenOptionGroup(e);const a=e.configuration.course.id;null==i&&(i=yield o.getAssignmentGroupId(e.configuration));const l=t.TOKEN_ATM_QUIZ_PREFIX+e.name,u=yield o.canvasService.createQuiz(a,i,l,e.description);e.quizId=u,null==r&&(r=yield o.getModuleId(e.configuration)),yield o.canvasService.addModuleItem(a,r,"Quiz",u),yield o.updateTokenOptionGroup(e),e.isPublished&&(yield o.canvasService.changeQuizPublishState(a,u,!0))})()}deleteTokenOptionGroup(e,i=!0){var r=this;return(0,b.Z)(function*(){i&&e.configuration.deleteTokenOptionGroup(e),yield r.canvasService.deleteQuiz(e.configuration.course.id,e.quizId),i&&(yield r.saveConfiguration(e.configuration))})()}publishTokenOptionGroup(e){var i=this;return(0,b.Z)(function*(){e.isPublished||(yield i.canvasService.changeQuizPublishState(e.configuration.course.id,e.quizId,!0),e.isPublished=!0,yield i.saveConfiguration(e.configuration))})()}unpublishTokenOptionGroup(e){var i=this;return(0,b.Z)(function*(){return!(!e.isPublished&&!(yield i.canvasService.canQuizUnpublished(e.configuration.course.id,e.quizId))||!(yield i.canvasService.changeQuizPublishState(e.configuration.course.id,e.quizId,!1))||(e.isPublished=!1,yield i.saveConfiguration(e.configuration),0))})()}deleteGeneratedContent(e){var i=this;return(0,b.Z)(function*(){yield i.canvasService.deleteAssignmentGroup(e.course.id,yield i.getAssignmentGroupId(e)),yield i.canvasService.deleteModule(e.course.id,yield i.getModuleId(e)),yield i.canvasService.deletePage(e.course.id,yield i.canvasService.getPageIdByName(e.course.id,t.TOKEN_ATM_SECURE_CONFIGURATION_PAGE_NAME))})()}generateContent(e){var i=this;return(0,b.Z)(function*(){const r=e.course.id;yield i.canvasService.createPage(r,t.TOKEN_ATM_SECURE_CONFIGURATION_PAGE_NAME,`<p>${JSON.stringify(e.getSecureConfig())}</p>`);const s=yield i.canvasService.createAssignmentGroup(r,t.TOKEN_ATM_ASSIGNMENT_GROUP_PREFIX+` - ${e.uid} - ${e.suffix}`),o=yield i.canvasService.createModule(r,t.TOKEN_ATM_MODULE_PREFIX+` - ${e.uid} - ${e.suffix}`);yield i.canvasService.publishModule(r,o);const a=yield i.canvasService.createAssignment(r,s,t.TOKEN_ATM_LOG_ASSIGNMENT_NAME,e.description);yield i.canvasService.addModuleItem(r,o,"Assignment",a),e.logAssignmentId=a;for(const l of e.tokenOptionGroups)yield i.addNewTokenOptionGroup(l,s,o,!1);yield i.saveConfiguration(e)})()}deleteAll(e){var i=this;return(0,b.Z)(function*(){yield i.deleteGeneratedContent(e),yield i.canvasService.deletePage(e.course.id,yield i.canvasService.getPageIdByName(e.course.id,t.TOKEN_ATM_CONFIGURATION_PAGE_NAME))})()}createTokenATMConfiguration(e,i="",r=""){var s=this;return(0,b.Z)(function*(){const o=new Xp(e,"",Jp(8).toUpperCase(),i,r,1,1,[],(a,l)=>s.tokenOptionResolverRegistry.resolveTokenOption(a,l),Jp(32),window.crypto.getRandomValues(new Uint8Array(32)));return yield s.canvasService.createPage(e.id,t.TOKEN_ATM_CONFIGURATION_PAGE_NAME,`<p>${JSON.stringify(o)}</p>`),yield s.generateContent(o),o})()}regenerateContent(e,i=!1){var r=this;return(0,b.Z)(function*(){if(yield r.deleteGeneratedContent(e),e.uid=Jp(8).toUpperCase(),e.regenerateSecureConfig(),i)for(const s of e.tokenOptionGroups){s.isPublished=!1;for(const o of s.tokenOptions)o.isMigrating=!0}yield r.generateContent(e)})()}}return t.TOKEN_ATM_CONFIGURATION_PAGE_NAME="Token ATM Configuration",t.TOKEN_ATM_SECURE_CONFIGURATION_PAGE_NAME="Token ATM Encryption Key (PLEASE DO NOT PUBLISH IT)",t.TOKEN_ATM_ASSIGNMENT_GROUP_PREFIX="Token ATM",t.TOKEN_ATM_MODULE_PREFIX="Token ATM",t.TOKEN_ATM_QUIZ_PREFIX="Token ATM Request Submission - ",t.TOKEN_ATM_LOG_ASSIGNMENT_NAME="Token ATM Log",t.\u0275fac=function(e){return new(e||t)(ee(An),ee(s6))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),f6=(()=>{class t{constructor(){this._focusTrapStack=[]}register(e){this._focusTrapStack=this._focusTrapStack.filter(r=>r!==e);let i=this._focusTrapStack;i.length&&i[i.length-1]._disable(),i.push(e),e._enable()}deregister(e){e._disable();const i=this._focusTrapStack,r=i.indexOf(e);-1!==r&&(i.splice(r,1),i.length&&i[i.length-1]._enable())}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();try{Vb=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Vb=!1}let YI=(()=>{class t{constructor(e){this._platformId=e,this.isBrowser=this._platformId?NM(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Vb)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(ee(Mh))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),zI=(()=>{class t{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function p6(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function h6(t){try{return t.frameElement}catch{return null}}(function C6(t){return t.ownerDocument&&t.ownerDocument.defaultView||window}(e));if(i&&(-1===WI(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),s=WI(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function b6(t){let n=t.nodeName.toLowerCase(),e="input"===n&&t.type;return"text"===e||"password"===e||"select"===n||"textarea"===n}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function w6(t){return!function _6(t){return function y6(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function m6(t){let n=t.nodeName.toLowerCase();return"input"===n||"select"===n||"button"===n||"textarea"===n}(t)||function g6(t){return function v6(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||qI(t))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}}return t.\u0275fac=function(e){return new(e||t)(ee(YI))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function qI(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let n=t.getAttribute("tabindex");return"-32768"!=n&&!(!n||isNaN(parseInt(n,10)))}function WI(t){if(!qI(t))return null;const n=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(n)?-1:n}function GI(t){return null!=t&&"false"!=`${t}`}class D6{constructor(n,e,i,r,s=!1){this._element=n,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(n){this._enabled=n,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}destroy(){const n=this._startAnchor,e=this._endAnchor;n&&(n.removeEventListener("focus",this.startAnchorListener),n.parentNode&&n.parentNode.removeChild(n)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(n=>{this._executeOnStable(()=>n(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(n=>{this._executeOnStable(()=>n(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(n=>{this._executeOnStable(()=>n(this.focusLastTabbableElement()))})}_getRegionBoundary(n){let e=this._element.querySelectorAll(`[cdk-focus-region-${n}], [cdkFocusRegion${n}], [cdk-focus-${n}]`);for(let i=0;i<e.length;i++)e[i].hasAttribute(`cdk-focus-${n}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${n}', use 'cdkFocusRegion${n}' instead. The deprecated attribute will be removed in 8.0.0.`,e[i]):e[i].hasAttribute(`cdk-focus-region-${n}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${n}', use 'cdkFocusRegion${n}' instead. The deprecated attribute will be removed in 8.0.0.`,e[i]);return"start"==n?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const n=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(n){if(n.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",n),!this._checker.isFocusable(n)){const e=this._getFirstTabbableElement(n);return e?.focus(),!!e}return n.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){const n=this._getRegionBoundary("start");return n&&n.focus(),!!n}focusLastTabbableElement(){const n=this._getRegionBoundary("end");return n&&n.focus(),!!n}hasAttached(){return this._hasAttached}_getFirstTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;let e=n.children||n.childNodes;for(let i=0;i<e.length;i++){let r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;let e=n.children||n.childNodes;for(let i=e.length-1;i>=0;i--){let r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const n=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,n),n.classList.add("cdk-visually-hidden"),n.classList.add("cdk-focus-trap-anchor"),n.setAttribute("aria-hidden","true"),n}_toggleAnchorTabIndex(n,e){n?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(n){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}_executeOnStable(n){this._ngZone.isStable?n():this._ngZone.onStable.pipe(To(1)).subscribe(n)}}let T6=(()=>{class t{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new D6(e,this._checker,this._ngZone,this._document,i)}}return t.\u0275fac=function(e){return new(e||t)(ee(zI),ee(hn),ee(ui))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),S6=(()=>{class t{constructor(e,i,r){this._elementRef=e,this._focusTrapFactory=i,this._previouslyFocusedElement=null,this._autoCapture=!1,this._document=r,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(e){this.focusTrap.enabled=GI(e)}get autoCapture(){return this._autoCapture}set autoCapture(e){this._autoCapture=GI(e)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(e){const i=e.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady()}}return t.\u0275fac=function(e){return new(e||t)(T(zt),T(T6),T(ui))},t.\u0275dir=Ve({type:t,selectors:[["","focusTrap",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["focusTrap"],features:[Hi]}),t})(),ZI=(()=>{class t{static forRoot(){return{ngModule:t,providers:[f6,YI,zI]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=_i({type:t}),t.\u0275inj=oi({imports:[mu]}),t})();class k6{constructor(n,e){this.open=n,this.close=e||n}isManual(){return"manual"===this.open||"manual"===this.close}}const M6={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};function Bb(t,n=M6){const e=(t||"").trim();if(0===e.length)return[];const i=e.split(/\s+/).map(s=>s.split(":")).map(s=>{const o=n[s[0]]||s;return new k6(o[0],o[1])}),r=i.filter(s=>s.isManual());if(r.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===r.length&&i.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return i}const fi=typeof window<"u"&&window||{};var sm=(()=>(function(t){t.isBs4="bs4",t.isBs5="bs5"}(sm||(sm={})),sm))();let Io;function QI(){const t=fi.document.createElement("span");t.innerText="testing bs version",t.classList.add("d-none"),t.classList.add("pl-1"),fi.document.head.appendChild(t);const n=fi.getComputedStyle(t).paddingLeft;return n&&parseFloat(n)?(fi.document.head.removeChild(t),"bs4"):(fi.document.head.removeChild(t),"bs5")}function Vu(){return{isBs4:(Io||(Io=QI()),"bs4"===Io),isBs5:(Io||(Io=QI()),"bs5"===Io)}}function F6(){const t="Change";return function(e,i){const r=` __${i}Value`;Object.defineProperty(e,i,{get(){return this[r]},set(s){const o=this[r];this[r]=s,o!==s&&this[i+t]&&this[i+t].emit(s)}})}}class N6{static reflow(n){}static getStyles(n){let e=n.ownerDocument.defaultView;return(!e||!e.opener)&&(e=fi),e.getComputedStyle(n)}static stackOverflowConfig(){const n=function x6(){const t=Vu(),n=Object.keys(t).find(e=>t[e]);return sm[n]}();return{crossorigin:"anonymous",integrity:"bs5"===n?"sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We":"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2",cdnLink:"bs5"===n?"https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css":"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"}}}typeof console>"u"||console;const P6=["addListener","removeListener"],V6=["addEventListener","removeEventListener"],B6=["on","off"];function om(t,n,e,i){if(Q(e)&&(i=e,e=void 0),i)return om(t,n,e).pipe(cv(i));const[r,s]=function j6(t){return Q(t.addEventListener)&&Q(t.removeEventListener)}(t)?V6.map(o=>a=>t[o](n,a,e)):function H6(t){return Q(t.addListener)&&Q(t.removeListener)}(t)?P6.map(JI(t,n)):function $6(t){return Q(t.on)&&Q(t.off)}(t)?B6.map(JI(t,n)):[];if(!r&&sc(t))return Rt(o=>om(o,n,e))(R(t));if(!r)throw new TypeError("Invalid event target");return new We(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return r(a),()=>s(a)})}function JI(t,n){return e=>i=>t[e](n,i)}class U6 extends ve{constructor(n,e){super()}schedule(n,e=0){return this}}const am={setInterval(t,n,...e){const{delegate:i}=am;return i?.setInterval?i.setInterval(t,n,...e):setInterval(t,n,...e)},clearInterval(t){const{delegate:n}=am;return(n?.clearInterval||clearInterval)(t)},delegate:void 0};class Hb extends U6{constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){var i;if(this.closed)return this;this.state=n;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,e)),this.pending=!0,this.delay=e,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(s,this.id,e),this}requestAsyncId(n,e,i=0){return am.setInterval(n.flush.bind(n,this),i)}recycleAsyncId(n,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;null!=e&&am.clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(n,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let r,i=!1;try{this.work(n)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:n,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,me(i,this),null!=n&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,super.unsubscribe()}}}const Ud={schedule(t){let n=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=Ud;i&&(n=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=n(s=>{e=void 0,t(s)});return new ve(()=>e?.(r))},requestAnimationFrame(...t){const{delegate:n}=Ud;return(n?.requestAnimationFrame||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){const{delegate:n}=Ud;return(n?.cancelAnimationFrame||cancelAnimationFrame)(...t)},delegate:void 0},XI={now:()=>(XI.delegate||Date).now(),delegate:void 0};class Yd{constructor(n,e=Yd.now){this.schedulerActionCtor=n,this.now=e}schedule(n,e=0,i){return new this.schedulerActionCtor(this,n).schedule(i,e)}}Yd.now=XI.now;class $b extends Yd{constructor(n,e=Yd.now){super(n,e),this.actions=[],this._active=!1}flush(n){const{actions:e}=this;if(this._active)return void e.push(n);let i;this._active=!0;do{if(i=n.execute(n.state,n.delay))break}while(n=e.shift());if(this._active=!1,i){for(;n=e.shift();)n.unsubscribe();throw i}}}const q6=new class z6 extends $b{flush(n){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;n=n||i.shift();do{if(r=n.execute(n.state,n.delay))break}while((n=i[0])&&n.id===e&&i.shift());if(this._active=!1,r){for(;(n=i[0])&&n.id===e&&i.shift();)n.unsubscribe();throw r}}}(class Y6 extends Hb{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,i=0){return null!==i&&i>0?super.requestAsyncId(n,e,i):(n.actions.push(this),n._scheduled||(n._scheduled=Ud.requestAnimationFrame(()=>n.flush(void 0))))}recycleAsyncId(n,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(n,e,i);const{actions:s}=n;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(Ud.cancelAnimationFrame(e),n._scheduled=void 0)}});var lm=(()=>(function(t){t.top="top",t.bottom="bottom",t.left="left",t.right="right",t.auto="auto",t.end="right",t.start="left",t["top left"]="top left",t["top right"]="top right",t["right top"]="right top",t["right bottom"]="right bottom",t["bottom right"]="bottom right",t["bottom left"]="bottom left",t["left bottom"]="left bottom",t["left top"]="left top",t["top start"]="top left",t["top end"]="top right",t["end top"]="right top",t["end bottom"]="right bottom",t["bottom end"]="bottom right",t["bottom start"]="bottom left",t["start bottom"]="start bottom",t["start top"]="left top"}(lm||(lm={})),lm))(),Bu=(()=>(function(t){t.top="top",t.bottom="bottom",t.left="start",t.right="end",t.auto="auto",t.end="end",t.start="start",t["top left"]="top start",t["top right"]="top end",t["right top"]="end top",t["right bottom"]="end bottom",t["bottom right"]="bottom end",t["bottom left"]="bottom start",t["left bottom"]="start bottom",t["left top"]="start top",t["top start"]="top start",t["top end"]="top end",t["end top"]="end top",t["end bottom"]="end bottom",t["bottom end"]="bottom end",t["bottom start"]="bottom start",t["start bottom"]="start bottom",t["start top"]="start top"}(Bu||(Bu={})),Bu))();function Qa(t,n){if(1!==t.nodeType)return[];const i=t.ownerDocument.defaultView?.getComputedStyle(t,null);return n?i&&i[n]:i}function jb(t){if(!t)return document.documentElement;let i,e=t?.offsetParent;for(;null===e&&t.nextElementSibling&&i!==t.nextElementSibling;)i=t.nextElementSibling,e=i.offsetParent;const r=e&&e.nodeName;return r&&"BODY"!==r&&"HTML"!==r?e&&-1!==["TH","TD","TABLE"].indexOf(e.nodeName)&&"static"===Qa(e,"position")?jb(e):e:i?i.ownerDocument.documentElement:document.documentElement}function Ub(t){return null!==t.parentNode?Ub(t.parentNode):t}function um(t,n){if(!(t&&t.nodeType&&n&&n.nodeType))return document.documentElement;const e=t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_FOLLOWING,i=e?t:n,r=e?n:t,s=document.createRange();s.setStart(i,0),s.setEnd(r,0);const o=s.commonAncestorContainer;if(t!==o&&n!==o||i.contains(r))return function W6(t){const{nodeName:n}=t;return"BODY"!==n&&("HTML"===n||jb(t.firstElementChild)===t)}(o)?o:jb(o);const a=Ub(t);return a.host?um(a.host,n):um(t,Ub(n).host)}function eA(t){if(!t||!t.parentElement)return document.documentElement;let n=t.parentElement;for(;n?.parentElement&&"none"===Qa(n,"transform");)n=n.parentElement;return n||document.documentElement}function tA(t,n){const e="x"===n?"Left":"Top",i="Left"===e?"Right":"Bottom";return parseFloat(t[`border${e}Width`])+parseFloat(t[`border${i}Width`])}function nA(t,n,e,i){return Math.max(n[`offset${t}`],n[`scroll${t}`],e[`client${t}`],e[`offset${t}`],e[`scroll${t}`],0)}function iA(t){const n=t.body,e=t.documentElement;return{height:nA("Height",n,e),width:nA("Width",n,e)}}function zd(t){return{...t,right:(t.left||0)+t.width,bottom:(t.top||0)+t.height}}function kn(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function rA(t){const n=t.getBoundingClientRect();if(!(n&&kn(n.top)&&kn(n.left)&&kn(n.bottom)&&kn(n.right)))return n;const e={left:n.left,top:n.top,width:n.right-n.left,height:n.bottom-n.top},i="HTML"===t.nodeName?iA(t.ownerDocument):void 0,r=i?.width||t.clientWidth||kn(n.right)&&kn(e.left)&&n.right-e.left||0,s=i?.height||t.clientHeight||kn(n.bottom)&&kn(e.top)&&n.bottom-e.top||0;let o=t.offsetWidth-r,a=t.offsetHeight-s;if(o||a){const l=Qa(t);o-=tA(l,"x"),a-=tA(l,"y"),e.width-=o,e.height-=a}return zd(e)}function Yb(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function zb(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}const{overflow:n,overflowX:e,overflowY:i}=Qa(t);return/(auto|scroll|overlay)/.test(String(n)+String(i)+String(e))?t:zb(Yb(t))}function qb(t,n,e=!1){const i="HTML"===n.nodeName,r=rA(t),s=rA(n),a=(zb(t),Qa(n)),l=parseFloat(a.borderTopWidth),u=parseFloat(a.borderLeftWidth);e&&i&&(s.top=Math.max(s.top??0,0),s.left=Math.max(s.left??0,0));const c=zd({top:(r.top??0)-(s.top??0)-l,left:(r.left??0)-(s.left??0)-u,width:r.width,height:r.height});if(c.marginTop=0,c.marginLeft=0,i){const d=parseFloat(a.marginTop),f=parseFloat(a.marginLeft);kn(c.top)&&(c.top-=l-d),kn(c.bottom)&&(c.bottom-=l-d),kn(c.left)&&(c.left-=u-f),kn(c.right)&&(c.right-=u-f),c.marginTop=d,c.marginLeft=f}return c}function sA(t,n="top"){const e="top"===n?"scrollTop":"scrollLeft",i=t.nodeName;return"BODY"===i||"HTML"===i?(t.ownerDocument.scrollingElement||t.ownerDocument.documentElement)[e]:t[e]}function oA(t){const n=t.nodeName;return"BODY"!==n&&"HTML"!==n&&("fixed"===Qa(t,"position")||oA(Yb(t)))}function Wb(t,n,e=0,i,r=!1){let s={top:0,left:0};const o=r?eA(t):um(t,n);if("viewport"===i)s=function Z6(t,n=!1){const e=t.ownerDocument.documentElement,i=qb(t,e),r=Math.max(e.clientWidth,window.innerWidth||0),s=Math.max(e.clientHeight,window.innerHeight||0),o=n?0:sA(e),a=n?0:sA(e,"left");return zd({top:o-Number(i?.top)+Number(i?.marginTop),left:a-Number(i?.left)+Number(i?.marginLeft),width:r,height:s})}(o,r);else{let a;"scrollParent"===i?(a=zb(Yb(n)),"BODY"===a.nodeName&&(a=t.ownerDocument.documentElement)):a="window"===i?t.ownerDocument.documentElement:i;const l=qb(a,o,r);if(l&&"HTML"===a.nodeName&&!oA(o)){const{height:u,width:c}=iA(t.ownerDocument);kn(s.top)&&kn(l.top)&&kn(l.marginTop)&&(s.top+=l.top-l.marginTop),kn(s.top)&&(s.bottom=Number(u)+Number(l.top)),kn(s.left)&&kn(l.left)&&kn(l.marginLeft)&&(s.left+=l.left-l.marginLeft),kn(s.top)&&(s.right=Number(c)+Number(l.left))}else l&&(s=l)}return kn(s.left)&&(s.left+=e),kn(s.top)&&(s.top+=e),kn(s.right)&&(s.right-=e),kn(s.bottom)&&(s.bottom-=e),s}function Q6({width:t,height:n}){return t*n}function aA(t,n,e,i,r=["top","bottom","right","left"],s="viewport",o=0){if(-1===t.indexOf("auto"))return t;const a=Wb(e,i,o,s),l={top:{width:a?.width??0,height:(n?.top??0)-(a?.top??0)},right:{width:(a?.right??0)-(n?.right??0),height:a?.height??0},bottom:{width:a?.width??0,height:(a?.bottom??0)-(n?.bottom??0)},left:{width:(n.left??0)-(a?.left??0),height:a?.height??0}},u=Object.keys(l).map(h=>({position:h,...l[h],area:Q6(l[h])})).sort((h,p)=>p.area-h.area);let c=u.filter(({width:h,height:p})=>h>=e.clientWidth&&p>=e.clientHeight);c=c.filter(({position:h})=>r.some(p=>p===h));const d=c.length>0?c[0].position:u[0].position,f=t.split(" ")[1];return e.className=e.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${Vu().isBs5?Bu[d]:d}`),d+(f?`-${f}`:"")}const cm=(t,n=0)=>t?parseFloat(t):n;function lA(t){const e=t.ownerDocument.defaultView?.getComputedStyle(t),i=cm(e?.marginTop)+cm(e?.marginBottom),r=cm(e?.marginLeft)+cm(e?.marginRight);return{width:Number(t.offsetWidth)+r,height:Number(t.offsetHeight)+i}}function uA(t,n,e){return qb(n,e?eA(t):um(t,n),e)}function Gb(t,n,e){const i=e.split(" ")[0],r=lA(t),s={width:r.width,height:r.height},o=-1!==["right","left"].indexOf(i),a=o?"top":"left",l=o?"left":"top",u=o?"height":"width",c=o?"width":"height";return s[a]=(n[a]??0)+n[u]/2-r[u]/2,s[l]=i===l?(n[l]??0)-r[c]:n[function J6(t){const n={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,e=>n[e])}(l)]??0,s}function cA(t,n){return!!t.modifiers[n]?.enabled}const e8={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function dm(t,n){return!!Vu().isBs5&&e8[n].includes(t)}function dA(t,n,e){!t||!n||Object.keys(n).forEach(i=>{let r="";-1!==["width","height","top","right","bottom","left"].indexOf(i)&&function G6(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(Number(t))}(n[i])&&(r="px"),e?e.setStyle(t,i,`${String(n[i])}${r}`):t.style[i]=String(n[i])+r})}function i8(t){let n=t.offsets.target;const e=t.instance.target.querySelector(".arrow");if(!e)return t;const i=-1!==["left","right"].indexOf(t.placement.split(" ")[0]),r=i?"height":"width",s=i?"Top":"Left",o=s.toLowerCase(),a=i?"left":"top",l=i?"bottom":"right",u=lA(e)[r],c=t.placement.split(" ")[1];(t.offsets.host[l]??0)-u<(n[o]??0)&&(n[o]-=(n[o]??0)-((t.offsets.host[l]??0)-u)),Number(t.offsets.host[o])+Number(u)>(n[l]??0)&&(n[o]+=Number(t.offsets.host[o])+Number(u)-Number(n[l])),n=zd(n);const d=Qa(t.instance.target),f=parseFloat(d[`margin${s}`])||0,h=parseFloat(d[`border${s}Width`])||0;let p;if(c){const k=parseFloat(d.borderRadius)||0,I=Number(f+h+k);p=o===c?Number(t.offsets.host[o])+I:Number(t.offsets.host[o])+Number(t.offsets.host[r]-I)}else p=Number(t.offsets.host[o])+Number(t.offsets.host[r]/2-u/2);let v=p-(n[o]??0)-f-h;return v=Math.max(Math.min(n[r]-(u+5),v),0),t.offsets.arrow={[o]:Math.round(v),[a]:""},t.instance.arrow=e,t}function r8(t){if(t.offsets.target=zd(t.offsets.target),!cA(t.options,"flip"))return t.offsets.target={...t.offsets.target,...Gb(t.instance.target,t.offsets.host,t.placement)},t;const n=Wb(t.instance.target,t.instance.host,0,"viewport",!1);let e=t.placement.split(" ")[0],i=t.placement.split(" ")[1]||"";const a=aA("auto",t.offsets.host,t.instance.target,t.instance.host,t.options.allowedPositions),l=[e,a];return l.forEach((u,c)=>{if(e!==u||l.length===c+1)return;e=t.placement.split(" ")[0];const d="left"===e&&Math.floor(t.offsets.target.right??0)>Math.floor(t.offsets.host.left??0)||"right"===e&&Math.floor(t.offsets.target.left??0)<Math.floor(t.offsets.host.right??0)||"top"===e&&Math.floor(t.offsets.target.bottom??0)>Math.floor(t.offsets.host.top??0)||"bottom"===e&&Math.floor(t.offsets.target.top??0)<Math.floor(t.offsets.host.bottom??0),f=Math.floor(t.offsets.target.left??0)<Math.floor(n.left??0),h=Math.floor(t.offsets.target.right??0)>Math.floor(n.right??0),p=Math.floor(t.offsets.target.top??0)<Math.floor(n.top??0),v=Math.floor(t.offsets.target.bottom??0)>Math.floor(n.bottom??0),k="left"===e&&f||"right"===e&&h||"top"===e&&p||"bottom"===e&&v,I=-1!==["top","bottom"].indexOf(e),z=I&&"left"===i&&f||I&&"right"===i&&h||!I&&"left"===i&&p||!I&&"right"===i&&v;(d||k||z)&&((d||k)&&(e=l[c+1]),z&&(i=function X6(t){return"right"===t?"left":"left"===t?"right":t}(i)),t.placement=e+(i?` ${i}`:""),t.offsets.target={...t.offsets.target,...Gb(t.instance.target,t.offsets.host,t.placement)})}),t}function o8(t){if(!cA(t.options,"preventOverflow"))return t;const n="transform",e=t.instance.target.style,{top:i,left:r,[n]:s}=e;e.top="",e.left="",e[n]="";const o=Wb(t.instance.target,t.instance.host,0,t.options.modifiers.preventOverflow?.boundariesElement||"scrollParent",!1);e.top=i,e.left=r,e[n]=s;const l={primary(u){let c=t.offsets.target[u];return(t.offsets.target[u]??0)<(o[u]??0)&&(c=Math.max(t.offsets.target[u]??0,o[u]??0)),{[u]:c}},secondary(u){const c="right"===u,d=c?"left":"top";let h=t.offsets.target[d];return(t.offsets.target[u]??0)>(o[u]??0)&&(h=Math.min(t.offsets.target[d]??0,(o[u]??0)-t.offsets.target[c?"width":"height"])),{[d]:h}}};return["left","right","top","bottom"].forEach(u=>{const c=-1!==["left","top","start"].indexOf(u)?l.primary:l.secondary;t.offsets.target={...t.offsets.target,...c(u)}}),t}function a8(t){const n=t.placement,e=n.split(" ")[0],i=n.split(" ")[1];if(i){const{host:r,target:s}=t.offsets,o=-1!==["bottom","top"].indexOf(e),a=o?"left":"top",l=o?"width":"height",u={start:{[a]:r[a]},end:{[a]:(r[a]??0)+r[l]-s[l]}};t.offsets.target={...s,[a]:a===i?u.start[a]:u.end[a]}}return t}const u8=new class l8{position(n,e){return this.offset(n,e)}offset(n,e){return uA(e,n)}positionElements(n,e,i,r,s){const o=[r8,a8,o8,i8],l=function s8(t,n,e,i){if(!t||!n)return;const r=uA(t,n);!e.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)&&!e.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)&&(e="auto");const s=!!e.match(/auto/g);let o=e.match(/auto\s(left|right|top|bottom|start|end)/)?e.split(" ")[1]||"auto":e;const a=o.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);return a&&(o=a[1]+(a[2]?` ${a[2]}`:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(o)&&(o="auto"),o=aA(o,r,t,n,i?i.allowedPositions:void 0),{options:i||{modifiers:{}},instance:{target:t,host:n,arrow:void 0},offsets:{target:Gb(t,r,o),host:r,arrow:void 0},positionFixed:!1,placement:o,placementAuto:s}}(e,n,lm[i],s);if(l)return o.reduce((u,c)=>c(u),l)}};function c8(t,n,e,i,r,s){const o=u8.positionElements(t,n,e,i,r);if(!o)return;const a=function K6(t){return{width:t.offsets.target.width,height:t.offsets.target.height,left:Math.floor(t.offsets.target.left??0),top:Math.round(t.offsets.target.top??0),bottom:Math.round(t.offsets.target.bottom??0),right:Math.floor(t.offsets.target.right??0)}}(o);dA(n,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${a.left}px, ${a.top}px, 0px)`},s),o.instance.arrow&&dA(o.instance.arrow,o.offsets.arrow,s),function n8(t,n){const e=t.instance.target;let i=e.className;const r=Vu().isBs5?Bu[t.placement]:t.placement;t.placementAuto&&(i=i.replace(/bs-popover-auto/g,`bs-popover-${r}`),i=i.replace(/ms-2|me-2|mb-2|mt-2/g,""),i=i.replace(/bs-tooltip-auto/g,`bs-tooltip-${r}`),i=i.replace(/\sauto/g,` ${r}`),-1!==i.indexOf("popover")&&(i=i+" "+function t8(t){return Vu().isBs5?dm(t,"end")?"ms-2":dm(t,"start")?"me-2":dm(t,"top")?"mb-2":dm(t,"bottom")?"mt-2":"":""}(r)),-1!==i.indexOf("popover")&&-1===i.indexOf("popover-auto")&&(i+=" popover-auto"),-1!==i.indexOf("tooltip")&&-1===i.indexOf("tooltip-auto")&&(i+=" tooltip-auto")),i=i.replace(/left|right|top|bottom|end|start/g,`${r.split(" ")[0]}`),n?n.setAttribute(e,"class",i):e.className=i}(o,s)}let Ao=(()=>{class t{constructor(e,i,r){this.update$$=new It,this.positionElements=new Map,this.isDisabled=!1,NM(r)&&e.runOutsideAngular(()=>{this.triggerEvent$=Sl(om(window,"scroll",{passive:!0}),om(window,"resize",{passive:!0}),qe(0,q6),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(s=>{c8(fm(s.target),fm(s.element),s.attachment,s.appendToBody,this.options,i.createRenderer(null,null))})})})}position(e){this.addPositionElement(e)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(e){this.positionElements.set(fm(e.element),e)}calcPosition(){this.update$$.next(null)}deletePositionElement(e){this.positionElements.delete(fm(e))}setOptions(e){this.options=e}}return t.\u0275fac=function(e){return new(e||t)(ee(hn),ee(Fa),ee(Mh))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function fm(t){return"string"==typeof t?document.querySelector(t):t instanceof zt?t.nativeElement:t??null}class qd{constructor(n,e,i){this.nodes=n,this.viewRef=e,this.componentRef=i}}class d8{constructor(n,e,i,r,s,o,a,l,u){this._viewContainerRef=n,this._renderer=e,this._elementRef=i,this._injector=r,this._componentFactoryResolver=s,this._ngZone=o,this._applicationRef=a,this._posService=l,this._document=u,this.onBeforeShow=new ke,this.onShown=new ke,this.onBeforeHide=new ke,this.onHidden=new ke,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(n){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(n),this}to(n){return this.container=n||this.container,this}position(n){return n?(this.attachment=n.attachment||this.attachment,this._elementRef=n.target||this._elementRef,this):this}provide(n){return this._providers.push(n),this}show(n={}){if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(n.content,n.context,n.initialState);const e=Tr.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(e,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,n),this.container instanceof zt&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&typeof this._document<"u"){const i=this._document.querySelector(this.container)||this._document.querySelector(this.containerDefaultSelector);if(!i)return;i.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(n.id?{id:n.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(n){if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const e=this._componentRef.location.nativeElement;return e.parentNode?.removeChild(e),this._contentRef?.componentRef?.destroy(),this._viewContainerRef&&this._contentRef?.viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef?.viewRef?.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(n?{id:n}:null),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(n){this.triggers=n.triggers||this.triggers,this._listenOpts.outsideClick=n.outsideClick,this._listenOpts.outsideEsc=n.outsideEsc,n.target=n.target||this._elementRef?.nativeElement;const e=this._listenOpts.hide=()=>n.hide?n.hide():void this.hide(),i=this._listenOpts.show=s=>{n.show?n.show(s):this.show(s),s()};return this._renderer&&(this._unregisterListenersFn=function E6(t,n){const e=Bb(n.triggers),i=n.target;if(1===e.length&&e[0].isManual())return Function.prototype;const r=[],s=[],o=()=>{s.forEach(a=>r.push(a())),s.length=0};return e.forEach(a=>{const l=a.open===a.close,u=l?n.toggle:n.show;if(!l&&a.close&&n.hide){const c=t.listen(i,a.close,n.hide);s.push(()=>c)}u&&r.push(t.listen(i,a.open,()=>u(o)))}),()=>{r.forEach(a=>a())}}(this._renderer,{target:n.target,triggers:n.triggers,show:i,hide:e,toggle:s=>{this.isShown?e():i(s)}})),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype)}attachInline(n,e){return n&&e&&(this._inlineViewRef=n.createEmbeddedView(e)),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const n=this._componentRef.location.nativeElement;setTimeout(()=>{this._renderer&&this._elementRef&&(this._globalListener=function O6(t,n){return n.outsideClick?t.listen("document","click",e=>{n.target&&n.target.contains(e.target)||n.targets&&n.targets.some(i=>i.contains(e.target))||n.hide&&n.hide()}):Function.prototype}(this._renderer,{targets:[n,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))})}this._listenOpts.outsideEsc&&this._renderer&&this._elementRef&&(this._globalListener=function I6(t,n){return n.outsideEsc?t.listen("document","keyup.esc",e=>{n.target&&n.target.contains(e.target)||n.targets&&n.targets.some(i=>i.contains(e.target))||n.hide&&n.hide()}):Function.prototype}(this._renderer,{targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){this._zoneSubscription||!this.attachment||(this.onShown.subscribe(()=>{this._posService.position({element:this._componentRef?.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{this._componentRef&&this._posService.calcPosition()}))}_unsubscribePositioning(){this._zoneSubscription&&(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0)}_getContentRef(n,e,i){if(!n)return new qd([]);if(n instanceof _s){if(this._viewContainerRef){const o=this._viewContainerRef.createEmbeddedView(n,e);return o.markForCheck(),new qd([o.rootNodes],o)}const s=n.createEmbeddedView({});return this._applicationRef.attachView(s),new qd([s.rootNodes],s)}if("function"==typeof n){const s=this._componentFactoryResolver.resolveComponentFactory(n),o=Tr.create({providers:this._providers,parent:this._injector}),a=s.create(o);return Object.assign(a.instance,i),this._applicationRef.attachView(a.hostView),new qd([[a.location.nativeElement]],a.hostView,a)}const r=this._renderer?[this._renderer.createText(`${n}`)]:[];return new qd([r])}}let Ys=(()=>{class t{constructor(e,i,r,s,o,a){this._componentFactoryResolver=e,this._ngZone=i,this._injector=r,this._posService=s,this._applicationRef=o,this._document=a}createLoader(e,i,r){return new d8(i,r,e,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService,this._document)}}return t.\u0275fac=function(e){return new(e||t)(ee(ql),ee(hn),ee(Tr),ee(Ao),ee(hu),ee(ui))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const f8=["*"];let fA=(()=>{class t{constructor(){this.hide=()=>{},this.setClass=()=>{}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),hA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const hm={backdrop:!0,keyboard:!0,focus:!0,show:!1,ignoreBackdropClick:!1,class:"",animated:!0,initialState:{},closeInterceptor:void 0},h8=new Pe("override-default-config");let p8=(()=>{class t{constructor(e,i,r){this._element=i,this._renderer=r,this.isShown=!1,this.isAnimated=!1,this.isModalHiding=!1,this.clickStartedInContent=!1,this.config=Object.assign({},e)}ngOnInit(){this.isAnimated&&this._renderer.addClass(this._element.nativeElement,"fade"),this._renderer.setStyle(this._element.nativeElement,"display","block"),setTimeout(()=>{this.isShown=!0,this._renderer.addClass(this._element.nativeElement,"show")},this.isAnimated?150:0),document&&document.body&&(this.bsModalService&&1===this.bsModalService.getModalsCount()&&(this.bsModalService.checkScrollbar(),this.bsModalService.setScrollbar()),this._renderer.addClass(document.body,"modal-open"),this._renderer.setStyle(document.body,"overflow-y","hidden")),this._element.nativeElement&&this._element.nativeElement.focus()}onClickStarted(e){this.clickStartedInContent=e.target!==this._element.nativeElement}onClickStop(e){this.config.ignoreBackdropClick||"static"===this.config.backdrop||e.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(this.bsModalService?.setDismissReason("backdrop-click"),this.hide())}onPopState(){this.bsModalService?.setDismissReason("browser-back-navigation-clicked"),this.hide()}onEsc(e){this.isShown&&((27===e.keyCode||"Escape"===e.key)&&e.preventDefault(),this.config.keyboard&&this.level===this.bsModalService?.getModalsCount()&&(this.bsModalService?.setDismissReason("esc"),this.hide()))}ngOnDestroy(){this.isShown&&this._hide()}hide(){if(!this.isModalHiding){if(this.config.closeInterceptor)return void this.config.closeInterceptor().then(()=>this._hide(),()=>{});this._hide()}}_hide(){this.isModalHiding=!0,this._renderer.removeClass(this._element.nativeElement,"show"),setTimeout(()=>{this.isShown=!1,document&&document.body&&1===this.bsModalService?.getModalsCount()&&(this._renderer.removeClass(document.body,"modal-open"),this._renderer.setStyle(document.body,"overflow-y","")),this.bsModalService?.hide(this.config.id),this.isModalHiding=!1},this.isAnimated?300:0)}}return t.\u0275fac=function(e){return new(e||t)(T(hA),T(zt),T(Tn))},t.\u0275cmp=$e({type:t,selectors:[["modal-container"]],hostAttrs:["role","dialog","tabindex","-1",1,"modal"],hostVars:3,hostBindings:function(e,i){1&e&&N("mousedown",function(s){return i.onClickStarted(s)})("click",function(s){return i.onClickStop(s)})("popstate",function(){return i.onPopState()},!1,Mg)("keydown.esc",function(s){return i.onEsc(s)},!1,Mg),2&e&&zn("aria-modal",!0)("aria-labelledby",i.config.ariaLabelledBy)("aria-describedby",i.config.ariaDescribedby)},ngContentSelectors:f8,decls:3,vars:2,consts:[["role","document","focusTrap",""],[1,"modal-content"]],template:function(e,i){1&e&&(Hc(),_(0,"div",0)(1,"div",1),ou(2),g()()),2&e&&Xg("modal-dialog"+(i.config.class?" "+i.config.class:""))},dependencies:[S6],encapsulation:2}),t})(),m8=(()=>{class t{constructor(e,i){this._isAnimated=!1,this._isShown=!1,this.element=e,this.renderer=i}get isAnimated(){return this._isAnimated}set isAnimated(e){this._isAnimated=e}get isShown(){return this._isShown}set isShown(e){this._isShown=e,e?this.renderer.addClass(this.element.nativeElement,"show"):this.renderer.removeClass(this.element.nativeElement,"show")}ngOnInit(){this.isAnimated&&(this.renderer.addClass(this.element.nativeElement,"fade"),N6.reflow(this.element.nativeElement)),this.isShown=!0}}return t.\u0275fac=function(e){return new(e||t)(T(zt),T(Tn))},t.\u0275cmp=$e({type:t,selectors:[["bs-modal-backdrop"]],hostAttrs:[1,"modal-backdrop"],decls:0,vars:0,template:function(e,i){},encapsulation:2}),t})(),_8=1,zr=(()=>{class t{constructor(e,i,r){this.clf=i,this.modalDefaultOption=r,this.onShow=new ke,this.onShown=new ke,this.onHide=new ke,this.onHidden=new ke,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.modalsCount=0,this.loaders=[],this._backdropLoader=this.clf.createLoader(),this._renderer=e.createRenderer(null,null),this.config=r?Object.assign({},hm,r):hm}show(e,i){this.modalsCount++,this._createLoaders();const r=i?.id||_8++;return this.config=this.modalDefaultOption?Object.assign({},hm,this.modalDefaultOption,i):Object.assign({},hm,i),this.config.id=r,this._showBackdrop(),this.lastDismissReason=void 0,this._showModal(e)}hide(e){(1===this.modalsCount||null==e)&&(this._hideBackdrop(),this.resetScrollbar()),this.modalsCount=this.modalsCount>=1&&null!=e?this.modalsCount-1:0,setTimeout(()=>{this._hideModal(e),this.removeLoaders(e)},this.config.animated?150:0)}_showBackdrop(){const e=!0===this.config.backdrop||"static"===this.config.backdrop,i=!this.backdropRef||!this.backdropRef.instance.isShown;1===this.modalsCount&&(this.removeBackdrop(),e&&i&&(this._backdropLoader.attach(m8).to("body").show({isAnimated:this.config.animated}),this.backdropRef=this._backdropLoader._componentRef))}_hideBackdrop(){this.backdropRef&&(this.backdropRef.instance.isShown=!1,setTimeout(()=>this.removeBackdrop(),this.config.animated?150:0))}_showModal(e){const i=this.loaders[this.loaders.length-1];if(this.config&&this.config.providers)for(const o of this.config.providers)i.provide(o);const r=new fA,s=i.provide({provide:hA,useValue:this.config}).provide({provide:fA,useValue:r}).attach(p8).to("body");return r.hide=()=>this.hide(r.id),r.setClass=o=>{s.instance&&(s.instance.config.class=o)},r.onHidden=new ke,r.onHide=new ke,this.copyEvent(i.onBeforeHide,r.onHide),this.copyEvent(i.onHidden,r.onHidden),s.show({content:e,isAnimated:this.config.animated,initialState:this.config.initialState,bsModalService:this,id:this.config.id}),s.instance&&(s.instance.level=this.getModalsCount(),r.content=i.getInnerComponent(),r.id=s.instance.config?.id),r}_hideModal(e){if(null!=e){const i=this.loaders.findIndex(s=>s.instance?.config.id===e),r=this.loaders[i];r&&r.hide(e)}else this.loaders.forEach(i=>{i.instance&&i.hide(i.instance.config.id)})}getModalsCount(){return this.modalsCount}setDismissReason(e){this.lastDismissReason=e}removeBackdrop(){this._renderer.removeClass(document.body,"modal-open"),this._renderer.setStyle(document.body,"overflow-y",""),this._backdropLoader.hide(),this.backdropRef=void 0}checkScrollbar(){this.isBodyOverflowing=document.body.clientWidth<window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){document&&(this.originalBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")||"0",10),this.isBodyOverflowing&&(document.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`))}resetScrollbar(){document.body.style.paddingRight=`${this.originalBodyPadding}px`}getScrollbarWidth(){const e=this._renderer.createElement("div");this._renderer.addClass(e,"modal-scrollbar-measure"),this._renderer.appendChild(document.body,e);const i=e.offsetWidth-e.clientWidth;return this._renderer.removeChild(document.body,e),i}_createLoaders(){const e=this.clf.createLoader();this.copyEvent(e.onBeforeShow,this.onShow),this.copyEvent(e.onShown,this.onShown),this.copyEvent(e.onBeforeHide,this.onHide),this.copyEvent(e.onHidden,this.onHidden),this.loaders.push(e)}removeLoaders(e){if(null!=e){const i=this.loaders.findIndex(r=>r.instance?.config.id===e);i>=0&&(this.loaders.splice(i,1),this.loaders.forEach((r,s)=>{r.instance&&(r.instance.level=s+1)}))}else this.loaders.splice(0,this.loaders.length)}copyEvent(e,i){e.subscribe(r=>{i.emit(this.lastDismissReason||r)})}}return t.\u0275fac=function(e){return new(e||t)(ee(Fa),ee(Ys),ee(h8,8))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();ZI.forRoot();let g8=(()=>{class t{static forRoot(){return{ngModule:t,providers:[zr,Ys,Ao]}}static forChild(){return{ngModule:t,providers:[zr,Ys,Ao]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=_i({type:t}),t.\u0275inj=oi({imports:[ZI]}),t})();const pA={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let mm;const y8=new Uint8Array(16);function v8(){if(!mm&&(mm=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!mm))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return mm(y8)}const Ri=[];for(let t=0;t<256;++t)Ri.push((t+256).toString(16).slice(1));const Wd=function b8(t,n,e){if(pA.randomUUID&&!n&&!t)return pA.randomUUID();const i=(t=t||{}).random||(t.rng||v8)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,n){e=e||0;for(let r=0;r<16;++r)n[e+r]=i[r];return n}return function mA(t,n=0){return(Ri[t[n+0]]+Ri[t[n+1]]+Ri[t[n+2]]+Ri[t[n+3]]+"-"+Ri[t[n+4]]+Ri[t[n+5]]+"-"+Ri[t[n+6]]+Ri[t[n+7]]+"-"+Ri[t[n+8]]+Ri[t[n+9]]+"-"+Ri[t[n+10]]+Ri[t[n+11]]+Ri[t[n+12]]+Ri[t[n+13]]+Ri[t[n+14]]+Ri[t[n+15]]).toLowerCase()}(i)};function w8(t,n){if(1&t&&(_(0,"p",4),M(1),g()),2&t){const e=w();m(1),it(e.errorMessage)}}let qr=(()=>{class t{constructor(){this.fieldId=Wd(),this.label="",this.value="",this._validator=(0,b.Z)(function*(){}),this.readonly=!1}set isReadOnly(e){this.readonly=e}set initValue(e){this.value=e}set validator(e){this._validator=e}getValue(){var e=this;return(0,b.Z)(function*(){return e.value})()}validate(){var e=this;return(0,b.Z)(function*(){const i=yield e._validator(yield e.getValue());return e.errorMessage=i,null==i})()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=$e({type:t,selectors:[["app-string-input-field"]],inputs:{label:"label",isReadOnly:"isReadOnly",initValue:"initValue",validator:"validator"},decls:5,vars:6,consts:[[1,"m-3"],[1,"form-label",3,"for"],["type","string","id","'input' + fieldId",1,"form-control",3,"ngModel","readonly","disabled","ngModelChange"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(e,i){1&e&&(_(0,"div",0)(1,"label",1),M(2),g(),_(3,"input",2),N("ngModelChange",function(s){return i.value=s}),g(),V(4,w8,2,1,"p",3),g()),2&e&&(m(1),y("for","input"+i.fieldId),m(1),it(i.label),m(1),y("ngModel",i.value)("readonly",i.readonly)("disabled",i.readonly),m(1),y("ngIf",i.errorMessage))},dependencies:[Jt,Ns,Mr,mr]}),t})();function C8(t,n){if(1&t&&(_(0,"p",4),M(1),g()),2&t){const e=w();m(1),it(e.errorMessage)}}let Wr=(()=>{class t{constructor(){this.fieldId=Wd(),this.label="",this.rows=3,this.value="",this._validator=(0,b.Z)(function*(){}),this.readonly=!1}set isReadOnly(e){this.readonly=e}set initValue(e){this.value=e}set validator(e){this._validator=e}getValue(){var e=this;return(0,b.Z)(function*(){return e.value})()}validate(){var e=this;return(0,b.Z)(function*(){const i=yield e._validator(yield e.getValue());return e.errorMessage=i,null==i})()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=$e({type:t,selectors:[["app-string-textarea-field"]],inputs:{label:"label",rows:"rows",isReadOnly:"isReadOnly",initValue:"initValue",validator:"validator"},decls:5,vars:7,consts:[[1,"m-3"],[1,"form-label",3,"for"],["id","'textarea' + fieldId",1,"form-control",3,"ngModel","rows","readonly","disabled","ngModelChange"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(e,i){1&e&&(_(0,"div",0)(1,"label",1),M(2),g(),_(3,"textarea",2),N("ngModelChange",function(s){return i.value=s}),g(),V(4,C8,2,1,"p",3),g()),2&e&&(m(1),y("for","textarea"+i.fieldId),m(1),it(i.label),m(1),y("ngModel",i.value)("rows",i.rows)("readonly",i.readonly)("disabled",i.readonly),m(1),y("ngIf",i.errorMessage))},dependencies:[Jt,Ns,Mr,mr]}),t})();const D8=["suffixFieldComponent"],T8=["descriptionFieldComponent"];let S8=(()=>{class t{constructor(e){this.configurationManagerService=e,this.isProcessing=!1}onCancel(){this.onResolve&&this.onResolve(!1)}onCreateConfiguration(){var e=this;return(0,b.Z)(function*(){!e.course||!e._suffixFieldComponent||!e._descriptionFieldComponent||!e.onResolve||(e.isProcessing=!0,yield e.configurationManagerService.createTokenATMConfiguration(e.course,yield e._suffixFieldComponent.getValue(),yield e._descriptionFieldComponent.getValue()),e.onResolve(!0))})()}}return t.\u0275fac=function(e){return new(e||t)(T(Yr))},t.\u0275cmp=$e({type:t,selectors:[["app-create-configuration-modal"]],viewQuery:function(e,i){if(1&e&&(pe(D8,7),pe(T8,7)),2&e){let r;de(r=fe())&&(i._suffixFieldComponent=r.first),de(r=fe())&&(i._descriptionFieldComponent=r.first)}},inputs:{onResolve:"onResolve",course:"course"},decls:20,vars:3,consts:[[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",3,"disabled","click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-body","message"],["label","The suffix of Assignment Group & Module name"],["suffixFieldComponent",""],["label","Description of Token ATM Log Assignment"],["descriptionFieldComponent",""],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary","me-4",3,"disabled","click"],["type","button",1,"btn","btn-success",3,"disabled","click"]],template:function(e,i){1&e&&(_(0,"div",0)(1,"h4",1),M(2,"Create Token ATM Configuration"),g(),_(3,"button",2),N("click",function(){return i.onCancel()}),_(4,"span",3),M(5,"\xd7"),g()()(),_(6,"div",4)(7,"p"),M(8," The course you selected contains no Token ATM configuration, or the Token ATM configuration for this course is invalid. Do you want to create a new configuration? "),g(),_(9,"p"),M(10,"Note: For now, you cannot change it from Token ATM Dashboard once you created it."),g(),Ae(11,"app-string-input-field",5,6)(13,"app-string-textarea-field",7,8),g(),_(15,"div",9)(16,"button",10),N("click",function(){return i.onCancel()}),M(17," Cancel "),g(),_(18,"button",11),N("click",function(){return i.onCreateConfiguration()}),M(19," Create "),g()()),2&e&&(m(3),y("disabled",i.isProcessing),m(13),y("disabled",i.isProcessing),m(2),y("disabled",i.isProcessing))},dependencies:[qr,Wr]}),t})(),ma=(()=>{class t{constructor(e,i){this.renderer=e,this.element=i}ngOnInit(){["d-flex","align-items-center","justify-content-center","vh-100"].forEach(e=>{this.renderer.addClass(this.element.nativeElement,e)})}}return t.\u0275fac=function(e){return new(e||t)(T(Tn),T(zt))},t.\u0275dir=Ve({type:t,selectors:[["","appCenter",""]]}),t})();function k8(t,n){1&t&&(_(0,"span",6),Ae(1,"i",7),g()),2&t&&ph("title",w().info.tooltip)}let _A=(()=>{class t{constructor(){this.uuid="",this.info=new Bs,this.data="",this.dataChange=new ke}ngOnInit(){this.uuid=Wd()}onDataChange(e){this.dataChange.emit(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=$e({type:t,selectors:[["app-form-item"]],inputs:{info:"info",data:"data"},outputs:{dataChange:"dataChange"},decls:7,vars:7,consts:[[1,"form-item"],[1,"col-auto","col-sm-3","text-center","text-sm-end"],[3,"for"],["class","d-inline-block ms-2","data-toggle","tooltip",3,"title",4,"ngIf"],[1,"col-12","col-sm-6","col-lg-4"],[1,"form-control",3,"type","id","placeholder","ngModel","ngModelChange"],["data-toggle","tooltip",1,"d-inline-block","ms-2",3,"title"],[1,"bi","bi-question-circle"]],template:function(e,i){1&e&&(_(0,"div",0)(1,"div",1)(2,"label",2),M(3),g(),V(4,k8,2,1,"span",3),g(),_(5,"div",4)(6,"input",5),N("ngModelChange",function(s){return i.onDataChange(s)}),g()()()),2&e&&(m(2),y("for",i.info.propertyID+i.uuid),m(1),it(i.info.propertyName),m(1),y("ngIf",i.info.tooltip),m(2),y("type",i.info.propertyType)("id",i.info.propertyID+i.uuid)("placeholder",i.info.inputPlaceholder)("ngModel",i.data))},dependencies:[Jt,Ns,Mr,mr]}),t})();const M8=new $b(Hb);const I8=["*"];let Qb=(()=>{class t{constructor(){this.adaptivePosition=!0,this.placement="top",this.triggers="hover focus",this.delay=0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),A8=(()=>{class t{constructor(e){Object.assign(this,e)}get _bsVersions(){return Vu()}ngAfterViewInit(){this.classMap={in:!1,fade:!1},this.placement&&(this._bsVersions.isBs5&&(this.placement=Bu[this.placement]),this.classMap[this.placement]=!0),this.classMap[`tooltip-${this.placement}`]=!0,this.classMap.in=!0,this.animation&&(this.classMap.fade=!0),this.containerClass&&(this.classMap[this.containerClass]=!0)}}return t.\u0275fac=function(e){return new(e||t)(T(Qb))},t.\u0275cmp=$e({type:t,selectors:[["bs-tooltip-container"]],hostAttrs:["role","tooltip"],hostVars:3,hostBindings:function(e,i){2&e&&(zn("id",i.id),Xg("show tooltip in tooltip-"+i.placement+" bs-tooltip-"+i.placement+" "+i.placement+" "+i.containerClass))},ngContentSelectors:I8,decls:3,vars:0,consts:[[1,"tooltip-arrow","arrow"],[1,"tooltip-inner"]],template:function(e,i){1&e&&(Hc(),Ae(0,"div",0),_(1,"div",1),ou(2),g())},styles:[".tooltip[_nghost-%COMP%]{display:block;pointer-events:none}.bs3.tooltip.top[_nghost-%COMP%] > .arrow[_ngcontent-%COMP%]{margin-left:-2px}.bs3.tooltip.bottom[_nghost-%COMP%]{margin-top:0}.bs3.bs-tooltip-left[_nghost-%COMP%], .bs3.bs-tooltip-right[_nghost-%COMP%]{margin:0}.bs3.bs-tooltip-right[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs3.bs-tooltip-left[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%]{margin:.3rem 0}"],changeDetection:0}),t})(),R8=0,gA=(()=>{class t{constructor(e,i,r,s,o,a){this._elementRef=s,this._renderer=o,this._positionService=a,this.tooltipId=R8++,this.adaptivePosition=!0,this.tooltipChange=new ke,this.placement="top",this.triggers="hover focus",this.containerClass="",this.isDisabled=!1,this.delay=0,this.tooltipAnimation=!0,this.tooltipFadeDuration=150,this.tooltipStateChanged=new ke,this._tooltip=i.createLoader(this._elementRef,e,this._renderer).provide({provide:Qb,useValue:r}),Object.assign(this,r),this.onShown=this._tooltip.onShown,this.onHidden=this._tooltip.onHidden}get isOpen(){return this._tooltip.isShown}set isOpen(e){e?this.show():this.hide()}set htmlContent(e){this.tooltip=e}set _placement(e){this.placement=e}set _isOpen(e){this.isOpen=e}get _isOpen(){return this.isOpen}set _enable(e){this.isDisabled=!e}get _enable(){return this.isDisabled}set _appendToBody(e){this.container=e?"body":this.container}get _appendToBody(){return"body"===this.container}set _popupClass(e){}set _tooltipContext(e){}set _tooltipPopupDelay(e){this.delay=e}get _tooltipTrigger(){return this.triggers}set _tooltipTrigger(e){this.triggers=(e||"").toString()}ngOnInit(){this._tooltip.listen({triggers:this.triggers,show:()=>this.show()}),this.tooltipChange.subscribe(e=>{e||this._tooltip.hide()}),this.onShown.subscribe(()=>{this.setAriaDescribedBy()}),this.onHidden.subscribe(()=>{this.setAriaDescribedBy()})}setAriaDescribedBy(){this._ariaDescribedby=this.isOpen?`tooltip-${this.tooltipId}`:void 0,this._ariaDescribedby?this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ariaDescribedby):this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby")}toggle(){if(this.isOpen)return this.hide();this.show()}show(){if(this._positionService.setOptions({modifiers:{flip:{enabled:this.adaptivePosition},preventOverflow:{enabled:this.adaptivePosition,boundariesElement:this.boundariesElement||"scrollParent"}}}),this.isOpen||this.isDisabled||this._delayTimeoutId||!this.tooltip)return;const e=()=>{this._delayTimeoutId&&(this._delayTimeoutId=void 0),this._tooltip.attach(A8).to(this.container).position({attachment:this.placement}).show({content:this.tooltip,placement:this.placement,containerClass:this.containerClass,id:`tooltip-${this.tooltipId}`})},i=()=>{this._tooltipCancelShowFn&&this._tooltipCancelShowFn()};this.delay?(this._delaySubscription&&this._delaySubscription.unsubscribe(),this._delaySubscription=function O8(t=0,n,e=M8){let i=-1;return null!=n&&(gr(n)?e=n:i=n),new We(r=>{let s=function E8(t){return t instanceof Date&&!isNaN(t)}(t)?+t-e.now():t;s<0&&(s=0);let o=0;return e.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}(this.delay).subscribe(()=>{e(),i()}),this.triggers&&Bb(this.triggers).forEach(r=>{r.close&&(this._tooltipCancelShowFn=this._renderer.listen(this._elementRef.nativeElement,r.close,()=>{this._delaySubscription?.unsubscribe(),i()}))})):e()}hide(){this._delayTimeoutId&&(clearTimeout(this._delayTimeoutId),this._delayTimeoutId=void 0),this._tooltip.isShown&&(this._tooltip.instance?.classMap&&(this._tooltip.instance.classMap.in=!1),setTimeout(()=>{this._tooltip.hide()},this.tooltipFadeDuration))}ngOnDestroy(){this._tooltip.dispose(),this.tooltipChange.unsubscribe(),this._delaySubscription&&this._delaySubscription.unsubscribe(),this.onShown.unsubscribe(),this.onHidden.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(T(Mi),T(Ys),T(Qb),T(zt),T(Tn),T(Ao))},t.\u0275dir=Ve({type:t,selectors:[["","tooltip",""],["","tooltipHtml",""]],inputs:{adaptivePosition:"adaptivePosition",tooltip:"tooltip",placement:"placement",triggers:"triggers",container:"container",containerClass:"containerClass",boundariesElement:"boundariesElement",isOpen:"isOpen",isDisabled:"isDisabled",delay:"delay",htmlContent:["tooltipHtml","htmlContent"],_placement:["tooltipPlacement","_placement"],_isOpen:["tooltipIsOpen","_isOpen"],_enable:["tooltipEnable","_enable"],_appendToBody:["tooltipAppendToBody","_appendToBody"],tooltipAnimation:"tooltipAnimation",_popupClass:["tooltipClass","_popupClass"],_tooltipContext:["tooltipContext","_tooltipContext"],_tooltipPopupDelay:["tooltipPopupDelay","_tooltipPopupDelay"],tooltipFadeDuration:"tooltipFadeDuration",_tooltipTrigger:["tooltipTrigger","_tooltipTrigger"]},outputs:{tooltipChange:"tooltipChange",onShown:"onShown",onHidden:"onHidden",tooltipStateChanged:"tooltipStateChanged"},exportAs:["bs-tooltip"]}),function an(t,n,e,i){var o,r=arguments.length,s=r<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,n,e,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(n,e,s):o(n,e))||s);r>3&&s&&Object.defineProperty(n,e,s)}([F6(),Y("design:type",Object)],t.prototype,"tooltip",void 0),t})(),yA=(()=>{class t{static forRoot(){return{ngModule:t,providers:[Ys,Ao]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=_i({type:t}),t.\u0275inj=oi({imports:[mu]}),t})();function x8(t,n){if(1&t){const e=Fe();_(0,"div",1),N("click",function(){return H(e),$(w().onSelectCourse())}),_(1,"div",2)(2,"h5",3),M(3),g(),_(4,"h6",4),M(5),g()()()}if(2&t){const e=w();m(2),y("tooltip",e.course.name.length>20?e.course.name:void 0),m(1),qt(" ",e.course.name," "),m(1),y("tooltip",e.course.term.length>20?e.course.term:void 0),m(1),qt(" ",e.course.term," ")}}let F8=(()=>{class t{constructor(){this.selectCourse=new ke}onSelectCourse(){this.course&&this.selectCourse.emit(this.course)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=$e({type:t,selectors:[["app-course-info-item"]],inputs:{course:"course"},outputs:{selectCourse:"selectCourse"},decls:1,vars:1,consts:[["class","card",3,"click",4,"ngIf"],[1,"card",3,"click"],[1,"card-body"],["placement","top",1,"card-title","text-truncate",3,"tooltip"],["placement","right",1,"card-subtitle","text-truncate","text-muted",3,"tooltip"]],template:function(e,i){1&e&&V(0,x8,6,4,"div",0),2&e&&y("ngIf",i.course)},dependencies:[Jt,gA],styles:[".card[_ngcontent-%COMP%]{width:20rem;height:5rem;cursor:pointer}"]}),t})(),Hu=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=$e({type:t,selectors:[["app-canvas-loading-toast"]],decls:3,vars:0,consts:[[1,"toast","d-block"],[1,"toast-body"]],template:function(e,i){1&e&&(_(0,"div",0)(1,"div",1),M(2,"Token ATM is retrieving information from Canvas. Please wait..."),g()())}}),t})();function N8(t,n){1&t&&(_(0,"div",2),Ae(1,"app-canvas-loading-toast"),g())}function L8(t,n){if(1&t){const e=Fe();_(0,"app-course-info-item",9),N("selectCourse",function(r){return H(e),$(w(2).onSelectCourse(r))}),g()}2&t&&y("course",n.$implicit)}function P8(t,n){if(1&t){const e=Fe();_(0,"app-course-info-item",9),N("selectCourse",function(r){return H(e),$(w(2).onSelectCourse(r))}),g()}2&t&&y("course",n.$implicit)}function V8(t,n){if(1&t){const e=Fe();_(0,"div",3)(1,"h1",4),M(2,"Welcome to Token ATM"),g(),_(3,"p"),M(4,"Please select a course"),g(),_(5,"app-form-item",5),N("dataChange",function(r){return H(e),$(w().onCourseNameChange(r))}),g(),_(6,"app-form-item",5),N("dataChange",function(r){return H(e),$(w().onTermNameChange(r))}),g(),_(7,"h2",6),M(8,"Courses you\u2019re enrolled in as a Teacher"),g(),_(9,"div",7),V(10,L8,1,1,"app-course-info-item",8),g(),_(11,"h2",6),M(12,"Courses you\u2019re enrolled in as a TA"),g(),_(13,"div",7),V(14,P8,1,1,"app-course-info-item",8),g()()}if(2&t){const e=w();m(5),y("info",e.courseItemInfo)("data",""),m(1),y("info",e.termItemInfo)("data",""),m(4),y("ngForOf",e.coursesAsTeacher),m(4),y("ngForOf",e.coursesAsTA)}}let B8=(()=>{class t{constructor(e,i,r,s){this.canvasService=e,this.router=i,this.configurationManagerService=r,this.modalService=s,this.loading=!0,this.coursesEnrolledAsTeacher=[],this.coursesEnrolledAsTA=[],this.courseItemInfo=new Bs("courseName","Search for Course","text"),this.courseName="",this.termItemInfo=new Bs("termName","Search for Term","text"),this.termName=""}ngOnInit(){this.loading=!0,this.fetchCourses().then(()=>{this.loading=!1})}fetchCourses(){var e=this;return(0,b.Z)(function*(){e.coursesEnrolledAsTeacher=yield Wp.convertAsyncIterableToList(yield e.canvasService.getCourses("teacher","active")),e.coursesEnrolledAsTA=yield Wp.convertAsyncIterableToList(yield e.canvasService.getCourses("ta","active"))})()}onCourseNameChange(e){this.courseName=e??""}onTermNameChange(e){this.termName=e??""}get coursesAsTeacher(){return this.coursesEnrolledAsTeacher.filter(e=>-1!=e.name.toLowerCase().indexOf(this.courseName.toLowerCase())&&-1!=e.term.toLowerCase().indexOf(this.termName.toLowerCase()))}get coursesAsTA(){return this.coursesEnrolledAsTA.filter(e=>-1!=e.name.toLowerCase().indexOf(this.courseName.toLowerCase())&&-1!=e.term.toLowerCase().indexOf(this.termName.toLowerCase()))}onSelectCourse(e){var i=this;return(0,b.Z)(function*(){i.loading=!0;try{yield i.configurationManagerService.getTokenATMConfiguration(e),i.router.navigateByUrl("/dashboard",{state:e})}catch{let s;const o=new Promise(u=>{s=u}),a=i.modalService.show(S8,{initialState:{onResolve:s,course:e},class:"modal-lg",backdrop:"static",keyboard:!1});(yield o)?(a.hide(),i.router.navigateByUrl("/dashboard",{state:e})):(i.loading=!1,a.hide())}})()}}return t.\u0275fac=function(e){return new(e||t)(T(An),T(Yi),T(Yr),T(zr))},t.\u0275cmp=$e({type:t,selectors:[["app-course-selection"]],decls:3,vars:2,consts:[["appCenter","",4,"ngIf","ngIfElse"],["courseSelectionPanel",""],["appCenter",""],[1,"container","my-5","text-center","align-items-center","overflow-y-auto"],[1,"text-primary"],[1,"my-2",3,"info","data","dataChange"],[1,"my-4"],[1,"row","gy-3"],["class","col-auto",3,"course","selectCourse",4,"ngFor","ngForOf"],[1,"col-auto",3,"course","selectCourse"]],template:function(e,i){if(1&e&&(V(0,N8,2,0,"div",0),V(1,V8,15,6,"ng-template",null,1,hr)),2&e){const r=Rs(2);y("ngIf",i.loading)("ngIfElse",r)}},dependencies:[Ei,Jt,ma,_A,F8,Hu],styles:["h1[_ngcontent-%COMP%]{display:block}"]}),t})();function H8(t,n){if(1&t){const e=Fe();Bn(0),_(1,"div",1)(2,"h4",2),M(3),g(),_(4,"button",3),N("click",function(){return H(e),$(w().onResolve(!1))}),_(5,"span",4),M(6,"\xd7"),g()()(),_(7,"div",5),M(8),g(),_(9,"div",6)(10,"button",7),N("click",function(){return H(e),$(w().onResolve(!1))}),M(11),g(),_(12,"button",8),N("click",function(){return H(e),$(w().onResolve(!0))}),M(13),g()(),Hn()}if(2&t){const e=w();m(3),it(e.heading),m(1),y("disabled",e.disableButton),m(4),qt(" ",e.message," "),m(2),y("disabled",e.disableButton),m(1),qt(" ",e.noText," "),m(1),st("btn-danger",e.isDanger)("btn-primary",!e.isDanger),y("disabled",e.disableButton),m(1),qt(" ",e.yesText," ")}}let $8=(()=>{class t{constructor(){this.message="",this.heading="Confirmation",this.noText="Cancel",this.yesText="Yes",this.isDanger=!1,this.disableButton=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=$e({type:t,selectors:[["app-confirmation-modal"]],inputs:{message:"message",heading:"heading",noText:"noText",yesText:"yesText",isDanger:"isDanger",disableButton:"disableButton",onResolve:"onResolve"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",3,"disabled","click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-body","message"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary","me-4",3,"disabled","click"],["type","button",1,"btn",3,"disabled","click"]],template:function(e,i){1&e&&V(0,H8,14,11,"ng-container",0),2&e&&y("ngIf",i.onResolve)},dependencies:[Jt],styles:[".message[_ngcontent-%COMP%]{white-space:pre-line}"]}),t})();function j8(t,n){if(1&t){const e=Fe();Bn(0),_(1,"div",1)(2,"h4",2),M(3),g(),_(4,"button",3),N("click",function(){return H(e),$(w().onResolve())}),_(5,"span",4),M(6,"\xd7"),g()()(),_(7,"div",5),M(8),g(),_(9,"div",6)(10,"button",7),N("click",function(){return H(e),$(w().onResolve())}),M(11,"Close"),g()(),Hn()}if(2&t){const e=w();m(3),it(e.heading),m(5),qt(" ",e.message," ")}}let U8=(()=>{class t{constructor(){this.message="",this.heading="Notification"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=$e({type:t,selectors:[["app-notification-modal"]],inputs:{message:"message",heading:"heading",onResolve:"onResolve"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",3,"click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-body","message"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary","me-4",3,"click"]],template:function(e,i){1&e&&V(0,j8,12,2,"ng-container",0),2&e&&y("ngIf",i.onResolve)},dependencies:[Jt],styles:[".message[_ngcontent-%COMP%]{white-space:pre-line;word-break:break-all;max-height:80vh;overflow-y:auto}"]}),t})(),Ro=(()=>{class t{constructor(e){this.modalService=e}createConfirmationModal(e,i="Confirmation",r=!1,s="Cancel",o="Yes"){var a=this;return(0,b.Z)(function*(){let l;const u=new Promise(h=>{l=h});return[a.modalService.show($8,{initialState:{message:e,heading:i,isDanger:r,noText:s,yesText:o,onResolve:h=>{l(h)}},backdrop:"static",keyboard:!1}),yield u]})()}createConfirmationModalWithoutRef(e,i="Confirmation",r=!1,s="Cancel",o="Yes"){var a=this;return(0,b.Z)(function*(){const[l,u]=yield a.createConfirmationModal(e,i,r,s,o);return l.hide(),u})()}createNotificationModal(e,i="Notification"){var r=this;return(0,b.Z)(function*(){let s;const o=new Promise(u=>{s=u}),l=r.modalService.show(U8,{initialState:{message:e,heading:i,onResolve:()=>{s()}},backdrop:"static",keyboard:!1});yield o,l.hide()})()}}return t.\u0275fac=function(e){return new(e||t)(ee(zr))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class hi{constructor(n,e,i,r,s,o,a,l,u,c){this._configuration=n,this._tokenOptionId=e,this._tokenOption=n.getTokenOptionById(e),this._tokenOptionName=i,this._tokenOptionGroupId=c,this._student=r,this._isApproved=s,this._submittedTime=o,this._processedTime=a,this._tokenBalanceChange=l,this._message=u}get configuration(){return this._configuration}get tokenOption(){return this._tokenOption}get tokenOptionName(){return this._tokenOptionName}get tokenOptionGroupId(){return this._tokenOptionGroupId}get student(){return this._student}get isApproved(){return this._isApproved}get submittedTime(){return this._submittedTime}get processedTime(){return this._processedTime}get message(){return this._message??""}get tokenBalanceChange(){return this._tokenBalanceChange}toJSON(){return{token_option_id:this._tokenOptionId,token_option_name:this.tokenOptionName,token_option_group_id:this.tokenOptionGroupId,is_approved:this.isApproved,submit_time:Or(this.submittedTime),process_time:Or(this.processedTime),message:this.message,token_balance_change:this.tokenBalanceChange}}static deserialize(n,e,i){if("number"!=typeof i.token_option_id||"string"!=typeof i.token_option_name||typeof i.token_option_group_id<"u"&&"number"!=typeof i.token_option_group_id||"boolean"!=typeof i.is_approved||typeof i.message<"u"&&"string"!=typeof i.message||"number"!=typeof i.submit_time||"number"!=typeof i.process_time||"number"!=typeof i.token_balance_change)throw new Error("Invalid data");return new hi(n,i.token_option_id,i.token_option_name,e,i.is_approved,_r(i.submit_time),_r(i.process_time),i.token_balance_change,i.message,i.token_option_group_id)}}class qs{}let Y8=(()=>{class t extends qs{constructor(e){super(),this.canvasService=e}handle(e,i,r){var s=this;return(0,b.Z)(function*(){return console.log("Basic request processed",s.canvasService),new hi(e,r.tokenOption.id,r.tokenOption.name,i.student,!0,r.submittedTime,new Date,r.tokenOption.tokenBalanceChange,"This basic request is approved.",r.tokenOption.group.id)})()}get type(){return"basic"}}return t.\u0275fac=function(e){return new(e||t)(ee(An))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();class bs{}class z8 extends bs{constructor(n,e,i,r,s){super(),this.courseId=n,this.moduleId=e,this.studentId=i,this.gradeThreshold=r,this.canvasService=s}check(n){var e=this;return(0,b.Z)(function*(){const[i,r]=yield e.canvasService.getModuleScore(e.courseId,e.moduleId,e.studentId);0!=r&&i/r<e.gradeThreshold&&n(`Module score ${i}/${r} (${(i/r*100).toFixed(2)}%) is lower than the threshold (${(100*e.gradeThreshold).toFixed(2)}%).`)})()}}class $u extends bs{constructor(n,e){super(),this.tokenOption=n,this.processedRequests=e}check(n){var e=this;return(0,b.Z)(function*(){let i=0;for(const r of e.processedRequests)r.tokenOption&&r.isApproved&&(e.tokenOption.id==r.tokenOption.id?i++:r.tokenOption instanceof Pu&&r.tokenOption.withdrawTokenOptionId==e.tokenOption.id&&i>0&&i--);0!=i&&n("There is already an approved request for this token option.")})()}}class xo{constructor(n){this.guards=n,this._isRejected=!1}check(){var n=this;return(0,b.Z)(function*(){const e=function(){var i=(0,b.Z)(function*(r){n._isRejected=!0,n._message=r});return function(s){return i.apply(this,arguments)}}();for(const i of n.guards)if(yield i.check(e),n._isRejected)return})()}get isRejected(){return this._isRejected}get message(){return this._message}}class Ka extends bs{constructor(n,e){super(),this.submittedDate=n,this.startDate=e}check(n){var e=this;return(0,b.Z)(function*(){-1==Np(e.submittedDate,e.startDate)&&n("Request was submitted before the start date")})()}}let q8=(()=>{class t extends qs{constructor(e){super(),this.canvasService=e}handle(e,i,r){var s=this;return(0,b.Z)(function*(){const o=new xo([new Ka(r.submittedTime,r.tokenOption.startTime),new $u(r.tokenOption,i.processedRequests),new z8(e.course.id,r.tokenOption.moduleId,i.student.id,r.tokenOption.gradeThreshold,s.canvasService)]);return yield o.check(),new hi(e,r.tokenOption.id,r.tokenOption.name,r.student,!o.isRejected,r.submittedTime,new Date,o.isRejected?0:r.tokenOption.tokenBalanceChange,o.message,r.tokenOption.group.id)})()}get type(){return"earn-by-module"}}return t.\u0275fac=function(e){return new(e||t)(ee(An))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();class W8 extends bs{constructor(n,e,i,r,s){super(),this.courseId=n,this.quizId=e,this.studentId=i,this.gradeThreshold=r,this.canvasService=s}check(n){var e=this;return(0,b.Z)(function*(){const i=yield e.canvasService.getQuiz(e.courseId,e.quizId),r=yield e.canvasService.getSingleSubmissionGrade(e.courseId,e.studentId,i.assignmentId);0!=i.pointsPossible&&r/i.pointsPossible<e.gradeThreshold&&n(`Quiz score ${r}/${i.pointsPossible}  (${(r/i.pointsPossible*100).toFixed(2)}%) is lower than the threshold (${(100*e.gradeThreshold).toFixed(2)}%).`)})()}}let G8=(()=>{class t extends qs{constructor(e){super(),this.canvasService=e}handle(e,i,r){var s=this;return(0,b.Z)(function*(){const o=new xo([new Ka(r.submittedTime,r.tokenOption.startTime),new $u(r.tokenOption,i.processedRequests),new W8(e.course.id,r.tokenOption.quizId,r.student.id,r.tokenOption.gradeThreshold,s.canvasService)]);return yield o.check(),new hi(e,r.tokenOption.id,r.tokenOption.name,r.student,!o.isRejected,r.submittedTime,new Date,o.isRejected?0:r.tokenOption.tokenBalanceChange,o.message,r.tokenOption.group.id)})()}get type(){return"earn-by-quiz"}}return t.\u0275fac=function(e){return new(e||t)(ee(An))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();var Z8=ue(139);let _m=(()=>{var t=new WeakMap,n=new WeakMap,e=new WeakMap,i=new WeakMap,r=new WeakMap;class s{constructor(a){Hs(this,t,{writable:!0,value:void 0}),Hs(this,n,{writable:!0,value:void 0}),Hs(this,e,{writable:!0,value:void 0}),Hs(this,i,{writable:!0,value:void 0}),Hs(this,r,{writable:!0,value:void 0}),this.axiosService=a,this.participationCache=new Map}hasCredentialConfigured(){return null!=nn(this,t)&&null!=nn(this,n)&&null!=nn(this,e)}configureCredential(a,l,u){var c=this;return(0,b.Z)(function*(){Gn(c,t,a),Gn(c,n,l),Gn(c,e,u),Gn(c,r,`https://${nn(c,t)}.qualtrics.com`);try{yield c.apiRequest("/API/v3/whoami")}catch(d){return d}})()}clearCredential(){var a=this;return(0,b.Z)(function*(){Gn(a,t,void 0),Gn(a,n,void 0),Gn(a,e,void 0),Gn(a,r,void 0),Gn(a,i,void 0)})()}refreshQualtricsAccessToken(){var a=this;return(0,b.Z)(function*(){const l=function(){var c=(0,b.Z)(function*(){if(!nn(a,r)||!nn(a,n)||!nn(a,e))throw new Error("Credentials for Qualtrics are invalid");return(yield a.axiosService.request({url:nn(a,r)+"/oauth2/token",method:"post",auth:{username:nn(a,n),password:nn(a,e)},params:{grant_type:"client_credentials",scope:["read:survey_responses","read:users"].join(" ")}})).data});return function(){return c.apply(this,arguments)}}(),u=yield Zp.execute(l,function(){var c=(0,b.Z)(function*(d,f){return!qp(f)});return function(d,f){return c.apply(this,arguments)}}());Gn(a,i,"string"==typeof u.access_token?u.access_token:void 0)})()}rawAPIRequest(a,l){var u=this;return(0,b.Z)(function*(){let c=!1;for(nn(u,i)||(c=!0,yield u.refreshQualtricsAccessToken());;)try{const d=function(){var f=(0,b.Z)(function*(){return yield u.axiosService.request({...l,url:nn(u,r)+a,headers:{...l?.headers,Authorization:"Bearer "+nn(u,i)}})});return function(){return f.apply(this,arguments)}}();return yield Zp.execute(d,function(){var f=(0,b.Z)(function*(h,p){return!qp(p)});return function(h,p){return f.apply(this,arguments)}}())}catch(d){if(d.response&&401==d.response.status&&!c){c=!0,yield u.refreshQualtricsAccessToken();continue}throw d}})()}apiRequest(a,l){var u=this;return(0,b.Z)(function*(){return(yield u.rawAPIRequest(a,l)).data})()}cacheSurveyParticipation(a,l){var u=this;return(0,b.Z)(function*(){const c=new Set,d=(yield u.apiRequest(`/API/v3/surveys/${a}/export-responses`,{method:"post",data:{format:"json",questionIds:[],surveyMetadataIds:["recordedDate","finished"]}})).result.progressId;let f="";for(;;){const p=yield u.apiRequest(`/API/v3/surveys/${a}/export-responses/${d}`);if("complete"==p.result.status){f=p.result.fileId;break}yield new Promise(v=>setTimeout(v,1e3*s.WAIT_SECONDS))}const h=yield u.apiRequest(`/API/v3/surveys/${a}/export-responses/${f}/file`,{responseType:"arraybuffer"});for(const p of(yield(0,Z8.Dg)(h)).entries){const v=yield p.json();if(Array.isArray(v.responses))for(const k of v.responses){if(!k?.values?.finished||1!=k.values.finished&&1!=k.values.finished&&"True"!=k.values.finished)continue;const I=k?.values?.[l];"string"==typeof I&&c.add(I)}}u.participationCache.set(a,c)})()}checkParticipation(a,l,u){var c=this;return(0,b.Z)(function*(){return c.participationCache.has(a)||(yield c.cacheSurveyParticipation(a,l)),c.participationCache.get(a)?.has(u)??!1})()}clearCache(){this.participationCache.clear()}}return s.WAIT_SECONDS=2,s.\u0275fac=function(a){return new(a||s)(ee(Sb))},s.\u0275prov=q({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();class Gd extends bs{constructor(n,e){super(),this.submittedDate=n,this.endDate=e}check(n){var e=this;return(0,b.Z)(function*(){-1==function Q8(t,n){un(2,arguments);var e=Zn(t),i=Zn(n),r=e.getTime()-i.getTime();return r>0?-1:r<0?1:r}(e.submittedDate,e.endDate)&&n("Request was submitted after the end date")})()}}class K8 extends bs{constructor(n,e,i,r){super(),this.surveyId=n,this.fieldName=e,this.participationId=i,this.qualtricsService=r}check(n){var e=this;return(0,b.Z)(function*(){""!=e.participationId?(yield e.qualtricsService.checkParticipation(e.surveyId,e.fieldName,e.participationId))||n("You did not complete the survey. Or your default email address on Canvas doesn't match the email connected with the Qualtrics Survey."):n("Your Canvas email address is not visible, please contact your institution for help.")})()}}let J8=(()=>{class t extends qs{constructor(e){super(),this.qualtricsService=e}handle(e,i,r){var s=this;return(0,b.Z)(function*(){const o=new xo([new Ka(r.submittedTime,r.tokenOption.startTime),new Gd(r.submittedTime,r.tokenOption.endTime),new $u(r.tokenOption,i.processedRequests),new K8(r.tokenOption.surveyId,r.tokenOption.fieldName,i.student.email,s.qualtricsService)]);return yield o.check(),new hi(e,r.tokenOption.id,r.tokenOption.name,r.student,!o.isRejected,r.submittedTime,new Date,o.isRejected?0:r.tokenOption.tokenBalanceChange,o.message,r.tokenOption.group.id)})()}get type(){return"earn-by-survey"}}return t.\u0275fac=function(e){return new(e||t)(ee(_m))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();class Kb extends bs{constructor(n,e){super(),this.currentTokenBalance=n,this.tokenBalanceChange=e}check(n){var e=this;return(0,b.Z)(function*(){e.currentTokenBalance+e.tokenBalanceChange<0&&n(`Insufficient token balance (need ${Math.abs(e.tokenBalanceChange)}, have ${e.currentTokenBalance})`)})()}}let X8=(()=>{class t extends qs{constructor(e){super(),this.canvasService=e}handle(e,i,r){var s=this;return(0,b.Z)(function*(){const o=new xo([new Ka(r.submittedTime,r.tokenOption.startTime),new Gd(r.submittedTime,r.tokenOption.endTime),new $u(r.tokenOption,i.processedRequests),new Kb(i.tokenBalance,r.tokenOption.tokenBalanceChange)]);return yield o.check(),o.isRejected||(yield s.canvasService.createAssignmentOverrideForStudent(e.course.id,r.tokenOption.assignmentId,r.student.id,`Token ATM - ${e.uid}`,r.tokenOption.newDueTime)),new hi(e,r.tokenOption.id,r.tokenOption.name,r.student,!o.isRejected,r.submittedTime,new Date,o.isRejected?0:r.tokenOption.tokenBalanceChange,o.message??"",r.tokenOption.group.id)})()}get type(){return"spend-for-assignment-resubmission"}}return t.\u0275fac=function(e){return new(e||t)(ee(An))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();class vA extends bs{constructor(n,e){super(),this.excludeTokenOptionIds=n,this.processedRequests=e}check(n){var e=this;return(0,b.Z)(function*(){for(const i of e.excludeTokenOptionIds)if(e.hasApprovedRequest(i))return void n("You have an approved request to another token option that is mutually exclusive with this token option.")})()}hasApprovedRequest(n){let e=0;for(const i of this.processedRequests)i.tokenOption&&i.isApproved&&(n==i.tokenOption.id?e++:i.tokenOption instanceof Pu&&i.tokenOption.withdrawTokenOptionId==n&&e>0&&e--);return 0!=e}}let eG=(()=>{class t extends qs{constructor(e){super(),this.canvasService=e}handle(e,i,r){var s=this;return(0,b.Z)(function*(){const o=new xo([new Ka(r.submittedTime,r.tokenOption.startTime),new Gd(r.submittedTime,r.tokenOption.endTime),new $u(r.tokenOption,i.processedRequests),new vA(r.tokenOption.excludeTokenOptionIds,i.processedRequests),new Kb(i.tokenBalance,r.tokenOption.tokenBalanceChange)]);if(yield o.check(),!o.isRejected){const a=yield s.canvasService.getAssignmentIdByQuizId(e.course.id,r.tokenOption.quizId);yield s.canvasService.createAssignmentOverrideForStudent(e.course.id,a,r.student.id,`Token ATM - ${e.uid}`,r.tokenOption.newDueTime)}return new hi(e,r.tokenOption.id,r.tokenOption.name,r.student,!o.isRejected,r.submittedTime,new Date,o.isRejected?0:r.tokenOption.tokenBalanceChange,o.message??"",r.tokenOption.group.id)})()}get type(){return"spend-for-lab-data"}}return t.\u0275fac=function(e){return new(e||t)(ee(An))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})(),tG=(()=>{class t extends qs{handle(e,i,r){return(0,b.Z)(function*(){const s=new xo([new $u(r.tokenOption,i.processedRequests),new vA(r.tokenOption.excludeTokenOptionIds,i.processedRequests),new Kb(i.tokenBalance,r.tokenOption.tokenBalanceChange)]);yield s.check();const o=s.message??"",a=s.isRejected;return new hi(e,r.tokenOption.id,r.tokenOption.name,r.student,!a,r.submittedTime,new Date,a?0:r.tokenOption.tokenBalanceChange,o,r.tokenOption.group.id)})()}get type(){return"spend-for-lab-switch"}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();class Jb extends bs{constructor(n,e){super(),this.withdrawTokenOption=n,this.processedRequests=e}check(n){var e=this;return(0,b.Z)(function*(){let i=0;for(const r of e.processedRequests)r.tokenOption&&r.isApproved&&(e.withdrawTokenOption.id==r.tokenOption.id?i++:r.tokenOption instanceof Pu&&r.tokenOption.withdrawTokenOptionId==e.withdrawTokenOption.id&&i>0&&i--);0==i&&n("There is no request to withdraw.")})()}}class nG extends bs{constructor(n,e,i,r,s,o){super(),this.courseId=n,this.assignmentId=e,this.studentId=i,this.overrideTitlePrefix=r,this.lockDate=s,this.canvasService=o}check(n){var e=this;return(0,b.Z)(function*(){if(yield e.canvasService.deleteAssignmentOverrideForStudent(e.courseId,e.assignmentId,e.studentId),"unsubmitted"!=(yield e.canvasService.getAssignmentSubmission(e.courseId,e.assignmentId,e.studentId)).workflowState)return yield e.canvasService.createAssignmentOverrideForStudent(e.courseId,e.assignmentId,e.studentId,e.overrideTitlePrefix,e.lockDate),void n("You have already made a submission to the assignment.")})()}}let iG=(()=>{class t extends qs{constructor(e){super(),this.canvasService=e}handle(e,i,r){var s=this;return(0,b.Z)(function*(){let o="",a=!1;const l=r.tokenOption.withdrawTokenOption;if(l){const u=new xo([new Ka(r.submittedTime,l.startTime),new Gd(r.submittedTime,l.endTime),new Jb(l,i.processedRequests),new nG(e.course.id,l.assignmentId,i.student.id,`Token ATM - ${e.uid}`,l.newDueTime,s.canvasService)]);yield u.check(),o=u.message??"",a=u.isRejected}else o="The withdraw token option you requested is no longer valid.",a=!0;return new hi(e,r.tokenOption.id,r.tokenOption.name,r.student,!a,r.submittedTime,new Date,a?0:r.tokenOption.tokenBalanceChange,o,r.tokenOption.group.id)})()}get type(){return"withdraw-assignment-resubmission"}}return t.\u0275fac=function(e){return new(e||t)(ee(An))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();class rG extends bs{constructor(n,e,i,r,s,o){super(),this.courseId=n,this.quizId=e,this.studentId=i,this.overrideTitlePrefix=r,this.lockDate=s,this.canvasService=o}check(n){var e=this;return(0,b.Z)(function*(){const i=yield e.canvasService.getAssignmentIdByQuizId(e.courseId,e.quizId);yield e.canvasService.deleteAssignmentOverrideForStudent(e.courseId,i,e.studentId);var o,r=!1,s=!1;try{for(var l,a=vi(yield e.canvasService.getQuizSubmissions(e.courseId,e.quizId));r=!(l=yield a.next()).done;r=!1)if(l.value.studentId==e.studentId)return yield e.canvasService.createAssignmentOverrideForStudent(e.courseId,i,e.studentId,e.overrideTitlePrefix,e.lockDate),void n("You have already started taking the quiz, or you have already taken the quiz.")}catch(u){s=!0,o=u}finally{try{r&&null!=a.return&&(yield a.return())}finally{if(s)throw o}}})()}}const sG=[Y8,q8,G8,X8,eG,J8,iG,(()=>{class t extends qs{constructor(e){super(),this.canvasService=e}handle(e,i,r){var s=this;return(0,b.Z)(function*(){let o="",a=!1;const l=r.tokenOption.withdrawTokenOption;if(l){const u=new xo([new Ka(r.submittedTime,l.startTime),new Gd(r.submittedTime,l.endTime),new Jb(l,i.processedRequests),new rG(e.course.id,l.quizId,i.student.id,`Token ATM - ${e.uid}`,l.newDueTime,s.canvasService)]);yield u.check(),o=u.message??"",a=u.isRejected}else o="The withdraw token option you requested is no longer valid.",a=!0;return new hi(e,r.tokenOption.id,r.tokenOption.name,r.student,!a,r.submittedTime,new Date,a?0:r.tokenOption.tokenBalanceChange,o,r.tokenOption.group.id)})()}get type(){return"withdraw-lab-data"}}return t.\u0275fac=function(e){return new(e||t)(ee(An))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})(),tG,(()=>{class t extends qs{handle(e,i,r){return(0,b.Z)(function*(){let s="",o=!1;const a=r.tokenOption.withdrawTokenOption;if(a){const l=new xo([new Jb(a,i.processedRequests)]);yield l.check(),s=l.message??"",o=l.isRejected}else s="The withdraw token option you requested is no longer valid.",o=!0;return o||(s="You don't have the permission to withdraw a lab switch request. This token option is only requestable by instructors on your behalf.",o=!0),new hi(e,r.tokenOption.id,r.tokenOption.name,r.student,!o,r.submittedTime,new Date,o?0:r.tokenOption.tokenBalanceChange,s,r.tokenOption.group.id)})()}get type(){return"withdraw-lab-switch"}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})()],bA=new Pe("REQUEST_HANDLERS");let oG=(()=>{class t{constructor(e){this._requestHandlersMap=new Map,e&&e.forEach(i=>{this._requestHandlersMap.set(i.type,i)})}getRequestHandler(e){const i=this._requestHandlersMap.get(e);if(!i)throw new Error("Unsupported request type");return i}handleRequest(e,i,r){return this.getRequestHandler(r.type).handle(e,i,r)}}return t.\u0275fac=function(e){return new(e||t)(ee(bA,8))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class Ws{constructor(n,e,i,r){this._tokenOption=n,this._student=e,this._submittedTime=i,this._quizSubmissionDetail=r}get tokenOption(){return this._tokenOption}get type(){return this._tokenOption.type}get student(){return this._student}get submittedTime(){return this._submittedTime}get quizSubmissionDetail(){return this._quizSubmissionDetail}}class aG extends Ws{}class Gs{}let lG=(()=>{class t extends Gs{resolve(e,i){return(0,b.Z)(function*(){return new aG(e,i.student,i.submittedTime,i)})()}get type(){return"basic"}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();class uG extends Ws{}let cG=(()=>{class t extends Gs{resolve(e,i){return(0,b.Z)(function*(){return new uG(e,i.student,i.submittedTime,i)})()}get type(){return"earn-by-module"}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();class dG extends Ws{}let fG=(()=>{class t extends Gs{resolve(e,i){return(0,b.Z)(function*(){return new dG(e,i.student,i.submittedTime,i)})()}get type(){return"earn-by-quiz"}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();class hG extends Ws{}let pG=(()=>{class t extends Gs{resolve(e,i){return(0,b.Z)(function*(){return new hG(e,i.student,i.submittedTime,i)})()}get type(){return"earn-by-survey"}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();class mG extends Ws{}let _G=(()=>{class t extends Gs{resolve(e,i){return(0,b.Z)(function*(){return new mG(e,i.student,i.submittedTime,i)})()}get type(){return"spend-for-assignment-resubmission"}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();class gG extends Ws{}let yG=(()=>{class t extends Gs{resolve(e,i){return(0,b.Z)(function*(){return new gG(e,i.student,i.submittedTime,i)})()}get type(){return"spend-for-lab-data"}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();class vG extends Ws{}let bG=(()=>{class t extends Gs{resolve(e,i){return(0,b.Z)(function*(){return new vG(e,i.student,i.submittedTime,i)})()}get type(){return"spend-for-lab-switch"}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();class wG extends Ws{}let CG=(()=>{class t extends Gs{resolve(e,i){return(0,b.Z)(function*(){return new wG(e,i.student,i.submittedTime,i)})()}get type(){return"withdraw-assignment-resubmission"}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();class DG extends Ws{}let TG=(()=>{class t extends Gs{resolve(e,i){return(0,b.Z)(function*(){return new DG(e,i.student,i.submittedTime,i)})()}get type(){return"withdraw-lab-data"}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();class SG extends Ws{}const kG=[lG,cG,fG,_G,yG,pG,CG,TG,bG,(()=>{class t extends Gs{resolve(e,i){return(0,b.Z)(function*(){return new SG(e,i.student,i.submittedTime,i)})()}get type(){return"withdraw-lab-switch"}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})()],wA=new Pe("REQUEST_RESOLVERS");let MG=(()=>{class t{constructor(e){this._requestResolversMap=new Map,e&&e.forEach(i=>{this._requestResolversMap.set(i.type,i)})}getRequestResolver(e){const i=this._requestResolversMap.get(e);if(!i)throw new Error("Unspported request type");return i}resolveRequest(e,i){var r=this;return(0,b.Z)(function*(){if(""!=i.answers[0])for(const s of e.availableTokenOptions)if(s.prompt==i.answers[0])return yield r.getRequestResolver(s.type).resolve(s,i)})()}}return t.\u0275fac=function(e){return new(e||t)(ee(wA,8))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class EG{constructor(n,e,i,r){this._student=n,this._submittedTime=e,this._curAttempt=i,this._answers=r.slice(0)}get student(){return this._student}get curAttempt(){return this._curAttempt}get submittedTime(){return this._submittedTime}get answers(){return this._answers}}let OG=(()=>{class t{constructor(e){this.canvasService=e}fetchRawRequest(e,i,r,s,o,a){var l=this;return(0,b.Z)(function*(){const[u,c]=yield l.canvasService.getQuizSubmissionAttempt(e.course.id,i.quizId,s,r.id,o,{assignmentId:a});return new EG(r,u,o,c)})()}}return t.\u0275fac=function(e){return new(e||t)(ee(An))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class gm{constructor(n,e,i,r,s,o,a){this._configuration=n,this._student=e,this._commentId=i,this._commentDate=r,this._tokenBalance=s,this._processedAttemptsMap=o,this._processedRequests=a}get configuration(){return this._configuration}get student(){return this._student}get commentId(){return this._commentId}set commentId(n){this._commentId=n}get commentDate(){return this._commentDate}set commentDate(n){this._commentDate=n}get tokenBalance(){return this._tokenBalance}get processedRequests(){return this._processedRequests}get submittedRequestCnt(){return Array.from(this._processedAttemptsMap.values()).reduce((n,e)=>n+e,0)}logProcessedRequest(n){this._tokenBalance+=n.tokenBalanceChange,null!=n.tokenOptionGroupId&&this._processedAttemptsMap.set(n.tokenOptionGroupId,(this._processedAttemptsMap.get(n.tokenOptionGroupId)??0)+1),this._processedRequests.push(n)}getProcessedAttempts(n){return this._processedAttemptsMap.get(n)??0}toJSON(){return{comment_id:this.commentId,comment_date:Or(this.commentDate),processed_attempt_map:[...this._processedAttemptsMap.entries()].map(n=>({token_option_group_id:n[0],attempt:n[1]})),processed_requests:this.processedRequests}}static deserialize(n,e,i,r,s){if("number"!=typeof s.comment_date||"object"!=typeof s.processed_attempt_map||!Array.isArray(s.processed_attempt_map)||"object"!=typeof s.processed_requests||!Array.isArray(s.processed_requests))throw new Error("Invalid data");const o=new Map;for(const a of s.processed_attempt_map){if("number"!=typeof a.token_option_group_id||"number"!=typeof a.attempt)throw new Error("Invalid data");o.set(a.token_option_group_id,a.attempt)}return new gm(n,e,i,_r(s.comment_date),r,o,s.processed_requests.map(a=>hi.deserialize(n,e,a)))}}let Xb=(()=>{class t{constructor(e){this.canvasService=e}writeStudentRecordToCanvas(e,i,r){var s=this;return(0,b.Z)(function*(){const o=e.course.id,a=i.student.id,l=e.logAssignmentId,u=i.commentId,c=yield s.canvasService.gradeSubmissionWithPostingComment(o,a,l,i.tokenBalance,Wd());i.commentId=c.id,i.commentDate=c.createdAt;try{yield s.canvasService.modifyComment(o,a,l,c.id,t.PROMPT+(yield e.encryptStudentRecord(i)))}catch(d){throw d.message=d.message+`\n***ACTION NEEDED***: \nPlease use Canvas to manually change this student's grade in the Token ATM Log assignment to ${r}. \nFailure to do so could cause the token balance of this student be incorrect. \nAlso, deleting the last two comments in Token ATM Log (ignoring those that start with "Please ignore the characters below") could help avoid confusion. One comment is the report for this incomplete request, while the other is a comment like xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx). \n***Sorry for the inconvenience!`,d}return""!=u&&(yield s.canvasService.deleteSubmissionComment(o,a,l,u)),i})()}getStudentRecord(e,i,r){var s=this;return(0,b.Z)(function*(){const o=e.course.id,a=i.id,l=e.logAssignmentId,u=yield s.canvasService.getSubmissionComments(o,a,l);let c=0;if(r&&r.has(i.id)){const f=r.get(i.id);f&&(c=f)}else c=yield s.canvasService.getSingleSubmissionGrade(o,a,l);for(const f of u.reverse()){if(!f.content.startsWith(t.PROMPT))continue;let h;try{h=yield e.decryptStudentRecord(f.content.split("\n")[1])}catch{yield s.canvasService.deleteComment(o,a,l,f.id);continue}if(!("number"!=typeof h.comment_date||0!=Np(_r(h.comment_date),f.createdAt)||typeof h.comment_id<"u"&&"string"!=typeof h.comment_id||"string"==typeof h.comment_id&&h.comment_id!=f.id))return gm.deserialize(e,i,f.id,c,h);yield s.canvasService.deleteComment(o,a,l,f.id)}let d=new gm(e,i,"",new Date,c,new Map,[]);return d=yield s.writeStudentRecordToCanvas(e,d,0),d})()}logProcessedRequest(e,i,r){var s=this;return(0,b.Z)(function*(){const o=i.tokenBalance;i.logProcessedRequest(r),yield s.canvasService.postComment(e.course.id,i.student.id,e.logAssignmentId,`Your request to ${r.tokenOptionName} has been processed.\nResult: ${r.isApproved?"Approved":"*REJECTED*"}\nSubmitted at: ${ha(r.submittedTime,"MMM dd, yyyy kk:mm:ss")}\nProcessed at: ${ha(r.processedTime,"MMM dd, yyyy kk:mm:ss")}\nToken Balance Change: ${o} -> ${i.tokenBalance}${""!=r.message?`\nMessage: ${r.message}`:""}`),yield s.writeStudentRecordToCanvas(e,i,o)})()}}return t.PROMPT="Please ignore the characters below:\n",t.\u0275fac=function(e){return new(e||t)(ee(An))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Fo(t,n){return`${t} ${i=n,r=t,i+(1==r?"":"s")}`;var i,r}let IG=(()=>{class t{constructor(e,i,r,s,o,a){this.canvasService=e,this.rawRequestFetcherService=i,this.requestResolverRegistry=r,this.studentRecordManagerService=s,this.requestHandlerRegistry=o,this.qualtricsService=a,this._isRunning=!1,this._isStopTriggered=!1}startRequestProcessing(e){const i=new yi([0,"Request processing started"]);return this.runRequestProcessing(e,i),i}stopRequestProcessing(){this.isRunning&&(this._isStopTriggered=!0)}finishRequestProcessing(e,i=!0){this._isRunning=!1,this._isStopTriggered=!1,this.qualtricsService.clearCache(),i&&e.complete()}runRequestProcessing(e,i){var r=this;return(0,b.Z)(function*(){let s,o;r._isRunning=!0,r._isStopTriggered=!1,r.qualtricsService.clearCache();try{[s,o]=yield r.gatherQuizSubmissions(e,i)}catch(v){return i.error(["Encountered an error while gathering students' quiz submissions",v]),void r.finishRequestProcessing(i,!1)}if(r._isStopTriggered)return void r.finishRequestProcessing(i);const a=s.size;let l=0,u=0;try{var f,c=!1,d=!1;try{for(var p,h=vi(yield r.canvasService.getCourseStudentEnrollments(e.course.id));c=!(p=yield h.next()).done;c=!1){const v=p.value;{if(!s.has(v.id))continue;let k=0;l++;const I=s.get(v.id);if(!I)continue;let z,P;try{[z,P]=yield r.resolveRequestsForStudent(e,v,i,I.values(),o)}catch(oe){return i.error(["Encountered an error while resolving requests for student "+v.name+(""==v.email?"":`(${v.email})`),oe]),void r.finishRequestProcessing(i,!1)}if(r._isStopTriggered)return void r.finishRequestProcessing(i);for(const oe of P){if(z.submittedRequestCnt>=t.MAX_SUBMITTED_REQUEST_CNT)break;let tt;if(oe instanceof hi)tt=oe;else try{tt=yield r.requestHandlerRegistry.handleRequest(e,z,oe)}catch(rt){return i.error([`Encountered an error while handling request to ${tt?tt.tokenOptionName:oe.tokenOption.name} submitted at ${ha(oe.submittedTime,"MMM dd, yyyy kk:mm:ss")} by student ${v.name+(""==v.email?"":`(${v.email})`)}`,rt]),void r.finishRequestProcessing(i,!1)}try{yield r.studentRecordManagerService.logProcessedRequest(e,z,tt)}catch(rt){return i.error([`Encountered an error while logging request to ${tt.tokenOptionName} submitted at ${ha(tt.submittedTime,"MMM dd, yyyy kk:mm:ss")} by student ${v.name+(""==v.email?"":`(${v.email})`)}`,rt]),void r.finishRequestProcessing(i,!1)}if(u++,k++,i.next([100*l/a,r.progressString(a,u,l)]),i.next([-1-k/P.length,`Processed ${Fo(k,"request")} for the current student, ${Fo(P.length-k,"request")} remaining`]),r._isStopTriggered)return void r.finishRequestProcessing(i)}}}}catch(v){d=!0,f=v}finally{try{c&&null!=h.return&&(yield h.return())}finally{if(d)throw f}}r.finishRequestProcessing(i)}catch(v){return i.error(["Encountered an error while traversing the student list",v]),void r.finishRequestProcessing(i,!1)}})()}gatherQuizSubmissions(e,i){var r=this;return(0,b.Z)(function*(){const s=new Map,o=new Map;let a=0;for(const h of e.tokenOptionGroups){o.set(h.quizId,yield r.canvasService.getAssignmentIdByQuizId(e.course.id,h.quizId));var c,l=!1,u=!1;try{for(var f,d=vi(yield r.canvasService.getQuizSubmissions(e.course.id,h.quizId));l=!(f=yield d.next()).done;l=!1){const p=f.value;if(s.has(p.studentId)||s.set(p.studentId,new Map),s.get(p.studentId)?.set(h.quizId,[h,p]),a++,i.next([0,`Gathering submissions: Gathered ${Fo(a,"submission")}`]),r._isStopTriggered)return[s,o]}}catch(p){u=!0,c=p}finally{try{l&&null!=d.return&&(yield d.return())}finally{if(u)throw c}}}return[s,o]})()}resolveRequestsForStudent(e,i,r,s,o){var a=this;return(0,b.Z)(function*(){const l=yield a.studentRecordManagerService.getStudentRecord(e,i),u=[];if(l.submittedRequestCnt>=t.MAX_SUBMITTED_REQUEST_CNT)return[l,u];if(a._isStopTriggered)return[l,u];let c=0;for(const[d,f]of s)for(let h=l.getProcessedAttempts(d.id)+1;h<=f.attempt;h++){const p=yield a.rawRequestFetcherService.fetchRawRequest(e,d,i,f.id,h,o.get(d.quizId));if(a._isStopTriggered)return[l,u];const v=yield a.requestResolverRegistry.resolveRequest(d,p);if(u.push(v||new hi(e,-1,"An Unrecognized Token Option",i,!1,p.submittedTime,new Date,0,"The token option you made a request for cannot be recognized. You might have submitted the quiz without selecting an option from Question 1, or the token option you requested for is deleted, moved, or not configured properly yet.",d.id)),c++,r.next([-1,`Resolving Requests: Resolved ${Fo(c,"request")} for the current student`]),a._isStopTriggered)return[l,u]}return[l,u.sort((d,f)=>Np(a.getSubmitTime(d),a.getSubmitTime(f)))]})()}getSubmitTime(e){return e.submittedTime}progressString(e,i,r){return o=e,l=r,`Processing Requests: Processed ${Fo(i,"request")} for ${Fo(l,"student")}, ${Fo(o-l+1,"student")} remaining`;var o,l}get isRunning(){return this._isRunning}}return t.MAX_SUBMITTED_REQUEST_CNT=200,t.\u0275fac=function(e){return new(e||t)(ee(An),ee(OG),ee(MG),ee(Xb),ee(oG),ee(_m))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const{stringify:DA}=JSON,Zd=String,TA="string",ym="object",kA=(t,n)=>n,EA=(t,n,e)=>{const i=Zd(n.push(e)-1);return t.set(e,i),i},OA=(t,n,e)=>{const i=n&&typeof n===ym?(c,d)=>""===c||-1<n.indexOf(c)?d:void 0:n||kA,r=new Map,s=[],o=[];let a=+EA(r,s,i.call({"":t},"",t)),l=!a;for(;a<s.length;)l=!0,o[a]=DA(s[a++],u,e);return"["+o.join(",")+"]";function u(c,d){if(l)return l=!l,d;const f=i.call(this,c,d);switch(typeof f){case ym:if(null===f)return f;case TA:return r.get(f)||EA(r,s,f)}return f}};class _a{static serailize(n){let e="\ntoString() result: \n"+n.toString();return e+="\nJSON result: \n"+OA(n),e}}function NG(t,n){1&t&&Ae(0,"app-canvas-loading-toast")}function LG(t,n){if(1&t&&(_(0,"div",7),Ae(1,"div",8),g()),2&t){const e=w(2);go("width","30rem"),m(1),go("width",e.progress.toString()+"%")}}function PG(t,n){if(1&t&&(_(0,"p"),M(1),g()),2&t){const e=w(2);m(1),it(e.message)}}function VG(t,n){if(1&t&&(_(0,"div",7),Ae(1,"div",8),g()),2&t){const e=w(2);go("width","30rem"),m(1),go("width",e.individualProgress.toString()+"%")}}function BG(t,n){if(1&t&&(_(0,"p"),M(1),g()),2&t){const e=w(2);m(1),it(e.individualMessage)}}function HG(t,n){if(1&t){const e=Fe();_(0,"div",3)(1,"button",4),N("click",function(){H(e);const r=w();return $(r.isProcessingRequest?r.onStopRequestProcessing():r.onStartRequestProcessing())}),M(2),g(),V(3,LG,2,4,"div",5),V(4,PG,2,1,"p",6),V(5,VG,2,4,"div",5),V(6,BG,2,1,"p",6),g()}if(2&t){const e=w();m(1),st("btn-danger",e.isProcessingRequest),y("disabled",e.isRunning),m(1),qt(" ",e.isProcessingRequest?"Stop Request Processing":"Start Request Processing"," "),m(1),y("ngIf",void 0!==e.progress),m(1),y("ngIf",e.message),m(1),y("ngIf",void 0!==e.individualProgress),m(1),y("ngIf",e.individualMessage)}}let $G=(()=>{class t{constructor(e,i,r){this.configurationManager=e,this.requestProcessManagerService=i,this.modalManagerService=r,this.isReconfigureFinished=!0,this.isStopRequested=!1}configureCourse(e){var i=this;return(0,b.Z)(function*(){i.course=e,i.configuration=yield i.configurationManager.getTokenATMConfiguration(e)})()}onStopRequestProcessing(){this.requestProcessManagerService.isRunning&&(this.isStopRequested=!0,this.requestProcessManagerService.stopRequestProcessing())}onStartRequestProcessing(){var e=this;return(0,b.Z)(function*(){var i;e.configuration&&(e.isReconfigureFinished=!1,e.isStopRequested=!1,e.requestProcessManagerService.startRequestProcessing(e.configuration).subscribe({next:([i,r])=>{i<=-1?(e.individualProgress=100*Math.abs(i+1),e.individualMessage=r):(e.progress=i,e.message=r)},complete:(i=(0,b.Z)(function*(){yield e.onRequestProcessingComplete()}),function(){return i.apply(this,arguments)}),error:function(){var i=(0,b.Z)(function*([r,s]){yield e.modalManagerService.createNotificationModal(r+`\n______________\nError message: ${_a.serailize(s)}`),yield e.onRequestProcessingComplete(!1)});return function(s){return i.apply(this,arguments)}}()}))})()}onRequestProcessingComplete(e=!0){var i=this;return(0,b.Z)(function*(){i.progress=void 0,i.message=void 0,i.individualProgress=void 0,i.individualMessage=void 0,i.course&&e&&(yield i.configureCourse(i.course)),i.isStopRequested=!1,i.isReconfigureFinished=!0})()}get isProcessingRequest(){return this.requestProcessManagerService.isRunning}get isRunning(){return this.requestProcessManagerService.isRunning&&this.isStopRequested||!this.requestProcessManagerService.isRunning&&!this.isReconfigureFinished}}return t.\u0275fac=function(e){return new(e||t)(T(Yr),T(IG),T(Ro))},t.\u0275cmp=$e({type:t,selectors:[["app-request-process"]],decls:4,vars:2,consts:[["appCenter",""],[4,"ngIf","ngIfElse"],["processPanel",""],[1,"d-flex","flex-column","align-items-center"],[1,"btn","btn-primary","btn-lg","mx-auto",3,"disabled","click"],["class","progress m-3 mx-auto",3,"width",4,"ngIf"],[4,"ngIf"],[1,"progress","m-3","mx-auto"],["role","progressbar",1,"progress-bar","progress-bar-striped","bg-success"]],template:function(e,i){if(1&e&&(_(0,"div",0),V(1,NG,1,0,"app-canvas-loading-toast",1),V(2,HG,7,8,"ng-template",null,2,hr),g()),2&e){const r=Rs(3);m(1),y("ngIf",!i.configuration)("ngIfElse",r)}},dependencies:[Jt,ma,Hu]}),t})();function jG(t,n){if(1&t&&(_(0,"p",4),M(1),g()),2&t){const e=w();m(1),it(e.errorMessage)}}let ws=(()=>{class t{constructor(){this.fieldId=Wd(),this.label="",this.value=0,this._validator=function(){var e=(0,b.Z)(function*(i){return"number"!=typeof i?"Value is invalid":void 0});return function(i){return e.apply(this,arguments)}}(),this.readonly=!1}set isReadOnly(e){this.readonly=e}set initValue(e){this.value=e}set validator(e){this._validator=function(){var i=(0,b.Z)(function*(r){return"number"!=typeof r?"Value is invalid":e(r)});return function(r){return i.apply(this,arguments)}}()}getValue(){var e=this;return(0,b.Z)(function*(){return e.value})()}validate(){var e=this;return(0,b.Z)(function*(){const i=yield e._validator(yield e.getValue());return e.errorMessage=i,null==i})()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=$e({type:t,selectors:[["app-number-input-field"]],inputs:{label:"label",isReadOnly:"isReadOnly",initValue:"initValue",validator:"validator"},decls:5,vars:6,consts:[[1,"m-3"],[1,"form-label",3,"for"],["type","number","id","'input' + fieldId",1,"form-control",3,"ngModel","readonly","disabled","ngModelChange"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(e,i){1&e&&(_(0,"div",0)(1,"label",1),M(2),g(),_(3,"input",2),N("ngModelChange",function(s){return i.value=s}),g(),V(4,jG,2,1,"p",3),g()),2&e&&(m(1),y("for","input"+i.fieldId),m(1),it(i.label),m(1),y("ngModel",i.value)("readonly",i.readonly)("disabled",i.readonly),m(1),y("ngIf",i.errorMessage))},dependencies:[Jt,Ns,ap,Mr,mr]}),t})();const UG=["groupNameComp"],YG=["groupDescriptionComp"];let IA=(()=>{class t{constructor(e){this.managerService=e,this.groupId=-1,this.groupName="",this.groupDescription="",this.groupNameValidator=function(){var i=(0,b.Z)(function*(r){return r.length>0?void 0:"Name cannot be empty"});return function(r){return i.apply(this,arguments)}}(),this.isProcessing=!1}set group(e){this._group=e,this.groupId=this._group.id,this.groupName=this._group.name,this.groupDescription=this._group.description}set configuration(e){this._configuration=e,this.groupId=this._configuration.nextFreeTokenOptionGroupId}get isEditing(){return null!=this._group}getValue(){var e=this;return(0,b.Z)(function*(){if(!e.groupNameCompRef||!e.groupDescriptionCompRef)return;let i=!0;return i&&=(yield e.groupNameCompRef.validate()),i&&=(yield e.groupDescriptionCompRef.validate()),i?[yield e.groupNameCompRef.getValue(),yield e.groupDescriptionCompRef.getValue()]:void 0})()}onSave(){var e=this;return(0,b.Z)(function*(){if(!e._group)return;e.isProcessing=!0;const i=yield e.getValue();null!=i?([e._group.name,e._group.description]=i,yield e.managerService.updateTokenOptionGroupMetadata(e._group),e.isProcessing=!1,e.modalRef?.hide()):e.isProcessing=!1})()}onCreate(){var e=this;return(0,b.Z)(function*(){if(!e._configuration||!e.groupNameCompRef||!e.groupDescriptionCompRef)return;e.isProcessing=!0;const i=yield e.getValue();if(null==i)return void(e.isProcessing=!1);const[r,s]=i;yield e.managerService.addNewTokenOptionGroup(new yt(e._configuration,r,e.groupId,"",s,!1,[])),e.isProcessing=!1,e.modalRef?.hide()})()}}return t.\u0275fac=function(e){return new(e||t)(T(Yr))},t.\u0275cmp=$e({type:t,selectors:[["app-token-option-group-management"]],viewQuery:function(e,i){if(1&e&&(pe(UG,5),pe(YG,5)),2&e){let r;de(r=fe())&&(i.groupNameCompRef=r.first),de(r=fe())&&(i.groupDescriptionCompRef=r.first)}},inputs:{group:"group",configuration:"configuration"},decls:15,vars:13,consts:[[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",3,"click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-body"],["label","Group ID",3,"initValue","isReadOnly"],["label","Group Name",3,"initValue","validator"],["groupNameComp",""],["label","Group Description",3,"initValue","rows"],["groupDescriptionComp",""],[1,"modal-footer"],["type","button",1,"btn","mx-2",3,"disabled","click"]],template:function(e,i){1&e&&(_(0,"div",0)(1,"h4",1),M(2),g(),_(3,"button",2),N("click",function(){return null==i.modalRef?null:i.modalRef.hide()}),_(4,"span",3),M(5,"\xd7"),g()()(),_(6,"div",4),Ae(7,"app-number-input-field",5)(8,"app-string-input-field",6,7)(10,"app-string-textarea-field",8,9),g(),_(12,"div",10)(13,"button",11),N("click",function(){return i.isEditing?i.onSave():i.onCreate()}),M(14),g()()),2&e&&(m(2),qt("",i.isEditing?"Edit":"Create"," Token Option Group"),m(5),y("initValue",i.groupId)("isReadOnly",!0),m(1),y("initValue",i.groupName)("validator",i.groupNameValidator),m(2),y("initValue",i.groupDescription)("rows",4),m(3),st("btn-outline-success",!i.isEditing)("btn-outline-primary",i.isEditing),y("disabled",i.isProcessing),m(1),qt(" ",i.isEditing?"Save":"Create"," "))},dependencies:[qr,Wr,ws]}),t})(),ew=(()=>{class t{getDescriptiveName(e){return t.DESCRIPTIVE_NAME_REGISTRY[e]}getRegisteredTokenOptionsDescriptiveNames(){return Object.entries(t.DESCRIPTIVE_NAME_REGISTRY)}canCreateRequestByTeacher(e){return e instanceof jd}}return t.DESCRIPTIVE_NAME_REGISTRY={basic:"Basic (Always approve; just for testing purpose)","earn-by-quiz":"Earn Tokens by Passing Canvas Quiz","earn-by-module":"Earn Tokens by Passing Canvas Module","earn-by-survey":"Earn Tokens by Taking Qualtrics Survey","spend-for-lab-data":"Spend Tokens for Lab Data","spend-for-assignment-resubmission":"Spend Tokens for Assignment Resubmission","withdraw-assignment-resubmission":"Withdraw Assignment Resubmission Request","withdraw-lab-data":"Withdraw Lab Data Request","spend-for-lab-switch":"Spend Tokens for Switching Lab","withdraw-lab-switch":"Withdraw Lab Switch Request (For Teacher Only)"},t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class Zs{constructor(){this._isReadOnly=!1,this._subFields=[]}set isReadOnly(n){this._isReadOnly=n}get isReadOnly(){return this._isReadOnly}set validator(n){}validate(){var n=this;return(0,b.Z)(function*(){let e=!0;for(const i of n._subFields){const r=yield i.validate();e&&=r}return e})()}addSubField(n){this._subFields.push(n)}}const zG=["idFieldComponent"],qG=["nameFieldComponent"],WG=["descriptionFieldComponent"],GG=["tokenBalanceChangeFieldComponent"];let ZG=(()=>{class t extends Zs{set initValue(e){this._value=e}ngOnInit(){if(!(this._value&&this._idField&&this._nameField&&this._descriptionField&&this._tokenBalanceChangeField))throw new Error("Fields are not ready yet!");this.addSubField(this._nameField),this.addSubField(this._descriptionField),this.addSubField(this._tokenBalanceChangeField),this._value instanceof yt?(this._idField.initValue=this._value.configuration.nextFreeTokenOptionId,this._nameField.initValue="",this._descriptionField.initValue="",this._tokenBalanceChangeField.initValue=0):(this._idField.initValue=this._value.id,this._nameField.initValue=this._value.name,this._descriptionField.initValue=this._value.description,this._tokenBalanceChangeField.initValue=this._value.tokenBalanceChange),this._nameField.validator=function(){var e=(0,b.Z)(function*(i){if(0==i.length)return"Token option name cannot be empty"});return function(i){return e.apply(this,arguments)}}()}getValue(){var e=this;return(0,b.Z)(function*(){if(!(e._value&&e._idField&&e._nameField&&e._descriptionField&&e._tokenBalanceChangeField))throw new Error("Value is not ready yet!");return e._value instanceof yt?new js(e._value,"basic",yield e._idField.getValue(),yield e._nameField.getValue(),yield e._descriptionField.getValue(),yield e._tokenBalanceChangeField.getValue(),!1):(e._value.name=yield e._nameField.getValue(),e._value.description=yield e._descriptionField.getValue(),e._value.tokenBalanceChange=yield e._tokenBalanceChangeField.getValue(),e._value)})()}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275cmp=$e({type:t,selectors:[["app-basic-token-option-field"]],viewQuery:function(e,i){if(1&e&&(pe(zG,7),pe(qG,7),pe(WG,7),pe(GG,7)),2&e){let r;de(r=fe())&&(i._idField=r.first),de(r=fe())&&(i._nameField=r.first),de(r=fe())&&(i._descriptionField=r.first),de(r=fe())&&(i._tokenBalanceChangeField=r.first)}},features:[_t],decls:8,vars:4,consts:[["label","ID",3,"isReadOnly"],["idFieldComponent",""],["label","Name",3,"isReadOnly"],["nameFieldComponent",""],["label","Description",3,"isReadOnly"],["descriptionFieldComponent",""],["label","Token Balance Change",3,"isReadOnly"],["tokenBalanceChangeFieldComponent",""]],template:function(e,i){1&e&&Ae(0,"app-number-input-field",0,1)(2,"app-string-input-field",2,3)(4,"app-string-textarea-field",4,5)(6,"app-number-input-field",6,7),2&e&&(y("isReadOnly",!0),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly))},dependencies:[qr,Wr,ws]}),t})();function Qs(t,n){if(un(2,arguments),"object"!==Id(n)||null===n)throw new RangeError("values parameter must be an object");var e=Zn(t);return isNaN(e.getTime())?new Date(NaN):(null!=n.year&&e.setFullYear(n.year),null!=n.month&&(e=function KG(t,n){un(2,arguments);var e=Zn(t),i=Ii(n),r=e.getFullYear(),s=e.getDate(),o=new Date(0);o.setFullYear(r,i,15),o.setHours(0,0,0,0);var a=function QG(t){un(1,arguments);var n=Zn(t),e=n.getFullYear(),i=n.getMonth(),r=new Date(0);return r.setFullYear(e,i+1,0),r.setHours(0,0,0,0),r.getDate()}(o);return e.setMonth(i,Math.min(s,a)),e}(e,n.month)),null!=n.date&&e.setDate(Ii(n.date)),null!=n.hours&&e.setHours(Ii(n.hours)),null!=n.minutes&&e.setMinutes(Ii(n.minutes)),null!=n.seconds&&e.setSeconds(Ii(n.seconds)),null!=n.milliseconds&&e.setMilliseconds(Ii(n.milliseconds)),e)}function AA(t){return pt((n,e)=>{R(t).subscribe(Xe(e,()=>e.complete(),B)),!e.closed&&n.subscribe(e)})}function tw(t,n=Ee){return t=t??JG,pt((e,i)=>{let r,s=!0;e.subscribe(Xe(i,o=>{const a=n(o);(s||!t(r,a))&&(s=!1,r=a,i.next(o))}))})}function JG(t,n){return t===n}function Ja(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function or(t){return"string"==typeof t}function vm(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function ga(t){return t&&t.getTime&&!isNaN(t.getTime())}function Xa(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function el(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function Mn(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function Wi(t,n){return Object.prototype.hasOwnProperty.call(t,n)}function tl(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function RA(t){return void 0===t}function Mt(t){const n=+t;let e=0;return 0!==n&&isFinite(n)&&(e=Ja(n)),e}const Qd={},xA={date:"day",hour:"hours",minute:"minutes",second:"seconds",millisecond:"milliseconds"};function Gi(t,n){const e=t.toLowerCase();let i=t;e in xA&&(i=xA[e]),Qd[e]=Qd[`${e}s`]=Qd[n]=i}function FA(t){return or(t)?Qd[t]||Qd[t.toLowerCase()]:void 0}const Cs=0,No=1,Ks=2,pi=3,Ds=4,Lo=5,nl=6,n7=7,r7=8;function Po(t,n,e){const i=`${Math.abs(t)}`;return(t>=0?e?"+":"":"-")+Math.pow(10,Math.max(0,n-i.length)).toString().substr(1)+i}const nw={},ju={},NA=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;function ot(t,n,e,i){t&&(ju[t]=i),n&&(ju[n[0]]=function(){return Po(i.apply(null,arguments),n[1],n[2])}),e&&(ju[e]=function(r,s){return s.locale.ordinal(i.apply(null,arguments),t)})}function o7(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function bm(t,n,e){const i=new Date(Date.UTC.apply(null,arguments));return t<100&&t>=0&&isFinite(i.getUTCFullYear())&&i.setUTCFullYear(t),i}function wm(t,n=0,e=1,i=0,r=0,s=0,o=0){const a=new Date(t,n,e,i,r,s,o);return t<100&&t>=0&&isFinite(a.getFullYear())&&a.setFullYear(t),a}function Et(t,n=!1){return n?t.getUTCHours():t.getHours()}function Uu(t,n=!1){return n?t.getUTCMinutes():t.getMinutes()}function iw(t,n=!1){return n?t.getUTCSeconds():t.getSeconds()}function Vo(t,n=!1){return n?t.getUTCMilliseconds():t.getMilliseconds()}function Js(t,n=!1){return n?t.getUTCDay():t.getDay()}function il(t,n=!1){return n?t.getUTCDate():t.getDate()}function Ot(t,n=!1){return n?t.getUTCMonth():t.getMonth()}function Rn(t,n=!1){return n?t.getUTCFullYear():t.getFullYear()}function Yu(t,n){return!(!t||!n)&&zu(t,n)&&Ot(t)===Ot(n)}function zu(t,n){return!(!t||!n)&&Rn(t)===Rn(n)}function ya(t,n){return!(!t||!n)&&zu(t,n)&&Yu(t,n)&&il(t)===il(n)}const LA=/\d/,Ar=/\d\d/,PA=/\d{3}/,rw=/\d{4}/,Cm=/[+-]?\d{6}/,vn=/\d\d?/,VA=/\d\d\d\d?/,BA=/\d\d\d\d\d\d?/,Dm=/\d{1,3}/,sw=/\d{1,4}/,Tm=/[+-]?\d{1,6}/,f7=/\d+/,Sm=/[+-]?\d+/,km=/Z|[+-]\d\d(?::?\d\d)?/gi,p7=/[+-]?\d+(\.\d{1,3})?/,Kd=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Mm={};function He(t,n,e){Mm[t]=Xa(n)?n:function(i,r){return i&&e?e:n}}function m7(t,n){return Wi(Mm,t)?Mm[t](!1,n):new RegExp(function _7(t){return rl(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(n,e,i,r,s)=>e||i||r||s))}(t))}function rl(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}const ow={};function bn(t,n){const e=or(t)?[t]:t;let i=n;if(el(n)&&(i=function(r,s,o){return s[n]=Mt(r),o}),Mn(e)&&Xa(i)){let r;for(r=0;r<e.length;r++)ow[e[r]]=i}}function Jd(t,n){bn(t,function(e,i,r,s){return r._w=r._w||{},n(e,r._w,r,s)})}function g7(t,n,e){return null!=n&&Wi(ow,t)&&ow[t](n,e._a,e,t),e}const y7={};function Zi(t,n){y7[t]=n}function Vt(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function aw(t,n){return n.locale.getFullYear?n.locale.getFullYear(t,n.isUTC).toString():Rn(t,n.isUTC).toString()}function lw(t){return Mt(t)+(Mt(t)>68?1900:2e3)}function Xd(t){return uw(t)?366:365}function uw(t){return t%4==0&&t%100!=0||t%400==0}function Em(t,n){if(isNaN(t)||isNaN(n))return NaN;const e=function XG(t,n){return(t%n+n)%n}(n,12);return 1===e?uw(t+(n-e)/12)?29:28:31-e%7%2}const D7={year:0,month:0,day:0,hour:0,minute:0,seconds:0};function bi(t,n){const e=Object.assign({},D7,n),i=t.getFullYear()+(e.year||0),r=t.getMonth()+(e.month||0);let s=t.getDate()+(e.day||0);return e.month&&!e.day&&(s=Math.min(s,Em(i,r))),wm(i,r,s,t.getHours()+(e.hour||0),t.getMinutes()+(e.minute||0),t.getSeconds()+(e.seconds||0))}function qu(t,n){return el(n)?n:t}function sl(t,n,e){const i=Math.min(il(t),Em(Rn(t),n));return e?t.setUTCMonth(n,i):t.setMonth(n,i),t}function cw(t,n,e){return e?t.setUTCDate(n):t.setDate(n),t}function Bo(t){return new Date(t.getTime())}function Ho(t,n,e){const i=Bo(t);switch(n){case"year":sl(i,0,e);case"quarter":case"month":cw(i,1,e);case"week":case"isoWeek":case"day":case"date":!function k7(t,n,e){e?t.setUTCHours(n):t.setHours(n)}(i,0,e);case"hours":!function M7(t,n,e){e?t.setUTCMinutes(n):t.setMinutes(n)}(i,0,e);case"minutes":!function E7(t,n,e){e?t.setUTCSeconds(n):t.setSeconds(n)}(i,0,e);case"seconds":!function O7(t,n,e){e?t.setUTCMilliseconds(n):t.setMilliseconds(n)}(i,0,e)}return"week"===n&&function j9(t,n,e={}){to(t,n-Dw(t,e.locale,e.isUTC),"day")}(i,0,{isUTC:e}),"isoWeek"===n&&function U9(t,n,e={}){const i=function $9(t,n=mi()){return or(t)?n.weekdaysParse(t)%7||7:el(t)&&isNaN(t)?null:t}(n,e.locale);sf(t,function ei(t,n){return Js(t,n)}(t)%7?i:i-7)}(i,1),"quarter"===n&&sl(i,3*Math.floor(Ot(i,e)/3),e),i}function Om(t,n,e){let i=n;return"date"===i&&(i="day"),function V9(t,n,e,i){return fR(t,Cw(n,e),-1,i)}(to(Ho(t,i,e),1,"isoWeek"===i?"week":i,e),1,"milliseconds",e)}function dw(t,n){const e=+Ho(t,"day",n),i=+Ho(t,"year",n);return Math.round((e-i)/864e5)+1}function Im(t,n,e){const i=n-e+7;return-(bm(t,0,i).getUTCDay()-n+7)%7+i-1}function Wu(t,n,e,i){const r=Im(Rn(t,i),n,e),s=Math.floor((dw(t,i)-r-1)/7)+1;let o,a;return s<1?(a=Rn(t,i)-1,o=s+ol(a,n,e)):s>ol(Rn(t,i),n,e)?(o=s-ol(Rn(t,i),n,e),a=Rn(t,i)+1):(a=Rn(t,i),o=s),{week:o,year:a}}function ol(t,n,e){const i=Im(t,n,e),r=Im(t+1,n,e);return(Xd(t)-i+r)/7}const $A=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,R7="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),jA="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),x7="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),UA="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),F7="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),YA={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},P7=Kd,V7=Kd;class zA{constructor(n){n&&this.set(n)}set(n){let e;for(e in n){if(!n.hasOwnProperty(e))continue;const i=n[e];this[Xa(i)?e:`_${e}`]=i}this._config=n}calendar(n,e,i){const r=this._calendar[n]||this._calendar.sameElse;return Xa(r)?r.call(null,e,i):r}longDateFormat(n){const e=this._longDateFormat[n],i=this._longDateFormat[n.toUpperCase()];return e||!i?e:(this._longDateFormat[n]=i.replace(/MMMM|MM|DD|dddd/g,function(r){return r.slice(1)}),this._longDateFormat[n])}get invalidDate(){return this._invalidDate}set invalidDate(n){this._invalidDate=n}ordinal(n,e){return this._ordinal.replace("%d",n.toString(10))}preparse(n,e){return n}getFullYear(n,e=!1){return Rn(n,e)}postformat(n){return n}relativeTime(n,e,i,r){const s=this._relativeTime[i];return Xa(s)?s(n,e,i,r):s.replace(/%d/i,n.toString(10))}pastFuture(n,e){const i=this._relativeTime[n>0?"future":"past"];return Xa(i)?i(e):i.replace(/%s/i,e)}months(n,e,i=!1){if(!n)return Mn(this._months)?this._months:this._months.standalone;if(Mn(this._months))return this._months[Ot(n,i)];const r=(this._months.isFormat||$A).test(e)?"format":"standalone";return this._months[r][Ot(n,i)]}monthsShort(n,e,i=!1){if(!n)return Mn(this._monthsShort)?this._monthsShort:this._monthsShort.standalone;if(Mn(this._monthsShort))return this._monthsShort[Ot(n,i)];const r=$A.test(e)?"format":"standalone";return this._monthsShort[r][Ot(n,i)]}monthsParse(n,e,i){let r,s,o;if(this._monthsParseExact)return this.handleMonthStrictParse(n,e,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),o=0;o<12;o++){if(r=new Date(Date.UTC(2e3,o)),i&&!this._longMonthsParse[o]){const a=this.months(r,"",!0).replace(".",""),l=this.monthsShort(r,"",!0).replace(".","");this._longMonthsParse[o]=new RegExp(`^${a}$`,"i"),this._shortMonthsParse[o]=new RegExp(`^${l}$`,"i")}if(!i&&!this._monthsParse[o]&&(s=`^${this.months(r,"",!0)}|^${this.monthsShort(r,"",!0)}`,this._monthsParse[o]=new RegExp(s.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[o].test(n)||i&&"MMM"===e&&this._shortMonthsParse[o].test(n)||!i&&this._monthsParse[o].test(n))return o}}monthsRegex(n){return this._monthsParseExact?(Wi(this,"_monthsRegex")||this.computeMonthsParse(),n?this._monthsStrictRegex:this._monthsRegex):(Wi(this,"_monthsRegex")||(this._monthsRegex=V7),this._monthsStrictRegex&&n?this._monthsStrictRegex:this._monthsRegex)}monthsShortRegex(n){return this._monthsParseExact?(Wi(this,"_monthsRegex")||this.computeMonthsParse(),n?this._monthsShortStrictRegex:this._monthsShortRegex):(Wi(this,"_monthsShortRegex")||(this._monthsShortRegex=P7),this._monthsShortStrictRegex&&n?this._monthsShortStrictRegex:this._monthsShortRegex)}week(n,e){return Wu(n,this._week.dow,this._week.doy,e).week}firstDayOfWeek(){return this._week.dow}firstDayOfYear(){return this._week.doy}weekdays(n,e,i){if(!n)return Mn(this._weekdays)?this._weekdays:this._weekdays.standalone;if(Mn(this._weekdays))return this._weekdays[Js(n,i)];const r=this._weekdays.isFormat.test(e)?"format":"standalone";return this._weekdays[r][Js(n,i)]}weekdaysMin(n,e,i){return n?this._weekdaysMin[Js(n,i)]:this._weekdaysMin}weekdaysShort(n,e,i){return n?this._weekdaysShort[Js(n,i)]:this._weekdaysShort}weekdaysParse(n,e,i){let r,s;if(this._weekdaysParseExact)return this.handleWeekStrictParse(n,e,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){const o=sf(new Date(Date.UTC(2e3,1)),r,null,!0);if(i&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp(`^${this.weekdays(o,"",!0).replace(".",".?")}$`,"i"),this._shortWeekdaysParse[r]=new RegExp(`^${this.weekdaysShort(o,"",!0).replace(".",".?")}$`,"i"),this._minWeekdaysParse[r]=new RegExp(`^${this.weekdaysMin(o,"",!0).replace(".",".?")}$`,"i")),this._weekdaysParse[r]||(s=`^${this.weekdays(o,"",!0)}|^${this.weekdaysShort(o,"",!0)}|^${this.weekdaysMin(o,"",!0)}`,this._weekdaysParse[r]=new RegExp(s.replace(".",""),"i")),!(Mn(this._fullWeekdaysParse)&&Mn(this._shortWeekdaysParse)&&Mn(this._minWeekdaysParse)&&Mn(this._weekdaysParse)))return;if(i&&"dddd"===e&&this._fullWeekdaysParse[r].test(n))return r;if(i&&"ddd"===e&&this._shortWeekdaysParse[r].test(n))return r;if(i&&"dd"===e&&this._minWeekdaysParse[r].test(n))return r;if(!i&&this._weekdaysParse[r].test(n))return r}}weekdaysRegex(n){return this._weekdaysParseExact?(Wi(this,"_weekdaysRegex")||this.computeWeekdaysParse(),n?this._weekdaysStrictRegex:this._weekdaysRegex):(Wi(this,"_weekdaysRegex")||(this._weekdaysRegex=Kd),this._weekdaysStrictRegex&&n?this._weekdaysStrictRegex:this._weekdaysRegex)}weekdaysShortRegex(n){return this._weekdaysParseExact?(Wi(this,"_weekdaysRegex")||this.computeWeekdaysParse(),n?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Wi(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Kd),this._weekdaysShortStrictRegex&&n?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}weekdaysMinRegex(n){return this._weekdaysParseExact?(Wi(this,"_weekdaysRegex")||this.computeWeekdaysParse(),n?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Wi(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Kd),this._weekdaysMinStrictRegex&&n?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}isPM(n){return"p"===n.toLowerCase().charAt(0)}meridiem(n,e,i){return n>11?i?"pm":"PM":i?"am":"AM"}formatLongDate(n){this._longDateFormat=this._longDateFormat?this._longDateFormat:YA;const e=this._longDateFormat[n],i=this._longDateFormat[n.toUpperCase()];return e||!i?e:(this._longDateFormat[n]=i.replace(/MMMM|MM|DD|dddd/g,r=>r.slice(1)),this._longDateFormat[n])}handleMonthStrictParse(n,e,i){const r=n.toLocaleLowerCase();let s,o,a;if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;s<12;++s)a=new Date(2e3,s),this._shortMonthsParse[s]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(a,"").toLocaleLowerCase();return i?"MMM"===e?(o=this._shortMonthsParse.indexOf(r),-1!==o?o:null):(o=this._longMonthsParse.indexOf(r),-1!==o?o:null):"MMM"===e?(o=this._shortMonthsParse.indexOf(r),-1!==o?o:(o=this._longMonthsParse.indexOf(r),-1!==o?o:null)):(o=this._longMonthsParse.indexOf(r),-1!==o?o:(o=this._shortMonthsParse.indexOf(r),-1!==o?o:null))}handleWeekStrictParse(n,e,i){let r;const s=n.toLocaleLowerCase();if(!this._weekdaysParse){let o;for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],o=0;o<7;++o){const a=sf(new Date(Date.UTC(2e3,1)),o,null,!0);this._minWeekdaysParse[o]=this.weekdaysMin(a).toLocaleLowerCase(),this._shortWeekdaysParse[o]=this.weekdaysShort(a).toLocaleLowerCase(),this._weekdaysParse[o]=this.weekdays(a,"").toLocaleLowerCase()}}if(Mn(this._weekdaysParse)&&Mn(this._shortWeekdaysParse)&&Mn(this._minWeekdaysParse))return i?"dddd"===e?(r=this._weekdaysParse.indexOf(s),-1!==r?r:null):"ddd"===e?(r=this._shortWeekdaysParse.indexOf(s),-1!==r?r:null):(r=this._minWeekdaysParse.indexOf(s),-1!==r?r:null):"dddd"===e?(r=this._weekdaysParse.indexOf(s),-1!==r||(r=this._shortWeekdaysParse.indexOf(s),-1!==r)?r:(r=this._minWeekdaysParse.indexOf(s),-1!==r?r:null)):"ddd"===e?(r=this._shortWeekdaysParse.indexOf(s),-1!==r||(r=this._weekdaysParse.indexOf(s),-1!==r)?r:(r=this._minWeekdaysParse.indexOf(s),-1!==r?r:null)):(r=this._minWeekdaysParse.indexOf(s),-1!==r||(r=this._weekdaysParse.indexOf(s),-1!==r)?r:(r=this._shortWeekdaysParse.indexOf(s),-1!==r?r:null))}computeMonthsParse(){const n=[],e=[],i=[];let r,s;for(s=0;s<12;s++)r=new Date(2e3,s),n.push(this.monthsShort(r,"")),e.push(this.months(r,"")),i.push(this.months(r,"")),i.push(this.monthsShort(r,""));for(n.sort(al),e.sort(al),i.sort(al),s=0;s<12;s++)n[s]=rl(n[s]),e[s]=rl(e[s]);for(s=0;s<24;s++)i[s]=rl(i[s]);this._monthsRegex=new RegExp(`^(${i.join("|")})`,"i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp(`^(${e.join("|")})`,"i"),this._monthsShortStrictRegex=new RegExp(`^(${n.join("|")})`,"i")}computeWeekdaysParse(){const n=[],e=[],i=[],r=[];let s;for(s=0;s<7;s++){const o=sf(new Date(Date.UTC(2e3,1)),s,null,!0),a=this.weekdaysMin(o),l=this.weekdaysShort(o),u=this.weekdays(o);n.push(a),e.push(l),i.push(u),r.push(a),r.push(l),r.push(u)}for(n.sort(al),e.sort(al),i.sort(al),r.sort(al),s=0;s<7;s++)e[s]=rl(e[s]),i[s]=rl(i[s]),r[s]=rl(r[s]);this._weekdaysRegex=new RegExp(`^(${r.join("|")})`,"i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp(`^(${i.join("|")})`,"i"),this._weekdaysShortStrictRegex=new RegExp(`^(${e.join("|")})`,"i"),this._weekdaysMinStrictRegex=new RegExp(`^(${n.join("|")})`,"i")}}function al(t,n){return n.length-t.length}const qA={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:YA,invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:R7,monthsShort:jA,week:{dow:0,doy:6},weekdays:x7,weekdaysMin:F7,weekdaysShort:UA,meridiemParse:/[ap]\.?m?\.?/i};function B7(t,n,e){const i=Math.min(t.length,n.length),r=Math.abs(t.length-n.length);let o,s=0;for(o=0;o<i;o++)(e&&t[o]!==n[o]||!e&&Mt(t[o])!==Mt(n[o]))&&s++;return s+r}function Am(t,n){ot(null,[t,t.length,!1],null,n)}function WA(t,n){return hw(t,n.locale).toString()}function GA(t){return ZA(t).toString()}function hw(t,n=mi(),e){return Wu(t,n.firstDayOfWeek(),n.firstDayOfYear(),e).year}function ZA(t,n){return Wu(t,1,4,n).year}function KA(t,n){ot(t,null,null,function(e,i){let r=function ul(t,n={}){return n._isUTC?n._offset||0:function JA(t){return 15*-Math.round(t.getTimezoneOffset()/15)}(t)}(e,{_isUTC:i.isUTC,_offset:i.offset}),s="+";return r<0&&(r=-r,s="-"),s+Po(~~(r/60),2)+n+Po(~~r%60,2)})}const Z7=/([\+\-]|\d\d)/gi;const wi={},ef={};let tf;function XA(t){return t&&t.toLowerCase().replace("_","-")}function tR(t){return wi[t]||console.error(`Khronos locale error: please load locale "${t}" before using it`),wi[t]}function mw(t,n){let e;return t&&(RA(n)?e=mi(t):or(t)&&(e=nR(t,n)),e&&(tf=e)),tf&&tf._abbr}function nR(t,n){if(null===n)return delete wi[t],tf=mi("en"),null;if(!n)return;let e=qA;if(n.abbr=t,null!=n.parentLocale){if(null==wi[n.parentLocale])return ef[n.parentLocale]||(ef[n.parentLocale]=[]),ef[n.parentLocale].push({name:t,config:n}),null;e=wi[n.parentLocale]._config}return wi[t]=new zA(function eR(t,n){const e=Object.assign({},t);for(const i in n)Wi(n,i)&&(tl(t[i])&&tl(n[i])?(e[i]={},Object.assign(e[i],t[i]),Object.assign(e[i],n[i])):null!=n[i]?e[i]=n[i]:delete e[i]);for(const i in t)Wi(t,i)&&!Wi(n,i)&&tl(t[i])&&(e[i]=Object.assign({},e[i]));return e}(e,n)),ef[t]&&ef[t].forEach(function(i){nR(i.name,i.config)}),mw(t),wi[t]}function mi(t){return function t9(){wi.en||(mw("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal(t){const n=t%10;return t+(1===Mt(t%100/10)?"th":1===n?"st":2===n?"nd":3===n?"rd":"th")}}),function H7(){ot("w",["ww",2,!1],"wo",function(t,n){return function ll(t,n=mi(),e){return n.week(t,e)}(t,n.locale).toString(10)}),ot("W",["WW",2,!1],"Wo",function(t){return function fw(t,n){return Wu(t,1,4,n).week}(t).toString(10)}),Gi("week","w"),Gi("isoWeek","W"),Zi("week",5),Zi("isoWeek",5),He("w",vn),He("ww",vn,Ar),He("W",vn),He("WW",vn,Ar),Jd(["w","ww","W","WW"],function(t,n,e,i){return n[i.substr(0,1)]=Mt(t),e})}(),function $7(){ot(null,["gg",2,!1],null,function(t,n){return(hw(t,n.locale)%100).toString()}),ot(null,["GG",2,!1],null,function(t){return(ZA(t)%100).toString()}),Am("gggg",WA),Am("ggggg",WA),Am("GGGG",GA),Am("GGGGG",GA),Gi("weekYear","gg"),Gi("isoWeekYear","GG"),Zi("weekYear",1),Zi("isoWeekYear",1),He("G",Sm),He("g",Sm),He("GG",vn,Ar),He("gg",vn,Ar),He("GGGG",sw,rw),He("gggg",sw,rw),He("GGGGG",Tm,Cm),He("ggggg",Tm,Cm),Jd(["gggg","ggggg","GGGG","GGGGG"],function(t,n,e,i){return n[i.substr(0,2)]=Mt(t),e}),Jd(["gg","GG"],function(t,n,e,i){return n[i]=lw(t),e})}(),function w7(){ot("Y",null,null,function(t,n){const e=Rn(t,n.isUTC);return e<=9999?e.toString(10):`+${e}`}),ot(null,["YY",2,!1],null,function(t,n){return(Rn(t,n.isUTC)%100).toString(10)}),ot(null,["YYYY",4,!1],null,aw),ot(null,["YYYYY",5,!1],null,aw),ot(null,["YYYYYY",6,!0],null,aw),Gi("year","y"),Zi("year",1),He("Y",Sm),He("YY",vn,Ar),He("YYYY",sw,rw),He("YYYYY",Tm,Cm),He("YYYYYY",Tm,Cm),bn(["YYYYY","YYYYYY"],Cs),bn("YYYY",function(t,n,e){return n[Cs]=2===t.length?lw(t):Mt(t),e}),bn("YY",function(t,n,e){return n[Cs]=lw(t),e}),bn("Y",function(t,n,e){return n[Cs]=parseInt(t,10),e})}(),function U7(){ot("z",null,null,function(t,n){return n.isUTC?"UTC":""}),ot("zz",null,null,function(t,n){return n.isUTC?"Coordinated Universal Time":""})}(),function Y7(){ot("X",null,null,function(t){return function l7(t){return Math.floor(t.valueOf()/1e3)}(t).toString(10)}),ot("x",null,null,function(t){return t.valueOf().toString(10)}),He("x",Sm),He("X",p7),bn("X",function(t,n,e){return e._d=new Date(1e3*parseFloat(t)),e}),bn("x",function(t,n,e){return e._d=new Date(Mt(t)),e})}(),function z7(){ot("s",["ss",2,!1],null,function(t,n){return iw(t,n.isUTC).toString(10)}),Gi("second","s"),Zi("second",15),He("s",vn),He("ss",vn,Ar),bn(["s","ss"],Lo)}(),function q7(){ot("Q",null,"Qo",function(t,n){return function W7(t,n=!1){return Math.ceil((Ot(t,n)+1)/3)}(t,n.isUTC).toString(10)}),Gi("quarter","Q"),Zi("quarter",7),He("Q",LA),bn("Q",function(t,n,e){return n[No]=3*(Mt(t)-1),e})}(),function G7(){KA("Z",":"),KA("ZZ",""),He("Z",km),He("ZZ",km),bn(["Z","ZZ"],function(t,n,e){return e._useUTC=!0,e._tzm=function pw(t,n){const e=(n||"").match(t);if(null===e)return null;const r=e[e.length-1].match(Z7)||["-","0","0"],s=60*parseInt(r[1],10)+Mt(r[2]);return 0===s?0:"+"===r[0]?s:-s}(km,t),e})}(),function C7(){ot("M",["MM",2,!1],"Mo",function(t,n){return(Ot(t,n.isUTC)+1).toString(10)}),ot("MMM",null,null,function(t,n){return n.locale.monthsShort(t,n.format,n.isUTC)}),ot("MMMM",null,null,function(t,n){return n.locale.months(t,n.format,n.isUTC)}),Gi("month","M"),Zi("month",8),He("M",vn),He("MM",vn,Ar),He("MMM",function(t,n){return n.monthsShortRegex(t)}),He("MMMM",function(t,n){return n.monthsRegex(t)}),bn(["M","MM"],function(t,n,e){return n[No]=Mt(t)-1,e}),bn(["MMM","MMMM"],function(t,n,e,i){const r=e._locale.monthsParse(t,i,e._strict);return null!=r?n[No]=r:Vt(e).invalidMonth=!!t,e})}(),function K7(){ot("m",["mm",2,!1],null,function(t,n){return Uu(t,n.isUTC).toString(10)}),Gi("minute","m"),Zi("minute",14),He("m",vn),He("mm",vn,Ar),bn(["m","mm"],Ds)}(),function J7(){let t;for(ot("S",null,null,function(e,i){return(~~(Vo(e,i.isUTC)/100)).toString(10)}),ot(null,["SS",2,!1],null,function(e,i){return(~~(Vo(e,i.isUTC)/10)).toString(10)}),ot(null,["SSS",3,!1],null,function(e,i){return Vo(e,i.isUTC).toString(10)}),ot(null,["SSSS",4,!1],null,function(e,i){return(10*Vo(e,i.isUTC)).toString(10)}),ot(null,["SSSSS",5,!1],null,function(e,i){return(100*Vo(e,i.isUTC)).toString(10)}),ot(null,["SSSSSS",6,!1],null,function(e,i){return(1e3*Vo(e,i.isUTC)).toString(10)}),ot(null,["SSSSSSS",7,!1],null,function(e,i){return(1e4*Vo(e,i.isUTC)).toString(10)}),ot(null,["SSSSSSSS",8,!1],null,function(e,i){return(1e5*Vo(e,i.isUTC)).toString(10)}),ot(null,["SSSSSSSSS",9,!1],null,function(e,i){return(1e6*Vo(e,i.isUTC)).toString(10)}),Gi("millisecond","ms"),Zi("millisecond",16),He("S",Dm,LA),He("SS",Dm,Ar),He("SSS",Dm,PA),t="SSSS";t.length<=9;t+="S")He(t,f7);function n(e,i,r){return i[nl]=Mt(1e3*parseFloat(`0.${e}`)),r}for(t="S";t.length<=9;t+="S")bn(t,n)}(),function X7(){function t(r,s){return Et(r,s)%12||12}function e(r,s){ot(r,null,null,function(o,a){return a.locale.meridiem(Et(o,a.isUTC),Uu(o,a.isUTC),s)})}function i(r,s){return s._meridiemParse}ot("H",["HH",2,!1],null,function(r,s){return Et(r,s.isUTC).toString(10)}),ot("h",["hh",2,!1],null,function(r,s){return t(r,s.isUTC).toString(10)}),ot("k",["kk",2,!1],null,function(r,s){return function n(r,s){return Et(r,s)||24}(r,s.isUTC).toString(10)}),ot("hmm",null,null,function(r,s){return`${t(r,s.isUTC)}${Po(Uu(r,s.isUTC),2)}`}),ot("hmmss",null,null,function(r,s){return`${t(r,s.isUTC)}${Po(Uu(r,s.isUTC),2)}${Po(iw(r,s.isUTC),2)}`}),ot("Hmm",null,null,function(r,s){return`${Et(r,s.isUTC)}${Po(Uu(r,s.isUTC),2)}`}),ot("Hmmss",null,null,function(r,s){return`${Et(r,s.isUTC)}${Po(Uu(r,s.isUTC),2)}${Po(iw(r,s.isUTC),2)}`}),e("a",!0),e("A",!1),Gi("hour","h"),Zi("hour",13),He("a",i),He("A",i),He("H",vn),He("h",vn),He("k",vn),He("HH",vn,Ar),He("hh",vn,Ar),He("kk",vn,Ar),He("hmm",VA),He("hmmss",BA),He("Hmm",VA),He("Hmmss",BA),bn(["H","HH"],pi),bn(["k","kk"],function(r,s,o){const a=Mt(r);return s[pi]=24===a?0:a,o}),bn(["a","A"],function(r,s,o){return o._isPm=o._locale.isPM(r),o._meridiem=r,o}),bn(["h","hh"],function(r,s,o){return s[pi]=Mt(r),Vt(o).bigHour=!0,o}),bn("hmm",function(r,s,o){const a=r.length-2;return s[pi]=Mt(r.substr(0,a)),s[Ds]=Mt(r.substr(a)),Vt(o).bigHour=!0,o}),bn("hmmss",function(r,s,o){const a=r.length-4,l=r.length-2;return s[pi]=Mt(r.substr(0,a)),s[Ds]=Mt(r.substr(a,2)),s[Lo]=Mt(r.substr(l)),Vt(o).bigHour=!0,o}),bn("Hmm",function(r,s,o){const a=r.length-2;return s[pi]=Mt(r.substr(0,a)),s[Ds]=Mt(r.substr(a)),o}),bn("Hmmss",function(r,s,o){const a=r.length-4,l=r.length-2;return s[pi]=Mt(r.substr(0,a)),s[Ds]=Mt(r.substr(a,2)),s[Lo]=Mt(r.substr(l)),o})}(),function A7(){ot("DDD",["DDDD",3,!1],"DDDo",function(t){return dw(t).toString(10)}),Gi("dayOfYear","DDD"),Zi("dayOfYear",4),He("DDD",Dm),He("DDDD",PA),bn(["DDD","DDDD"],function(t,n,e){return e._dayOfYear=Mt(t),e})}(),function B9(){ot("d",null,"do",function(t,n){return Js(t,n.isUTC).toString(10)}),ot("dd",null,null,function(t,n){return n.locale.weekdaysMin(t,n.format,n.isUTC)}),ot("ddd",null,null,function(t,n){return n.locale.weekdaysShort(t,n.format,n.isUTC)}),ot("dddd",null,null,function(t,n){return n.locale.weekdays(t,n.format,n.isUTC)}),ot("e",null,null,function(t,n){return Dw(t,n.locale,n.isUTC).toString(10)}),ot("E",null,null,function(t,n){return function hR(t,n){return Js(t,n)||7}(t,n.isUTC).toString(10)}),Gi("day","d"),Gi("weekday","e"),Gi("isoWeekday","E"),Zi("day",11),Zi("weekday",11),Zi("isoWeekday",11),He("d",vn),He("e",vn),He("E",vn),He("dd",function(t,n){return n.weekdaysMinRegex(t)}),He("ddd",function(t,n){return n.weekdaysShortRegex(t)}),He("dddd",function(t,n){return n.weekdaysRegex(t)}),Jd(["dd","ddd","dddd"],function(t,n,e,i){const r=e._locale.weekdaysParse(t,i,e._strict);return null!=r?n.d=r:Vt(e).invalidWeekday=!!t,e}),Jd(["d","e","E"],function(t,n,e,i){return n[i]=Mt(t),e})}(),function v7(){ot("D",["DD",2,!1],"Do",function(t,n){return il(t,n.isUTC).toString(10)}),Gi("date","D"),Zi("date",9),He("D",vn),He("DD",vn,Ar),He("Do",function(t,n){return n._dayOfMonthOrdinalParse||n._ordinalParse}),bn(["D","DD"],Ks),bn("Do",function(t,n,e){return n[Ks]=Mt(t.match(vn)[0]),e})}())}(),t?function e9(t){let n,e,i=0;for(;i<t.length;){const r=XA(t[i]).split("-");let s=r.length;for(n=XA(t[i+1]),n=n?n.split("-"):null;s>0;){if(e=tR(r.slice(0,s).join("-")),e)return e;if(n&&n.length>=s&&B7(r,n,!0)>=s-1)break;s--}i++}return null}(Mn(t)?t:[t]):tf}const nf=["year","quarter","month","week","day","hours","minutes","seconds","milliseconds"],n9=nf.reduce((t,n)=>(t[n]=!0,t),{});function iR(t){return t<0?Math.floor(t):Math.ceil(t)}function rR(t){return 4800*t/146097}function _w(t){return 146097*t/4800}let va=Math.round;const Xs_ss=44,Xs_s=45,Xs_m=45,Xs_h=22,Xs_d=26,Xs_M=11;function s9(t,n,e,i,r){return r.relativeTime(n||1,!!e,t,i)}class sR{constructor(n,e={}){this._data={},this._locale=mi(),this._locale=e&&e._locale||mi();const r=n.year||0,s=n.quarter||0,o=n.month||0,a=n.week||0,l=n.day||0,u=n.hours||0,c=n.minutes||0,d=n.seconds||0,f=n.milliseconds||0;return this._isValid=function i9(t){if(Object.keys(t).some(i=>i in n9&&null===t[i]||isNaN(t[i])))return!1;let e=!1;for(let i=0;i<nf.length;++i)if(t[nf[i]]){if(e)return!1;t[nf[i]]!==Mt(t[nf[i]])&&(e=!0)}return!0}(n),this._milliseconds=+f+1e3*d+60*c*1e3+1e3*u*60*60,this._days=+l+7*a,this._months=+o+3*s+12*r,function r9(t){let n=t._milliseconds,e=t._days,i=t._months;const r=t._data;n>=0&&e>=0&&i>=0||n<=0&&e<=0&&i<=0||(n+=864e5*iR(_w(i)+e),e=0,i=0),r.milliseconds=n%1e3;const s=Ja(n/1e3);r.seconds=s%60;const o=Ja(s/60);r.minutes=o%60;const a=Ja(o/60);r.hours=a%24,e+=Ja(a/24);const l=Ja(rR(e));i+=l,e-=iR(_w(l));const u=Ja(i/12);return i%=12,r.day=e,r.month=i,r.year=u,t}(this)}isValid(){return this._isValid}humanize(n){if(!this.isValid())return this.localeData().invalidDate;const e=this.localeData();let i=function o9(t,n,e){const i=Cw(t).abs(),r=va(i.as("s")),s=va(i.as("m")),o=va(i.as("h")),a=va(i.as("d")),l=va(i.as("M")),u=va(i.as("y")),c=r<=Xs_ss&&["s",r]||r<Xs_s&&["ss",r]||s<=1&&["m"]||s<Xs_m&&["mm",s]||o<=1&&["h"]||o<Xs_h&&["hh",o]||a<=1&&["d"]||a<Xs_d&&["dd",a]||l<=1&&["M"]||l<Xs_M&&["MM",l]||u<=1&&["y"]||["yy",u];return s9.apply(null,[c[0],c[1],n,+t>0,e])}(this,!n,e);return n&&(i=e.pastFuture(+this,i)),e.postformat(i)}localeData(){return this._locale}locale(n){return n?(this._locale=mi(n)||this._locale,this):this._locale._abbr}abs(){const n=Math.abs,e=this._data;return this._milliseconds=n(this._milliseconds),this._days=n(this._days),this._months=n(this._months),e.milliseconds=n(e.milliseconds),e.seconds=n(e.seconds),e.minutes=n(e.minutes),e.hours=n(e.hours),e.month=n(e.month),e.year=n(e.year),this}as(n){if(!this.isValid())return NaN;let e,i;const r=this._milliseconds,s=FA(n);if("month"===s||"year"===s)return e=this._days+r/864e5,i=this._months+rR(e),"month"===s?i:i/12;switch(e=this._days+Math.round(_w(this._months)),s){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hours":return 24*e+r/36e5;case"minutes":return 1440*e+r/6e4;case"seconds":return 86400*e+r/1e3;case"milliseconds":return Math.floor(864e5*e)+r;default:throw new Error(`Unknown unit ${s}`)}}valueOf(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*Mt(this._months/12):NaN}}function gw(t){if(null==t._isValid){const n=Vt(t),e=Array.prototype.some.call(n.parsedDateParts,function(r){return null!=r});let i=!isNaN(t._d&&t._d.getTime())&&n.overflow<0&&!n.empty&&!n.invalidMonth&&!n.invalidWeekday&&!n.weekdayMismatch&&!n.nullInput&&!n.invalidFormat&&!n.userInvalidated&&(!n.meridiem||n.meridiem&&e);if(t._strict&&(i=i&&0===n.charsLeftOver&&0===n.unusedTokens.length&&void 0===n.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return i;t._isValid=i}return t._isValid}function xm(t,n){return t._d=new Date(NaN),Object.assign(Vt(t),n||{userInvalidated:!0}),t}const u9=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,c9=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,d9=/Z|[+-]\d\d(?::?\d\d)?/,Fm=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/,!0],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/,!0],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/,!0],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/,!0],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/,!0],["YYYYMMDD",/\d{8}/,!0],["GGGG[W]WWE",/\d{4}W\d{3}/,!0],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/,!0]],yw=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],f9=/^\/?Date\((\-?\d+)/i,h9={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480},p9=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function oR(t){if(!or(t._i))return t;const n=t._i,e=u9.exec(n)||c9.exec(n);let i,r,s,o,a,l;if(!e)return t._isValid=!1,t;for(a=0,l=Fm.length;a<l;a++)if(Fm[a][1].exec(e[1])){r=Fm[a][0],i=!1!==Fm[a][2];break}if(null==r)return t._isValid=!1,t;if(e[3]){for(a=0,l=yw.length;a<l;a++)if(yw[a][1].exec(e[3])){s=(e[2]||" ")+yw[a][0];break}if(null==s)return t._isValid=!1,t}if(!i&&null!=s)return t._isValid=!1,t;if(e[4]){if(!d9.exec(e[4]))return t._isValid=!1,t;o="Z"}return t._f=r+(s||"")+(o||""),bw(t)}function _9(t){const n=parseInt(t,10);return n<=49?n+2e3:n}function aR(t){if(!or(t._i))return t;const n=p9.exec(function g9(t){return t.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(t._i));if(!n)return function l9(t){return t._isValid=!1,t}(t);const e=function m9(t,n,e,i,r,s){const o=[_9(t),jA.indexOf(n),parseInt(e,10),parseInt(i,10),parseInt(r,10)];return s&&o.push(parseInt(s,10)),o}(n[4],n[3],n[2],n[5],n[6],n[7]);return function y9(t,n,e){return!t||UA.indexOf(t)===new Date(n[0],n[1],n[2]).getDay()||(Vt(e).weekdayMismatch=!0,e._isValid=!1,!1)}(n[1],e,t)&&(t._a=e,t._tzm=function v9(t,n,e){if(t)return h9[t];if(n)return 0;{const i=parseInt(e,10),r=i%100;return(i-r)/100*60+r}}(n[8],n[9],n[10]),t._d=bm.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),Vt(t).rfc2822=!0),t}function Gr(t,n,e,i,r=0){const s=mi(e||"en");if(!s)throw new Error(`Locale "${e}" is not defined, please add it with "defineLocale(...)"`);const a=function w9(t,n,e,i,r=0){if(!ga(t))return e.invalidDate;const s=lR(n,e);return nw[s]=nw[s]||function s7(t){const n=t.match(NA),e=n.length,i=new Array(e);for(let r=0;r<e;r++)i[r]=ju[n[r]]?ju[n[r]]:o7(n[r]);return function(r,s,o,a=0){let l="";for(let u=0;u<e;u++)l+=Xa(i[u])?i[u].call(null,r,{format:t,locale:s,isUTC:o,offset:a}):i[u];return l}}(s),nw[s](t,e,i,r)}(t,n||(i?"YYYY-MM-DDTHH:mm:ss[Z]":"YYYY-MM-DDTHH:mm:ssZ"),s,i,r);return a&&s.postformat(a)}function lR(t,n){let e=t,i=5;const r=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,s=o=>n.formatLongDate(o)||o;for(r.lastIndex=0;i>=0&&r.test(e);)e=e.replace(r,s),r.lastIndex=0,i-=1;return e}function Gu(t,n,e){return t??n??e}function vw(t){const n=[];let e,i,r;if(t._d)return t;const s=function C9(t){const n=new Date;return t._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}(t);for(t._w&&null==t._a[Ks]&&null==t._a[No]&&function D9(t){let n,e,i,r,s,o,a;const l=t._w;if(null!=l.GG||null!=l.W||null!=l.E)r=1,s=4,n=Gu(l.GG,t._a[Cs],Wu(new Date,1,4).year),e=Gu(l.W,1),i=Gu(l.E,1),(i<1||i>7)&&(a=!0);else{r=t._locale._week.dow,s=t._locale._week.doy;const u=Wu(new Date,r,s);n=Gu(l.gg,t._a[Cs],u.year),e=Gu(l.w,u.week),null!=l.d?(i=l.d,(i<0||i>6)&&(a=!0)):null!=l.e?(i=l.e+r,(l.e<0||l.e>6)&&(a=!0)):i=r}e<1||e>ol(n,r,s)?Vt(t)._overflowWeeks=!0:null!=a?Vt(t)._overflowWeekday=!0:(o=function HA(t,n,e,i,r){const a=1+7*(n-1)+(7+e-i)%7+Im(t,i,r);let l,u;return a<=0?(l=t-1,u=Xd(l)+a):a>Xd(t)?(l=t+1,u=a-Xd(t)):(l=t,u=a),{year:l,dayOfYear:u}}(n,e,i,r,s),t._a[Cs]=o.year,t._dayOfYear=o.dayOfYear)}(t),null!=t._dayOfYear&&(r=Gu(t._a[Cs],s[Cs]),(t._dayOfYear>Xd(r)||0===t._dayOfYear)&&(Vt(t)._overflowDayOfYear=!0),i=new Date(Date.UTC(r,0,t._dayOfYear)),t._a[No]=i.getUTCMonth(),t._a[Ks]=i.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=n[e]=s[e];for(;e<7;e++)t._a[e]=n[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[pi]&&0===t._a[Ds]&&0===t._a[Lo]&&0===t._a[nl]&&(t._nextDay=!0,t._a[pi]=0),t._d=(t._useUTC?bm:wm).apply(null,n);const o=t._useUTC?t._d.getUTCDay():t._d.getDay();return null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[pi]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==o&&(Vt(t).weekdayMismatch=!0),t}function uR(t){let n;const e=t._a;return e&&-2===Vt(t).overflow&&(n=e[No]<0||e[No]>11?No:e[Ks]<1||e[Ks]>Em(e[Cs],e[No])?Ks:e[pi]<0||e[pi]>24||24===e[pi]&&(0!==e[Ds]||0!==e[Lo]||0!==e[nl])?pi:e[Ds]<0||e[Ds]>59?Ds:e[Lo]<0||e[Lo]>59?Lo:e[nl]<0||e[nl]>999?nl:-1,Vt(t)._overflowDayOfYear&&(n<Cs||n>Ks)&&(n=Ks),Vt(t)._overflowWeeks&&-1===n&&(n=n7),Vt(t)._overflowWeekday&&-1===n&&(n=r7),Vt(t).overflow=n),t}const T9="ISO_8601",S9="RFC_2822";function bw(t){if(t._f===T9)return oR(t);if(t._f===S9)return aR(t);if(t._a=[],Vt(t).empty=!0,Mn(t._f)||!t._i&&0!==t._i)return t;let n=t._i.toString(),e=0;const i=n.length,r=lR(t._f,t._locale).match(NA)||[];let s,o,a,l;for(s=0;s<r.length;s++)o=r[s],a=(n.match(m7(o,t._locale))||[])[0],a&&(l=n.substr(0,n.indexOf(a)),l.length>0&&Vt(t).unusedInput.push(l),n=n.slice(n.indexOf(a)+a.length),e+=a.length),ju[o]?(a?Vt(t).empty=!1:Vt(t).unusedTokens.push(o),g7(o,a,t)):t._strict&&!a&&Vt(t).unusedTokens.push(o);return Vt(t).charsLeftOver=i-e,n.length>0&&Vt(t).unusedInput.push(n),t._a[pi]<=12&&!0===Vt(t).bigHour&&t._a[pi]>0&&(Vt(t).bigHour=void 0),Vt(t).parsedDateParts=t._a.slice(0),Vt(t).meridiem=t._meridiem,t._a[pi]=function k9(t,n,e){let i=n;if(null==e)return i;if(null!=t.meridiemHour)return t.meridiemHour(i,e);if(null==t.isPM)return i;const r=t.isPM(e);return r&&i<12&&(i+=12),!r&&12===i&&(i=0),i}(t._locale,t._a[pi],t._meridiem),vw(t),uR(t)}function O9(t){const n=uR(function I9(t){let n=t._i;const e=t._f;return t._locale=t._locale||mi(t._l),null===n||void 0===e&&""===n?xm(t,{nullInput:!0}):(or(n)&&(t._i=n=t._locale.preparse(n,e)),vm(n)?(t._d=Bo(n),t):(Mn(e)?function M9(t){let n,e,i,r,s;if(!t._f||0===t._f.length)return Vt(t).invalidFormat=!0,xm(t);for(s=0;s<t._f.length;s++)r=0,n=Object.assign({},t),null!=t._useUTC&&(n._useUTC=t._useUTC),n._f=t._f[s],bw(n),gw(n)&&(r+=Vt(n).charsLeftOver,r+=10*Vt(n).unusedTokens.length,Vt(n).score=r,(null==i||r<i)&&(i=r,e=n));Object.assign(t,e||n)}(t):e?bw(t):function A9(t){const n=t._i;if(RA(n))t._d=new Date;else if(vm(n))t._d=Bo(n);else if(or(n))!function b9(t){if(!or(t._i))return t;const n=f9.exec(t._i);null!==n?t._d=new Date(+n[1]):(oR(t),!1!==t._isValid||(delete t._isValid,aR(t),!1!==t._isValid||(delete t._isValid,xm(t))))}(t);else if(Mn(n)&&n.length){const e=n.slice(0);t._a=e.map(i=>or(i)?parseInt(i,10):i),vw(t)}else if(tl(n))!function E9(t){if(t._d)return t;const n=t._i;if(tl(n)){const e=function t7(t){const n={};let e,i;for(i in t)Wi(t,i)&&(e=FA(i),e&&(n[e]=t[i]));return n}(n);t._a=[e.year,e.month,e.day,e.hours,e.minutes,e.seconds,e.milliseconds].map(i=>or(i)?parseInt(i,10):i)}return vw(t)}(t);else{if(!el(n))return xm(t);t._d=new Date(n)}}(t),gw(t)||(t._d=null),t))}(t));return n._d=new Date(null!=n._d?n._d.getTime():NaN),gw(Object.assign({},n,{_isValid:null}))||(n._d=new Date(NaN)),n}function rf(t,n,e,i,r){return vm(t)?t:function R9(t,n,e,i,r){const s={};let o=t;return(tl(o)&&function e7(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;let n;for(n in t)if(t.hasOwnProperty(n))return!1;return!0}(o)||Mn(o)&&0===o.length)&&(o=void 0),s._useUTC=s._isUTC=r,s._l=e,s._i=o,s._f=n,s._strict=i,O9(s)}(t,n,e,i,r)._d}function cR(t){return t instanceof Date?new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()):null}function ww(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Ts(t,n,e="milliseconds"){return!(!t||!n)&&("milliseconds"===e?t.valueOf()>n.valueOf():n.valueOf()<Ho(t,e).valueOf())}function eo(t,n,e="milliseconds"){return!(!t||!n)&&("milliseconds"===e?t.valueOf()<n.valueOf():Om(t,e).valueOf()<n.valueOf())}function Zu(t,n,e="milliseconds"){if(!t||!n)return!1;if("milliseconds"===e)return t.valueOf()===n.valueOf();const i=n.valueOf();return Ho(t,e).valueOf()<=i&&i<=Om(t,e).valueOf()}const F9=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,N9=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Cw(t,n,e={}){const i=function L9(t,n){if(null==t)return{};if(function a9(t){return t instanceof sR}(t))return{milliseconds:t._milliseconds,day:t._days,month:t._months};if(el(t))return n?{[n]:t}:{milliseconds:t};if(or(t)){let e=F9.exec(t);if(e){const i="-"===e[1]?-1:1;return{year:0,day:Mt(e[Ks])*i,hours:Mt(e[pi])*i,minutes:Mt(e[Ds])*i,seconds:Mt(e[Lo])*i,milliseconds:Mt(ww(1e3*Mt(e[nl])))*i}}if(e=N9.exec(t),e){const i="-"===e[1]?-1:1;return{year:cl(e[2],i),month:cl(e[3],i),week:cl(e[4],i),day:cl(e[5],i),hours:cl(e[6],i),minutes:cl(e[7],i),seconds:cl(e[8],i)}}}if(tl(t)&&("from"in t||"to"in t)){const e=function P9(t,n){if(!ga(t)||!ga(n))return{milliseconds:0,months:0};let e;const i=function Q7(t,n,e={}){if(!e._isUTC)return t;const i=Bo(n),r=6e4*(e._offset||0),s=t.valueOf()-i.valueOf()+r;return i.setTime(i.valueOf()+s),i}(n,t,{_offset:t.getTimezoneOffset()});return eo(t,i)?e=dR(t,i):(e=dR(i,t),e.milliseconds=-e.milliseconds,e.months=-e.months),e}(rf(t.from),rf(t.to));return{milliseconds:e.milliseconds,month:e.months}}return t}(t,n);return new sR(i,e)}function cl(t,n){const e=t&&parseFloat(t.replace(",","."));return(isNaN(e)?0:e)*n}function dR(t,n){const e={milliseconds:0,months:0};return e.months=Ot(n)-Ot(t)+12*(Rn(n)-Rn(t)),Ts(to(Bo(t),e.months,"month"),n)&&--e.months,e.milliseconds=+n-+to(Bo(t),e.months,"month"),e}function to(t,n,e,i){return fR(t,Cw(n,e),1,i)}function fR(t,n,e,i){const r=n._milliseconds,s=ww(n._days),o=ww(n._months);return o&&sl(t,Ot(t,i)+o*e,i),s&&cw(t,il(t,i)+s*e,i),r&&function I7(t,n){t.setTime(n)}(t,function a7(t){return t.getTime()}(t)+r*e),Bo(t)}function sf(t,n,e=mi(),i){const r=Js(t,i),s=function H9(t,n){if(!or(t))return t;const e=parseInt(t,10);if(!isNaN(e))return e;const i=n.weekdaysParse(t);return el(i)?i:null}(n,e);return to(t,s-r,"day")}function Dw(t,n=mi(),e){return(Js(t,e)+7-n.firstDayOfWeek())%7}const pR=function(t){return 0===t?0:1===t?1:2===t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},q9={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},Zr=function(t){return function(n,e){const i=pR(n);let r=q9[t][pR(n)];return 2===i&&(r=r[e?0:1]),r.replace(/%d/i,n.toString())}};"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),Zr("s"),Zr("s"),Zr("m"),Zr("m"),Zr("h"),Zr("h"),Zr("d"),Zr("d"),Zr("M"),Zr("M"),Zr("y"),Zr("y"),"\u044f\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),"\u044f\u043d\u0440_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),"\u043d\u0435\u0434\u0435\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u044f\u0434\u0430_\u0447\u0435\u0442\u0432\u044a\u0440\u0442\u044a\u043a_\u043f\u0435\u0442\u044a\u043a_\u0441\u044a\u0431\u043e\u0442\u0430".split("_"),"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u044f_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u044a\u0431".split("_"),"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),"gen._feb._mar._abr._mai._jun._jul._ago._set._oct._nov._des.".split("_"),"ene_feb_mar_abr_mai_jun_jul_ago_set_oct_nov_des".split("_"),"gener_febrer_mar\xe7_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),"diu._dil._dim._dix._dij._div._dis.".split("_"),"dg_dl_dt_dc_dj_dv_ds".split("_");const Sw="leden_\xfanor_b\u0159ezen_duben_kv\u011bten_\u010derven_\u010dervenec_srpen_z\xe1\u0159\xed_\u0159\xedjen_listopad_prosinec".split("_"),kw="led_\xfano_b\u0159e_dub_kv\u011b_\u010dvn_\u010dvc_srp_z\xe1\u0159_\u0159\xedj_lis_pro".split("_");(function(t,n){let e,i=[];for(e=0;e<12;e++)i[e]=new RegExp("^"+t[e]+"$|^"+n[e]+"$","i")})(Sw,kw),function(t){let n,e=[];for(n=0;n<12;n++)e[n]=new RegExp("^"+t[n]+"$","i")}(kw),function(t){let n,e=[];for(n=0;n<12;n++)e[n]=new RegExp("^"+t[n]+"$","i")}(Sw),"ned\u011ble_pond\u011bl\xed_\xfater\xfd_st\u0159eda_\u010dtvrtek_p\xe1tek_sobota".split("_"),"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),"Januar_Februar_Marts_April_Maj_Juni_Juli_August_September_Oktober_November_December".split("_"),"Jan_Feb_Mar_Apr_Maj_Jun_Jul_Aug_Sep_Okt_Nov_Dec".split("_"),"S\xf8ndag_Mandag_Tirsdag_Onsdag_Torsdag_Fredag_L\xf8rdag".split("_"),"S\xf8n_Man_Tir_Ons_Tor_Fre_L\xf8r".split("_"),"S\xf8_Ma_Ti_On_To_Fr_L\xf8".split("_"),"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),"do_lu_ma_mi_ju_vi_s\xe1".split("_"),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),"do_lu_ma_mi_ju_vi_s\xe1".split("_"),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),"do_lu_ma_mi_ju_vi_s\xe1".split("_"),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),"do_lu_ma_mi_ju_vi_s\xe1".split("_"),"jaanuar_veebruar_m\xe4rts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),"jaan_veebr_m\xe4rts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),"p\xfchap\xe4ev_esmasp\xe4ev_teisip\xe4ev_kolmap\xe4ev_neljap\xe4ev_reede_laup\xe4ev".split("_"),"P_E_T_K_N_R_L".split("_"),"P_E_T_K_N_R_L".split("_"),"nolla yksi kaksi kolme nelj\xe4 viisi kuusi seitsem\xe4n kahdeksan yhdeks\xe4n".split(" "),"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kes\xe4kuu_hein\xe4kuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),"tammi_helmi_maalis_huhti_touko_kes\xe4_hein\xe4_elo_syys_loka_marras_joulu".split("_"),"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),"su_ma_ti_ke_to_pe_la".split("_"),"su_ma_ti_ke_to_pe_la".split("_"),"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),"dim._lun._mar._mer._jeu._ven._sam.".split("_"),"di_lu_ma_me_je_ve_sa".split("_"),"xan._feb._mar._abr._mai._xu\xf1._xul._ago._set._out._nov._dec.".split("_"),"xan_feb_mar_abr_mai_xu\xf1_xul_ago_set_out_nov_dec".split("_"),"xaneiro_febreiro_marzo_abril_maio_xu\xf1o_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),"domingo_luns_martes_m\xe9rcores_xoves_venres_s\xe1bado".split("_"),"dom._lun._mar._m\xe9r._xov._ven._s\xe1b.".split("_"),"do_lu_ma_m\xe9_xo_ve_s\xe1".split("_"),"\u05d9\u05e0\u05d5\u05d0\u05e8_\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05d9\u05dc_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8_\u05e1\u05e4\u05d8\u05de\u05d1\u05e8_\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8_\u05e0\u05d5\u05d1\u05de\u05d1\u05e8_\u05d3\u05e6\u05de\u05d1\u05e8".split("_"),"\u05d9\u05e0\u05d5\u05f3_\u05e4\u05d1\u05e8\u05f3_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05f3_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05f3_\u05e1\u05e4\u05d8\u05f3_\u05d0\u05d5\u05e7\u05f3_\u05e0\u05d5\u05d1\u05f3_\u05d3\u05e6\u05de\u05f3".split("_"),"\u05e8\u05d0\u05e9\u05d5\u05df_\u05e9\u05e0\u05d9_\u05e9\u05dc\u05d9\u05e9\u05d9_\u05e8\u05d1\u05d9\u05e2\u05d9_\u05d7\u05de\u05d9\u05e9\u05d9_\u05e9\u05d9\u05e9\u05d9_\u05e9\u05d1\u05ea".split("_"),"\u05d0\u05f3_\u05d1\u05f3_\u05d2\u05f3_\u05d3\u05f3_\u05d4\u05f3_\u05d5\u05f3_\u05e9\u05f3".split("_"),"\u05d0_\u05d1_\u05d2_\u05d3_\u05d4_\u05d5_\u05e9".split("_"),"\u091c\u0928\u0935\u0930\u0940_\u092b\u093c\u0930\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948\u0932_\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0938\u094d\u0924_\u0938\u093f\u0924\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u0942\u092c\u0930_\u0928\u0935\u092e\u094d\u092c\u0930_\u0926\u093f\u0938\u092e\u094d\u092c\u0930".split("_"),"\u091c\u0928._\u092b\u093c\u0930._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948._\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932._\u0905\u0917._\u0938\u093f\u0924._\u0905\u0915\u094d\u091f\u0942._\u0928\u0935._\u0926\u093f\u0938.".split("_"),"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0932\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0932_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),"vas\xe1rnap h\xe9tf\u0151n kedden szerd\xe1n cs\xfct\xf6rt\xf6k\xf6n p\xe9nteken szombaton".split(" "),"janu\xe1r_febru\xe1r_m\xe1rcius_\xe1prilis_m\xe1jus_j\xfanius_j\xfalius_augusztus_szeptember_okt\xf3ber_november_december".split("_"),"jan_feb_m\xe1rc_\xe1pr_m\xe1j_j\xfan_j\xfal_aug_szept_okt_nov_dec".split("_"),"vas\xe1rnap_h\xe9tf\u0151_kedd_szerda_cs\xfct\xf6rt\xf6k_p\xe9ntek_szombat".split("_"),"vas_h\xe9t_kedd_sze_cs\xfct_p\xe9n_szo".split("_"),"v_h_k_sze_cs_p_szo".split("_"),"Sije\u010danj_Velja\u010da_O\u017eujak_Travanj_Svibanj_Lipanj_Srpanj_Kolovoz_Rujan_Listopad_Studeni_Prosinac".split("_"),"Sij_Velj_O\u017eu_Tra_Svi_Lip_Srp_Kol_Ruj_Lis_Stu_Pro".split("_"),"Nedjelja_Ponedjeljak_Utorak_Srijeda_\u010cetvrtak_Petak_Subota".split("_"),"Ned_Pon_Uto_Sri_\u010cet_Pet_Sub".split("_"),"Ne_Po_Ut_Sr_\u010ce_Pe_Su".split("_"),"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nov_Des".split("_"),"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),"dom_lun_mar_mer_gio_ven_sab".split("_"),"do_lu_ma_me_gi_ve_sa".split("_"),"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),"\u65e5\u66dc\u65e5_\u6708\u66dc\u65e5_\u706b\u66dc\u65e5_\u6c34\u66dc\u65e5_\u6728\u66dc\u65e5_\u91d1\u66dc\u65e5_\u571f\u66dc\u65e5".split("_"),"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),"\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10e1_\u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10e1_\u10db\u10d0\u10e0\u10e2\u10e1_\u10d0\u10de\u10e0\u10d8\u10da\u10d8\u10e1_\u10db\u10d0\u10d8\u10e1\u10e1_\u10d8\u10d5\u10dc\u10d8\u10e1\u10e1_\u10d8\u10d5\u10da\u10d8\u10e1\u10e1_\u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10e1_\u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10e1_\u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10e1_\u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10e1_\u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10e1".split("_"),"\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10d8_\u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10d8_\u10db\u10d0\u10e0\u10e2\u10d8_\u10d0\u10de\u10e0\u10d8\u10da\u10d8_\u10db\u10d0\u10d8\u10e1\u10d8_\u10d8\u10d5\u10dc\u10d8\u10e1\u10d8_\u10d8\u10d5\u10da\u10d8\u10e1\u10d8_\u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10dd_\u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10d8_\u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10d8".split("_"),"\u10d8\u10d0\u10dc_\u10d7\u10d4\u10d1_\u10db\u10d0\u10e0_\u10d0\u10de\u10e0_\u10db\u10d0\u10d8_\u10d8\u10d5\u10dc_\u10d8\u10d5\u10da_\u10d0\u10d2\u10d5_\u10e1\u10d4\u10e5_\u10dd\u10e5\u10e2_\u10dc\u10dd\u10d4_\u10d3\u10d4\u10d9".split("_"),"\u10d9\u10d5\u10d8\u10e0\u10d0_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10d8_\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8".split("_"),"\u10d9\u10d5\u10d8\u10e0\u10d0\u10e1_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10e1_\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1".split("_"),"\u10d9\u10d5\u10d8_\u10dd\u10e0\u10e8_\u10e1\u10d0\u10db_\u10dd\u10d7\u10ee_\u10ee\u10e3\u10d7_\u10de\u10d0\u10e0_\u10e8\u10d0\u10d1".split("_"),"\u10d9\u10d5_\u10dd\u10e0_\u10e1\u10d0_\u10dd\u10d7_\u10ee\u10e3_\u10de\u10d0_\u10e8\u10d0".split("_"),"\u049b\u0430\u04a3\u0442\u0430\u0440_\u0430\u049b\u043f\u0430\u043d_\u043d\u0430\u0443\u0440\u044b\u0437_\u0441\u04d9\u0443\u0456\u0440_\u043c\u0430\u043c\u044b\u0440_\u043c\u0430\u0443\u0441\u044b\u043c_\u0448\u0456\u043b\u0434\u0435_\u0442\u0430\u043c\u044b\u0437_\u049b\u044b\u0440\u043a\u04af\u0439\u0435\u043a_\u049b\u0430\u0437\u0430\u043d_\u049b\u0430\u0440\u0430\u0448\u0430_\u0436\u0435\u043b\u0442\u043e\u049b\u0441\u0430\u043d".split("_"),"\u049b\u0430\u04a3_\u0430\u049b\u043f_\u043d\u0430\u0443_\u0441\u04d9\u0443_\u043c\u0430\u043c_\u043c\u0430\u0443_\u0448\u0456\u043b_\u0442\u0430\u043c_\u049b\u044b\u0440_\u049b\u0430\u0437_\u049b\u0430\u0440_\u0436\u0435\u043b".split("_"),"\u0436\u0435\u043a\u0441\u0435\u043d\u0431\u0456_\u0434\u04af\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u04d9\u0440\u0441\u0435\u043d\u0431\u0456_\u0431\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0436\u04b1\u043c\u0430_\u0441\u0435\u043d\u0431\u0456".split("_"),"\u0436\u0435\u043a_\u0434\u04af\u0439_\u0441\u0435\u0439_\u0441\u04d9\u0440_\u0431\u0435\u0439_\u0436\u04b1\u043c_\u0441\u0435\u043d".split("_"),"\u0436\u043a_\u0434\u0439_\u0441\u0439_\u0441\u0440_\u0431\u0439_\u0436\u043c_\u0441\u043d".split("_"),"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),"\uc77c\uc694\uc77c_\uc6d4\uc694\uc77c_\ud654\uc694\uc77c_\uc218\uc694\uc77c_\ubaa9\uc694\uc77c_\uae08\uc694\uc77c_\ud1a0\uc694\uc77c".split("_"),"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),"sausio_vasario_kovo_baland\u017eio_gegu\u017e\u0117s_bir\u017eelio_liepos_rugpj\u016b\u010dio_rugs\u0117jo_spalio_lapkri\u010dio_gruod\u017eio".split("_"),"sausis_vasaris_kovas_balandis_gegu\u017e\u0117_bir\u017eelis_liepa_rugpj\u016btis_rugs\u0117jis_spalis_lapkritis_gruodis".split("_"),"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),"sekmadien\u012f_pirmadien\u012f_antradien\u012f_tre\u010diadien\u012f_ketvirtadien\u012f_penktadien\u012f_\u0161e\u0161tadien\u012f".split("_"),"sekmadienis_pirmadienis_antradienis_tre\u010diadienis_ketvirtadienis_penktadienis_\u0161e\u0161tadienis".split("_"),"Sek_Pir_Ant_Tre_Ket_Pen_\u0160e\u0161".split("_"),"S_P_A_T_K_Pn_\u0160".split("_"),"Janv\u0101ris_Febru\u0101ris_Marts_Apr\u012blis_Maijs_J\u016bnijs_J\u016blijs_Augusts_Septembris_Oktobris_Novembris_Decembris".split("_"),"Jan_Feb_Mar_Apr_Mai_J\u016bn_J\u016bl_Aug_Sep_Okt_Nov_Dec".split("_"),"Sv\u0113tdiena_Pirmdiena_Otrdiena_Tre\u0161diena_Ceturtdiena_Piektdiena_Sestdiena".split("_"),"Sv\u0113td_Pirmd_Otrd_Tre\u0161d_Ceturtd_Piektd_Sestd".split("_"),"Sv_Pi_Ot_Tr_Ce_Pk_Se".split("_"),"\u041d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0425\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0413\u0443\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u04e9\u0440\u04e9\u0432\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0422\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0417\u0443\u0440\u0433\u0430\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u043e\u043b\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u041d\u0430\u0439\u043c\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0415\u0441\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u043d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u0445\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440".split("_"),"1 \u0441\u0430\u0440_2 \u0441\u0430\u0440_3 \u0441\u0430\u0440_4 \u0441\u0430\u0440_5 \u0441\u0430\u0440_6 \u0441\u0430\u0440_7 \u0441\u0430\u0440_8 \u0441\u0430\u0440_9 \u0441\u0430\u0440_10 \u0441\u0430\u0440_11 \u0441\u0430\u0440_12 \u0441\u0430\u0440".split("_"),"\u041d\u044f\u043c_\u0414\u0430\u0432\u0430\u0430_\u041c\u044f\u0433\u043c\u0430\u0440_\u041b\u0445\u0430\u0433\u0432\u0430_\u041f\u04af\u0440\u044d\u0432_\u0411\u0430\u0430\u0441\u0430\u043d_\u0411\u044f\u043c\u0431\u0430".split("_"),"\u041d\u044f\u043c_\u0414\u0430\u0432_\u041c\u044f\u0433_\u041b\u0445\u0430_\u041f\u04af\u0440_\u0411\u0430\u0430_\u0411\u044f\u043c".split("_"),"\u041d\u044f_\u0414\u0430_\u041c\u044f_\u041b\u0445_\u041f\u04af_\u0411\u0430_\u0411\u044f".split("_"),"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),"s\xf8._ma._ti._on._to._fr._l\xf8.".split("_"),"s\xf8_ma_ti_on_to_fr_l\xf8".split("_"),"jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),"jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),"zo._ma._di._wo._do._vr._za.".split("_"),"zo_ma_di_wo_do_vr_za".split("_"),"jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),"jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),"zo._ma._di._wo._do._vr._za.".split("_"),"zo_ma_di_wo_do_vr_za".split("_"),"stycze\u0144_luty_marzec_kwiecie\u0144_maj_czerwiec_lipiec_sierpie\u0144_wrzesie\u0144_pa\u017adziernik_listopad_grudzie\u0144".split("_"),"stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrze\u015bnia_pa\u017adziernika_listopada_grudnia".split("_"),"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa\u017a_lis_gru".split("_"),"niedziela_poniedzia\u0142ek_wtorek_\u015broda_czwartek_pi\u0105tek_sobota".split("_"),"ndz_pon_wt_\u015br_czw_pt_sob".split("_"),"Nd_Pn_Wt_\u015ar_Cz_Pt_So".split("_"),"Janeiro_Fevereiro_Mar\xe7o_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),"Domingo_Segunda-feira_Ter\xe7a-feira_Quarta-feira_Quinta-feira_Sexta-feira_S\xe1bado".split("_"),"Dom_Seg_Ter_Qua_Qui_Sex_S\xe1b".split("_"),"Do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_S\xe1".split("_"),"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),"duminic\u0103_luni_mar\u021bi_miercuri_joi_vineri_s\xe2mb\u0103t\u0103".split("_"),"Dum_Lun_Mar_Mie_Joi_Vin_S\xe2m".split("_"),"Du_Lu_Ma_Mi_Jo_Vi_S\xe2".split("_"),"\u044f\u043d\u0432\u0430\u0440\u044f_\u0444\u0435\u0432\u0440\u0430\u043b\u044f_\u043c\u0430\u0440\u0442\u0430_\u0430\u043f\u0440\u0435\u043b\u044f_\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433\u0443\u0441\u0442\u0430_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f_\u043e\u043a\u0442\u044f\u0431\u0440\u044f_\u043d\u043e\u044f\u0431\u0440\u044f_\u0434\u0435\u043a\u0430\u0431\u0440\u044f".split("_"),"\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_"),"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440\u0442_\u0430\u043f\u0440._\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0430_\u0441\u0443\u0431\u0431\u043e\u0442\u0430".split("_"),"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0443_\u0441\u0443\u0431\u0431\u043e\u0442\u0443".split("_"),"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),"janu\xe1r_febru\xe1r_marec_apr\xedl_m\xe1j_j\xfan_j\xfal_august_september_okt\xf3ber_november_december".split("_"),"jan_feb_mar_apr_m\xe1j_j\xfan_j\xfal_aug_sep_okt_nov_dec".split("_"),"nede\u013ea_pondelok_utorok_streda_\u0161tvrtok_piatok_sobota".split("_"),"ne_po_ut_st_\u0161t_pi_so".split("_"),"ne_po_ut_st_\u0161t_pi_so".split("_"),"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),"nedelja_ponedeljek_torek_sreda_\u010detrtek_petek_sobota".split("_"),"ned._pon._tor._sre._\u010det._pet._sob.".split("_"),"ne_po_to_sr_\u010de_pe_so".split("_"),"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_N\xebntor_Dhjetor".split("_"),"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_N\xebn_Dhj".split("_"),"E Diel\xeb_E H\xebn\xeb_E Mart\xeb_E M\xebrkur\xeb_E Enjte_E Premte_E Shtun\xeb".split("_"),"Die_H\xebn_Mar_M\xebr_Enj_Pre_Sht".split("_"),"Di_He_Ma_Me_En_Pr_Sh".split("_"),"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),"s\xf6ndag_m\xe5ndag_tisdag_onsdag_torsdag_fredag_l\xf6rdag".split("_"),"s\xf6n_m\xe5n_tis_ons_tor_fre_l\xf6r".split("_"),"s\xf6_m\xe5_ti_on_to_fr_l\xf6".split("_"),"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21_\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c_\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21_\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19_\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21_\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19_\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21_\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21_\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19_\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21_\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19_\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split("_"),"\u0e21.\u0e04._\u0e01.\u0e1e._\u0e21\u0e35.\u0e04._\u0e40\u0e21.\u0e22._\u0e1e.\u0e04._\u0e21\u0e34.\u0e22._\u0e01.\u0e04._\u0e2a.\u0e04._\u0e01.\u0e22._\u0e15.\u0e04._\u0e1e.\u0e22._\u0e18.\u0e04.".split("_"),"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_");const xR={abbr:"th-be",months:"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21_\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c_\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21_\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19_\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21_\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19_\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21_\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21_\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19_\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21_\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19_\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split("_"),monthsShort:"\u0e21.\u0e04._\u0e01.\u0e1e._\u0e21\u0e35.\u0e04._\u0e40\u0e21.\u0e22._\u0e1e.\u0e04._\u0e21\u0e34.\u0e22._\u0e01.\u0e04._\u0e2a.\u0e04._\u0e01.\u0e22._\u0e15.\u0e04._\u0e1e.\u0e22._\u0e18.\u0e04.".split("_"),monthsParseExact:!0,weekdays:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysShort:"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),weekdaysMin:"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm",LLLL:"\u0e27\u0e31\u0e19dddd\u0e17\u0e35\u0e48 D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm"},meridiemParse:/\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07|\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07/,isPM:t=>"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"===t,meridiem:(t,n,e)=>t<12?"\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07":"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07",calendar:{sameDay:"[\u0e27\u0e31\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextDay:"[\u0e1e\u0e23\u0e38\u0e48\u0e07\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextWeek:"dddd[\u0e2b\u0e19\u0e49\u0e32 \u0e40\u0e27\u0e25\u0e32] LT",lastDay:"[\u0e40\u0e21\u0e37\u0e48\u0e2d\u0e27\u0e32\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",lastWeek:"[\u0e27\u0e31\u0e19]dddd[\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27 \u0e40\u0e27\u0e25\u0e32] LT",sameElse:"L"},relativeTime:{future:"\u0e2d\u0e35\u0e01 %s",past:"%s\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27",s:"\u0e44\u0e21\u0e48\u0e01\u0e35\u0e48\u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",ss:"%d \u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",m:"1 \u0e19\u0e32\u0e17\u0e35",mm:"%d \u0e19\u0e32\u0e17\u0e35",h:"1 \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",hh:"%d \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",d:"1 \u0e27\u0e31\u0e19",dd:"%d \u0e27\u0e31\u0e19",M:"1 \u0e40\u0e14\u0e37\u0e2d\u0e19",MM:"%d \u0e40\u0e14\u0e37\u0e2d\u0e19",y:"1 \u0e1b\u0e35",yy:"%d \u0e1b\u0e35"},preparse(t,n){const e=xR.longDateFormat[n]?xR.longDateFormat[n]:n;return-1!==e.indexOf("YYYY",e.length-4)?t.substr(0,t.length-4)+(parseInt(t.substr(t.length-4),10)-543):t},getFullYear:(t,n=!1)=>543+(n?t.getUTCFullYear():t.getFullYear())};function tc(t){return function(n){return t+"\u043e"+(11===Et(n)?"\u0431":"")+"] LT"}}"Ocak_\u015eubat_Mart_Nisan_May\u0131s_Haziran_Temmuz_A\u011fustos_Eyl\xfcl_Ekim_Kas\u0131m_Aral\u0131k".split("_"),"Oca_\u015eub_Mar_Nis_May_Haz_Tem_A\u011fu_Eyl_Eki_Kas_Ara".split("_"),"Pazar_Pazartesi_Sal\u0131_\xc7ar\u015famba_Per\u015fembe_Cuma_Cumartesi".split("_"),"Paz_Pts_Sal_\xc7ar_Per_Cum_Cts".split("_"),"Pz_Pt_Sa_\xc7a_Pe_Cu_Ct".split("_"),"\u0441\u0456\u0447\u043d\u044f_\u043b\u044e\u0442\u043e\u0433\u043e_\u0431\u0435\u0440\u0435\u0437\u043d\u044f_\u043a\u0432\u0456\u0442\u043d\u044f_\u0442\u0440\u0430\u0432\u043d\u044f_\u0447\u0435\u0440\u0432\u043d\u044f_\u043b\u0438\u043f\u043d\u044f_\u0441\u0435\u0440\u043f\u043d\u044f_\u0432\u0435\u0440\u0435\u0441\u043d\u044f_\u0436\u043e\u0432\u0442\u043d\u044f_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434\u0430_\u0433\u0440\u0443\u0434\u043d\u044f".split("_"),"\u0441\u0456\u0447\u0435\u043d\u044c_\u043b\u044e\u0442\u0438\u0439_\u0431\u0435\u0440\u0435\u0437\u0435\u043d\u044c_\u043a\u0432\u0456\u0442\u0435\u043d\u044c_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u0435\u0440\u0432\u0435\u043d\u044c_\u043b\u0438\u043f\u0435\u043d\u044c_\u0441\u0435\u0440\u043f\u0435\u043d\u044c_\u0432\u0435\u0440\u0435\u0441\u0435\u043d\u044c_\u0436\u043e\u0432\u0442\u0435\u043d\u044c_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434_\u0433\u0440\u0443\u0434\u0435\u043d\u044c".split("_"),"\u0441\u0456\u0447_\u043b\u044e\u0442_\u0431\u0435\u0440_\u043a\u0432\u0456\u0442_\u0442\u0440\u0430\u0432_\u0447\u0435\u0440\u0432_\u043b\u0438\u043f_\u0441\u0435\u0440\u043f_\u0432\u0435\u0440_\u0436\u043e\u0432\u0442_\u043b\u0438\u0441\u0442_\u0433\u0440\u0443\u0434".split("_"),"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),tc("[\u0421\u044c\u043e\u0433\u043e\u0434\u043d\u0456 "),tc("[\u0417\u0430\u0432\u0442\u0440\u0430 "),tc("[\u0412\u0447\u043e\u0440\u0430 "),tc("[\u0423] dddd ["),"th\xe1ng 1_th\xe1ng 2_th\xe1ng 3_th\xe1ng 4_th\xe1ng 5_th\xe1ng 6_th\xe1ng 7_th\xe1ng 8_th\xe1ng 9_th\xe1ng 10_th\xe1ng 11_th\xe1ng 12".split("_"),"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),"ch\u1ee7 nh\u1eadt_th\u1ee9 hai_th\u1ee9 ba_th\u1ee9 t\u01b0_th\u1ee9 n\u0103m_th\u1ee9 s\xe1u_th\u1ee9 b\u1ea3y".split("_"),"CN_T2_T3_T4_T5_T6_T7".split("_"),"CN_T2_T3_T4_T5_T6_T7".split("_"),"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),"\u5468\u65e5_\u5468\u4e00_\u5468\u4e8c_\u5468\u4e09_\u5468\u56db_\u5468\u4e94_\u5468\u516d".split("_"),"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_");const mZ=new class pZ extends $b{}(class hZ extends Hb{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}schedule(n,e=0){return e>0?super.schedule(n,e):(this.delay=e,this.state=n,this.scheduler.flush(this),this)}execute(n,e){return e>0||this.closed?super.execute(n,e):this._execute(n,e)}requestAsyncId(n,e,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(n,e,i):(n.flush(this),0)}});class FR extends yi{constructor(n,e,i){super(n),e.pipe(Xi(mZ)).pipe(xv((o,a)=>a?i(o,a):o,n)).subscribe(o=>this.next(o))}}class Lm extends We{constructor(n,e,i){super(),this._dispatcher=n,this._reducer=e,this.source=i}select(n){return(this.source?.pipe(Ie(n))||(new We).pipe(Ie(n))).pipe(tw())}lift(n){const e=new Lm(this._dispatcher,this._reducer,this);return e.operator=n,e}dispatch(n){this._dispatcher.next(n)}next(n){this._dispatcher.next(n)}error(n){this._dispatcher.error(n)}complete(){}}function _Z(t,n){1&t&&(_(0,"td"),M(1,"\xa0\xa0\xa0"),g())}function gZ(t,n){if(1&t){const e=Fe();_(0,"td")(1,"a",1),N("click",function(){H(e);const r=w();return $(r.changeMinutes(r.minuteStep))}),Ae(2,"span",2),g()()}if(2&t){const e=w();m(1),st("disabled",!e.canIncrementMinutes||!e.isEditable)}}function yZ(t,n){1&t&&(_(0,"td"),M(1,"\xa0"),g())}function vZ(t,n){if(1&t){const e=Fe();_(0,"td")(1,"a",1),N("click",function(){H(e);const r=w();return $(r.changeSeconds(r.secondsStep))}),Ae(2,"span",2),g()()}if(2&t){const e=w();m(1),st("disabled",!e.canIncrementSeconds||!e.isEditable)}}function bZ(t,n){1&t&&(_(0,"td"),M(1,"\xa0\xa0\xa0"),g())}function wZ(t,n){1&t&&Ae(0,"td")}function CZ(t,n){1&t&&(_(0,"td"),M(1,"\xa0:\xa0"),g())}function DZ(t,n){if(1&t){const e=Fe();_(0,"td",4)(1,"input",5),N("wheel",function(r){H(e);const s=w();return s.prevDef(r),$(s.changeMinutes(s.minuteStep*s.wheelSign(r),"wheel"))})("keydown.ArrowUp",function(){H(e);const r=w();return $(r.changeMinutes(r.minuteStep,"key"))})("keydown.ArrowDown",function(){H(e);const r=w();return $(r.changeMinutes(-r.minuteStep,"key"))})("change",function(r){return H(e),$(w().updateMinutes(r.target))}),g()()}if(2&t){const e=w();st("has-error",e.invalidMinutes),m(1),st("is-invalid",e.invalidMinutes),y("placeholder",e.minutesPlaceholder)("readonly",e.readonlyInput)("disabled",e.disabled)("value",e.minutes),zn("aria-label",e.labelMinutes)}}function TZ(t,n){1&t&&(_(0,"td"),M(1,"\xa0:\xa0"),g())}function SZ(t,n){if(1&t){const e=Fe();_(0,"td",4)(1,"input",5),N("wheel",function(r){H(e);const s=w();return s.prevDef(r),$(s.changeSeconds(s.secondsStep*s.wheelSign(r),"wheel"))})("keydown.ArrowUp",function(){H(e);const r=w();return $(r.changeSeconds(r.secondsStep,"key"))})("keydown.ArrowDown",function(){H(e);const r=w();return $(r.changeSeconds(-r.secondsStep,"key"))})("change",function(r){return H(e),$(w().updateSeconds(r.target))}),g()()}if(2&t){const e=w();st("has-error",e.invalidSeconds),m(1),st("is-invalid",e.invalidSeconds),y("placeholder",e.secondsPlaceholder)("readonly",e.readonlyInput)("disabled",e.disabled)("value",e.seconds),zn("aria-label",e.labelSeconds)}}function kZ(t,n){1&t&&(_(0,"td"),M(1,"\xa0\xa0\xa0"),g())}function MZ(t,n){if(1&t){const e=Fe();_(0,"td")(1,"button",8),N("click",function(){return H(e),$(w().toggleMeridian())}),M(2),g()()}if(2&t){const e=w();m(1),st("disabled",!e.isEditable||!e.canToggleMeridian),y("disabled",!e.isEditable||!e.canToggleMeridian),m(1),qt("",e.meridian," ")}}function EZ(t,n){1&t&&(_(0,"td"),M(1,"\xa0\xa0\xa0"),g())}function OZ(t,n){if(1&t){const e=Fe();_(0,"td")(1,"a",1),N("click",function(){H(e);const r=w();return $(r.changeMinutes(-r.minuteStep))}),Ae(2,"span",7),g()()}if(2&t){const e=w();m(1),st("disabled",!e.canDecrementMinutes||!e.isEditable)}}function IZ(t,n){1&t&&(_(0,"td"),M(1,"\xa0"),g())}function AZ(t,n){if(1&t){const e=Fe();_(0,"td")(1,"a",1),N("click",function(){H(e);const r=w();return $(r.changeSeconds(-r.secondsStep))}),Ae(2,"span",7),g()()}if(2&t){const e=w();m(1),st("disabled",!e.canDecrementSeconds||!e.isEditable)}}function RZ(t,n){1&t&&(_(0,"td"),M(1,"\xa0\xa0\xa0"),g())}function xZ(t,n){1&t&&Ae(0,"td")}let $o=(()=>{class t{writeValue(e){return{type:t.WRITE_VALUE,payload:e}}changeHours(e){return{type:t.CHANGE_HOURS,payload:e}}changeMinutes(e){return{type:t.CHANGE_MINUTES,payload:e}}changeSeconds(e){return{type:t.CHANGE_SECONDS,payload:e}}setTime(e){return{type:t.SET_TIME_UNIT,payload:e}}updateControls(e){return{type:t.UPDATE_CONTROLS,payload:e}}}return t.WRITE_VALUE="[timepicker] write value from ng model",t.CHANGE_HOURS="[timepicker] change hours",t.CHANGE_MINUTES="[timepicker] change minutes",t.CHANGE_SECONDS="[timepicker] change seconds",t.SET_TIME_UNIT="[timepicker] set time unit",t.UPDATE_CONTROLS="[timepicker] update controls",t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const FZ=10,NZ=24,NR=12,LZ=60,PZ=60;function Lw(t){return!(!t||t instanceof Date&&isNaN(t.getHours()))&&("string"!=typeof t||Lw(new Date(t)))}function Pw(t,n){return!(t.min&&n<t.min||t.max&&n>t.max)}function pl(t){return typeof t>"u"?NaN:"number"==typeof t?t:parseInt(t,FZ)}function LR(t,n=!1){const e=pl(t);return isNaN(e)||e<0||e>(n?NR:NZ)?NaN:e}function PR(t){const n=pl(t);return isNaN(n)||n<0||n>LZ?NaN:n}function VR(t){const n=pl(t);return isNaN(n)||n<0||n>PZ?NaN:n}function BR(t){return"string"==typeof t?new Date(t):t}function ns(t,n){if(!t)return ns(Pm(new Date,0,0,0),n);if(!n)return t;let e=t.getHours(),i=t.getMinutes(),r=t.getSeconds();return n.hour&&(e+=pl(n.hour)),n.minute&&(i+=pl(n.minute)),n.seconds&&(r+=pl(n.seconds)),Pm(t,e,i,r)}function HR(t,n){let e=LR(n.hour);const i=PR(n.minute),r=VR(n.seconds)||0;return n.isPM&&12!==e&&(e+=NR),t?isNaN(e)||isNaN(i)?t:Pm(t,e,i,r):isNaN(e)||isNaN(i)?t:Pm(new Date,e,i,r)}function Pm(t,n,e,i){const r=new Date(t.getFullYear(),t.getMonth(),t.getDate(),n,e,i,t.getMilliseconds());return r.setFullYear(t.getFullYear()),r.setMonth(t.getMonth()),r.setDate(t.getDate()),r}function Vw(t){const n=t.toString();return n.length>1?n:`0${n}`}function $R(t,n){return!isNaN(LR(t,n))}function jR(t){return!isNaN(PR(t))}function UR(t){return!isNaN(VR(t))}function YR(t,n="0",e="0",i){return $R(t,i)&&jR(n)&&UR(e)}function Vm(t,n){return!(t.readonlyInput||t.disabled||n&&("wheel"===n.source&&!t.mousewheel||"key"===n.source&&!t.arrowkeys))}function zR(t){const{hourStep:n,minuteStep:e,secondsStep:i,readonlyInput:r,disabled:s,mousewheel:o,arrowkeys:a,showSpinners:l,showMeridian:u,showSeconds:c,meridians:d,min:f,max:h}=t;return{hourStep:n,minuteStep:e,secondsStep:i,readonlyInput:r,disabled:s,mousewheel:o,arrowkeys:a,showSpinners:l,showMeridian:u,showSeconds:c,meridians:d,min:f,max:h}}let qR=(()=>{class t{constructor(){this.hourStep=1,this.minuteStep=5,this.secondsStep=10,this.showMeridian=!0,this.meridians=["AM","PM"],this.readonlyInput=!1,this.disabled=!1,this.allowEmptyTime=!1,this.mousewheel=!0,this.arrowkeys=!0,this.showSpinners=!0,this.showSeconds=!1,this.showMinutes=!0,this.hoursPlaceholder="HH",this.minutesPlaceholder="MM",this.secondsPlaceholder="SS",this.ariaLabelHours="hours",this.ariaLabelMinutes="minutes",this.ariaLabelSeconds="seconds"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const WR={value:void 0,config:new qR,controls:{canIncrementHours:!0,canIncrementMinutes:!0,canIncrementSeconds:!0,canDecrementHours:!0,canDecrementMinutes:!0,canDecrementSeconds:!0,canToggleMeridian:!0}};function GR(t=WR,n){switch(n.type){case $o.WRITE_VALUE:return Object.assign({},t,{value:n.payload});case $o.CHANGE_HOURS:{if(!Vm(t.config,n.payload)||!function HZ(t,n){return!(!t.step||t.step>0&&!n.canIncrementHours||t.step<0&&!n.canDecrementHours)}(n.payload,t.controls))return t;const e=ns(t.value,{hour:n.payload.step});return!t.config.max&&!t.config.min||Pw(t.config,e)?Object.assign({},t,{value:e}):t}case $o.CHANGE_MINUTES:{if(!Vm(t.config,n.payload)||!function $Z(t,n){return!(!t.step||t.step>0&&!n.canIncrementMinutes||t.step<0&&!n.canDecrementMinutes)}(n.payload,t.controls))return t;const e=ns(t.value,{minute:n.payload.step});return!t.config.max&&!t.config.min||Pw(t.config,e)?Object.assign({},t,{value:e}):t}case $o.CHANGE_SECONDS:{if(!Vm(t.config,n.payload)||!function jZ(t,n){return!(!t.step||t.step>0&&!n.canIncrementSeconds||t.step<0&&!n.canDecrementSeconds)}(n.payload,t.controls))return t;const e=ns(t.value,{seconds:n.payload.step});return!t.config.max&&!t.config.min||Pw(t.config,e)?Object.assign({},t,{value:e}):t}case $o.SET_TIME_UNIT:{if(!Vm(t.config))return t;const e=HR(t.value,n.payload);return Object.assign({},t,{value:e})}case $o.UPDATE_CONTROLS:{const e=function UZ(t,n){const{min:r,max:s,hourStep:o,minuteStep:a,secondsStep:l,showSeconds:u}=n,c={canIncrementHours:!0,canIncrementMinutes:!0,canIncrementSeconds:!0,canDecrementHours:!0,canDecrementMinutes:!0,canDecrementSeconds:!0,canToggleMeridian:!0};if(!t)return c;if(s){const d=ns(t,{hour:o});if(c.canIncrementHours=s>d&&t.getHours()+o<24,!c.canIncrementHours){const f=ns(t,{minute:a});c.canIncrementMinutes=u?s>f:s>=f}if(!c.canIncrementMinutes){const f=ns(t,{seconds:l});c.canIncrementSeconds=s>=f}t.getHours()<12&&(c.canToggleMeridian=ns(t,{hour:12})<s)}if(r){const d=ns(t,{hour:-o});if(c.canDecrementHours=r<d,!c.canDecrementHours){const f=ns(t,{minute:-a});c.canDecrementMinutes=u?r<f:r<=f}if(!c.canDecrementMinutes){const f=ns(t,{seconds:-l});c.canDecrementSeconds=r<=f}t.getHours()>=12&&(c.canToggleMeridian=ns(t,{hour:-12})>r)}return c}(t.value,n.payload),i={value:t.value,config:n.payload,controls:e};return t.config.showMeridian!==i.config.showMeridian&&t.value&&(i.value=new Date(t.value)),Object.assign({},t,i)}default:return t}}let Bm=(()=>{class t extends Lm{constructor(){const e=new yi({type:"[mini-ngrx] dispatcher init"});super(e,GR,new FR(WR,e,GR))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const YZ={provide:kr,useExisting:Ut(()=>Hm),multi:!0};let Hm=(()=>{class t{constructor(e,i,r,s){this._cd=i,this._store=r,this._timepickerActions=s,this.hourStep=1,this.minuteStep=5,this.secondsStep=10,this.readonlyInput=!1,this.disabled=!1,this.mousewheel=!0,this.arrowkeys=!0,this.showSpinners=!0,this.showMeridian=!0,this.showMinutes=!0,this.showSeconds=!1,this.meridians=["AM","PM"],this.hoursPlaceholder="HH",this.minutesPlaceholder="MM",this.secondsPlaceholder="SS",this.isValid=new ke,this.meridianChange=new ke,this.hours="",this.minutes="",this.seconds="",this.meridian="",this.invalidHours=!1,this.invalidMinutes=!1,this.invalidSeconds=!1,this.labelHours="hours",this.labelMinutes="minutes",this.labelSeconds="seconds",this.canIncrementHours=!0,this.canIncrementMinutes=!0,this.canIncrementSeconds=!0,this.canDecrementHours=!0,this.canDecrementMinutes=!0,this.canDecrementSeconds=!0,this.canToggleMeridian=!0,this.onChange=Function.prototype,this.onTouched=Function.prototype,this.config=e,Object.assign(this,this.config),this.timepickerSub=r.select(o=>o.value).subscribe(o=>{this._renderTime(o),this.onChange(o),this._store.dispatch(this._timepickerActions.updateControls(zR(this)))}),r.select(o=>o.controls).subscribe(o=>{const a=YR(this.hours,this.minutes,this.seconds,this.isPM()),l=this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||a;this.isValid.emit(l),Object.assign(this,o),i.markForCheck()})}get isSpinnersVisible(){return this.showSpinners&&!this.readonlyInput}get isEditable(){return!(this.readonlyInput||this.disabled)}resetValidation(){this.invalidHours=!1,this.invalidMinutes=!1,this.invalidSeconds=!1}isPM(){return this.showMeridian&&this.meridian===this.meridians[1]}prevDef(e){e.preventDefault()}wheelSign(e){return-1*Math.sign(e.deltaY||0)}ngOnChanges(){this._store.dispatch(this._timepickerActions.updateControls(zR(this)))}changeHours(e,i=""){this.resetValidation(),this._store.dispatch(this._timepickerActions.changeHours({step:e,source:i}))}changeMinutes(e,i=""){this.resetValidation(),this._store.dispatch(this._timepickerActions.changeMinutes({step:e,source:i}))}changeSeconds(e,i=""){this.resetValidation(),this._store.dispatch(this._timepickerActions.changeSeconds({step:e,source:i}))}updateHours(e){this.resetValidation(),this.hours=e.value;const i=$R(this.hours,this.isPM())&&this.isValidLimit();if(!(this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||i))return this.invalidHours=!0,this.isValid.emit(!1),void this.onChange(null);this._updateTime()}updateMinutes(e){this.resetValidation(),this.minutes=e.value;const i=jR(this.minutes)&&this.isValidLimit();if(!(this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||i))return this.invalidMinutes=!0,this.isValid.emit(!1),void this.onChange(null);this._updateTime()}updateSeconds(e){this.resetValidation(),this.seconds=e.value;const i=UR(this.seconds)&&this.isValidLimit();if(!(this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||i))return this.invalidSeconds=!0,this.isValid.emit(!1),void this.onChange(null);this._updateTime()}isValidLimit(){return function VZ(t,n,e){const i=HR(new Date,t);return!(!i||n&&i>n||e&&i<e)}({hour:this.hours,minute:this.minutes,seconds:this.seconds,isPM:this.isPM()},this.max,this.min)}isOneOfDatesIsEmpty(){return function BZ(t,n,e){return 0===t.length||0===n.length||0===e.length}(this.hours,this.minutes,this.seconds)}_updateTime(){const r=YR(this.hours,this.showMinutes?this.minutes:void 0,this.showSeconds?this.seconds:void 0,this.isPM());if(!(this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||r))return this.isValid.emit(!1),void this.onChange(null);this._store.dispatch(this._timepickerActions.setTime({hour:this.hours,minute:this.minutes,seconds:this.seconds,isPM:this.isPM()}))}toggleMeridian(){this.showMeridian&&this.isEditable&&this._store.dispatch(this._timepickerActions.changeHours({step:12,source:""}))}writeValue(e){Lw(e)?(this.resetValidation(),this._store.dispatch(this._timepickerActions.writeValue(BR(e)))):null==e&&this._store.dispatch(this._timepickerActions.writeValue())}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e,this._cd.markForCheck()}ngOnDestroy(){this.timepickerSub?.unsubscribe()}_renderTime(e){if(!e||!Lw(e))return this.hours="",this.minutes="",this.seconds="",this.meridian=this.meridians[0],void this.meridianChange.emit(this.meridian);const i=BR(e);if(!i)return;let s=i.getHours();this.showMeridian&&(this.meridian=this.meridians[s>=12?1:0],this.meridianChange.emit(this.meridian),s%=12,0===s&&(s=12)),this.hours=Vw(s),this.minutes=Vw(i.getMinutes()),this.seconds=Vw(i.getUTCSeconds())}}return t.\u0275fac=function(e){return new(e||t)(T(qR),T(bo),T(Bm),T($o))},t.\u0275cmp=$e({type:t,selectors:[["timepicker"]],inputs:{hourStep:"hourStep",minuteStep:"minuteStep",secondsStep:"secondsStep",readonlyInput:"readonlyInput",disabled:"disabled",mousewheel:"mousewheel",arrowkeys:"arrowkeys",showSpinners:"showSpinners",showMeridian:"showMeridian",showMinutes:"showMinutes",showSeconds:"showSeconds",meridians:"meridians",min:"min",max:"max",hoursPlaceholder:"hoursPlaceholder",minutesPlaceholder:"minutesPlaceholder",secondsPlaceholder:"secondsPlaceholder"},outputs:{isValid:"isValid",meridianChange:"meridianChange"},features:[Kt([YZ,Bm]),Hi],decls:31,vars:33,consts:[[1,"text-center",3,"hidden"],["href","javascript:void(0);",1,"btn","btn-link",3,"click"],[1,"bs-chevron","bs-chevron-up"],[4,"ngIf"],[1,"form-group","mb-3"],["type","text","maxlength","2",1,"form-control","text-center","bs-timepicker-field",3,"placeholder","readonly","disabled","value","wheel","keydown.ArrowUp","keydown.ArrowDown","change"],["class","form-group mb-3",3,"has-error",4,"ngIf"],[1,"bs-chevron","bs-chevron-down"],["type","button",1,"btn","btn-default","text-center",3,"disabled","click"]],template:function(e,i){1&e&&(_(0,"table")(1,"tbody")(2,"tr",0)(3,"td")(4,"a",1),N("click",function(){return i.changeHours(i.hourStep)}),Ae(5,"span",2),g()(),V(6,_Z,2,0,"td",3),V(7,gZ,3,2,"td",3),V(8,yZ,2,0,"td",3),V(9,vZ,3,2,"td",3),V(10,bZ,2,0,"td",3),V(11,wZ,1,0,"td",3),g(),_(12,"tr")(13,"td",4)(14,"input",5),N("wheel",function(s){return i.prevDef(s),i.changeHours(i.hourStep*i.wheelSign(s),"wheel")})("keydown.ArrowUp",function(){return i.changeHours(i.hourStep,"key")})("keydown.ArrowDown",function(){return i.changeHours(-i.hourStep,"key")})("change",function(s){return i.updateHours(s.target)}),g()(),V(15,CZ,2,0,"td",3),V(16,DZ,2,9,"td",6),V(17,TZ,2,0,"td",3),V(18,SZ,2,9,"td",6),V(19,kZ,2,0,"td",3),V(20,MZ,3,4,"td",3),g(),_(21,"tr",0)(22,"td")(23,"a",1),N("click",function(){return i.changeHours(-i.hourStep)}),Ae(24,"span",7),g()(),V(25,EZ,2,0,"td",3),V(26,OZ,3,2,"td",3),V(27,IZ,2,0,"td",3),V(28,AZ,3,2,"td",3),V(29,RZ,2,0,"td",3),V(30,xZ,1,0,"td",3),g()()()),2&e&&(m(2),y("hidden",!i.showSpinners),m(2),st("disabled",!i.canIncrementHours||!i.isEditable),m(2),y("ngIf",i.showMinutes),m(1),y("ngIf",i.showMinutes),m(1),y("ngIf",i.showSeconds),m(1),y("ngIf",i.showSeconds),m(1),y("ngIf",i.showMeridian),m(1),y("ngIf",i.showMeridian),m(2),st("has-error",i.invalidHours),m(1),st("is-invalid",i.invalidHours),y("placeholder",i.hoursPlaceholder)("readonly",i.readonlyInput)("disabled",i.disabled)("value",i.hours),zn("aria-label",i.labelHours),m(1),y("ngIf",i.showMinutes),m(1),y("ngIf",i.showMinutes),m(1),y("ngIf",i.showSeconds),m(1),y("ngIf",i.showSeconds),m(1),y("ngIf",i.showMeridian),m(1),y("ngIf",i.showMeridian),m(1),y("hidden",!i.showSpinners),m(2),st("disabled",!i.canDecrementHours||!i.isEditable),m(2),y("ngIf",i.showMinutes),m(1),y("ngIf",i.showMinutes),m(1),y("ngIf",i.showSeconds),m(1),y("ngIf",i.showSeconds),m(1),y("ngIf",i.showMeridian),m(1),y("ngIf",i.showMeridian))},dependencies:[Jt],styles:[".bs-chevron{border-style:solid;display:block;width:9px;height:9px;position:relative;border-width:3px 0px 0 3px}.bs-chevron-up{transform:rotate(45deg);top:2px}.bs-chevron-down{transform:rotate(-135deg);top:-2px}.bs-timepicker-field{width:65px;padding:.375rem .55rem}\n"],encapsulation:2,changeDetection:0}),t})(),ZR=(()=>{class t{static forRoot(){return{ngModule:t,providers:[$o,Bm]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=_i({type:t}),t.\u0275inj=oi({providers:[Bm],imports:[mu]}),t})();class lf{}class zZ{}const jo="*";function nc(t,n=null){return{type:4,styles:n,timings:t}}function QR(t,n=null){return{type:2,steps:t,options:n}}function is(t){return{type:6,styles:t,offset:null}}function KR(t,n,e){return{type:0,name:t,styles:n,options:e}}function Bw(t,n,e=null){return{type:1,expr:t,animation:n,options:e}}function JR(t){Promise.resolve().then(t)}class uf{constructor(n=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){JR(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class XR{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let e=0,i=0,r=0;const s=this.players.length;0==s?JR(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++e==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){const e=n*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const n=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=n?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const Hw="!";function WZ(t,n){if(1&t){const e=Fe();_(0,"button",2),N("click",function(){const s=H(e).$implicit;return $(w().selectFromRanges(s))}),M(1),g()}if(2&t){const e=n.$implicit,i=w();st("selected",e.value===i.selectedRange),m(1),qt(" ",e.label," ")}}function GZ(t,n){1&t&&Ae(0,"bs-current-date",4)}function ZZ(t,n){1&t&&Ae(0,"bs-timepicker")}const QZ=[[["bs-datepicker-navigation-view"]],"*"],KZ=["bs-datepicker-navigation-view","*"],JZ=["bsDatepickerDayDecorator",""];function XZ(t,n){if(1&t){const e=Fe();Bn(0),M(1," \u200b "),_(2,"button",2),N("click",function(){return H(e),$(w().view("month"))}),_(3,"span"),M(4),g()(),Hn()}if(2&t){const e=w();m(2),y("disabled",e.isDisabled),m(2),it(e.calendar.monthTitle)}}function eQ(t,n){1&t&&Ae(0,"th")}function tQ(t,n){if(1&t&&(_(0,"th",5),M(1),g()),2&t){const e=n.index,i=w();m(1),qt("",i.calendar.weekdays[e]," ")}}function nQ(t,n){if(1&t){const e=Fe();_(0,"span",11),N("click",function(){H(e);const r=w(2).$implicit;return $(w().selectWeek(r))}),M(1),g()}if(2&t){const e=w(2).index,i=w();m(1),it(i.calendar.weekNumbers[e])}}function iQ(t,n){if(1&t){const e=Fe();_(0,"span",12),N("click",function(){H(e);const r=w(2).$implicit;return $(w().selectWeek(r))})("mouseenter",function(){H(e);const r=w(2).$implicit;return $(w().weekHoverHandler(r,!0))})("mouseleave",function(){H(e);const r=w(2).$implicit;return $(w().weekHoverHandler(r,!1))}),M(1),g()}if(2&t){const e=w(2).index,i=w();m(1),it(i.calendar.weekNumbers[e])}}function rQ(t,n){if(1&t&&(_(0,"td",8),V(1,nQ,2,1,"span",9),V(2,iQ,2,1,"span",10),g()),2&t){const e=w(2);st("active-week",e.isWeekHovered),m(1),y("ngIf",e.isiOS),m(1),y("ngIf",!e.isiOS)}}function sQ(t,n){if(1&t){const e=Fe();_(0,"span",17),N("click",function(){H(e);const r=w().$implicit;return $(w(2).selectDay(r))})("mouseenter",function(){H(e);const r=w().$implicit;return $(w(2).hoverDay(r,!0))})("mouseleave",function(){H(e);const r=w().$implicit;return $(w(2).hoverDay(r,!1))}),M(1),g()}if(2&t){const e=w().$implicit;ph("tooltip",e.tooltipText),y("day",e),m(1),qt("",e.label," 3")}}function oQ(t,n){if(1&t){const e=Fe();_(0,"span",18),N("click",function(){H(e);const r=w().$implicit;return $(w(2).selectDay(r))})("mouseenter",function(){H(e);const r=w().$implicit;return $(w(2).hoverDay(r,!0))})("mouseleave",function(){H(e);const r=w().$implicit;return $(w(2).hoverDay(r,!1))}),M(1),g()}if(2&t){const e=w().$implicit;y("day",e),m(1),qt("",e.label," 2")}}function aQ(t,n){if(1&t){const e=Fe();_(0,"span",19),N("click",function(){H(e);const r=w().$implicit;return $(w(2).selectDay(r))}),M(1),g()}if(2&t){const e=w().$implicit;y("day",e),m(1),qt("",e.label," 1")}}function lQ(t,n){if(1&t&&(_(0,"td",13),V(1,sQ,2,3,"span",14),V(2,oQ,2,2,"span",15),V(3,aQ,2,2,"span",16),g()),2&t){const e=w(2);m(1),y("ngIf",!e.isiOS&&e.isShowTooltip),m(1),y("ngIf",!e.isiOS&&!e.isShowTooltip),m(1),y("ngIf",e.isiOS)}}function uQ(t,n){if(1&t&&(_(0,"tr"),V(1,rQ,3,4,"td",6),V(2,lQ,4,3,"td",7),g()),2&t){const e=n.$implicit,i=w();m(1),y("ngIf",i.options&&i.options.showWeekNumbers),m(1),y("ngForOf",e.days)}}function cQ(t,n){if(1&t){const e=Fe();_(0,"td",4),N("click",function(){const s=H(e).$implicit;return $(w(2).viewMonth(s))})("mouseenter",function(){const s=H(e).$implicit;return $(w(2).hoverMonth(s,!0))})("mouseleave",function(){const s=H(e).$implicit;return $(w(2).hoverMonth(s,!1))}),_(1,"span"),M(2),g()()}if(2&t){const e=n.$implicit;st("disabled",e.isDisabled)("is-highlighted",e.isHovered),m(1),st("selected",e.isSelected),m(1),it(e.label)}}function dQ(t,n){if(1&t&&(_(0,"tr"),V(1,cQ,3,7,"td",3),g()),2&t){const e=n.$implicit;m(1),y("ngForOf",e)}}function fQ(t,n){if(1&t){const e=Fe();_(0,"td",4),N("click",function(){const s=H(e).$implicit;return $(w(2).viewYear(s))})("mouseenter",function(){const s=H(e).$implicit;return $(w(2).hoverYear(s,!0))})("mouseleave",function(){const s=H(e).$implicit;return $(w(2).hoverYear(s,!1))}),_(1,"span"),M(2),g()()}if(2&t){const e=n.$implicit;st("disabled",e.isDisabled)("is-highlighted",e.isHovered),m(1),st("selected",e.isSelected),m(1),it(e.label)}}function hQ(t,n){if(1&t&&(_(0,"tr"),V(1,fQ,3,7,"td",3),g()),2&t){const e=n.$implicit;m(1),y("ngForOf",e)}}const ex=["startTP"];function pQ(t,n){if(1&t){const e=Fe();_(0,"bs-days-calendar-view",11),N("onNavigate",function(r){return H(e),$(w(3).navigateTo(r))})("onViewMode",function(r){return H(e),$(w(3).setViewMode(r))})("onHover",function(r){return H(e),$(w(3).dayHoverHandler(r))})("onHoverWeek",function(r){return H(e),$(w(3).weekHoverHandler(r))})("onSelect",function(r){return H(e),$(w(3).daySelectHandler(r))}),dr(1,"async"),g()}if(2&t){const e=n.$implicit,i=w(3);st("bs-datepicker-multiple",i.multipleCalendars),y("calendar",e)("isDisabled",i.isDatePickerDisabled)("options",fr(1,5,i.options$))}}function mQ(t,n){1&t&&Ae(0,"timepicker",13,16),2&t&&y("disabled",w(4).isDatePickerDisabled)}function _Q(t,n){if(1&t&&(_(0,"div",12),Ae(1,"timepicker",13,14),V(3,mQ,2,1,"timepicker",15),g()),2&t){const e=w(3);m(1),y("disabled",e.isDatePickerDisabled),m(2),y("ngIf",e.isRangePicker)}}function gQ(t,n){if(1&t&&(Bn(0),_(1,"div",8),V(2,pQ,2,7,"bs-days-calendar-view",9),dr(3,"async"),g(),V(4,_Q,4,2,"div",10),Hn()),2&t){const e=w(2);m(2),y("ngForOf",fr(3,2,e.daysCalendar$)),m(2),y("ngIf",e.withTimepicker)}}function yQ(t,n){if(1&t){const e=Fe();_(0,"bs-month-calendar-view",18),N("onNavigate",function(r){return H(e),$(w(3).navigateTo(r))})("onViewMode",function(r){return H(e),$(w(3).setViewMode(r))})("onHover",function(r){return H(e),$(w(3).monthHoverHandler(r))})("onSelect",function(r){return H(e),$(w(3).monthSelectHandler(r))}),g()}if(2&t){const e=n.$implicit;st("bs-datepicker-multiple",w(3).multipleCalendars),y("calendar",e)}}function vQ(t,n){if(1&t&&(_(0,"div",8),V(1,yQ,1,3,"bs-month-calendar-view",17),dr(2,"async"),g()),2&t){const e=w(2);m(1),y("ngForOf",fr(2,1,e.monthsCalendar))}}function bQ(t,n){if(1&t){const e=Fe();_(0,"bs-years-calendar-view",18),N("onNavigate",function(r){return H(e),$(w(3).navigateTo(r))})("onViewMode",function(r){return H(e),$(w(3).setViewMode(r))})("onHover",function(r){return H(e),$(w(3).yearHoverHandler(r))})("onSelect",function(r){return H(e),$(w(3).yearSelectHandler(r))}),g()}if(2&t){const e=n.$implicit;st("bs-datepicker-multiple",w(3).multipleCalendars),y("calendar",e)}}function wQ(t,n){if(1&t&&(_(0,"div",8),V(1,bQ,1,3,"bs-years-calendar-view",17),dr(2,"async"),g()),2&t){const e=w(2);m(1),y("ngForOf",fr(2,1,e.yearsCalendar))}}function CQ(t,n){1&t&&(_(0,"div",19)(1,"button",20),M(2,"Apply"),g(),_(3,"button",21),M(4,"Cancel"),g()())}function DQ(t,n){if(1&t){const e=Fe();_(0,"div",24)(1,"button",25),N("click",function(){return H(e),$(w(3).setToday())}),M(2),g()()}if(2&t){const e=w(3);st("today-left","left"===e.todayPos)("today-right","right"===e.todayPos)("today-center","center"===e.todayPos),m(2),it(e.todayBtnLbl)}}function TQ(t,n){if(1&t){const e=Fe();_(0,"div",26)(1,"button",25),N("click",function(){return H(e),$(w(3).clearDate())}),M(2),g()()}if(2&t){const e=w(3);st("clear-left","left"===e.clearPos)("clear-right","right"===e.clearPos)("clear-center","center"===e.clearPos),m(2),it(e.clearBtnLbl)}}function SQ(t,n){if(1&t&&(_(0,"div",19),V(1,DQ,3,7,"div",22),V(2,TQ,3,7,"div",23),g()),2&t){const e=w(2);m(1),y("ngIf",e.showTodayBtn),m(1),y("ngIf",e.showClearBtn)}}function kQ(t,n){if(1&t){const e=Fe();_(0,"div",27)(1,"bs-custom-date-view",28),N("onSelect",function(r){return H(e),$(w(2).setRangeOnCalendar(r))}),g()()}if(2&t){const e=w(2);m(1),y("selectedRange",e.chosenRange)("ranges",e.customRanges)("customRangeLabel",e.customRangeBtnLbl)}}function MQ(t,n){if(1&t){const e=Fe();_(0,"div",1)(1,"div",2),N("@datepickerAnimation.done",function(){return H(e),$(w().positionServiceEnable())}),_(2,"div",3),dr(3,"async"),V(4,gQ,5,4,"ng-container",4),V(5,vQ,3,3,"div",5),V(6,wQ,3,3,"div",5),g(),V(7,CQ,5,0,"div",6),V(8,SQ,3,2,"div",6),g(),V(9,kQ,2,3,"div",7),g()}if(2&t){const e=w();y("ngClass",e.containerClass),m(1),y("@datepickerAnimation",e.animationState),m(1),y("ngSwitch",fr(3,9,e.viewMode)),m(2),y("ngSwitchCase","day"),m(1),y("ngSwitchCase","month"),m(1),y("ngSwitchCase","year"),m(1),y("ngIf",!1),m(1),y("ngIf",e.showTodayBtn||e.showClearBtn),m(1),y("ngIf",e.customRanges&&e.customRanges.length>0)}}const $Q=["endTP"];function jQ(t,n){if(1&t){const e=Fe();_(0,"bs-days-calendar-view",11),N("onNavigate",function(r){return H(e),$(w(3).navigateTo(r))})("onViewMode",function(r){return H(e),$(w(3).setViewMode(r))})("onHover",function(r){return H(e),$(w(3).dayHoverHandler(r))})("onHoverWeek",function(r){return H(e),$(w(3).weekHoverHandler(r))})("onSelect",function(r){return H(e),$(w(3).daySelectHandler(r))}),dr(1,"async"),g()}if(2&t){const e=n.$implicit,i=w(3);st("bs-datepicker-multiple",i.multipleCalendars),y("calendar",e)("isDisabled",i.isDatePickerDisabled)("options",fr(1,5,i.options$))}}function UQ(t,n){1&t&&Ae(0,"timepicker",13,16),2&t&&y("disabled",w(4).isDatePickerDisabled)}function YQ(t,n){if(1&t&&(_(0,"div",12),Ae(1,"timepicker",13,14),V(3,UQ,2,1,"timepicker",15),g()),2&t){const e=w(3);m(1),y("disabled",e.isDatePickerDisabled),m(2),y("ngIf",e.isRangePicker)}}function zQ(t,n){if(1&t&&(Bn(0),_(1,"div",8),V(2,jQ,2,7,"bs-days-calendar-view",9),dr(3,"async"),g(),V(4,YQ,4,2,"div",10),Hn()),2&t){const e=w(2);m(2),y("ngForOf",fr(3,2,e.daysCalendar$)),m(2),y("ngIf",e.withTimepicker)}}function qQ(t,n){if(1&t){const e=Fe();_(0,"bs-month-calendar-view",18),N("onNavigate",function(r){return H(e),$(w(3).navigateTo(r))})("onViewMode",function(r){return H(e),$(w(3).setViewMode(r))})("onHover",function(r){return H(e),$(w(3).monthHoverHandler(r))})("onSelect",function(r){return H(e),$(w(3).monthSelectHandler(r))}),g()}if(2&t){const e=n.$implicit;st("bs-datepicker-multiple",w(3).multipleCalendars),y("calendar",e)}}function WQ(t,n){if(1&t&&(_(0,"div",8),V(1,qQ,1,3,"bs-month-calendar-view",17),dr(2,"async"),g()),2&t){const e=w(2);m(1),y("ngForOf",fr(2,1,e.monthsCalendar))}}function GQ(t,n){if(1&t){const e=Fe();_(0,"bs-years-calendar-view",18),N("onNavigate",function(r){return H(e),$(w(3).navigateTo(r))})("onViewMode",function(r){return H(e),$(w(3).setViewMode(r))})("onHover",function(r){return H(e),$(w(3).yearHoverHandler(r))})("onSelect",function(r){return H(e),$(w(3).yearSelectHandler(r))}),g()}if(2&t){const e=n.$implicit;st("bs-datepicker-multiple",w(3).multipleCalendars),y("calendar",e)}}function ZQ(t,n){if(1&t&&(_(0,"div",8),V(1,GQ,1,3,"bs-years-calendar-view",17),dr(2,"async"),g()),2&t){const e=w(2);m(1),y("ngForOf",fr(2,1,e.yearsCalendar))}}function QQ(t,n){1&t&&(_(0,"div",19)(1,"button",20),M(2,"Apply"),g(),_(3,"button",21),M(4,"Cancel"),g()())}function KQ(t,n){if(1&t){const e=Fe();_(0,"div",24)(1,"button",25),N("click",function(){return H(e),$(w(3).setToday())}),M(2),g()()}if(2&t){const e=w(3);st("today-left","left"===e.todayPos)("today-right","right"===e.todayPos)("today-center","center"===e.todayPos),m(2),it(e.todayBtnLbl)}}function JQ(t,n){if(1&t){const e=Fe();_(0,"div",26)(1,"button",25),N("click",function(){return H(e),$(w(3).clearDate())}),M(2),g()()}if(2&t){const e=w(3);st("clear-left","left"===e.clearPos)("clear-right","right"===e.clearPos)("clear-center","center"===e.clearPos),m(2),it(e.clearBtnLbl)}}function XQ(t,n){if(1&t&&(_(0,"div",19),V(1,KQ,3,7,"div",22),V(2,JQ,3,7,"div",23),g()),2&t){const e=w(2);m(1),y("ngIf",e.showTodayBtn),m(1),y("ngIf",e.showClearBtn)}}function eK(t,n){if(1&t){const e=Fe();_(0,"div",27)(1,"bs-custom-date-view",28),N("onSelect",function(r){return H(e),$(w(2).setRangeOnCalendar(r))}),g()()}if(2&t){const e=w(2);m(1),y("selectedRange",e.chosenRange)("ranges",e.customRanges)("customRangeLabel",e.customRangeBtnLbl)}}function tK(t,n){if(1&t){const e=Fe();_(0,"div",1)(1,"div",2),N("@datepickerAnimation.done",function(){return H(e),$(w().positionServiceEnable())}),_(2,"div",3),dr(3,"async"),V(4,zQ,5,4,"ng-container",4),V(5,WQ,3,3,"div",5),V(6,ZQ,3,3,"div",5),g(),V(7,QQ,5,0,"div",6),V(8,XQ,3,2,"div",6),g(),V(9,eK,2,3,"div",7),g()}if(2&t){const e=w();y("ngClass",e.containerClass),m(1),y("@datepickerAnimation",e.animationState),m(1),y("ngSwitch",fr(3,9,e.viewMode)),m(2),y("ngSwitchCase","day"),m(1),y("ngSwitchCase","month"),m(1),y("ngSwitchCase","year"),m(1),y("ngIf",!1),m(1),y("ngIf",e.showTodayBtn||e.showClearBtn),m(1),y("ngIf",e.customRanges&&e.customRanges.length>0)}}let Uo=(()=>{class t{constructor(){this.adaptivePosition=!1,this.useUtc=!1,this.isAnimated=!1,this.startView="day",this.returnFocusToInput=!1,this.containerClass="theme-green",this.displayMonths=1,this.showWeekNumbers=!0,this.dateInputFormat="L",this.rangeSeparator=" - ",this.rangeInputFormat="L",this.monthTitle="MMMM",this.yearTitle="YYYY",this.dayLabel="D",this.monthLabel="MMMM",this.yearLabel="YYYY",this.weekNumbers="w",this.showTodayButton=!1,this.showClearButton=!1,this.todayPosition="center",this.clearPosition="right",this.todayButtonLabel="Today",this.clearButtonLabel="Clear",this.customRangeButtonLabel="Custom Range",this.withTimepicker=!1,this.allowedPositions=["top","bottom"],this.keepDatepickerOpened=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const tx="220ms cubic-bezier(0, 0, 0.2, 1)",nx=function qZ(t,n){return{type:7,name:t,definitions:n,options:{}}}("datepickerAnimation",[KR("animated-down",is({height:"*",overflow:"hidden"})),Bw("* => animated-down",[is({height:0,overflow:"hidden"}),nc(tx)]),KR("animated-up",is({height:"*",overflow:"hidden"})),Bw("* => animated-up",[is({height:"*",overflow:"hidden"}),nc(tx)]),Bw("* => unanimated",nc("0s"))]);class ix{constructor(){this.containerClass="",this.customRanges=[],this.chosenRange=[],this._daysCalendarSub=new ve,this.selectedTimeSub=new ve}set minDate(n){this._effects?.setMinDate(n)}set maxDate(n){this._effects?.setMaxDate(n)}set daysDisabled(n){this._effects?.setDaysDisabled(n)}set datesDisabled(n){this._effects?.setDatesDisabled(n)}set datesEnabled(n){this._effects?.setDatesEnabled(n)}set isDisabled(n){this._effects?.setDisabled(n)}set dateCustomClasses(n){this._effects?.setDateCustomClasses(n)}set dateTooltipTexts(n){this._effects?.setDateTooltipTexts(n)}set daysCalendar$(n){this._daysCalendar$=n,this._daysCalendarSub.unsubscribe(),this._daysCalendarSub.add(this._daysCalendar$.subscribe(e=>{this.multipleCalendars=!!e&&e.length>1}))}get daysCalendar$(){return this._daysCalendar$}setViewMode(n){}navigateTo(n){}dayHoverHandler(n){}weekHoverHandler(n){}monthHoverHandler(n){}yearHoverHandler(n){}timeSelectHandler(n,e){}daySelectHandler(n){}monthSelectHandler(n){}yearSelectHandler(n){}setRangeOnCalendar(n){}setToday(){}clearDate(){}_stopPropagation(n){n.stopPropagation()}}let ti=(()=>{class t{calculate(){return{type:t.CALCULATE}}format(){return{type:t.FORMAT}}flag(){return{type:t.FLAG}}select(e){return{type:t.SELECT,payload:e}}selectTime(e,i){return{type:t.SELECT_TIME,payload:{date:e,index:i}}}changeViewMode(e){return{type:t.CHANGE_VIEWMODE,payload:e}}navigateTo(e){return{type:t.NAVIGATE_TO,payload:e}}navigateStep(e){return{type:t.NAVIGATE_OFFSET,payload:e}}setOptions(e){return{type:t.SET_OPTIONS,payload:e}}selectRange(e){return{type:t.SELECT_RANGE,payload:e}}hoverDay(e){return{type:t.HOVER,payload:e.isHovered?e.cell.date:null}}minDate(e){return{type:t.SET_MIN_DATE,payload:e}}maxDate(e){return{type:t.SET_MAX_DATE,payload:e}}daysDisabled(e){return{type:t.SET_DAYSDISABLED,payload:e}}datesDisabled(e){return{type:t.SET_DATESDISABLED,payload:e}}datesEnabled(e){return{type:t.SET_DATESENABLED,payload:e}}isDisabled(e){return{type:t.SET_IS_DISABLED,payload:e}}setDateCustomClasses(e){return{type:t.SET_DATE_CUSTOM_CLASSES,payload:e}}setDateTooltipTexts(e){return{type:t.SET_DATE_TOOLTIP_TEXTS,payload:e}}setLocale(e){return{type:t.SET_LOCALE,payload:e}}}return t.CALCULATE="[datepicker] calculate dates matrix",t.FORMAT="[datepicker] format datepicker values",t.FLAG="[datepicker] set flags",t.SELECT="[datepicker] select date",t.NAVIGATE_OFFSET="[datepicker] shift view date",t.NAVIGATE_TO="[datepicker] change view date",t.SET_OPTIONS="[datepicker] update render options",t.HOVER="[datepicker] hover date",t.CHANGE_VIEWMODE="[datepicker] switch view mode",t.SET_MIN_DATE="[datepicker] set min date",t.SET_MAX_DATE="[datepicker] set max date",t.SET_DAYSDISABLED="[datepicker] set days disabled",t.SET_DATESDISABLED="[datepicker] set dates disabled",t.SET_DATESENABLED="[datepicker] set dates enabled",t.SET_IS_DISABLED="[datepicker] set is disabled",t.SET_DATE_CUSTOM_CLASSES="[datepicker] set date custom classes",t.SET_DATE_TOOLTIP_TEXTS="[datepicker] set date tooltip texts",t.SET_LOCALE="[datepicker] set datepicker locale",t.SELECT_TIME="[datepicker] select time",t.SELECT_RANGE="[daterangepicker] select dates range",t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),$m=(()=>{class t{constructor(){this._defaultLocale="en",this._locale=new yi(this._defaultLocale),this._localeChange=this._locale.asObservable()}get locale(){return this._locale}get localeChange(){return this._localeChange}get currentLocale(){return this._locale.getValue()}use(e){e!==this.currentLocale&&this._locale.next(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),cf=(()=>{class t{constructor(e,i){this._actions=e,this._localeService=i,this._subs=[]}init(e){return this._store=e,this}setValue(e){this._store?.dispatch(this._actions.select(e))}setRangeValue(e){this._store?.dispatch(this._actions.selectRange(e))}setMinDate(e){return this._store?.dispatch(this._actions.minDate(e)),this}setMaxDate(e){return this._store?.dispatch(this._actions.maxDate(e)),this}setDaysDisabled(e){return this._store?.dispatch(this._actions.daysDisabled(e)),this}setDatesDisabled(e){return this._store?.dispatch(this._actions.datesDisabled(e)),this}setDatesEnabled(e){return this._store?.dispatch(this._actions.datesEnabled(e)),this}setDisabled(e){return this._store?.dispatch(this._actions.isDisabled(e)),this}setDateCustomClasses(e){return this._store?.dispatch(this._actions.setDateCustomClasses(e)),this}setDateTooltipTexts(e){return this._store?.dispatch(this._actions.setDateTooltipTexts(e)),this}setOptions(e){const i=Object.assign({locale:this._localeService.currentLocale},e);return this._store?.dispatch(this._actions.setOptions(i)),this}setBindings(e){return this._store?(e.selectedTime=this._store.select(i=>i.selectedTime).pipe(Sn(i=>!!i)),e.daysCalendar$=this._store.select(i=>i.flaggedMonths).pipe(Sn(i=>!!i)),e.monthsCalendar=this._store.select(i=>i.flaggedMonthsCalendar).pipe(Sn(i=>!!i)),e.yearsCalendar=this._store.select(i=>i.yearsCalendarFlagged).pipe(Sn(i=>!!i)),e.viewMode=this._store.select(i=>i.view?.mode),e.options$=Iv([this._store.select(i=>i.showWeekNumbers),this._store.select(i=>i.displayMonths)]).pipe(Ie(i=>({showWeekNumbers:i[0],displayMonths:i[1]}))),this):this}setEventHandlers(e){return e.setViewMode=i=>{this._store?.dispatch(this._actions.changeViewMode(i))},e.navigateTo=i=>{this._store?.dispatch(this._actions.navigateStep(i.step))},e.dayHoverHandler=i=>{const r=i.cell;r.isOtherMonth||r.isDisabled||(this._store?.dispatch(this._actions.hoverDay(i)),r.isHovered=i.isHovered)},e.monthHoverHandler=i=>{i.cell.isHovered=i.isHovered},e.yearHoverHandler=i=>{i.cell.isHovered=i.isHovered},this}registerDatepickerSideEffects(){return this._store?(this._subs.push(this._store.select(e=>e.view).subscribe(()=>{this._store?.dispatch(this._actions.calculate())})),this._subs.push(this._store.select(e=>e.monthsModel).pipe(Sn(e=>!!e)).subscribe(()=>this._store?.dispatch(this._actions.format()))),this._subs.push(this._store.select(e=>e.formattedMonths).pipe(Sn(e=>!!e)).subscribe(()=>this._store?.dispatch(this._actions.flag()))),this._subs.push(this._store.select(e=>e.selectedDate).pipe(Sn(e=>!!e)).subscribe(()=>this._store?.dispatch(this._actions.flag()))),this._subs.push(this._store.select(e=>e.selectedRange).pipe(Sn(e=>!!e)).subscribe(()=>this._store?.dispatch(this._actions.flag()))),this._subs.push(this._store.select(e=>e.monthsCalendar).subscribe(()=>this._store?.dispatch(this._actions.flag()))),this._subs.push(this._store.select(e=>e.yearsCalendarModel).pipe(Sn(e=>!!e)).subscribe(()=>this._store?.dispatch(this._actions.flag()))),this._subs.push(this._store.select(e=>e.hoveredDate).pipe(Sn(e=>!!e)).subscribe(()=>this._store?.dispatch(this._actions.flag()))),this._subs.push(this._store.select(e=>e.dateCustomClasses).pipe(Sn(e=>!!e)).subscribe(()=>this._store?.dispatch(this._actions.flag()))),this._subs.push(this._store.select(e=>e.dateTooltipTexts).pipe(Sn(e=>!!e)).subscribe(()=>this._store?.dispatch(this._actions.flag()))),this._subs.push(this._localeService.localeChange.subscribe(e=>this._store?.dispatch(this._actions.setLocale(e)))),this):this}destroy(){for(const e of this._subs)e.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(ee(ti),ee($m))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const gK={date:new Date,mode:"day"},rx=Object.assign(new Uo,{locale:"en",view:gK,selectedRange:[],selectedTime:[],monthViewOptions:{width:7,height:6}});function $w(t,n,e){const i=n&&eo(Om(t,"month"),n,"day"),r=e&&Ts(Ho(t,"month"),e,"day");return i||r||!1}function df(t,n,e){const i=n&&eo(Om(t,"year"),n,"day"),r=e&&Ts(Ho(t,"year"),e,"day");return i||r||!1}function jw(t,n,e){return!!(n&&Mn(n)&&n.length)&&(e&&"year"===e&&!n[0].getDate()?n.some(i=>Zu(t,i,"year")):n.some(i=>Zu(t,i,"date")))}function Uw(t,n,e){return!!(n&&Mn(n)&&n.length)&&!n.some(i=>Zu(t,i,e||"date"))}function sx(t,n=0){const e=t&&t.yearsCalendarModel&&t.yearsCalendarModel[n];return e?.years[0]&&e.years[0][0]&&e.years[0][0].date}function bK(t,n){return!t||!n||!t.length&&!t[0].value||t.forEach(e=>(!e||!e.value||e.value instanceof Date||!(e.value instanceof Array&&e.value.length)||(e.value=ax(e.value,n)),t)),t}function ox(t,n){return!t||!n||t instanceof Array&&!t.length||t instanceof Date?t:ax(t,n)}function ax(t,n){return t instanceof Array?t.map(i=>i&&(Ts(i,n,"date")&&(i=n),i)):t}function lx(t){return t&&cx(t)}function ux(t){return t?.length&&t.map(n=>n&&cx(n)),t}function cx(t){const n=new Date;return t.setMilliseconds(n.getMilliseconds()),t.setSeconds(n.getSeconds()),t.setMinutes(n.getMinutes()),t.setHours(n.getHours()),t}function Yw(t,n){let e=t.initialDate;const i=new Array(t.height);for(let r=0;r<t.height;r++){i[r]=new Array(t.width);for(let s=0;s<t.width;s++)i[r][s]=n(e),e=bi(e,t.shift)}return i}function zw(t,n){const e=function u7(t){return wm(t.getFullYear(),t.getMonth(),1,t.getHours(),t.getMinutes(),t.getSeconds())}(t),i=function yK(t,n){if(function d7(t,n){return t.getDay()===Number(n)}(t,n.firstDayOfWeek))return t;const i=function vK(t,n){const e=Number(n);if(isNaN(e))return 0;if(0===e)return t;const i=t-e%7;return i<0?i+7:i}(Js(t),n.firstDayOfWeek);return bi(t,{day:-i})}(e,n);return{daysMatrix:Yw({width:n.width||0,height:n.height||0,initialDate:i,shift:{day:1}},o=>o),month:e}}function CK(t,n,e){return t.map(i=>i[0]?Gr(i[0],n,e):"")}function DK(t){const n=mi(t),e=n.weekdaysShort(),i=n.firstDayOfWeek();return[...e.slice(i),...e.slice(0,i)]}function dx(t,n){return!n||t>=n}const kK=4,MK=3,EK={month:1};function fx(t,n){const e=Ho(t,"year");return{months:Yw({width:MK,height:kK,initialDate:e,shift:EK},s=>({date:s,label:Gr(s,n.monthLabel,n.locale)})),monthTitle:"",yearTitle:Gr(t,n.yearTitle,n.locale),hideRightArrow:!1,hideLeftArrow:!1,disableRightArrow:!1,disableLeftArrow:!1}}const qw=4,Ww=4,jm=qw*Ww,hx=-1*(Math.floor(jm/2)-1),IK={year:1};function px(t,n,e){const i=function AK(t,n){return n&&t.getFullYear()>=n.getFullYear()&&t.getFullYear()<n.getFullYear()+jm?n:bi(t,{year:hx})}(t,e),s=Yw({width:Ww,height:qw,initialDate:i,shift:IK},a=>({date:a,label:Gr(a,n.yearLabel,n.locale)})),o=function RK(t,n){return`${Gr(t[0][0].date,n.yearTitle,n.locale)} - ${Gr(t[qw-1][Ww-1].date,n.yearTitle,n.locale)}`}(s,n);return{years:s,monthTitle:"",yearTitle:o,hideLeftArrow:!1,hideRightArrow:!1,disableLeftArrow:!1,disableRightArrow:!1}}function Gw(t,n){!t||!isNaN(t.getTime())||(t.setHours(n.getHours()),t.setMinutes(n.getMinutes()),t.setSeconds(n.getSeconds()),t.setMilliseconds(n.getMilliseconds()))}function mx(t=rx,n){switch(n.type){case ti.CALCULATE:return function FK(t){if(!t.view)return t;let n;n=t.displayOneMonthRange&&_x(t.view.date,t.minDate,t.maxDate)?1:t.displayMonths||1;let e=t.view.date;if("day"===t.view.mode&&t.monthViewOptions){t.showPreviousMonth&&t.selectedRange&&0===t.selectedRange.length&&(e=bi(e,{month:-1})),t.monthViewOptions.firstDayOfWeek=mi(t.locale).firstDayOfWeek();let i=new Array(n);for(let r=0;r<n;r++)i[r]=zw(e,t.monthViewOptions),e=bi(e,{month:1});if(t.preventChangeToNextMonth&&t.flaggedMonths&&t.hoveredDate){const r=zw(t.view.date,t.monthViewOptions);t.flaggedMonths.length&&t.flaggedMonths[1].month.getMonth()===r.month.getMonth()&&(i=t.flaggedMonths.map(s=>t.monthViewOptions?zw(s.month,t.monthViewOptions):null).filter(s=>null!==s))}return Object.assign({},t,{monthsModel:i})}if("month"===t.view.mode){const i=new Array(n);for(let r=0;r<n;r++)i[r]=fx(e,ff(t)),e=bi(e,{year:1});return Object.assign({},t,{monthsCalendar:i})}if("year"===t.view.mode){const i=new Array(n);for(let r=0;r<n;r++)i[r]=px(e,ff(t),"year"===t.minMode?sx(t,r):void 0),e=bi(e,{year:jm});return Object.assign({},t,{yearsCalendarModel:i})}return t}(t);case ti.FORMAT:return function NK(t){if(!t.view)return t;if("day"===t.view.mode&&t.monthsModel){const i=t.monthsModel.map((r,s)=>function wK(t,n,e){return{month:t.month,monthTitle:Gr(t.month,n.monthTitle,n.locale),yearTitle:Gr(t.month,n.yearTitle,n.locale),weekNumbers:CK(t.daysMatrix,n.weekNumbers,n.locale),weekdays:DK(n.locale),weeks:t.daysMatrix.map((i,r)=>({days:i.map((s,o)=>({date:s,label:Gr(s,n.dayLabel,n.locale),monthIndex:e,weekIndex:r,dayIndex:o}))})),hideLeftArrow:!1,hideRightArrow:!1,disableLeftArrow:!1,disableRightArrow:!1}}(r,ff(t),s));return Object.assign({},t,{formattedMonths:i})}const n=t.displayMonths||1;let e=t.view.date;if("month"===t.view.mode){const i=new Array(n);for(let r=0;r<n;r++)i[r]=fx(e,ff(t)),e=bi(e,{year:1});return Object.assign({},t,{monthsCalendar:i})}if("year"===t.view.mode){const i=new Array(n);for(let r=0;r<n;r++)i[r]=px(e,ff(t)),e=bi(e,{year:16});return Object.assign({},t,{yearsCalendarModel:i})}return t}(t);case ti.FLAG:return function LK(t){if(!t.view)return t;const n=_x(t.view.date,t.minDate,t.maxDate)?1:t.displayMonths;if(t.formattedMonths&&"day"===t.view.mode){const e=t.formattedMonths.map((i,r)=>function TK(t,n){return t.weeks.forEach(e=>{e.days.forEach((i,r)=>{const s=!Yu(i.date,t.month),o=!s&&ya(i.date,n.hoveredDate),a=!s&&n.selectedRange&&ya(i.date,n.selectedRange[0]),l=!s&&n.selectedRange&&ya(i.date,n.selectedRange[1]),u=!s&&ya(i.date,n.selectedDate)||a||l,c=!s&&n.selectedRange&&function SK(t,n,e){return!!(t&&n&&n[0])&&(n[1]?t>n[0]&&t<=n[1]:!!e&&t>n[0]&&t<=e)}(i.date,n.selectedRange,n.hoveredDate),d=n.isDisabled||eo(i.date,n.minDate,"day")||Ts(i.date,n.maxDate,"day")||function x9(t,n){return!(typeof n>"u"||!n||!n.length)&&n.some(e=>e===t.getDay())}(i.date,n.daysDisabled)||jw(i.date,n.datesDisabled)||Uw(i.date,n.datesEnabled),h=!s&&ya(i.date,new Date),p=n.dateCustomClasses&&n.dateCustomClasses.map(I=>ya(i.date,I.date)?I.classes:[]).reduce((I,z)=>I.concat(z),[]).join(" ")||"",v=n.dateTooltipTexts&&n.dateTooltipTexts.map(I=>ya(i.date,I.date)?I.tooltipText:"").reduce((I,z)=>(I.push(z),I),[]).join(" ")||"",k=Object.assign({},i,{isOtherMonth:s,isHovered:o,isSelected:u,isSelectionStart:a,isSelectionEnd:l,isInRange:c,isDisabled:d,isToday:h,customClasses:p,tooltipText:v});(i.isOtherMonth!==k.isOtherMonth||i.isHovered!==k.isHovered||i.isSelected!==k.isSelected||i.isSelectionStart!==k.isSelectionStart||i.isSelectionEnd!==k.isSelectionEnd||i.isDisabled!==k.isDisabled||i.isInRange!==k.isInRange||i.customClasses!==k.customClasses||i.tooltipText!==k.tooltipText)&&(e.days[r]=k)})}),t.hideLeftArrow=n.isDisabled||!!n.monthIndex&&n.monthIndex>0&&n.monthIndex!==n.displayMonths,t.hideRightArrow=n.isDisabled||(!!n.monthIndex||0===n.monthIndex)&&!!n.displayMonths&&n.monthIndex<n.displayMonths&&n.monthIndex+1!==n.displayMonths,t.disableLeftArrow=$w(bi(t.month,{month:-1}),n.minDate,n.maxDate),t.disableRightArrow=$w(bi(t.month,{month:1}),n.minDate,n.maxDate),t}(i,{isDisabled:t.isDisabled,minDate:t.minDate,maxDate:t.maxDate,daysDisabled:t.daysDisabled,datesDisabled:t.datesDisabled,datesEnabled:t.datesEnabled,hoveredDate:t.hoveredDate,selectedDate:t.selectedDate,selectedRange:t.selectedRange,displayMonths:n,dateCustomClasses:t.dateCustomClasses,dateTooltipTexts:t.dateTooltipTexts,monthIndex:r}));return Object.assign({},t,{flaggedMonths:e})}if("month"===t.view.mode&&t.monthsCalendar){const e=t.monthsCalendar.map((i,r)=>function OK(t,n){return t.months.forEach((e,i)=>{e.forEach((r,s)=>{let o;const a=Yu(r.date,n.hoveredMonth),l=n.isDisabled||jw(r.date,n.datesDisabled)||Uw(r.date,n.datesEnabled,"month")||$w(r.date,n.minDate,n.maxDate);!n.selectedDate&&n.selectedRange?(o=Yu(r.date,n.selectedRange[0]),o||(o=Yu(r.date,n.selectedRange[1]))):o=Yu(r.date,n.selectedDate);const u=Object.assign(r,{isHovered:a,isDisabled:l,isSelected:o});(r.isHovered!==u.isHovered||r.isDisabled!==u.isDisabled||r.isSelected!==u.isSelected)&&(t.months[i][s]=u)})}),t.hideLeftArrow=!!n.monthIndex&&n.monthIndex>0&&n.monthIndex!==n.displayMonths,t.hideRightArrow=(!!n.monthIndex||0===n.monthIndex)&&(!!n.displayMonths||0===n.displayMonths)&&n.monthIndex<n.displayMonths&&n.monthIndex+1!==n.displayMonths,t.disableLeftArrow=df(bi(t.months[0][0].date,{year:-1}),n.minDate,n.maxDate),t.disableRightArrow=df(bi(t.months[0][0].date,{year:1}),n.minDate,n.maxDate),t}(i,{isDisabled:t.isDisabled,minDate:t.minDate,maxDate:t.maxDate,hoveredMonth:t.hoveredMonth,selectedDate:t.selectedDate,datesDisabled:t.datesDisabled,datesEnabled:t.datesEnabled,selectedRange:t.selectedRange,displayMonths:n,monthIndex:r}));return Object.assign({},t,{flaggedMonthsCalendar:e})}if("year"===t.view.mode&&t.yearsCalendarModel){const e=t.yearsCalendarModel.map((i,r)=>function xK(t,n){t.years.forEach((r,s)=>{r.forEach((o,a)=>{let l;const u=zu(o.date,n.hoveredYear),c=n.isDisabled||jw(o.date,n.datesDisabled,"year")||Uw(o.date,n.datesEnabled,"year")||df(o.date,n.minDate,n.maxDate);!n.selectedDate&&n.selectedRange?(l=zu(o.date,n.selectedRange[0]),l||(l=zu(o.date,n.selectedRange[1]))):l=zu(o.date,n.selectedDate);const d=Object.assign(o,{isHovered:u,isDisabled:c,isSelected:l});(o.isHovered!==d.isHovered||o.isDisabled!==d.isDisabled||o.isSelected!==d.isSelected)&&(t.years[s][a]=d)})}),t.hideLeftArrow=!!n.yearIndex&&n.yearIndex>0&&n.yearIndex!==n.displayMonths,t.hideRightArrow=!!n.yearIndex&&!!n.displayMonths&&n.yearIndex<n.displayMonths&&n.yearIndex+1!==n.displayMonths,t.disableLeftArrow=df(bi(t.years[0][0].date,{year:-1}),n.minDate,n.maxDate);const e=t.years.length-1;return t.disableRightArrow=df(bi(t.years[e][t.years[e].length-1].date,{year:1}),n.minDate,n.maxDate),t}(i,{isDisabled:t.isDisabled,minDate:t.minDate,maxDate:t.maxDate,hoveredYear:t.hoveredYear,selectedDate:t.selectedDate,datesDisabled:t.datesDisabled,datesEnabled:t.datesEnabled,selectedRange:t.selectedRange,displayMonths:n,yearIndex:r}));return Object.assign({},t,{yearsCalendarFlagged:e})}return t}(t);case ti.NAVIGATE_OFFSET:return function PK(t,n){if(!t.view)return t;const e=function VK(t,n){if(t.view){if("year"===t.view.mode&&"year"===t.minMode){const e=sx(t,0);if(e){const i=bi(e,{year:-hx});return bi(i,n.payload)}}return bi(Ho(t.view.date,"month"),n.payload)}}(t,n);if(!e)return t;return Object.assign({},t,{view:{mode:t.view.mode,date:e}})}(t,n);case ti.NAVIGATE_TO:{const e=n.payload;if(!t.view||!e.unit)return t;const i=function T7(t,n){return wm(qu(t.getFullYear(),n.year),qu(t.getMonth(),n.month),1,qu(t.getHours(),n.hour),qu(t.getMinutes(),n.minute),qu(t.getSeconds(),n.seconds),qu(t.getMilliseconds(),n.milliseconds))}(t.view.date,e.unit);let r,s;return dx(e.viewMode,t.minMode)?(s=e.viewMode,r={view:{date:i,mode:s}}):(s=t.view.mode,r={selectedDate:i,view:{date:i,mode:s}}),Object.assign({},t,r)}case ti.CHANGE_VIEWMODE:return dx(n.payload,t.minMode)&&t.view?Object.assign({},t,{view:{date:t.view.date,mode:n.payload}}):t;case ti.HOVER:return Object.assign({},t,{hoveredDate:n.payload});case ti.SELECT:{if(!t.view)return t;const e={selectedDate:n.payload,view:t.view};if(Array.isArray(t.selectedTime)){const o=t.selectedTime[0];e.selectedDate&&o&&Gw(e.selectedDate,o)}const i=t.view.mode,s=Zw(n.payload||t.view.date,t.minDate,t.maxDate);return e.view={mode:i,date:s},Object.assign({},t,e)}case ti.SELECT_TIME:{const{date:e,index:i}=n.payload,r=t.selectedTime?[...t.selectedTime]:[];return r[i]=e,Object.assign({},t,{selectedTime:r})}case ti.SET_OPTIONS:{if(!t.view)return t;const e=n.payload,i=e.minMode?e.minMode:t.view.mode,s=Zw(ga(e.value)&&e.value||Mn(e.value)&&ga(e.value[0])&&e.value[0]||t.view.date,e.minDate,e.maxDate);return e.view={mode:i,date:s},e.value&&(Mn(e.value)&&(e.selectedRange=e.value,e.selectedTime=e.value.map(o=>o)),e.value instanceof Date&&(e.selectedDate=e.value,e.selectedTime=[e.value])),Object.assign({},t,e)}case ti.SELECT_RANGE:{if(!t.view)return t;const e={selectedRange:n.payload,view:t.view};e.selectedRange?.forEach((o,a)=>{if(Array.isArray(t.selectedTime)){const l=t.selectedTime[a];l&&Gw(o,l)}});const i=t.view.mode,s=Zw(n.payload&&n.payload[0]||t.view.date,t.minDate,t.maxDate);return e.view={mode:i,date:s},Object.assign({},t,e)}case ti.SET_MIN_DATE:return Object.assign({},t,{minDate:n.payload});case ti.SET_MAX_DATE:return Object.assign({},t,{maxDate:n.payload});case ti.SET_IS_DISABLED:return Object.assign({},t,{isDisabled:n.payload});case ti.SET_DATE_CUSTOM_CLASSES:return Object.assign({},t,{dateCustomClasses:n.payload});case ti.SET_DATE_TOOLTIP_TEXTS:return Object.assign({},t,{dateTooltipTexts:n.payload});default:return t}}function ff(t){return{locale:t.locale,monthTitle:t.monthTitle,yearTitle:t.yearTitle,dayLabel:t.dayLabel,monthLabel:t.monthLabel,yearLabel:t.yearLabel,weekNumbers:t.weekNumbers}}function Zw(t,n,e){const i=Array.isArray(t)?t[0]:t;return n&&Ts(n,i,"day")?n:e&&eo(e,i,"day")?e:i}function _x(t,n,e){return!(!e||!Zu(e,t,"day"))||n&&e&&n.getMonth()===e.getMonth()}let hf=(()=>{class t extends Lm{constructor(){const e=new yi({type:"[datepicker] dispatcher init"});super(e,mx,new FR(rx,e,mx))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),gx=(()=>{class t{constructor(){this.onSelect=new ke}selectFromRanges(e){this.onSelect.emit(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=$e({type:t,selectors:[["bs-custom-date-view"]],inputs:{ranges:"ranges",selectedRange:"selectedRange",customRangeLabel:"customRangeLabel"},outputs:{onSelect:"onSelect"},decls:2,vars:1,consts:[[1,"bs-datepicker-predefined-btns"],["type","button","class","btn",3,"selected","click",4,"ngFor","ngForOf"],["type","button",1,"btn",3,"click"]],template:function(e,i){1&e&&(_(0,"div",0),V(1,WZ,2,3,"button",1),g()),2&e&&(m(1),y("ngForOf",i.ranges))},dependencies:[Ei],encapsulation:2,changeDetection:0}),t})();var Ca=(()=>(function(t){t[t.UP=0]="UP",t[t.DOWN=1]="DOWN"}(Ca||(Ca={})),Ca))();let ic,BK=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=$e({type:t,selectors:[["bs-current-date"]],inputs:{title:"title"},decls:3,vars:1,consts:[[1,"current-timedate"]],template:function(e,i){1&e&&(_(0,"div",0)(1,"span"),M(2),g()()),2&e&&(m(2),it(i.title))},encapsulation:2}),t})(),HK=(()=>{class t{constructor(){this.ampm="ok",this.hours=0,this.minutes=0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=$e({type:t,selectors:[["bs-timepicker"]],decls:16,vars:3,consts:[[1,"bs-timepicker-container"],[1,"bs-timepicker-controls"],["type","button",1,"bs-decrease"],["type","text","placeholder","00",3,"value"],["type","button",1,"bs-increase"],["type","button",1,"switch-time-format"],["src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAKCAYAAABi8KSDAAABSElEQVQYV3XQPUvDUBQG4HNuagtVqc6KgouCv6GIuIntYBLB9hcIQpLStCAIV7DYmpTcRWcXqZio3Vwc/UCc/QEqfgyKGbr0I7nS1EiHeqYzPO/h5SD0jaxUZjmSLCB+OFb+UFINFwASAEAdpu9gaGXVyAHHFQBkHpKHc6a9dzECvADyY9sqlAMsK9W0jzxDXqeytr3mhQckxSji27TJJ5/rPmIpwJJq3HrtduriYOurv1a4i1p5HnhkG9OFymi0ReoO05cGwb+ayv4dysVygjeFmsP05f8wpZQ8fsdvfmuY9zjWSNqUtgYFVnOVReILYoBFzdQI5/GGFzNHhGbeZnopDGU29sZbscgldmC99w35VOATTycIMMcBXIfpSVGzZhA6C8hh00conln6VQ9TGgV32OEAKQC4DrBq7CJwd0ggR7Vq/rPrfgB+C3sGypY5DAAAAABJRU5ErkJggg==","alt",""]],template:function(e,i){1&e&&(_(0,"div",0)(1,"div",1)(2,"button",2),M(3,"-"),g(),Ae(4,"input",3),_(5,"button",4),M(6,"+"),g()(),_(7,"div",1)(8,"button",2),M(9,"-"),g(),Ae(10,"input",3),_(11,"button",4),M(12,"+"),g()(),_(13,"button",5),M(14),Ae(15,"img",6),g()()),2&e&&(m(4),y("value",i.hours),m(6),y("value",i.minutes),m(4),qt("",i.ampm," "))},encapsulation:2}),t})(),Qw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=$e({type:t,selectors:[["bs-calendar-layout"]],ngContentSelectors:KZ,decls:6,vars:2,consts:[["title","hey there",4,"ngIf"],[1,"bs-datepicker-head"],[1,"bs-datepicker-body"],[4,"ngIf"],["title","hey there"]],template:function(e,i){1&e&&(Hc(QZ),V(0,GZ,1,0,"bs-current-date",0),_(1,"div",1),ou(2),g(),_(3,"div",2),ou(4,1),g(),V(5,ZZ,1,0,"bs-timepicker",3)),2&e&&(y("ngIf",!1),m(5),y("ngIf",!1))},dependencies:[Jt,BK,HK],encapsulation:2}),t})(),$K=(()=>{class t{constructor(e,i,r){this._config=e,this._elRef=i,this._renderer=r,this.day={date:new Date,label:""}}ngOnInit(){this.day?.isToday&&this._config&&this._config.customTodayClass&&this._renderer.addClass(this._elRef.nativeElement,this._config.customTodayClass),"string"==typeof this.day?.customClasses&&this.day?.customClasses.split(" ").filter(e=>e).forEach(e=>{this._renderer.addClass(this._elRef.nativeElement,e)})}}return t.\u0275fac=function(e){return new(e||t)(T(Uo),T(zt),T(Tn))},t.\u0275cmp=$e({type:t,selectors:[["","bsDatepickerDayDecorator",""]],hostVars:16,hostBindings:function(e,i){2&e&&st("disabled",i.day.isDisabled)("is-highlighted",i.day.isHovered)("is-other-month",i.day.isOtherMonth)("is-active-other-month",i.day.isOtherMonthHovered)("in-range",i.day.isInRange)("select-start",i.day.isSelectionStart)("select-end",i.day.isSelectionEnd)("selected",i.day.isSelected)},inputs:{day:"day"},attrs:JZ,decls:1,vars:1,template:function(e,i){1&e&&M(0),2&e&&it(i.day&&i.day.label||"")},encapsulation:2,changeDetection:0}),t})(),Kw=(()=>{class t{constructor(){this.isDisabled=!1,this.onNavigate=new ke,this.onViewMode=new ke}navTo(e){this.onNavigate.emit(e?Ca.DOWN:Ca.UP)}view(e){this.isDisabled||this.onViewMode.emit(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=$e({type:t,selectors:[["bs-datepicker-navigation-view"]],inputs:{calendar:"calendar",isDisabled:"isDisabled"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode"},decls:12,vars:9,consts:[["type","button",1,"previous",3,"disabled","click"],[4,"ngIf"],["type","button",1,"current",3,"disabled","click"],["type","button",1,"next",3,"disabled","click"]],template:function(e,i){1&e&&(_(0,"button",0),N("click",function(){return i.navTo(!0)}),_(1,"span"),M(2,"\u2039"),g()(),V(3,XZ,5,2,"ng-container",1),M(4," \u200b "),_(5,"button",2),N("click",function(){return i.view("year")}),_(6,"span"),M(7),g()(),M(8," \u200b "),_(9,"button",3),N("click",function(){return i.navTo(!1)}),_(10,"span"),M(11,"\u203a"),g()()),2&e&&(go("visibility",i.calendar.hideLeftArrow?"hidden":"visible"),y("disabled",i.calendar.disableLeftArrow),m(3),y("ngIf",i.calendar&&i.calendar.monthTitle),m(2),y("disabled",i.isDisabled),m(2),it(i.calendar.yearTitle),m(2),go("visibility",i.calendar.hideRightArrow?"hidden":"visible"),y("disabled",i.calendar.disableRightArrow))},dependencies:[Jt],encapsulation:2,changeDetection:0}),t})(),yx=(()=>{class t{constructor(e){this._config=e,this.onNavigate=new ke,this.onViewMode=new ke,this.onSelect=new ke,this.onHover=new ke,this.onHoverWeek=new ke,this.isiOS=/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,this._config.dateTooltipTexts&&this._config.dateTooltipTexts.length>0&&(this.isShowTooltip=!0)}navigateTo(e){this.onNavigate.emit({step:{month:Ca.DOWN===e?-1:1}})}changeViewMode(e){this.onViewMode.emit(e)}selectDay(e){this.onSelect.emit(e)}selectWeek(e){if(!this._config.selectWeek&&!this._config.selectWeekDateRange||0===e.days.length)return;if(this._config.selectWeek&&e.days[0]&&!e.days[0].isDisabled&&this._config.selectFromOtherMonth)return void this.onSelect.emit(e.days[0]);const i=e.days.find(r=>(this._config.selectFromOtherMonth||!r.isOtherMonth)&&!r.isDisabled);if(this.onSelect.emit(i),this._config.selectWeekDateRange){const s=e.days.slice(0).reverse().find(o=>(this._config.selectFromOtherMonth||!o.isOtherMonth)&&!o.isDisabled);this.onSelect.emit(s)}}weekHoverHandler(e,i){(this._config.selectWeek||this._config.selectWeekDateRange)&&e.days.find(s=>(this._config.selectFromOtherMonth||!s.isOtherMonth)&&!s.isDisabled)&&(e.isHovered=i,this.isWeekHovered=i,this.onHoverWeek.emit(e))}hoverDay(e,i){this._config.selectFromOtherMonth&&e.isOtherMonth&&(e.isOtherMonthHovered=i),this._config.dateTooltipTexts&&(e.tooltipText="",this._config.dateTooltipTexts.forEach(r=>{ya(r.date,e.date)&&(e.tooltipText=r.tooltipText)})),this.onHover.emit({cell:e,isHovered:i})}}return t.\u0275fac=function(e){return new(e||t)(T(Uo))},t.\u0275cmp=$e({type:t,selectors:[["bs-days-calendar-view"]],inputs:{calendar:"calendar",options:"options",isDisabled:"isDisabled"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover",onHoverWeek:"onHoverWeek"},decls:9,vars:5,consts:[[3,"calendar","isDisabled","onNavigate","onViewMode"],["role","grid",1,"days","weeks"],[4,"ngIf"],["aria-label","weekday",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["aria-label","weekday"],["class","week",3,"active-week",4,"ngIf"],["role","gridcell",4,"ngFor","ngForOf"],[1,"week"],[3,"click",4,"ngIf"],[3,"click","mouseenter","mouseleave",4,"ngIf"],[3,"click"],[3,"click","mouseenter","mouseleave"],["role","gridcell"],["bsDatepickerDayDecorator","",3,"day","tooltip","click","mouseenter","mouseleave",4,"ngIf"],["bsDatepickerDayDecorator","",3,"day","click","mouseenter","mouseleave",4,"ngIf"],["bsDatepickerDayDecorator","",3,"day","click",4,"ngIf"],["bsDatepickerDayDecorator","",3,"day","tooltip","click","mouseenter","mouseleave"],["bsDatepickerDayDecorator","",3,"day","click","mouseenter","mouseleave"],["bsDatepickerDayDecorator","",3,"day","click"]],template:function(e,i){1&e&&(_(0,"bs-calendar-layout")(1,"bs-datepicker-navigation-view",0),N("onNavigate",function(s){return i.navigateTo(s)})("onViewMode",function(s){return i.changeViewMode(s)}),g(),_(2,"table",1)(3,"thead")(4,"tr"),V(5,eQ,1,0,"th",2),V(6,tQ,2,1,"th",3),g()(),_(7,"tbody"),V(8,uQ,3,2,"tr",4),g()()()),2&e&&(m(1),y("calendar",i.calendar)("isDisabled",!!i.isDisabled),m(4),y("ngIf",i.options&&i.options.showWeekNumbers),m(1),y("ngForOf",i.calendar.weekdays),m(2),y("ngForOf",i.calendar.weeks))},dependencies:[Ei,Jt,gA,Qw,$K,Kw],encapsulation:2}),t})(),vx=(()=>{class t{constructor(){this.onNavigate=new ke,this.onViewMode=new ke,this.onSelect=new ke,this.onHover=new ke}navigateTo(e){this.onNavigate.emit({step:{year:Ca.DOWN===e?-1:1}})}viewMonth(e){this.onSelect.emit(e)}hoverMonth(e,i){this.onHover.emit({cell:e,isHovered:i})}changeViewMode(e){this.onViewMode.emit(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=$e({type:t,selectors:[["bs-month-calendar-view"]],inputs:{calendar:"calendar"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover"},decls:5,vars:2,consts:[[3,"calendar","onNavigate","onViewMode"],["role","grid",1,"months"],[4,"ngFor","ngForOf"],["role","gridcell",3,"disabled","is-highlighted","click","mouseenter","mouseleave",4,"ngFor","ngForOf"],["role","gridcell",3,"click","mouseenter","mouseleave"]],template:function(e,i){1&e&&(_(0,"bs-calendar-layout")(1,"bs-datepicker-navigation-view",0),N("onNavigate",function(s){return i.navigateTo(s)})("onViewMode",function(s){return i.changeViewMode(s)}),g(),_(2,"table",1)(3,"tbody"),V(4,dQ,2,1,"tr",2),g()()()),2&e&&(m(1),y("calendar",i.calendar),m(3),y("ngForOf",null==i.calendar?null:i.calendar.months))},dependencies:[Ei,Qw,Kw],encapsulation:2}),t})(),bx=(()=>{class t{constructor(){this.onNavigate=new ke,this.onViewMode=new ke,this.onSelect=new ke,this.onHover=new ke}navigateTo(e){this.onNavigate.emit({step:{year:(Ca.DOWN===e?-1:1)*jm}})}viewYear(e){this.onSelect.emit(e)}hoverYear(e,i){this.onHover.emit({cell:e,isHovered:i})}changeViewMode(e){this.onViewMode.emit(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=$e({type:t,selectors:[["bs-years-calendar-view"]],inputs:{calendar:"calendar"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover"},decls:5,vars:2,consts:[[3,"calendar","onNavigate","onViewMode"],["role","grid",1,"years"],[4,"ngFor","ngForOf"],["role","gridcell",3,"disabled","is-highlighted","click","mouseenter","mouseleave",4,"ngFor","ngForOf"],["role","gridcell",3,"click","mouseenter","mouseleave"]],template:function(e,i){1&e&&(_(0,"bs-calendar-layout")(1,"bs-datepicker-navigation-view",0),N("onNavigate",function(s){return i.navigateTo(s)})("onViewMode",function(s){return i.changeViewMode(s)}),g(),_(2,"table",1)(3,"tbody"),V(4,hQ,2,1,"tr",2),g()()()),2&e&&(m(1),y("calendar",i.calendar),m(3),y("ngForOf",null==i.calendar?null:i.calendar.years))},dependencies:[Ei,Qw,Kw],encapsulation:2}),t})(),jK=(()=>{class t extends ix{constructor(e,i,r,s,o,a,l){super(),this._config=i,this._store=r,this._element=s,this._actions=o,this._positionService=l,this.valueChange=new ke,this.animationState="void",this.isRangePicker=!1,this._subs=[],this._effects=a,e.setStyle(s.nativeElement,"display","block"),e.setStyle(s.nativeElement,"position","absolute")}set value(e){this._effects?.setValue(e)}get isDatePickerDisabled(){return!!this._config.isDisabled}get isDatepickerDisabled(){return this.isDatePickerDisabled?"":null}get isDatepickerReadonly(){return this.isDatePickerDisabled?"":null}ngOnInit(){let e;this._positionService.setOptions({modifiers:{flip:{enabled:this._config.adaptivePosition},preventOverflow:{enabled:this._config.adaptivePosition}},allowedPositions:this._config.allowedPositions}),this._positionService.event$?.pipe(To(1)).subscribe(()=>{this._positionService.disable(),this.animationState=this._config.isAnimated?this.isTopPosition?"animated-up":"animated-down":"unanimated"}),this.isOtherMonthsActive=this._config.selectFromOtherMonth,this.containerClass=this._config.containerClass,this.showTodayBtn=this._config.showTodayButton,this.todayBtnLbl=this._config.todayButtonLabel,this.todayPos=this._config.todayPosition,this.showClearBtn=this._config.showClearButton,this.clearBtnLbl=this._config.clearButtonLabel,this.clearPos=this._config.clearPosition,this.customRangeBtnLbl=this._config.customRangeButtonLabel,this.withTimepicker=this._config.withTimepicker,this._effects?.init(this._store).setOptions(this._config).setBindings(this).setEventHandlers(this).registerDatepickerSideEffects(),this._subs.push(this._store.select(i=>i.selectedDate).subscribe(i=>{e=i,this.valueChange.emit(i)})),this._subs.push(this._store.select(i=>i.selectedTime).subscribe(i=>{!i[0]||!(i[0]instanceof Date)||i[0]===e||this.valueChange.emit(i[0])})),this._store.dispatch(this._actions.changeViewMode(this._config.startView))}ngAfterViewInit(){this.selectedTimeSub.add(this.selectedTime?.subscribe(e=>{Array.isArray(e)&&e.length>=1&&this.startTimepicker?.writeValue(e[0])})),this.startTimepicker?.registerOnChange(e=>{this.timeSelectHandler(e,0)})}get isTopPosition(){return this._element.nativeElement.classList.contains("top")}positionServiceEnable(){this._positionService.enable()}timeSelectHandler(e,i){this._store.dispatch(this._actions.selectTime(e,i))}daySelectHandler(e){!e||(this.isOtherMonthsActive?e.isDisabled:e.isOtherMonth||e.isDisabled)||this._store.dispatch(this._actions.select(e.date))}monthSelectHandler(e){!e||e.isDisabled||this._store.dispatch(this._actions.navigateTo({unit:{month:Ot(e.date),year:Rn(e.date)},viewMode:"day"}))}yearSelectHandler(e){!e||e.isDisabled||this._store.dispatch(this._actions.navigateTo({unit:{year:Rn(e.date)},viewMode:"month"}))}setToday(){this._store.dispatch(this._actions.select(new Date))}clearDate(){this._store.dispatch(this._actions.select(void 0))}ngOnDestroy(){for(const e of this._subs)e.unsubscribe();this.selectedTimeSub.unsubscribe(),this._effects?.destroy()}}return t.\u0275fac=function(e){return new(e||t)(T(Tn),T(Uo),T(hf),T(zt),T(ti),T(cf),T(Ao))},t.\u0275cmp=$e({type:t,selectors:[["bs-datepicker-container"]],viewQuery:function(e,i){if(1&e&&pe(ex,5),2&e){let r;de(r=fe())&&(i.startTimepicker=r.first)}},hostAttrs:["role","dialog","aria-label","calendar",1,"bottom"],hostVars:2,hostBindings:function(e,i){1&e&&N("click",function(s){return i._stopPropagation(s)}),2&e&&zn("disabled",i.isDatepickerDisabled)("readonly",i.isDatepickerReadonly)},features:[Kt([hf,cf]),_t],decls:2,vars:3,consts:[["class","bs-datepicker",3,"ngClass",4,"ngIf"],[1,"bs-datepicker",3,"ngClass"],[1,"bs-datepicker-container"],["role","application",1,"bs-calendar-container",3,"ngSwitch"],[4,"ngSwitchCase"],["class","bs-media-container",4,"ngSwitchCase"],["class","bs-datepicker-buttons",4,"ngIf"],["class","bs-datepicker-custom-range",4,"ngIf"],[1,"bs-media-container"],[3,"bs-datepicker-multiple","calendar","isDisabled","options","onNavigate","onViewMode","onHover","onHoverWeek","onSelect",4,"ngFor","ngForOf"],["class","bs-timepicker-in-datepicker-container",4,"ngIf"],[3,"calendar","isDisabled","options","onNavigate","onViewMode","onHover","onHoverWeek","onSelect"],[1,"bs-timepicker-in-datepicker-container"],[3,"disabled"],["startTP",""],[3,"disabled",4,"ngIf"],["endTP",""],[3,"bs-datepicker-multiple","calendar","onNavigate","onViewMode","onHover","onSelect",4,"ngFor","ngForOf"],[3,"calendar","onNavigate","onViewMode","onHover","onSelect"],[1,"bs-datepicker-buttons"],["type","button",1,"btn","btn-success"],["type","button",1,"btn","btn-default"],["class","btn-today-wrapper",3,"today-left","today-right","today-center",4,"ngIf"],["class","btn-clear-wrapper",3,"clear-left","clear-right","clear-center",4,"ngIf"],[1,"btn-today-wrapper"],[1,"btn","btn-success",3,"click"],[1,"btn-clear-wrapper"],[1,"bs-datepicker-custom-range"],[3,"selectedRange","ranges","customRangeLabel","onSelect"]],template:function(e,i){1&e&&(V(0,MQ,10,11,"div",0),dr(1,"async")),2&e&&y("ngIf",fr(1,1,i.viewMode))},dependencies:[Uh,Ei,Jt,ed,Ky,Hm,gx,yx,vx,bx,Jy],encapsulation:2,data:{animation:[nx]}}),t})(),wx=(()=>{class t{constructor(e,i,r,s,o){this._config=e,this._elementRef=i,this._renderer=r,this.placement="bottom",this.triggers="click",this.outsideClick=!0,this.container="body",this.outsideEsc=!0,this.isDestroy$=new It,this.isDisabled=!1,this.bsValueChange=new ke,this._subs=[],this._dateInputFormat$=new It,Object.assign(this,this._config),this._datepicker=o.createLoader(i,s,r),this.onShown=this._datepicker.onShown,this.onHidden=this._datepicker.onHidden,this.isOpen$=new yi(this.isOpen)}get readonlyValue(){return this.isDisabled?"":null}get isOpen(){return this._datepicker.isShown}set isOpen(e){this.isOpen$.next(e)}set bsValue(e){this._bsValue&&e&&this._bsValue.getTime()===e.getTime()||(!this._bsValue&&e&&!this._config.withTimepicker&&Gw(e,new Date),e&&this.bsConfig?.initCurrentTime&&(e=lx(e)),this.initPreviousValue(),this._bsValue=e,this.bsValueChange.emit(e))}get dateInputFormat$(){return this._dateInputFormat$}ngOnInit(){this._datepicker.listen({outsideClick:this.outsideClick,outsideEsc:this.outsideEsc,triggers:this.triggers,show:()=>this.show()}),this.setConfig(),this.initPreviousValue()}initPreviousValue(){ic=this._bsValue}ngOnChanges(e){e.bsConfig&&(e.bsConfig.currentValue?.initCurrentTime&&e.bsConfig.currentValue?.initCurrentTime!==e.bsConfig.previousValue?.initCurrentTime&&this._bsValue&&(this.initPreviousValue(),this._bsValue=lx(this._bsValue),this.bsValueChange.emit(this._bsValue)),this.setConfig(),this._dateInputFormat$.next(this.bsConfig&&this.bsConfig.dateInputFormat)),this._datepickerRef&&this._datepickerRef.instance&&(e.minDate&&(this._datepickerRef.instance.minDate=this.minDate),e.maxDate&&(this._datepickerRef.instance.maxDate=this.maxDate),e.daysDisabled&&(this._datepickerRef.instance.daysDisabled=this.daysDisabled),e.datesDisabled&&(this._datepickerRef.instance.datesDisabled=this.datesDisabled),e.datesEnabled&&(this._datepickerRef.instance.datesEnabled=this.datesEnabled),e.isDisabled&&(this._datepickerRef.instance.isDisabled=this.isDisabled),e.dateCustomClasses&&(this._datepickerRef.instance.dateCustomClasses=this.dateCustomClasses),e.dateTooltipTexts&&(this._datepickerRef.instance.dateTooltipTexts=this.dateTooltipTexts))}initSubscribes(){this._subs.push(this.bsValueChange.subscribe(e=>{this._datepickerRef&&(this._datepickerRef.instance.value=e)})),this._datepickerRef&&this._subs.push(this._datepickerRef.instance.valueChange.subscribe(e=>{this.initPreviousValue(),this.bsValue=e,!this.keepDatepickerModalOpened()&&this.hide()}))}keepDatepickerModalOpened(){return!!(ic&&this.bsConfig?.keepDatepickerOpened&&this._config.withTimepicker)&&this.isDateSame()}isDateSame(){return ic instanceof Date&&this._bsValue?.getDate()===ic?.getDate()&&this._bsValue?.getMonth()===ic?.getMonth()&&this._bsValue?.getFullYear()===ic?.getFullYear()}ngAfterViewInit(){this.isOpen$.pipe(Sn(e=>e!==this.isOpen),AA(this.isDestroy$)).subscribe(()=>this.toggle())}show(){this._datepicker.isShown||(this.setConfig(),this._datepickerRef=this._datepicker.provide({provide:Uo,useValue:this._config}).attach(jK).to(this.container).position({attachment:this.placement}).show({placement:this.placement}),this.initSubscribes())}hide(){this.isOpen&&this._datepicker.hide();for(const e of this._subs)e.unsubscribe();this._config.returnFocusToInput&&this._renderer.selectRootElement(this._elementRef.nativeElement).focus()}toggle(){if(this.isOpen)return this.hide();this.show()}setConfig(){this._config=Object.assign({},this._config,this.bsConfig,{value:ox(this._bsValue,this.maxDate||this.bsConfig&&this.bsConfig.maxDate),isDisabled:this.isDisabled,minDate:this.minDate||this.bsConfig&&this.bsConfig.minDate,maxDate:this.maxDate||this.bsConfig&&this.bsConfig.maxDate,daysDisabled:this.daysDisabled||this.bsConfig&&this.bsConfig.daysDisabled,dateCustomClasses:this.dateCustomClasses||this.bsConfig&&this.bsConfig.dateCustomClasses,dateTooltipTexts:this.dateTooltipTexts||this.bsConfig&&this.bsConfig.dateTooltipTexts,datesDisabled:this.datesDisabled||this.bsConfig&&this.bsConfig.datesDisabled,datesEnabled:this.datesEnabled||this.bsConfig&&this.bsConfig.datesEnabled,minMode:this.minMode||this.bsConfig&&this.bsConfig.minMode,initCurrentTime:this.bsConfig?.initCurrentTime,keepDatepickerOpened:this.bsConfig?.keepDatepickerOpened})}unsubscribeSubscriptions(){this._subs?.length&&(this._subs.map(e=>e.unsubscribe()),this._subs.length=0)}ngOnDestroy(){this._datepicker.dispose(),this.isOpen$.next(!1),this.isDestroy$&&(this.isDestroy$.next(null),this.isDestroy$.complete()),this.unsubscribeSubscriptions()}}return t.\u0275fac=function(e){return new(e||t)(T(Uo),T(zt),T(Tn),T(Mi),T(Ys))},t.\u0275dir=Ve({type:t,selectors:[["","bsDatepicker",""]],hostVars:1,hostBindings:function(e,i){2&e&&zn("readonly",i.readonlyValue)},inputs:{placement:"placement",triggers:"triggers",outsideClick:"outsideClick",container:"container",outsideEsc:"outsideEsc",isDisabled:"isDisabled",minDate:"minDate",maxDate:"maxDate",minMode:"minMode",daysDisabled:"daysDisabled",datesDisabled:"datesDisabled",datesEnabled:"datesEnabled",dateCustomClasses:"dateCustomClasses",dateTooltipTexts:"dateTooltipTexts",isOpen:"isOpen",bsValue:"bsValue",bsConfig:"bsConfig"},outputs:{onShown:"onShown",onHidden:"onHidden",bsValueChange:"bsValueChange"},exportAs:["bsDatepicker"],features:[Hi]}),t})(),UK=(()=>{class t extends ix{constructor(e,i,r,s,o,a,l){super(),this._config=i,this._store=r,this._element=s,this._actions=o,this._positionService=l,this.valueChange=new ke,this.animationState="void",this._rangeStack=[],this.chosenRange=[],this._subs=[],this.isRangePicker=!0,this._effects=a,this.customRanges=this._config.ranges||[],this.customRangeBtnLbl=this._config.customRangeButtonLabel,e.setStyle(s.nativeElement,"display","block"),e.setStyle(s.nativeElement,"position","absolute")}set value(e){this._effects?.setRangeValue(e)}get isDatePickerDisabled(){return!!this._config.isDisabled}get isDatepickerDisabled(){return this.isDatePickerDisabled?"":null}get isDatepickerReadonly(){return this.isDatePickerDisabled?"":null}ngOnInit(){let e;this._positionService.setOptions({modifiers:{flip:{enabled:this._config.adaptivePosition},preventOverflow:{enabled:this._config.adaptivePosition}},allowedPositions:this._config.allowedPositions}),this._positionService.event$?.pipe(To(1)).subscribe(()=>{this._positionService.disable(),this.animationState=this._config.isAnimated?this.isTopPosition?"animated-up":"animated-down":"unanimated"}),this.containerClass=this._config.containerClass,this.isOtherMonthsActive=this._config.selectFromOtherMonth,this.withTimepicker=this._config.withTimepicker,this._effects?.init(this._store).setOptions(this._config).setBindings(this).setEventHandlers(this).registerDatepickerSideEffects(),this._subs.push(this._store.select(i=>i.selectedRange).subscribe(i=>{e=i,this.valueChange.emit(i),this.chosenRange=i||[]})),this._subs.push(this._store.select(i=>i.selectedTime).subscribe(i=>{!i[0]||!i[1]||!(i[0]instanceof Date)||!(i[1]instanceof Date)||e&&i[0]===e[0]&&i[1]===e[1]||(this.valueChange.emit(i),this.chosenRange=i||[])}))}ngAfterViewInit(){this.selectedTimeSub.add(this.selectedTime?.subscribe(e=>{Array.isArray(e)&&e.length>=2&&(this.startTimepicker?.writeValue(e[0]),this.endTimepicker?.writeValue(e[1]))})),this.startTimepicker?.registerOnChange(e=>{this.timeSelectHandler(e,0)}),this.endTimepicker?.registerOnChange(e=>{this.timeSelectHandler(e,1)})}get isTopPosition(){return this._element.nativeElement.classList.contains("top")}positionServiceEnable(){this._positionService.enable()}timeSelectHandler(e,i){this._store.dispatch(this._actions.selectTime(e,i))}daySelectHandler(e){!e||(this.isOtherMonthsActive?e.isDisabled:e.isOtherMonth||e.isDisabled)||this.rangesProcessing(e)}monthSelectHandler(e){if(e&&!e.isDisabled){if(e.isSelected=!0,"month"!==this._config.minMode){if(e.isDisabled)return;return void this._store.dispatch(this._actions.navigateTo({unit:{month:Ot(e.date),year:Rn(e.date)},viewMode:"day"}))}this.rangesProcessing(e)}}yearSelectHandler(e){if(e&&!e.isDisabled){if(e.isSelected=!0,"year"!==this._config.minMode){if(e.isDisabled)return;return void this._store.dispatch(this._actions.navigateTo({unit:{year:Rn(e.date)},viewMode:"month"}))}this.rangesProcessing(e)}}rangesProcessing(e){1===this._rangeStack.length&&(this._rangeStack=e.date>=this._rangeStack[0]?[this._rangeStack[0],e.date]:[e.date]),this._config.maxDateRange&&this.setMaxDateRangeOnCalendar(e.date),0===this._rangeStack.length&&(this._rangeStack=[e.date],this._config.maxDateRange&&this.setMaxDateRangeOnCalendar(e.date)),this._store.dispatch(this._actions.selectRange(this._rangeStack)),2===this._rangeStack.length&&(this._rangeStack=[])}ngOnDestroy(){for(const e of this._subs)e.unsubscribe();this.selectedTimeSub.unsubscribe(),this._effects?.destroy()}setRangeOnCalendar(e){e&&(this._rangeStack=e.value instanceof Date?[e.value]:e.value),this._store.dispatch(this._actions.selectRange(this._rangeStack))}setMaxDateRangeOnCalendar(e){let i=new Date(e);if(this._config.maxDate){const r=this._config.maxDate.getTime(),s=e.getTime()+864e5*(this._config.maxDateRange||0);i=s>r?new Date(this._config.maxDate):new Date(s)}else i.setDate(e.getDate()+(this._config.maxDateRange||0));this._effects?.setMaxDate(i)}}return t.\u0275fac=function(e){return new(e||t)(T(Tn),T(Uo),T(hf),T(zt),T(ti),T(cf),T(Ao))},t.\u0275cmp=$e({type:t,selectors:[["bs-daterangepicker-container"]],viewQuery:function(e,i){if(1&e&&(pe(ex,5),pe($Q,5)),2&e){let r;de(r=fe())&&(i.startTimepicker=r.first),de(r=fe())&&(i.endTimepicker=r.first)}},hostAttrs:["role","dialog","aria-label","calendar",1,"bottom"],hostVars:2,hostBindings:function(e,i){1&e&&N("click",function(s){return i._stopPropagation(s)}),2&e&&zn("disabled",i.isDatepickerDisabled)("readonly",i.isDatepickerReadonly)},features:[Kt([hf,cf]),_t],decls:2,vars:3,consts:[["class","bs-datepicker",3,"ngClass",4,"ngIf"],[1,"bs-datepicker",3,"ngClass"],[1,"bs-datepicker-container"],["role","application",1,"bs-calendar-container",3,"ngSwitch"],[4,"ngSwitchCase"],["class","bs-media-container",4,"ngSwitchCase"],["class","bs-datepicker-buttons",4,"ngIf"],["class","bs-datepicker-custom-range",4,"ngIf"],[1,"bs-media-container"],[3,"bs-datepicker-multiple","calendar","isDisabled","options","onNavigate","onViewMode","onHover","onHoverWeek","onSelect",4,"ngFor","ngForOf"],["class","bs-timepicker-in-datepicker-container",4,"ngIf"],[3,"calendar","isDisabled","options","onNavigate","onViewMode","onHover","onHoverWeek","onSelect"],[1,"bs-timepicker-in-datepicker-container"],[3,"disabled"],["startTP",""],[3,"disabled",4,"ngIf"],["endTP",""],[3,"bs-datepicker-multiple","calendar","onNavigate","onViewMode","onHover","onSelect",4,"ngFor","ngForOf"],[3,"calendar","onNavigate","onViewMode","onHover","onSelect"],[1,"bs-datepicker-buttons"],["type","button",1,"btn","btn-success"],["type","button",1,"btn","btn-default"],["class","btn-today-wrapper",3,"today-left","today-right","today-center",4,"ngIf"],["class","btn-clear-wrapper",3,"clear-left","clear-right","clear-center",4,"ngIf"],[1,"btn-today-wrapper"],[1,"btn","btn-success",3,"click"],[1,"btn-clear-wrapper"],[1,"bs-datepicker-custom-range"],[3,"selectedRange","ranges","customRangeLabel","onSelect"]],template:function(e,i){1&e&&(V(0,tK,10,11,"div",0),dr(1,"async")),2&e&&y("ngIf",fr(1,1,i.viewMode))},dependencies:[Uh,Ei,Jt,ed,Ky,Hm,gx,yx,vx,bx,Jy],encapsulation:2,data:{animation:[nx]}}),t})();const YK={provide:kr,useExisting:Ut(()=>Jw),multi:!0},zK={provide:gi,useExisting:Ut(()=>Jw),multi:!0};let Da,Jw=(()=>{class t{constructor(e,i,r,s,o){this._picker=e,this._localeService=i,this._renderer=r,this._elRef=s,this.changeDetection=o,this._onChange=Function.prototype,this._onTouched=Function.prototype,this._validatorChange=Function.prototype,this._subs=new ve}ngOnInit(){const e=i=>{this._setInputValue(i),this._value!==i&&(this._value=i,this._onChange(i),this._onTouched()),this.changeDetection.markForCheck()};this._picker._bsValue&&e(this._picker._bsValue),this._subs.add(this._picker.bsValueChange.subscribe(e)),this._subs.add(this._localeService.localeChange.subscribe(()=>{this._setInputValue(this._value)})),this._subs.add(this._picker.dateInputFormat$.pipe(tw()).subscribe(()=>{this._setInputValue(this._value)}))}ngOnDestroy(){this._subs.unsubscribe()}onKeydownEvent(e){(13===e.keyCode||"Enter"===e.code)&&this.hide()}_setInputValue(e){const i=e?Gr(e,this._picker._config.dateInputFormat,this._localeService.currentLocale):"";this._renderer.setProperty(this._elRef.nativeElement,"value",i)}onChange(e){this.writeValue(e.target.value),this._onChange(this._value),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus(),this._onTouched()}validate(e){const i=e.value;if(null==i||""===i)return null;if(vm(i)){if(!ga(i))return{bsDate:{invalid:i}};if(this._picker&&this._picker.minDate&&eo(i,this._picker.minDate,"date"))return this.writeValue(this._picker.minDate),{bsDate:{minDate:this._picker.minDate}};if(this._picker&&this._picker.maxDate&&Ts(i,this._picker.maxDate,"date"))return this.writeValue(this._picker.maxDate),{bsDate:{maxDate:this._picker.maxDate}}}return null}registerOnValidatorChange(e){this._validatorChange=e}writeValue(e){if(e){const i=this._localeService.currentLocale;if(!mi(i))throw new Error(`Locale "${i}" is not defined, please add it with "defineLocale(...)"`);this._value=rf(e,this._picker._config.dateInputFormat,this._localeService.currentLocale),this._picker._config.useUtc&&(this._value=cR(this._value))}else this._value=void 0;this._picker.bsValue=this._value}setDisabledState(e){this._picker.isDisabled=e,e?this._renderer.setAttribute(this._elRef.nativeElement,"disabled","disabled"):this._renderer.removeAttribute(this._elRef.nativeElement,"disabled")}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}onBlur(){this._onTouched()}hide(){this._picker.hide(),this._renderer.selectRootElement(this._elRef.nativeElement).blur(),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus()}}return t.\u0275fac=function(e){return new(e||t)(T(wx,1),T($m),T(Tn),T(zt),T(bo))},t.\u0275dir=Ve({type:t,selectors:[["input","bsDatepicker",""]],hostBindings:function(e,i){1&e&&N("change",function(s){return i.onChange(s)})("keyup.esc",function(){return i.hide()})("keydown",function(s){return i.onKeydownEvent(s)})("blur",function(){return i.onBlur()})},features:[Kt([YK,zK])]}),t})(),qK=(()=>{class t extends Uo{constructor(){super(...arguments),this.displayMonths=2}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),WK=(()=>{class t{constructor(e,i,r,s,o){this._config=e,this._elementRef=i,this._renderer=r,this.placement="bottom",this.triggers="click",this.outsideClick=!0,this.container="body",this.outsideEsc=!0,this.isDestroy$=new It,this.isDisabled=!1,this.bsValueChange=new ke,this._subs=[],this._rangeInputFormat$=new It,this._datepicker=o.createLoader(i,s,r),Object.assign(this,e),this.onShown=this._datepicker.onShown,this.onHidden=this._datepicker.onHidden,this.isOpen$=new yi(this.isOpen)}get isOpen(){return this._datepicker.isShown}set isOpen(e){this.isOpen$.next(e)}set bsValue(e){this._bsValue!==e&&(e&&this.bsConfig?.initCurrentTime&&(e=ux(e)),this.initPreviousValue(),this._bsValue=e,this.bsValueChange.emit(e))}get isDatepickerReadonly(){return this.isDisabled?"":null}get rangeInputFormat$(){return this._rangeInputFormat$}ngOnInit(){this.isDestroy$=new It,this._datepicker.listen({outsideClick:this.outsideClick,outsideEsc:this.outsideEsc,triggers:this.triggers,show:()=>this.show()}),this.initPreviousValue(),this.setConfig()}ngOnChanges(e){e.bsConfig&&(e.bsConfig.currentValue?.initCurrentTime&&e.bsConfig.currentValue?.initCurrentTime!==e.bsConfig.previousValue?.initCurrentTime&&this._bsValue&&(this.initPreviousValue(),this._bsValue=ux(this._bsValue),this.bsValueChange.emit(this._bsValue)),this.setConfig(),this._rangeInputFormat$.next(e.bsConfig.currentValue&&e.bsConfig.currentValue.rangeInputFormat)),this._datepickerRef&&this._datepickerRef.instance&&(e.minDate&&(this._datepickerRef.instance.minDate=this.minDate),e.maxDate&&(this._datepickerRef.instance.maxDate=this.maxDate),e.datesDisabled&&(this._datepickerRef.instance.datesDisabled=this.datesDisabled),e.datesEnabled&&(this._datepickerRef.instance.datesEnabled=this.datesEnabled),e.daysDisabled&&(this._datepickerRef.instance.daysDisabled=this.daysDisabled),e.isDisabled&&(this._datepickerRef.instance.isDisabled=this.isDisabled),e.dateCustomClasses&&(this._datepickerRef.instance.dateCustomClasses=this.dateCustomClasses))}ngAfterViewInit(){this.isOpen$.pipe(Sn(e=>e!==this.isOpen),AA(this.isDestroy$)).subscribe(()=>this.toggle())}show(){this._datepicker.isShown||(this.setConfig(),this._datepickerRef=this._datepicker.provide({provide:Uo,useValue:this._config}).attach(UK).to(this.container).position({attachment:this.placement}).show({placement:this.placement}),this.initSubscribes())}initSubscribes(){this._subs.push(this.bsValueChange.subscribe(e=>{this._datepickerRef&&(this._datepickerRef.instance.value=e)})),this._datepickerRef&&this._subs.push(this._datepickerRef.instance.valueChange.pipe(Sn(e=>e&&e[0]&&!!e[1])).subscribe(e=>{this.initPreviousValue(),this.bsValue=e,!this.keepDatepickerModalOpened()&&this.hide()}))}initPreviousValue(){Da=this._bsValue}keepDatepickerModalOpened(){return!!(Da&&this.bsConfig?.keepDatepickerOpened&&this._config.withTimepicker)&&this.isDateSame()}isDateSame(){return this._bsValue?.[0]?.getDate()===Da?.[0]?.getDate()&&this._bsValue?.[0]?.getMonth()===Da?.[0]?.getMonth()&&this._bsValue?.[0]?.getFullYear()===Da?.[0]?.getFullYear()&&this._bsValue?.[1]?.getDate()===Da?.[1]?.getDate()&&this._bsValue?.[1]?.getMonth()===Da?.[1]?.getMonth()&&this._bsValue?.[1]?.getFullYear()===Da?.[1]?.getFullYear()}setConfig(){this._config=Object.assign({},this._config,this.bsConfig,{value:ox(this._bsValue,this.maxDate||this.bsConfig&&this.bsConfig.maxDate),isDisabled:this.isDisabled,minDate:this.minDate||this.bsConfig&&this.bsConfig.minDate,maxDate:this.maxDate||this.bsConfig&&this.bsConfig.maxDate,daysDisabled:this.daysDisabled||this.bsConfig&&this.bsConfig.daysDisabled,dateCustomClasses:this.dateCustomClasses||this.bsConfig&&this.bsConfig.dateCustomClasses,datesDisabled:this.datesDisabled||this.bsConfig&&this.bsConfig.datesDisabled,datesEnabled:this.datesEnabled||this.bsConfig&&this.bsConfig.datesEnabled,ranges:bK(this.bsConfig&&this.bsConfig.ranges,this.maxDate||this.bsConfig&&this.bsConfig.maxDate),maxDateRange:this.bsConfig&&this.bsConfig.maxDateRange,initCurrentTime:this.bsConfig?.initCurrentTime,keepDatepickerOpened:this.bsConfig?.keepDatepickerOpened})}hide(){this.isOpen&&this._datepicker.hide();for(const e of this._subs)e.unsubscribe();this._config.returnFocusToInput&&this._renderer.selectRootElement(this._elementRef.nativeElement).focus()}toggle(){if(this.isOpen)return this.hide();this.show()}unsubscribeSubscriptions(){this._subs?.length&&(this._subs.map(e=>e.unsubscribe()),this._subs.length=0)}ngOnDestroy(){this._datepicker.dispose(),this.isOpen$.next(!1),this.isDestroy$&&(this.isDestroy$.next(null),this.isDestroy$.complete()),this.unsubscribeSubscriptions()}}return t.\u0275fac=function(e){return new(e||t)(T(qK),T(zt),T(Tn),T(Mi),T(Ys))},t.\u0275dir=Ve({type:t,selectors:[["","bsDaterangepicker",""]],hostVars:1,hostBindings:function(e,i){2&e&&zn("readonly",i.isDatepickerReadonly)},inputs:{placement:"placement",triggers:"triggers",outsideClick:"outsideClick",container:"container",outsideEsc:"outsideEsc",isOpen:"isOpen",bsValue:"bsValue",bsConfig:"bsConfig",isDisabled:"isDisabled",minDate:"minDate",maxDate:"maxDate",dateCustomClasses:"dateCustomClasses",daysDisabled:"daysDisabled",datesDisabled:"datesDisabled",datesEnabled:"datesEnabled"},outputs:{onShown:"onShown",onHidden:"onHidden",bsValueChange:"bsValueChange"},exportAs:["bsDaterangepicker"],features:[Hi]}),t})();const GK={provide:kr,useExisting:Ut(()=>Cx),multi:!0},ZK={provide:gi,useExisting:Ut(()=>Cx),multi:!0};let Cx=(()=>{class t{constructor(e,i,r,s,o){this._picker=e,this._localeService=i,this._renderer=r,this._elRef=s,this.changeDetection=o,this._onChange=Function.prototype,this._onTouched=Function.prototype,this._validatorChange=Function.prototype,this._subs=new ve}ngOnInit(){this._picker._bsValue&&(i=>{this._setInputValue(i),this._value!==i&&(this._value=i,this._onChange(i),this._onTouched()),this.changeDetection.markForCheck()})(this._picker._bsValue),this._subs.add(this._picker.bsValueChange.subscribe(i=>{this._setInputValue(i),this._value!==i&&(this._value=i,this._onChange(i),this._onTouched()),this.changeDetection.markForCheck()})),this._subs.add(this._localeService.localeChange.subscribe(()=>{this._setInputValue(this._value)})),this._subs.add(this._picker.rangeInputFormat$.pipe(tw()).subscribe(()=>{this._setInputValue(this._value)}))}ngOnDestroy(){this._subs.unsubscribe()}onKeydownEvent(e){(13===e.keyCode||"Enter"===e.code)&&this.hide()}_setInputValue(e){let i="";if(e){const r=e[0]?Gr(e[0],this._picker._config.rangeInputFormat,this._localeService.currentLocale):"",s=e[1]?Gr(e[1],this._picker._config.rangeInputFormat,this._localeService.currentLocale):"";i=r&&s?r+this._picker._config.rangeSeparator+s:""}this._renderer.setProperty(this._elRef.nativeElement,"value",i)}onChange(e){this.writeValue(e.target.value),this._onChange(this._value),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus(),this._onTouched()}validate(e){let i=e.value;const r=[];if(null==i||!Mn(i))return null;i=i.slice().sort((a,l)=>a.getTime()-l.getTime());const s=ga(i[0]),o=ga(i[1]);return s?o?(this._picker&&this._picker.minDate&&eo(i[0],this._picker.minDate,"date")&&(i[0]=this._picker.minDate,r.push({bsDate:{minDate:this._picker.minDate}})),this._picker&&this._picker.maxDate&&Ts(i[1],this._picker.maxDate,"date")&&(i[1]=this._picker.maxDate,r.push({bsDate:{maxDate:this._picker.maxDate}})),r.length>0?(this.writeValue(i),r):null):{bsDate:{invalid:i[1]}}:{bsDate:{invalid:i[0]}}}registerOnValidatorChange(e){this._validatorChange=e}writeValue(e){if(e){const i=this._localeService.currentLocale;if(!mi(i))throw new Error(`Locale "${i}" is not defined, please add it with "defineLocale(...)"`);let s=[];if("string"==typeof e){const o=this._picker._config.rangeSeparator.trim();s=e.replace(/[^-]/g,"").length>1?e.split(this._picker._config.rangeSeparator):e.split(o.length>0?o:this._picker._config.rangeSeparator).map(a=>a.trim())}Array.isArray(e)&&(s=e),this._value=s.map(o=>this._picker._config.useUtc?cR(rf(o,this._picker._config.rangeInputFormat,this._localeService.currentLocale)):rf(o,this._picker._config.rangeInputFormat,this._localeService.currentLocale)).map(o=>isNaN(o.valueOf())?void 0:o)}else this._value=void 0;this._picker.bsValue=this._value}setDisabledState(e){this._picker.isDisabled=e,e?this._renderer.setAttribute(this._elRef.nativeElement,"disabled","disabled"):this._renderer.removeAttribute(this._elRef.nativeElement,"disabled")}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}onBlur(){this._onTouched()}hide(){this._picker.hide(),this._renderer.selectRootElement(this._elRef.nativeElement).blur(),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus()}}return t.\u0275fac=function(e){return new(e||t)(T(WK,1),T($m),T(Tn),T(zt),T(bo))},t.\u0275dir=Ve({type:t,selectors:[["input","bsDaterangepicker",""]],hostBindings:function(e,i){1&e&&N("change",function(s){return i.onChange(s)})("keyup.esc",function(){return i.hide()})("keydown",function(s){return i.onKeydownEvent(s)})("blur",function(){return i.onBlur()})},features:[Kt([GK,ZK])]}),t})(),QK=(()=>{class t{static forRoot(){return{ngModule:t,providers:[Ys,Ao,hf,ti,cf,$m,$o]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=_i({type:t}),t.\u0275inj=oi({imports:[mu,yA,ZR]}),t})();function KK(t,n){if(1&t&&(_(0,"p",5),M(1),g()),2&t){const e=w();m(1),it(e.errorMessage)}}let pf=(()=>{class t{constructor(){this.label="",this.value=new Date,this._validator=t.DEFAULT_VALIDATOR,this._isReadOnly=!1,this.isTimeValid=!0}set isReadOnly(e){this._isReadOnly=e}get isReadOnly(){return this._isReadOnly}set initValue(e){this.value=e}set validator(e){this._validator=function(){var i=(0,b.Z)(function*(r,s){return t.DEFAULT_VALIDATOR(r,s)??e(r)});return function(r,s){return i.apply(this,arguments)}}()}getValue(){var e=this;return(0,b.Z)(function*(){return e.value})()}validate(){var e=this;return(0,b.Z)(function*(){const i=yield e._validator(yield e.getValue(),e.isTimeValid);return e.errorMessage=i,null==i})()}}return t.DEFAULT_VALIDATOR=function(){var n=(0,b.Z)(function*(e,i){return i?Pd(e)?void 0:"Date is invalid":"Time is invalid"});return function(e,i){return n.apply(this,arguments)}}(),t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=$e({type:t,selectors:[["app-date-time-field"]],inputs:{label:"label",isReadOnly:"isReadOnly",initValue:"initValue",validator:"validator"},decls:7,vars:10,consts:[[1,"m-3"],[1,"form-label"],["type","text","bsDatepicker","",1,"form-control",3,"bsValue","isDisabled","disabled","bsValueChange"],[3,"ngModel","readonlyInput","disabled","showSeconds","showMeridian","ngModelChange","isValid"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(e,i){1&e&&(_(0,"div",0)(1,"div")(2,"label",1),M(3),g(),_(4,"input",2),N("bsValueChange",function(s){return i.value=s}),g(),_(5,"timepicker",3),N("ngModelChange",function(s){return i.value=s})("isValid",function(s){return i.isTimeValid=s}),g()(),V(6,KK,2,1,"p",4),g()),2&e&&(m(3),it(i.label),m(1),y("bsValue",i.value)("isDisabled",i.isReadOnly)("disabled",i.isReadOnly),m(1),y("ngModel",i.value)("readonlyInput",i.isReadOnly)("disabled",i.isReadOnly)("showSeconds",!0)("showMeridian",!1),m(1),y("ngIf",i.errorMessage))},dependencies:[Jt,Mr,mr,wx,Jw,Hm]}),t})();const JK=["idFieldComponent"],XK=["nameFieldComponent"],eJ=["descriptionFieldComponent"],tJ=["tokenBalanceChangeFieldComponent"],nJ=["moduleNameFieldComponent"],iJ=["startTimeFieldComponent"],rJ=["gradeThresholdComponent"];let sJ=(()=>{class t extends Zs{constructor(e){super(),this.canvasService=e}set initValue(e){this._value=e}getValue(){var e=this;return(0,b.Z)(function*(){if(!(e._value&&e._idField&&e._nameField&&e._descriptionField&&e._tokenBalanceChangeField&&e._moduleNameField&&e._startTimeField&&e._gradeThreshold))throw new Error("Value is not ready yet");const i=e._value instanceof yt?e._value.configuration.course.id:e._value.group.configuration.course.id;return e._value instanceof yt?new Ga(e._value,"earn-by-module",yield e._idField.getValue(),yield e._nameField.getValue(),yield e._descriptionField.getValue(),yield e._tokenBalanceChangeField.getValue(),!1,yield e._moduleNameField.getValue(),yield e.canvasService.getModuleIdByName(i,yield e._moduleNameField.getValue()),yield e._startTimeField.getValue(),yield e._gradeThreshold.getValue()):(e._value.name=yield e._nameField.getValue(),e._value.description=yield e._descriptionField.getValue(),e._value.tokenBalanceChange=yield e._tokenBalanceChangeField.getValue(),e._value.moduleName=yield e._moduleNameField.getValue(),e._value.moduleId=yield e.canvasService.getModuleIdByName(i,yield e._moduleNameField.getValue()),e._value.startTime=yield e._startTimeField.getValue(),e._value.gradeThreshold=yield e._gradeThreshold.getValue(),e._value)})()}ngOnInit(){var e=this;if(!(this._value&&this._idField&&this._nameField&&this._descriptionField&&this._tokenBalanceChangeField&&this._moduleNameField&&this._startTimeField&&this._gradeThreshold))throw new Error("Fields are not ready yet!");this.addSubField(this._nameField),this.addSubField(this._descriptionField),this.addSubField(this._tokenBalanceChangeField),this.addSubField(this._moduleNameField),this.addSubField(this._startTimeField),this.addSubField(this._gradeThreshold),this._value instanceof yt?(this._idField.initValue=this._value.configuration.nextFreeTokenOptionId,this._nameField.initValue="",this._descriptionField.initValue="",this._tokenBalanceChangeField.initValue=0,this._moduleNameField.initValue="",this._startTimeField.initValue=Qs(new Date,{hours:0,minutes:0,seconds:0,milliseconds:0}),this._gradeThreshold.initValue=1):(this._idField.initValue=this._value.id,this._nameField.initValue=this._value.name,this._descriptionField.initValue=this._value.description,this._tokenBalanceChangeField.initValue=this._value.tokenBalanceChange,this._moduleNameField.initValue=this._value.moduleName,this._startTimeField.initValue=this._value.startTime,this._gradeThreshold.initValue=this._value.gradeThreshold);const i=this._value instanceof yt?this._value.configuration.course.id:this._value.group.configuration.course.id;this._nameField.validator=function(){var r=(0,b.Z)(function*(s){if(0==s.length)return"Token option name cannot be empty"});return function(s){return r.apply(this,arguments)}}(),this._moduleNameField.validator=function(){var r=(0,b.Z)(function*(s){try{yield e.canvasService.getModuleIdByName(i,s)}catch(o){return o.toString()}});return function(s){return r.apply(this,arguments)}}(),this._gradeThreshold.validator=function(){var r=(0,b.Z)(function*(s){if(s<0||s>1)return"Grade threshold needs to be a number between 0 and 1 (inclusive). E.g, 0.7"});return function(s){return r.apply(this,arguments)}}()}}return t.\u0275fac=function(e){return new(e||t)(T(An))},t.\u0275cmp=$e({type:t,selectors:[["app-earn-by-module-token-option-field"]],viewQuery:function(e,i){if(1&e&&(pe(JK,7),pe(XK,7),pe(eJ,7),pe(tJ,7),pe(nJ,7),pe(iJ,7),pe(rJ,7)),2&e){let r;de(r=fe())&&(i._idField=r.first),de(r=fe())&&(i._nameField=r.first),de(r=fe())&&(i._descriptionField=r.first),de(r=fe())&&(i._tokenBalanceChangeField=r.first),de(r=fe())&&(i._moduleNameField=r.first),de(r=fe())&&(i._startTimeField=r.first),de(r=fe())&&(i._gradeThreshold=r.first)}},features:[_t],decls:14,vars:7,consts:[["label","ID",3,"isReadOnly"],["idFieldComponent",""],["label","Name",3,"isReadOnly"],["nameFieldComponent",""],["label","Description",3,"isReadOnly"],["descriptionFieldComponent",""],["label","Token Balance Change",3,"isReadOnly"],["tokenBalanceChangeFieldComponent",""],["label","Module Name",3,"isReadOnly"],["moduleNameFieldComponent",""],["label","Start Time",3,"isReadOnly"],["startTimeFieldComponent",""],["label","Grade Threshold",3,"isReadOnly"],["gradeThresholdComponent",""]],template:function(e,i){1&e&&Ae(0,"app-number-input-field",0,1)(2,"app-string-input-field",2,3)(4,"app-string-textarea-field",4,5)(6,"app-number-input-field",6,7)(8,"app-string-input-field",8,9)(10,"app-date-time-field",10,11)(12,"app-number-input-field",12,13),2&e&&(y("isReadOnly",!0),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly))},dependencies:[qr,Wr,ws,pf]}),t})();const oJ=["idFieldComponent"],aJ=["nameFieldComponent"],lJ=["descriptionFieldComponent"],uJ=["tokenBalanceChangeFieldComponent"],cJ=["quizNameFieldComponent"],dJ=["startTimeFieldComponent"],fJ=["gradeThresholdComponent"];let hJ=(()=>{class t extends Zs{constructor(e){super(),this.canvasService=e}set initValue(e){this._value=e}getValue(){var e=this;return(0,b.Z)(function*(){if(!(e._value&&e._idField&&e._nameField&&e._descriptionField&&e._tokenBalanceChangeField&&e._quizNameField&&e._startTimeField&&e._gradeThreshold))throw new Error("Value is not ready yet");const i=e._value instanceof yt?e._value.configuration.course.id:e._value.group.configuration.course.id;return e._value instanceof yt?new Hd(e._value,"earn-by-quiz",yield e._idField.getValue(),yield e._nameField.getValue(),yield e._descriptionField.getValue(),yield e._tokenBalanceChangeField.getValue(),!1,yield e._quizNameField.getValue(),yield e.canvasService.getQuizIdByName(i,yield e._quizNameField.getValue()),yield e._startTimeField.getValue(),yield e._gradeThreshold.getValue()):(e._value.name=yield e._nameField.getValue(),e._value.description=yield e._descriptionField.getValue(),e._value.tokenBalanceChange=yield e._tokenBalanceChangeField.getValue(),e._value.quizName=yield e._quizNameField.getValue(),e._value.quizId=yield e.canvasService.getQuizIdByName(i,yield e._quizNameField.getValue()),e._value.startTime=yield e._startTimeField.getValue(),e._value.gradeThreshold=yield e._gradeThreshold.getValue(),e._value)})()}ngOnInit(){var e=this;if(!(this._value&&this._idField&&this._nameField&&this._descriptionField&&this._tokenBalanceChangeField&&this._quizNameField&&this._startTimeField&&this._gradeThreshold))throw new Error("Fields are not ready yet!");this.addSubField(this._nameField),this.addSubField(this._descriptionField),this.addSubField(this._tokenBalanceChangeField),this.addSubField(this._quizNameField),this.addSubField(this._startTimeField),this.addSubField(this._gradeThreshold),this._value instanceof yt?(this._idField.initValue=this._value.configuration.nextFreeTokenOptionId,this._nameField.initValue="",this._descriptionField.initValue="",this._tokenBalanceChangeField.initValue=0,this._quizNameField.initValue="",this._startTimeField.initValue=Qs(new Date,{hours:0,minutes:0,seconds:0,milliseconds:0}),this._gradeThreshold.initValue=1):(this._idField.initValue=this._value.id,this._nameField.initValue=this._value.name,this._descriptionField.initValue=this._value.description,this._tokenBalanceChangeField.initValue=this._value.tokenBalanceChange,this._quizNameField.initValue=this._value.quizName,this._startTimeField.initValue=this._value.startTime,this._gradeThreshold.initValue=this._value.gradeThreshold);const i=this._value instanceof yt?this._value.configuration.course.id:this._value.group.configuration.course.id;this._nameField.validator=function(){var r=(0,b.Z)(function*(s){if(0==s.length)return"Token option name cannot be empty"});return function(s){return r.apply(this,arguments)}}(),this._quizNameField.validator=function(){var r=(0,b.Z)(function*(s){try{yield e.canvasService.getQuizIdByName(i,s)}catch(o){return o.toString()}});return function(s){return r.apply(this,arguments)}}(),this._gradeThreshold.validator=function(){var r=(0,b.Z)(function*(s){if(s<0||s>1)return"Grade threshold needs to be a number between 0 and 1 (inclusive). E.g, 0.7"});return function(s){return r.apply(this,arguments)}}()}}return t.\u0275fac=function(e){return new(e||t)(T(An))},t.\u0275cmp=$e({type:t,selectors:[["app-earn-by-quiz-token-option-field"]],viewQuery:function(e,i){if(1&e&&(pe(oJ,7),pe(aJ,7),pe(lJ,7),pe(uJ,7),pe(cJ,7),pe(dJ,7),pe(fJ,7)),2&e){let r;de(r=fe())&&(i._idField=r.first),de(r=fe())&&(i._nameField=r.first),de(r=fe())&&(i._descriptionField=r.first),de(r=fe())&&(i._tokenBalanceChangeField=r.first),de(r=fe())&&(i._quizNameField=r.first),de(r=fe())&&(i._startTimeField=r.first),de(r=fe())&&(i._gradeThreshold=r.first)}},features:[_t],decls:14,vars:7,consts:[["label","ID",3,"isReadOnly"],["idFieldComponent",""],["label","Name",3,"isReadOnly"],["nameFieldComponent",""],["label","Description",3,"isReadOnly"],["descriptionFieldComponent",""],["label","Token Balance Change",3,"isReadOnly"],["tokenBalanceChangeFieldComponent",""],["label","Quiz Name",3,"isReadOnly"],["quizNameFieldComponent",""],["label","Start Time",3,"isReadOnly"],["startTimeFieldComponent",""],["label","Grade Threshold",3,"isReadOnly"],["gradeThresholdComponent",""]],template:function(e,i){1&e&&Ae(0,"app-number-input-field",0,1)(2,"app-string-input-field",2,3)(4,"app-string-textarea-field",4,5)(6,"app-number-input-field",6,7)(8,"app-string-input-field",8,9)(10,"app-date-time-field",10,11)(12,"app-number-input-field",12,13),2&e&&(y("isReadOnly",!0),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly))},dependencies:[qr,Wr,ws,pf]}),t})();const pJ=["idFieldComponent"],mJ=["nameFieldComponent"],_J=["descriptionFieldComponent"],gJ=["tokenBalanceChangeFieldComponent"],yJ=["surveyIdFieldComponent"],vJ=["fieldNameFieldComponent"],bJ=["startTimeFieldComponent"],wJ=["endTimeFieldComponent"];let CJ=(()=>{class t extends Zs{constructor(){super()}set initValue(e){this._value=e}getValue(){var e=this;return(0,b.Z)(function*(){if(!(e._value&&e._idField&&e._nameField&&e._descriptionField&&e._tokenBalanceChangeField&&e._surveyIdField&&e._fieldNameField&&e._startTimeField&&e._endTimeField))throw new Error("Value is not ready yet");return e._value instanceof yt?new $d(e._value,"earn-by-survey",yield e._idField.getValue(),yield e._nameField.getValue(),yield e._descriptionField.getValue(),yield e._tokenBalanceChangeField.getValue(),!1,yield e._surveyIdField.getValue(),yield e._fieldNameField.getValue(),yield e._startTimeField.getValue(),yield e._endTimeField.getValue()):(e._value.name=yield e._nameField.getValue(),e._value.description=yield e._descriptionField.getValue(),e._value.tokenBalanceChange=yield e._tokenBalanceChangeField.getValue(),e._value.surveyId=yield e._surveyIdField.getValue(),e._value.fieldName=yield e._fieldNameField.getValue(),e._value.startTime=yield e._startTimeField.getValue(),e._value.endTime=yield e._endTimeField.getValue(),e._value)})()}ngOnInit(){if(!(this._value&&this._idField&&this._nameField&&this._descriptionField&&this._tokenBalanceChangeField&&this._surveyIdField&&this._fieldNameField&&this._startTimeField&&this._endTimeField))throw new Error("Fields are not ready yet!");this.addSubField(this._nameField),this.addSubField(this._descriptionField),this.addSubField(this._tokenBalanceChangeField),this.addSubField(this._surveyIdField),this.addSubField(this._fieldNameField),this.addSubField(this._startTimeField),this.addSubField(this._endTimeField),this._value instanceof yt?(this._idField.initValue=this._value.configuration.nextFreeTokenOptionId,this._nameField.initValue="",this._descriptionField.initValue="",this._tokenBalanceChangeField.initValue=0,this._surveyIdField.initValue="",this._fieldNameField.initValue="",this._startTimeField.initValue=Qs(new Date,{hours:0,minutes:0,seconds:0,milliseconds:0}),this._endTimeField.initValue=Qs(new Date,{hours:23,minutes:59,seconds:59,milliseconds:999})):(this._idField.initValue=this._value.id,this._nameField.initValue=this._value.name,this._descriptionField.initValue=this._value.description,this._tokenBalanceChangeField.initValue=this._value.tokenBalanceChange,this._surveyIdField.initValue=this._value.surveyId,this._fieldNameField.initValue=this._value.fieldName,this._startTimeField.initValue=this._value.startTime,this._endTimeField.initValue=this._value.endTime),this._nameField.validator=function(){var e=(0,b.Z)(function*(i){if(0==i.length)return"Token option name cannot be empty"});return function(i){return e.apply(this,arguments)}}(),this._surveyIdField.validator=function(){var e=(0,b.Z)(function*(i){if(0==i.length)return"Qualtrics Survey ID cannot be empty"});return function(i){return e.apply(this,arguments)}}(),this._fieldNameField.validator=function(){var e=(0,b.Z)(function*(i){if(0==i.length)return"Qualtrics Survey field name cannot be empty"});return function(i){return e.apply(this,arguments)}}()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=$e({type:t,selectors:[["app-earn-by-survey-token-option-field"]],viewQuery:function(e,i){if(1&e&&(pe(pJ,7),pe(mJ,7),pe(_J,7),pe(gJ,7),pe(yJ,7),pe(vJ,7),pe(bJ,7),pe(wJ,7)),2&e){let r;de(r=fe())&&(i._idField=r.first),de(r=fe())&&(i._nameField=r.first),de(r=fe())&&(i._descriptionField=r.first),de(r=fe())&&(i._tokenBalanceChangeField=r.first),de(r=fe())&&(i._surveyIdField=r.first),de(r=fe())&&(i._fieldNameField=r.first),de(r=fe())&&(i._startTimeField=r.first),de(r=fe())&&(i._endTimeField=r.first)}},features:[_t],decls:16,vars:8,consts:[["label","ID",3,"isReadOnly"],["idFieldComponent",""],["label","Name",3,"isReadOnly"],["nameFieldComponent",""],["label","Description",3,"isReadOnly"],["descriptionFieldComponent",""],["label","Token Balance Change",3,"isReadOnly"],["tokenBalanceChangeFieldComponent",""],["label","Survey ID",3,"isReadOnly"],["surveyIdFieldComponent",""],["label","Survey Field Name",3,"isReadOnly"],["fieldNameFieldComponent",""],["label","Start Time",3,"isReadOnly"],["startTimeFieldComponent",""],["label","End Time",3,"isReadOnly"],["endTimeFieldComponent",""]],template:function(e,i){1&e&&Ae(0,"app-number-input-field",0,1)(2,"app-string-input-field",2,3)(4,"app-string-textarea-field",4,5)(6,"app-number-input-field",6,7)(8,"app-string-input-field",8,9)(10,"app-string-input-field",10,11)(12,"app-date-time-field",12,13)(14,"app-date-time-field",14,15),2&e&&(y("isReadOnly",!0),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly))},dependencies:[qr,Wr,ws,pf]}),t})();const DJ=["idFieldComponent"],TJ=["nameFieldComponent"],SJ=["descriptionFieldComponent"],kJ=["tokenBalanceChangeFieldComponent"],MJ=["assignmentNameFieldComponent"],EJ=["startTimeFieldComponent"],OJ=["endTimeFieldComponent"],IJ=["newDueTimeFieldComponent"];let AJ=(()=>{class t extends Zs{constructor(e){super(),this.canvasService=e}set initValue(e){this._value=e}getValue(){var e=this;return(0,b.Z)(function*(){if(!(e._value&&e._idField&&e._nameField&&e._descriptionField&&e._tokenBalanceChangeField&&e._assignmentNameField&&e._startTimeField&&e._endTimeField&&e._newDueTimeField))throw new Error("Value is not ready yet");const i=e._value instanceof yt?e._value.configuration.course.id:e._value.group.configuration.course.id;return e._value instanceof yt?new Za(e._value,"spend-for-assignment-resubmission",yield e._idField.getValue(),yield e._nameField.getValue(),yield e._descriptionField.getValue(),yield e._tokenBalanceChangeField.getValue(),!1,yield e._assignmentNameField.getValue(),yield e.canvasService.getAssignmentIdByName(i,yield e._assignmentNameField.getValue()),yield e._startTimeField.getValue(),yield e._endTimeField.getValue(),yield e._newDueTimeField.getValue()):(e._value.name=yield e._nameField.getValue(),e._value.description=yield e._descriptionField.getValue(),e._value.tokenBalanceChange=yield e._tokenBalanceChangeField.getValue(),e._value.assignmentName=yield e._assignmentNameField.getValue(),e._value.assignmentId=yield e.canvasService.getAssignmentIdByName(i,yield e._assignmentNameField.getValue()),e._value.startTime=yield e._startTimeField.getValue(),e._value.endTime=yield e._endTimeField.getValue(),e._value.newDueTime=yield e._newDueTimeField.getValue(),e._value)})()}ngOnInit(){var e=this;if(!(this._value&&this._idField&&this._nameField&&this._descriptionField&&this._tokenBalanceChangeField&&this._assignmentNameField&&this._startTimeField&&this._endTimeField&&this._newDueTimeField))throw new Error("Fields are not ready yet!");this.addSubField(this._nameField),this.addSubField(this._descriptionField),this.addSubField(this._tokenBalanceChangeField),this.addSubField(this._assignmentNameField),this.addSubField(this._startTimeField),this.addSubField(this._endTimeField),this.addSubField(this._newDueTimeField),this._value instanceof yt?(this._idField.initValue=this._value.configuration.nextFreeTokenOptionId,this._nameField.initValue="",this._descriptionField.initValue="",this._tokenBalanceChangeField.initValue=0,this._assignmentNameField.initValue="",this._startTimeField.initValue=Qs(new Date,{hours:0,minutes:0,seconds:0,milliseconds:0}),this._endTimeField.initValue=Qs(new Date,{hours:23,minutes:59,seconds:59,milliseconds:999}),this._newDueTimeField.initValue=Qs(new Date,{hours:23,minutes:59,seconds:59,milliseconds:999})):(this._idField.initValue=this._value.id,this._nameField.initValue=this._value.name,this._descriptionField.initValue=this._value.description,this._tokenBalanceChangeField.initValue=this._value.tokenBalanceChange,this._assignmentNameField.initValue=this._value.assignmentName,this._startTimeField.initValue=this._value.startTime,this._endTimeField.initValue=this._value.endTime,this._newDueTimeField.initValue=this._value.newDueTime);const i=this._value instanceof yt?this._value.configuration.course.id:this._value.group.configuration.course.id;this._nameField.validator=function(){var r=(0,b.Z)(function*(s){if(0==s.length)return"Token option name cannot be empty"});return function(s){return r.apply(this,arguments)}}(),this._assignmentNameField.validator=function(){var r=(0,b.Z)(function*(s){try{yield e.canvasService.getAssignmentIdByName(i,s)}catch(o){return o.toString()}});return function(s){return r.apply(this,arguments)}}()}}return t.\u0275fac=function(e){return new(e||t)(T(An))},t.\u0275cmp=$e({type:t,selectors:[["app-spend-for-assignment-resubmission-token-option-field"]],viewQuery:function(e,i){if(1&e&&(pe(DJ,7),pe(TJ,7),pe(SJ,7),pe(kJ,7),pe(MJ,7),pe(EJ,7),pe(OJ,7),pe(IJ,7)),2&e){let r;de(r=fe())&&(i._idField=r.first),de(r=fe())&&(i._nameField=r.first),de(r=fe())&&(i._descriptionField=r.first),de(r=fe())&&(i._tokenBalanceChangeField=r.first),de(r=fe())&&(i._assignmentNameField=r.first),de(r=fe())&&(i._startTimeField=r.first),de(r=fe())&&(i._endTimeField=r.first),de(r=fe())&&(i._newDueTimeField=r.first)}},features:[_t],decls:16,vars:8,consts:[["label","ID",3,"isReadOnly"],["idFieldComponent",""],["label","Name",3,"isReadOnly"],["nameFieldComponent",""],["label","Description",3,"isReadOnly"],["descriptionFieldComponent",""],["label","Token Balance Change",3,"isReadOnly"],["tokenBalanceChangeFieldComponent",""],["label","Assignment Name",3,"isReadOnly"],["assignmentNameFieldComponent",""],["label","Start Time",3,"isReadOnly"],["startTimeFieldComponent",""],["label","End Time",3,"isReadOnly"],["endTimeFieldComponent",""],["label","New Due Time for Assignment",3,"isReadOnly"],["newDueTimeFieldComponent",""]],template:function(e,i){1&e&&Ae(0,"app-number-input-field",0,1)(2,"app-string-input-field",2,3)(4,"app-string-textarea-field",4,5)(6,"app-number-input-field",6,7)(8,"app-string-input-field",8,9)(10,"app-date-time-field",10,11)(12,"app-date-time-field",12,13)(14,"app-date-time-field",14,15),2&e&&(y("isReadOnly",!0),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly))},dependencies:[qr,Wr,ws,pf]}),t})();const RJ=["idFieldComponent"],xJ=["nameFieldComponent"],FJ=["descriptionFieldComponent"],NJ=["tokenBalanceChangeFieldComponent"],LJ=["quizNameFieldComponent"],PJ=["startTimeFieldComponent"],VJ=["endTimeFieldComponent"],BJ=["newDueTimeFieldComponent"],HJ=["excludeTokenOptionIdsFieldComponent"];let $J=(()=>{class t extends Zs{constructor(e){super(),this.canvasService=e}set initValue(e){this._value=e}getValue(){var e=this;return(0,b.Z)(function*(){if(!(e._value&&e._idField&&e._nameField&&e._descriptionField&&e._tokenBalanceChangeField&&e._quizNameField&&e._startTimeField&&e._endTimeField&&e._newDueTimeField&&e._excludeTokenOptionIdsField))throw new Error("Value is not ready yet");const i=e._value instanceof yt?e._value.configuration.course.id:e._value.group.configuration.course.id;return e._value instanceof yt?new pa(e._value,"spend-for-lab-data",yield e._idField.getValue(),yield e._nameField.getValue(),yield e._descriptionField.getValue(),yield e._tokenBalanceChangeField.getValue(),!1,yield e._quizNameField.getValue(),yield e.canvasService.getQuizIdByName(i,yield e._quizNameField.getValue()),yield e._startTimeField.getValue(),yield e._endTimeField.getValue(),yield e._newDueTimeField.getValue(),(yield e._excludeTokenOptionIdsField.getValue()).split(",").filter(r=>0!=r.trim().length).map(r=>parseInt(r.trim()))):(e._value.name=yield e._nameField.getValue(),e._value.description=yield e._descriptionField.getValue(),e._value.tokenBalanceChange=yield e._tokenBalanceChangeField.getValue(),e._value.quizName=yield e._quizNameField.getValue(),e._value.quizId=yield e.canvasService.getQuizIdByName(i,yield e._quizNameField.getValue()),e._value.startTime=yield e._startTimeField.getValue(),e._value.endTime=yield e._endTimeField.getValue(),e._value.newDueTime=yield e._newDueTimeField.getValue(),e._value.excludeTokenOptionIds=(yield e._excludeTokenOptionIdsField.getValue()).split(",").filter(r=>0!=r.trim().length).map(r=>parseInt(r.trim())),e._value)})()}ngOnInit(){var e=this;if(!(this._value&&this._idField&&this._nameField&&this._descriptionField&&this._tokenBalanceChangeField&&this._quizNameField&&this._startTimeField&&this._endTimeField&&this._newDueTimeField&&this._excludeTokenOptionIdsField))throw new Error("Fields are not ready yet!");this.addSubField(this._nameField),this.addSubField(this._descriptionField),this.addSubField(this._tokenBalanceChangeField),this.addSubField(this._quizNameField),this.addSubField(this._startTimeField),this.addSubField(this._endTimeField),this.addSubField(this._newDueTimeField),this.addSubField(this._excludeTokenOptionIdsField),this._value instanceof yt?(this._idField.initValue=this._value.configuration.nextFreeTokenOptionId,this._nameField.initValue="",this._descriptionField.initValue="",this._tokenBalanceChangeField.initValue=0,this._quizNameField.initValue="",this._startTimeField.initValue=Qs(new Date,{hours:0,minutes:0,seconds:0,milliseconds:0}),this._endTimeField.initValue=Qs(new Date,{hours:23,minutes:59,seconds:59,milliseconds:999}),this._newDueTimeField.initValue=Qs(new Date,{hours:23,minutes:59,seconds:59,milliseconds:999}),this._excludeTokenOptionIdsField.initValue=""):(this._idField.initValue=this._value.id,this._nameField.initValue=this._value.name,this._descriptionField.initValue=this._value.description,this._tokenBalanceChangeField.initValue=this._value.tokenBalanceChange,this._quizNameField.initValue=this._value.quizName,this._startTimeField.initValue=this._value.startTime,this._endTimeField.initValue=this._value.endTime,this._newDueTimeField.initValue=this._value.newDueTime,this._excludeTokenOptionIdsField.initValue=this._value.excludeTokenOptionIds.join(","));const i=this._value instanceof yt?this._value.configuration.course.id:this._value.group.configuration.course.id;this._nameField.validator=function(){var r=(0,b.Z)(function*(s){if(0==s.length)return"Token option name cannot be empty"});return function(s){return r.apply(this,arguments)}}(),this._quizNameField.validator=function(){var r=(0,b.Z)(function*(s){try{yield e.canvasService.getQuizIdByName(i,s)}catch(o){return o.toString()}});return function(s){return r.apply(this,arguments)}}(),this._excludeTokenOptionIdsField.validator=function(){var r=(0,b.Z)(function*(s){const o=s.split(",");for(const a of o){const l=a.trim();if(0!=l.length&&isNaN(parseInt(l)))return"Non-numeric value exists in the list!"}});return function(s){return r.apply(this,arguments)}}()}}return t.\u0275fac=function(e){return new(e||t)(T(An))},t.\u0275cmp=$e({type:t,selectors:[["app-spend-for-lab-data-token-option-field"]],viewQuery:function(e,i){if(1&e&&(pe(RJ,7),pe(xJ,7),pe(FJ,7),pe(NJ,7),pe(LJ,7),pe(PJ,7),pe(VJ,7),pe(BJ,7),pe(HJ,7)),2&e){let r;de(r=fe())&&(i._idField=r.first),de(r=fe())&&(i._nameField=r.first),de(r=fe())&&(i._descriptionField=r.first),de(r=fe())&&(i._tokenBalanceChangeField=r.first),de(r=fe())&&(i._quizNameField=r.first),de(r=fe())&&(i._startTimeField=r.first),de(r=fe())&&(i._endTimeField=r.first),de(r=fe())&&(i._newDueTimeField=r.first),de(r=fe())&&(i._excludeTokenOptionIdsField=r.first)}},features:[_t],decls:18,vars:9,consts:[["label","ID",3,"isReadOnly"],["idFieldComponent",""],["label","Name",3,"isReadOnly"],["nameFieldComponent",""],["label","Description",3,"isReadOnly"],["descriptionFieldComponent",""],["label","Token Balance Change",3,"isReadOnly"],["tokenBalanceChangeFieldComponent",""],["label","Quiz Name",3,"isReadOnly"],["quizNameFieldComponent",""],["label","Start Time",3,"isReadOnly"],["startTimeFieldComponent",""],["label","End Time",3,"isReadOnly"],["endTimeFieldComponent",""],["label","New Due Time for Lab Data Quiz",3,"isReadOnly"],["newDueTimeFieldComponent",""],["label","Mutually Exclusive Token Options' IDs (separated by comma)",3,"isReadOnly"],["excludeTokenOptionIdsFieldComponent",""]],template:function(e,i){1&e&&Ae(0,"app-number-input-field",0,1)(2,"app-string-input-field",2,3)(4,"app-string-textarea-field",4,5)(6,"app-number-input-field",6,7)(8,"app-string-input-field",8,9)(10,"app-date-time-field",10,11)(12,"app-date-time-field",12,13)(14,"app-date-time-field",14,15)(16,"app-string-input-field",16,17),2&e&&(y("isReadOnly",!0),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly))},dependencies:[qr,Wr,ws,pf]}),t})();const jJ=["idFieldComponent"],UJ=["nameFieldComponent"],YJ=["descriptionFieldComponent"],zJ=["tokenBalanceChangeFieldComponent"],qJ=["excludeTokenOptionIdsFieldComponent"];let WJ=(()=>{class t extends Zs{set initValue(e){this._value=e}ngOnInit(){if(!(this._value&&this._idField&&this._nameField&&this._descriptionField&&this._tokenBalanceChangeField&&this._excludeTokenOptionIdsField))throw new Error("Fields are not ready yet!");this.addSubField(this._nameField),this.addSubField(this._descriptionField),this.addSubField(this._tokenBalanceChangeField),this.addSubField(this._excludeTokenOptionIdsField),this._value instanceof yt?(this._idField.initValue=this._value.configuration.nextFreeTokenOptionId,this._nameField.initValue="",this._descriptionField.initValue="",this._tokenBalanceChangeField.initValue=0,this._excludeTokenOptionIdsField.initValue=""):(this._idField.initValue=this._value.id,this._nameField.initValue=this._value.name,this._descriptionField.initValue=this._value.description,this._tokenBalanceChangeField.initValue=this._value.tokenBalanceChange,this._excludeTokenOptionIdsField.initValue=this._value.excludeTokenOptionIds.join(",")),this._nameField.validator=function(){var e=(0,b.Z)(function*(i){if(0==i.length)return"Token option name cannot be empty"});return function(i){return e.apply(this,arguments)}}(),this._excludeTokenOptionIdsField.validator=function(){var e=(0,b.Z)(function*(i){const r=i.split(",");for(const s of r){const o=s.trim();if(0!=o.length&&isNaN(parseInt(o)))return"Non-numeric value exists in the list!"}});return function(i){return e.apply(this,arguments)}}()}getValue(){var e=this;return(0,b.Z)(function*(){if(!(e._value&&e._idField&&e._nameField&&e._descriptionField&&e._tokenBalanceChangeField&&e._excludeTokenOptionIdsField))throw new Error("Value is not ready yet!");return e._value instanceof yt?new Lu(e._value,"spend-for-lab-switch",yield e._idField.getValue(),yield e._nameField.getValue(),yield e._descriptionField.getValue(),yield e._tokenBalanceChangeField.getValue(),!1,(yield e._excludeTokenOptionIdsField.getValue()).split(",").filter(i=>0!=i.trim().length).map(i=>parseInt(i.trim()))):(e._value.name=yield e._nameField.getValue(),e._value.description=yield e._descriptionField.getValue(),e._value.tokenBalanceChange=yield e._tokenBalanceChangeField.getValue(),e._value.excludeTokenOptionIds=(yield e._excludeTokenOptionIdsField.getValue()).split(",").filter(i=>0!=i.trim().length).map(i=>parseInt(i.trim())),e._value)})()}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275cmp=$e({type:t,selectors:[["app-spend-for-lab-switch-token-option-field"]],viewQuery:function(e,i){if(1&e&&(pe(jJ,7),pe(UJ,7),pe(YJ,7),pe(zJ,7),pe(qJ,7)),2&e){let r;de(r=fe())&&(i._idField=r.first),de(r=fe())&&(i._nameField=r.first),de(r=fe())&&(i._descriptionField=r.first),de(r=fe())&&(i._tokenBalanceChangeField=r.first),de(r=fe())&&(i._excludeTokenOptionIdsField=r.first)}},features:[_t],decls:10,vars:5,consts:[["label","ID",3,"isReadOnly"],["idFieldComponent",""],["label","Name",3,"isReadOnly"],["nameFieldComponent",""],["label","Description",3,"isReadOnly"],["descriptionFieldComponent",""],["label","Token Balance Change",3,"isReadOnly"],["tokenBalanceChangeFieldComponent",""],["label","Mutually Exclusive Token Options' IDs (separated by comma)",3,"isReadOnly"],["excludeTokenOptionIdsFieldComponent",""]],template:function(e,i){1&e&&Ae(0,"app-number-input-field",0,1)(2,"app-string-input-field",2,3)(4,"app-string-textarea-field",4,5)(6,"app-number-input-field",6,7)(8,"app-string-input-field",8,9),2&e&&(y("isReadOnly",!0),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly))},dependencies:[qr,Wr,ws]}),t})();const GJ=["idFieldComponent"],ZJ=["nameFieldComponent"],QJ=["descriptionFieldComponent"],KJ=["tokenBalanceChangeFieldComponent"],JJ=["withdrawTokenOptionIdFieldComponent"];let XJ=(()=>{class t extends Zs{set initValue(e){this._value=e}ngOnInit(){var e=this;if(!(this._value&&this._idField&&this._nameField&&this._descriptionField&&this._tokenBalanceChangeField&&this._withdrawTokenOptionIdField))throw new Error("Fields are not ready yet!");this.addSubField(this._nameField),this.addSubField(this._descriptionField),this.addSubField(this._tokenBalanceChangeField),this.addSubField(this._withdrawTokenOptionIdField),this._value instanceof yt?(this._idField.initValue=this._value.configuration.nextFreeTokenOptionId,this._nameField.initValue="",this._descriptionField.initValue="",this._tokenBalanceChangeField.initValue=0,this._withdrawTokenOptionIdField.initValue=-1):(this._idField.initValue=this._value.id,this._nameField.initValue=this._value.name,this._descriptionField.initValue=this._value.description,this._tokenBalanceChangeField.initValue=this._value.tokenBalanceChange,this._withdrawTokenOptionIdField.initValue=this._value.withdrawTokenOptionId),this._nameField.validator=function(){var i=(0,b.Z)(function*(r){if(0==r.length)return"Token option name cannot be empty"});return function(r){return i.apply(this,arguments)}}(),this._withdrawTokenOptionIdField.validator=function(){var i=(0,b.Z)(function*(r){const o=(e._value instanceof yt?e._value.configuration:e._value?.group.configuration)?.getTokenOptionById(r);return o?o instanceof Za?void 0:"Token option type invalid: should be 'Spend Tokens for Assignment Resubmission'":"There is no token option with this id"});return function(r){return i.apply(this,arguments)}}()}getValue(){var e=this;return(0,b.Z)(function*(){if(!(e._value&&e._idField&&e._nameField&&e._descriptionField&&e._tokenBalanceChangeField&&e._withdrawTokenOptionIdField))throw new Error("Value is not ready yet!");return e._value instanceof yt?new im(e._value,"withdraw-assignment-resubmission",yield e._idField.getValue(),yield e._nameField.getValue(),yield e._descriptionField.getValue(),yield e._tokenBalanceChangeField.getValue(),!1,yield e._withdrawTokenOptionIdField.getValue()):(e._value.name=yield e._nameField.getValue(),e._value.description=yield e._descriptionField.getValue(),e._value.tokenBalanceChange=yield e._tokenBalanceChangeField.getValue(),e._value.withdrawTokenOptionId=yield e._withdrawTokenOptionIdField.getValue(),e._value)})()}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275cmp=$e({type:t,selectors:[["app-withdraw-assignment-resubmission-option-field"]],viewQuery:function(e,i){if(1&e&&(pe(GJ,7),pe(ZJ,7),pe(QJ,7),pe(KJ,7),pe(JJ,7)),2&e){let r;de(r=fe())&&(i._idField=r.first),de(r=fe())&&(i._nameField=r.first),de(r=fe())&&(i._descriptionField=r.first),de(r=fe())&&(i._tokenBalanceChangeField=r.first),de(r=fe())&&(i._withdrawTokenOptionIdField=r.first)}},features:[_t],decls:10,vars:5,consts:[["label","ID",3,"isReadOnly"],["idFieldComponent",""],["label","Name",3,"isReadOnly"],["nameFieldComponent",""],["label","Description",3,"isReadOnly"],["descriptionFieldComponent",""],["label","Token Balance Change",3,"isReadOnly"],["tokenBalanceChangeFieldComponent",""],["label","Withdraw Token Option ID",3,"isReadOnly"],["withdrawTokenOptionIdFieldComponent",""]],template:function(e,i){1&e&&Ae(0,"app-number-input-field",0,1)(2,"app-string-input-field",2,3)(4,"app-string-textarea-field",4,5)(6,"app-number-input-field",6,7)(8,"app-number-input-field",8,9),2&e&&(y("isReadOnly",!0),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly))},dependencies:[qr,Wr,ws]}),t})();const eX=["idFieldComponent"],tX=["nameFieldComponent"],nX=["descriptionFieldComponent"],iX=["tokenBalanceChangeFieldComponent"],rX=["withdrawTokenOptionIdFieldComponent"];let sX=(()=>{class t extends Zs{set initValue(e){this._value=e}ngOnInit(){var e=this;if(!(this._value&&this._idField&&this._nameField&&this._descriptionField&&this._tokenBalanceChangeField&&this._withdrawTokenOptionIdField))throw new Error("Fields are not ready yet!");this.addSubField(this._nameField),this.addSubField(this._descriptionField),this.addSubField(this._tokenBalanceChangeField),this.addSubField(this._withdrawTokenOptionIdField),this._value instanceof yt?(this._idField.initValue=this._value.configuration.nextFreeTokenOptionId,this._nameField.initValue="",this._descriptionField.initValue="",this._tokenBalanceChangeField.initValue=0,this._withdrawTokenOptionIdField.initValue=-1):(this._idField.initValue=this._value.id,this._nameField.initValue=this._value.name,this._descriptionField.initValue=this._value.description,this._tokenBalanceChangeField.initValue=this._value.tokenBalanceChange,this._withdrawTokenOptionIdField.initValue=this._value.withdrawTokenOptionId),this._nameField.validator=function(){var i=(0,b.Z)(function*(r){if(0==r.length)return"Token option name cannot be empty"});return function(r){return i.apply(this,arguments)}}(),this._withdrawTokenOptionIdField.validator=function(){var i=(0,b.Z)(function*(r){const o=(e._value instanceof yt?e._value.configuration:e._value?.group.configuration)?.getTokenOptionById(r);return o?o instanceof pa?void 0:"Token option type invalid: should be 'Spend Tokens for Lab Data'":"There is no token option with this id"});return function(r){return i.apply(this,arguments)}}()}getValue(){var e=this;return(0,b.Z)(function*(){if(!(e._value&&e._idField&&e._nameField&&e._descriptionField&&e._tokenBalanceChangeField&&e._withdrawTokenOptionIdField))throw new Error("Value is not ready yet!");return e._value instanceof yt?new rm(e._value,"withdraw-lab-data",yield e._idField.getValue(),yield e._nameField.getValue(),yield e._descriptionField.getValue(),yield e._tokenBalanceChangeField.getValue(),!1,yield e._withdrawTokenOptionIdField.getValue()):(e._value.name=yield e._nameField.getValue(),e._value.description=yield e._descriptionField.getValue(),e._value.tokenBalanceChange=yield e._tokenBalanceChangeField.getValue(),e._value.withdrawTokenOptionId=yield e._withdrawTokenOptionIdField.getValue(),e._value)})()}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275cmp=$e({type:t,selectors:[["app-withdraw-lab-data-token-option-field"]],viewQuery:function(e,i){if(1&e&&(pe(eX,7),pe(tX,7),pe(nX,7),pe(iX,7),pe(rX,7)),2&e){let r;de(r=fe())&&(i._idField=r.first),de(r=fe())&&(i._nameField=r.first),de(r=fe())&&(i._descriptionField=r.first),de(r=fe())&&(i._tokenBalanceChangeField=r.first),de(r=fe())&&(i._withdrawTokenOptionIdField=r.first)}},features:[_t],decls:10,vars:5,consts:[["label","ID",3,"isReadOnly"],["idFieldComponent",""],["label","Name",3,"isReadOnly"],["nameFieldComponent",""],["label","Description",3,"isReadOnly"],["descriptionFieldComponent",""],["label","Token Balance Change",3,"isReadOnly"],["tokenBalanceChangeFieldComponent",""],["label","Withdraw Token Option ID",3,"isReadOnly"],["withdrawTokenOptionIdFieldComponent",""]],template:function(e,i){1&e&&Ae(0,"app-number-input-field",0,1)(2,"app-string-input-field",2,3)(4,"app-string-textarea-field",4,5)(6,"app-number-input-field",6,7)(8,"app-number-input-field",8,9),2&e&&(y("isReadOnly",!0),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly))},dependencies:[qr,Wr,ws]}),t})();const oX=["idFieldComponent"],aX=["nameFieldComponent"],lX=["descriptionFieldComponent"],uX=["tokenBalanceChangeFieldComponent"],cX=["withdrawTokenOptionIdFieldComponent"];let dX=(()=>{class t extends Zs{set initValue(e){this._value=e}ngOnInit(){var e=this;if(!(this._value&&this._idField&&this._nameField&&this._descriptionField&&this._tokenBalanceChangeField&&this._withdrawTokenOptionIdField))throw new Error("Fields are not ready yet!");this.addSubField(this._nameField),this.addSubField(this._descriptionField),this.addSubField(this._tokenBalanceChangeField),this.addSubField(this._withdrawTokenOptionIdField),this._value instanceof yt?(this._idField.initValue=this._value.configuration.nextFreeTokenOptionId,this._nameField.initValue="",this._descriptionField.initValue="",this._tokenBalanceChangeField.initValue=0,this._withdrawTokenOptionIdField.initValue=-1):(this._idField.initValue=this._value.id,this._nameField.initValue=this._value.name,this._descriptionField.initValue=this._value.description,this._tokenBalanceChangeField.initValue=this._value.tokenBalanceChange,this._withdrawTokenOptionIdField.initValue=this._value.withdrawTokenOptionId),this._nameField.validator=function(){var i=(0,b.Z)(function*(r){if(0==r.length)return"Token option name cannot be empty"});return function(r){return i.apply(this,arguments)}}(),this._withdrawTokenOptionIdField.validator=function(){var i=(0,b.Z)(function*(r){const o=(e._value instanceof yt?e._value.configuration:e._value?.group.configuration)?.getTokenOptionById(r);return o?o instanceof Lu?void 0:"Token option type invalid: should be 'Spend Tokens for Switching Lab'":"There is no token option with this id"});return function(r){return i.apply(this,arguments)}}()}getValue(){var e=this;return(0,b.Z)(function*(){if(!(e._value&&e._idField&&e._nameField&&e._descriptionField&&e._tokenBalanceChangeField&&e._withdrawTokenOptionIdField))throw new Error("Value is not ready yet!");return e._value instanceof yt?new jd(e._value,"withdraw-lab-switch",yield e._idField.getValue(),yield e._nameField.getValue(),yield e._descriptionField.getValue(),yield e._tokenBalanceChangeField.getValue(),!1,yield e._withdrawTokenOptionIdField.getValue()):(e._value.name=yield e._nameField.getValue(),e._value.description=yield e._descriptionField.getValue(),e._value.tokenBalanceChange=yield e._tokenBalanceChangeField.getValue(),e._value.withdrawTokenOptionId=yield e._withdrawTokenOptionIdField.getValue(),e._value)})()}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275cmp=$e({type:t,selectors:[["app-withdraw-lab-switch-token-option-field"]],viewQuery:function(e,i){if(1&e&&(pe(oX,7),pe(aX,7),pe(lX,7),pe(uX,7),pe(cX,7)),2&e){let r;de(r=fe())&&(i._idField=r.first),de(r=fe())&&(i._nameField=r.first),de(r=fe())&&(i._descriptionField=r.first),de(r=fe())&&(i._tokenBalanceChangeField=r.first),de(r=fe())&&(i._withdrawTokenOptionIdField=r.first)}},features:[_t],decls:10,vars:5,consts:[["label","ID",3,"isReadOnly"],["idFieldComponent",""],["label","Name",3,"isReadOnly"],["nameFieldComponent",""],["label","Description",3,"isReadOnly"],["descriptionFieldComponent",""],["label","Token Balance Change",3,"isReadOnly"],["tokenBalanceChangeFieldComponent",""],["label","Withdraw Token Option ID",3,"isReadOnly"],["withdrawTokenOptionIdFieldComponent",""]],template:function(e,i){1&e&&Ae(0,"app-number-input-field",0,1)(2,"app-string-input-field",2,3)(4,"app-string-textarea-field",4,5)(6,"app-number-input-field",6,7)(8,"app-number-input-field",8,9),2&e&&(y("isReadOnly",!0),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly))},dependencies:[qr,Wr,ws]}),t})(),Dx=(()=>{class t{getComponentType(e){return t.REGISTRY[e]}}return t.REGISTRY={basic:ZG,"earn-by-quiz":hJ,"earn-by-module":sJ,"earn-by-survey":CJ,"spend-for-lab-data":$J,"spend-for-assignment-resubmission":AJ,"withdraw-assignment-resubmission":XJ,"withdraw-lab-data":sX,"spend-for-lab-switch":WJ,"withdraw-lab-switch":dX},t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const fX=["tokenOptionField"];function hX(t,n){if(1&t){const e=Fe();_(0,"button",13),N("click",function(){return H(e),$(w().onDelete())}),M(1," Delete "),g()}2&t&&y("disabled",w().isProcessing)}function pX(t,n){if(1&t){const e=Fe();_(0,"button",14),N("click",function(){return H(e),$(w().onEdit())}),M(1," Edit "),g()}2&t&&y("disabled",w().isProcessing)}function mX(t,n){}let Tx=(()=>{class t{set tokenOptionContainer(e){this._tokenOptionContainer=e,this.initialize()}set optionComponentType(e){this._optionComponentType=e,this.initialize()}set value(e){this._value=e,this.initialize()}constructor(e,i){this.configurationManagerService=e,this.modalManagerService=i,this.typeName="",this.isReadOnly=!0,this.isProcessing=!1}initialize(){if(!this._tokenOptionContainer||!this._optionComponentType||!this._value)return;this.componentRef||(this.componentRef=this._tokenOptionContainer.createComponent(this._optionComponentType)),this.isReadOnly=!!this.isEditing&&!this._value.isMigrating;const e=this.componentRef.instance;e.isReadOnly=this.isReadOnly,e.initValue=this._value}onEdit(){this.componentRef&&(this.isReadOnly=!1,this.componentRef.instance.isReadOnly=!1)}onCreate(){var e=this;return(0,b.Z)(function*(){if(!e.componentRef||e.isEditing)return;if(e.isProcessing=!0,!(yield e.componentRef.instance.validate()))return void(e.isProcessing=!1);const i=yield e.componentRef.instance.getValue(),r=e._value;r.addTokenOption(i),(yield e.configurationManagerService.updateTokenOptionGroup(r))||(yield e.notifyUpdateFailure()),e.isProcessing=!1,e.modalRef?.hide()})()}onSave(){var e=this;return(0,b.Z)(function*(){if(!e.componentRef||!e.isEditing)return;if(e.isProcessing=!0,!(yield e.componentRef.instance.validate()))return void(e.isProcessing=!1);const i=yield e.componentRef.instance.getValue();i.isMigrating&&(i.isMigrating=!1),(yield e.configurationManagerService.updateTokenOptionGroup(i.group))||(yield e.notifyUpdateFailure()),e.isProcessing=!1,e.modalRef?.hide()})()}notifyUpdateFailure(){var e=this;return(0,b.Z)(function*(){yield e.modalManagerService.createNotificationModal('Auto update failed. \nSome students have already taken the quiz that corresponds to the token option group that this token option belongs to. \nPlease click the "Save It Now" button in the quiz management page on Canvas to manually update.')})()}onDelete(){var e=this;return(0,b.Z)(function*(){if(!e.componentRef||!e.isEditing)return;e.isProcessing=!0;const i=e._value,[r,s]=yield e.modalManagerService.createConfirmationModal(`Do you really want to delete the token option '${i.name}'?`,"Confirmation",!0);if(!s)return r.hide(),void(e.isProcessing=!1);r.content&&(r.content.disableButton=!0);const o=i.group;o.deleteTokenOption(i),(yield e.configurationManagerService.updateTokenOptionGroup(o))||(yield e.notifyUpdateFailure()),r.hide(),e.isProcessing=!1,e.modalRef?.hide()})()}get isEditing(){return this._value instanceof Oo}}return t.\u0275fac=function(e){return new(e||t)(T(Yr),T(Ro))},t.\u0275cmp=$e({type:t,selectors:[["app-token-option-management"]],viewQuery:function(e,i){if(1&e&&pe(fX,5,Mi),2&e){let r;de(r=fe())&&(i.tokenOptionContainer=r.first)}},inputs:{typeName:"typeName",optionComponentType:"optionComponentType",value:"value"},decls:20,vars:13,consts:[[1,"modal-header","d-block"],[1,"d-flex","align-items-center"],[1,"modal-title","me-auto"],["type","button","class","btn btn-danger mx-2",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-primary mx-2",3,"disabled","click",4,"ngIf"],["type","button","aria-label","Close",1,"btn-close","close","mx-2",3,"disabled","click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-body"],[2,"max-height","65vh","overflow-y","auto"],["tokenOptionField",""],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark","mx-2",3,"disabled","click"],["type","button",1,"btn","mx-2",3,"disabled","hidden","click"],["type","button",1,"btn","btn-danger","mx-2",3,"disabled","click"],["type","button",1,"btn","btn-primary","mx-2",3,"disabled","click"]],template:function(e,i){1&e&&(_(0,"div",0)(1,"div",1)(2,"h4",2),M(3),g(),V(4,hX,2,1,"button",3),V(5,pX,2,1,"button",4),_(6,"button",5),N("click",function(){return null==i.modalRef?null:i.modalRef.hide()}),_(7,"span",6),M(8,"\xd7"),g()()()(),_(9,"div",7)(10,"p"),M(11),g(),_(12,"div",8),V(13,mX,0,0,"ng-template",null,9,hr),g()(),_(15,"div",10)(16,"button",11),N("click",function(){return null==i.modalRef?null:i.modalRef.hide()}),M(17," Close "),g(),_(18,"button",12),N("click",function(){return i.isEditing?i.onSave():i.onCreate()}),M(19),g()()),2&e&&(m(3),it((i.isEditing?"Edit":"Create")+" Token Option"),m(1),y("ngIf",i.isEditing),m(1),y("ngIf",i.isEditing&&i.isReadOnly),m(1),y("disabled",i.isProcessing),m(5),qt("Type: ",i.typeName,""),m(5),y("disabled",i.isProcessing),m(2),st("btn-primary",i.isEditing)("btn-success",!i.isEditing),y("disabled",i.isProcessing)("hidden",i.isReadOnly),m(1),qt(" ",i.isEditing?"Save":"Create"," "))},dependencies:[Jt]}),t})();function _X(t,n){if(1&t&&(_(0,"option",11),M(1),g()),2&t){const e=n.$implicit;y("ngValue",e[0]),m(1),qt(" ",e[1]," ")}}function gX(t,n){if(1&t){const e=Fe();Bn(0),_(1,"div",1)(2,"h4",2),M(3,"Create Token Option"),g(),_(4,"button",3),N("click",function(){H(e);const r=w();return $(null==r.modalRef?null:r.modalRef.hide())}),_(5,"span",4),M(6,"\xd7"),g()()(),_(7,"div",5)(8,"p"),M(9,"The type of the token option to be created:"),g(),_(10,"select",6),N("ngModelChange",function(r){return H(e),$(w().selectedOption=r)}),V(11,_X,2,2,"option",7),g()(),_(12,"div",8)(13,"button",9),N("click",function(){H(e);const r=w();return $(null==r.modalRef?null:r.modalRef.hide())}),M(14,"Cancel"),g(),_(15,"button",10),N("click",function(){return H(e),$(w().onNextStep())}),M(16,"Next Step"),g()(),Hn()}if(2&t){const e=w();m(10),y("ngModel",e.selectedOption),m(1),y("ngForOf",e.options)}}let yX=(()=>{class t{constructor(e,i,r){this.tokenOptionRegistry=e,this.tokenOptionFieldRegistry=i,this.modalService=r,this.selectedOption=this.options[0]?.[0]}get options(){return this.tokenOptionRegistry.getRegisteredTokenOptionsDescriptiveNames()}onNextStep(){if(!this.group||!this.selectedOption)return;const e=this.tokenOptionFieldRegistry.getComponentType(this.selectedOption),i=this.tokenOptionRegistry.getDescriptiveName(this.selectedOption);if(!e||!i)return;const r=this.modalService.show(Tx,{initialState:{optionComponentType:e,value:this.group,typeName:i},class:"modal-lg",backdrop:"static",keyboard:!1});r.content&&(r.content.modalRef=r),this.modalRef?.hide()}}return t.\u0275fac=function(e){return new(e||t)(T(ew),T(Dx),T(zr))},t.\u0275cmp=$e({type:t,selectors:[["app-create-token-option-modal"]],inputs:{group:"group"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",3,"click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-body","message"],[1,"form-select",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary","me-4",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[3,"ngValue"]],template:function(e,i){1&e&&V(0,gX,17,2,"ng-container",0),2&e&&y("ngIf",i.group)},dependencies:[Ei,Jt,ld,ud,ja,Mr,mr]}),t})();const vX=function(t){return{dropdown:t}},bX=["*"];let wX=(()=>{class t{constructor(){this.autoClose=!0,this.insideClick=!1,this.isAnimated=!1,this.stopOnClickPropagation=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ml=(()=>{class t{constructor(){this.direction="down",this.autoClose=!0,this.insideClick=!1,this.isAnimated=!1,this.stopOnClickPropagation=!1,this.isOpenChange=new ke,this.isDisabledChange=new ke,this.toggleClick=new ke,this.counts=0,this.dropdownMenu=new Promise(e=>{this.resolveDropdownMenu=e})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const Sx=[is({height:0,overflow:"hidden"}),nc("220ms cubic-bezier(0, 0, 0.2, 1)",is({height:"*",overflow:"hidden"}))];let DX=(()=>{class t{constructor(e,i,r,s,o){this._state=e,this.cd=i,this._renderer=r,this._element=s,this.isOpen=!1,this._factoryDropDownAnimation=o.build(Sx),this._subscription=e.isOpenChange.subscribe(a=>{this.isOpen=a;const l=this._element.nativeElement.querySelector(".dropdown-menu");this._renderer.addClass(this._element.nativeElement.querySelector("div"),"open"),l&&(this._renderer.addClass(l,"show"),(l.classList.contains("dropdown-menu-right")||l.classList.contains("dropdown-menu-end"))&&(this._renderer.setStyle(l,"left","auto"),this._renderer.setStyle(l,"right","0")),"up"===this.direction&&(this._renderer.setStyle(l,"top","auto"),this._renderer.setStyle(l,"transform","translateY(-101%)"))),l&&this._state.isAnimated&&this._factoryDropDownAnimation.create(l).play(),this.cd.markForCheck(),this.cd.detectChanges()})}get direction(){return this._state.direction}_contains(e){return this._element.nativeElement.contains(e)}ngOnDestroy(){this._subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(T(ml),T(bo),T(Tn),T(zt),T(lf))},t.\u0275cmp=$e({type:t,selectors:[["bs-dropdown-container"]],hostAttrs:[2,"display","block","position","absolute","z-index","1040"],ngContentSelectors:bX,decls:2,vars:9,consts:[[3,"ngClass"]],template:function(e,i){1&e&&(Hc(),_(0,"div",0),ou(1),g()),2&e&&(st("dropup","up"===i.direction)("show",i.isOpen)("open",i.isOpen),y("ngClass",function rk(t,n,e,i){return sk(J(),tr(),t,n,e,i)}(7,vX,"down"===i.direction)))},dependencies:[Uh],encapsulation:2,changeDetection:0}),t})(),Xw=(()=>{class t{constructor(e,i,r,s,o,a,l){this._elementRef=e,this._renderer=i,this._viewContainerRef=r,this._cis=s,this._state=o,this._config=a,this.dropup=!1,this._isInlineOpen=!1,this._isDisabled=!1,this._subscriptions=[],this._isInited=!1,this._state.autoClose=this._config.autoClose,this._state.insideClick=this._config.insideClick,this._state.isAnimated=this._config.isAnimated,this._state.stopOnClickPropagation=this._config.stopOnClickPropagation,this._factoryDropDownAnimation=l.build(Sx),this._dropdown=this._cis.createLoader(this._elementRef,this._viewContainerRef,this._renderer).provide({provide:ml,useValue:this._state}),this.onShown=this._dropdown.onShown,this.onHidden=this._dropdown.onHidden,this.isOpenChange=this._state.isOpenChange}set autoClose(e){this._state.autoClose=e}get autoClose(){return this._state.autoClose}set isAnimated(e){this._state.isAnimated=e}get isAnimated(){return this._state.isAnimated}set insideClick(e){this._state.insideClick=e}get insideClick(){return this._state.insideClick}set isDisabled(e){this._isDisabled=e,this._state.isDisabledChange.emit(e),e&&this.hide()}get isDisabled(){return this._isDisabled}get isOpen(){return this._showInline?this._isInlineOpen:this._dropdown.isShown}set isOpen(e){e?this.show():this.hide()}get _showInline(){return!this.container}ngOnInit(){this._isInited||(this._isInited=!0,this._dropdown.listen({outsideClick:!1,triggers:this.triggers,show:()=>this.show()}),this._subscriptions.push(this._state.toggleClick.subscribe(e=>this.toggle(e))),this._subscriptions.push(this._state.isDisabledChange.pipe(Sn(e=>e)).subscribe(()=>this.hide())))}show(){if(!this.isOpen&&!this.isDisabled){if(this._showInline)return this._inlinedMenu||this._state.dropdownMenu.then(e=>{this._dropdown.attachInline(e.viewContainer,e.templateRef),this._inlinedMenu=this._dropdown._inlineViewRef,this.addBs4Polyfills(),this._inlinedMenu&&this._renderer.addClass(this._inlinedMenu.rootNodes[0].parentNode,"open"),this.playAnimation()}).catch(),this.addBs4Polyfills(),this._isInlineOpen=!0,this.onShown.emit(!0),this._state.isOpenChange.emit(!0),void this.playAnimation();this._state.dropdownMenu.then(e=>{const i=this.dropup||typeof this.dropup<"u"&&this.dropup;this._state.direction=i?"up":"down";const r=this.placement||(i?"top start":"bottom start");this._dropdown.attach(DX).to(this.container).position({attachment:r}).show({content:e.templateRef,placement:r}),this._state.isOpenChange.emit(!0)}).catch()}}hide(){this.isOpen&&(this._showInline?(this.removeShowClass(),this.removeDropupStyles(),this._isInlineOpen=!1,this.onHidden.emit(!0)):this._dropdown.hide(),this._state.isOpenChange.emit(!1))}toggle(e){return this.isOpen||!e?this.hide():this.show()}_contains(e){return this._elementRef.nativeElement.contains(e.target)||this._dropdown.instance&&this._dropdown.instance._contains(e.target)}navigationClick(e){const i=this._elementRef.nativeElement.querySelector(".dropdown-menu");if(!i)return;const r=this._elementRef.nativeElement.ownerDocument.activeElement,s=i.querySelectorAll(".dropdown-item");switch(e.keyCode){case 38:this._state.counts>0&&s[--this._state.counts].focus();break;case 40:this._state.counts+1<s.length&&(r.classList!==s[this._state.counts].classList?s[this._state.counts].focus():s[++this._state.counts].focus())}e.preventDefault()}ngOnDestroy(){for(const e of this._subscriptions)e.unsubscribe();this._dropdown.dispose()}addBs4Polyfills(){this.addShowClass(),this.checkRightAlignment(),this.addDropupStyles()}playAnimation(){this._state.isAnimated&&this._inlinedMenu&&setTimeout(()=>{this._inlinedMenu&&this._factoryDropDownAnimation.create(this._inlinedMenu.rootNodes[0]).play()})}addShowClass(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.addClass(this._inlinedMenu.rootNodes[0],"show")}removeShowClass(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.removeClass(this._inlinedMenu.rootNodes[0],"show")}checkRightAlignment(){if(this._inlinedMenu&&this._inlinedMenu.rootNodes[0]){const e=this._inlinedMenu.rootNodes[0].classList.contains("dropdown-menu-right")||this._inlinedMenu.rootNodes[0].classList.contains("dropdown-menu-end");this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"left",e?"auto":"0"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"right",e?"0":"auto")}}addDropupStyles(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"top",this.dropup?"auto":"100%"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"transform",this.dropup?"translateY(-101%)":"translateY(0)"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"bottom","auto"))}removeDropupStyles(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"top"),this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"transform"),this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"bottom"))}}return t.\u0275fac=function(e){return new(e||t)(T(zt),T(Tn),T(Mi),T(Ys),T(ml),T(wX),T(lf))},t.\u0275dir=Ve({type:t,selectors:[["","bsDropdown",""],["","dropdown",""]],hostVars:6,hostBindings:function(e,i){1&e&&N("keydown.arrowDown",function(s){return i.navigationClick(s)})("keydown.arrowUp",function(s){return i.navigationClick(s)}),2&e&&st("dropup",i.dropup)("open",i.isOpen)("show",i.isOpen)},inputs:{placement:"placement",triggers:"triggers",container:"container",dropup:"dropup",autoClose:"autoClose",isAnimated:"isAnimated",insideClick:"insideClick",isDisabled:"isDisabled",isOpen:"isOpen"},outputs:{isOpenChange:"isOpenChange",onShown:"onShown",onHidden:"onHidden"},exportAs:["bs-dropdown"],features:[Kt([ml])]}),t})(),kx=(()=>{class t{constructor(e,i,r){e.resolveDropdownMenu({templateRef:r,viewContainer:i})}}return t.\u0275fac=function(e){return new(e||t)(T(ml),T(Mi),T(_s))},t.\u0275dir=Ve({type:t,selectors:[["","bsDropdownMenu",""],["","dropdownMenu",""]],exportAs:["bs-dropdown-menu"]}),t})(),Mx=(()=>{class t{constructor(e,i,r,s,o){this._changeDetectorRef=e,this._dropdown=i,this._element=r,this._renderer=s,this._state=o,this.isOpen=!1,this._subscriptions=[],this._subscriptions.push(this._state.isOpenChange.subscribe(a=>{this.isOpen=a,a?(this._documentClickListener=this._renderer.listen("document","click",l=>{this._state.autoClose&&2!==l.button&&!this._element.nativeElement.contains(l.target)&&(!this._state.insideClick||!this._dropdown._contains(l))&&(this._state.toggleClick.emit(!1),this._changeDetectorRef.detectChanges())}),this._escKeyUpListener=this._renderer.listen(this._element.nativeElement,"keyup.esc",()=>{this._state.autoClose&&(this._state.toggleClick.emit(!1),this._changeDetectorRef.detectChanges())})):(this._documentClickListener&&this._documentClickListener(),this._escKeyUpListener&&this._escKeyUpListener())})),this._subscriptions.push(this._state.isDisabledChange.subscribe(a=>this.isDisabled=a||void 0))}onClick(e){this._state.stopOnClickPropagation&&e.stopPropagation(),!this.isDisabled&&this._state.toggleClick.emit(!0)}ngOnDestroy(){this._documentClickListener&&this._documentClickListener(),this._escKeyUpListener&&this._escKeyUpListener();for(const e of this._subscriptions)e.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(T(bo),T(Xw),T(zt),T(Tn),T(ml))},t.\u0275dir=Ve({type:t,selectors:[["","bsDropdownToggle",""],["","dropdownToggle",""]],hostVars:3,hostBindings:function(e,i){1&e&&N("click",function(s){return i.onClick(s)}),2&e&&zn("aria-haspopup",!0)("disabled",i.isDisabled)("aria-expanded",i.isOpen)},exportAs:["bs-dropdown-toggle"]}),t})(),TX=(()=>{class t{static forRoot(){return{ngModule:t,providers:[Ys,Ao,ml]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=_i({type:t}),t.\u0275inj=oi({imports:[mu]}),t})();const Ex="400ms cubic-bezier(0.4,0.0,0.2,1)",SX=[is({height:0,visibility:"hidden"}),nc(Ex,is({height:"*",visibility:"visible"}))],kX=[is({height:"*",visibility:"visible"}),nc(Ex,is({height:0,visibility:"hidden"}))];let MX=(()=>{class t{constructor(e,i,r){this._el=e,this._renderer=i,this.collapsed=new ke,this.collapses=new ke,this.expanded=new ke,this.expands=new ke,this.isExpanded=!0,this.collapseNewValue=!0,this.isCollapsed=!1,this.isCollapse=!0,this.isCollapsing=!1,this.isAnimated=!1,this._display="block",this._stylesLoaded=!1,this._COLLAPSE_ACTION_NAME="collapse",this._EXPAND_ACTION_NAME="expand",this._factoryCollapseAnimation=r.build(kX),this._factoryExpandAnimation=r.build(SX)}set display(e){this._display=e,"none"!==e?this.isAnimated?this.toggle():this.show():this.hide()}set collapse(e){this.collapseNewValue=e,(!this._player||this._isAnimationDone)&&(this.isExpanded=e,this.toggle())}get collapse(){return this.isExpanded}ngAfterViewChecked(){this._stylesLoaded=!0,this._player&&this._isAnimationDone&&(this._player.reset(),this._renderer.setStyle(this._el.nativeElement,"height","*"))}toggle(){this.isExpanded?this.hide():this.show()}hide(){this.isCollapsing=!0,this.isExpanded=!1,this.isCollapsed=!0,this.isCollapsing=!1,this.collapses.emit(this),this._isAnimationDone=!1,this.animationRun(this.isAnimated,this._COLLAPSE_ACTION_NAME)(()=>{this._isAnimationDone=!0,this.collapseNewValue!==this.isCollapsed&&this.isAnimated?this.show():(this.collapsed.emit(this),this._renderer.setStyle(this._el.nativeElement,"display","none"))})}show(){this._renderer.setStyle(this._el.nativeElement,"display",this._display),this.isCollapsing=!0,this.isExpanded=!0,this.isCollapsed=!1,this.isCollapsing=!1,this.expands.emit(this),this._isAnimationDone=!1,this.animationRun(this.isAnimated,this._EXPAND_ACTION_NAME)(()=>{this._isAnimationDone=!0,this.collapseNewValue!==this.isCollapsed&&this.isAnimated?this.hide():(this.expanded.emit(this),this._renderer.removeStyle(this._el.nativeElement,"overflow"))})}animationRun(e,i){if(!e||!this._stylesLoaded)return s=>s();this._renderer.setStyle(this._el.nativeElement,"overflow","hidden"),this._renderer.addClass(this._el.nativeElement,"collapse");const r=i===this._EXPAND_ACTION_NAME?this._factoryExpandAnimation:this._factoryCollapseAnimation;return this._player&&this._player.reset(),this._player=r.create(this._el.nativeElement),this._player.play(),s=>this._player?.onDone(s)}}return t.\u0275fac=function(e){return new(e||t)(T(zt),T(Tn),T(lf))},t.\u0275dir=Ve({type:t,selectors:[["","collapse",""]],hostVars:9,hostBindings:function(e,i){2&e&&(zn("aria-hidden",i.isCollapsed),st("collapse",i.isCollapse)("in",i.isExpanded)("show",i.isExpanded)("collapsing",i.isCollapsing))},inputs:{display:"display",isAnimated:"isAnimated",collapse:"collapse"},outputs:{collapsed:"collapsed",collapses:"collapses",expanded:"expanded",expands:"expands"},exportAs:["bs-collapse"]}),t})(),EX=(()=>{class t{static forRoot(){return{ngModule:t,providers:[]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=_i({type:t}),t.\u0275inj=oi({}),t})();function OX(t,n){if(1&t&&(_(0,"option",11),M(1),g()),2&t){const e=n.$implicit;y("ngValue",e.value),m(1),qt(" ",e.value," ")}}function IX(t,n){if(1&t&&(_(0,"option",11),M(1),g()),2&t){const e=n.$implicit;y("ngValue",e),m(1),it(e.name)}}function AX(t,n){if(1&t&&(_(0,"option",11),M(1),g()),2&t){const e=n.$implicit;y("ngValue",e),m(1),qt(" ",e.name," ")}}function RX(t,n){if(1&t){const e=Fe();_(0,"select",9),N("ngModelChange",function(r){return H(e),$(w(3).selectedOption=r)}),V(1,AX,2,2,"option",10),g()}if(2&t){const e=w(3);y("ngModel",e.selectedOption),m(1),y("ngForOf",e.validTokenOptions)}}function xX(t,n){1&t&&(_(0,"p"),M(1," There is no valid token option for the operation you are about to perform in the current selected token option group. "),g())}function FX(t,n){if(1&t&&(Bn(0),V(1,RX,2,2,"select",12),V(2,xX,2,0,"ng-template",null,13,hr),Hn()),2&t){const e=Rs(3),i=w(2);m(1),y("ngIf",i.validTokenOptions.length>0)("ngIfElse",e)}}function NX(t,n){if(1&t){const e=Fe();Bn(0),_(1,"select",9),N("ngModelChange",function(r){return H(e),$(w().selectedOperation=r)}),V(2,OX,2,2,"option",10),dr(3,"keyvalue"),g(),_(4,"select",9),N("ngModelChange",function(r){return H(e),$(w().onSelectTokenOptionGroup(r))}),V(5,IX,2,2,"option",10),g(),V(6,FX,4,2,"ng-container",5),Hn()}if(2&t){const e=w();m(1),y("ngModel",e.selectedOperation),m(1),y("ngForOf",fr(3,5,e.moveOperations)),m(2),y("ngModel",e.selectedGroup),m(1),y("ngForOf",e.configuration.tokenOptionGroups),m(1),y("ngIf",e.validTokenOptions)}}var Rr=(()=>(function(t){t.TO_THE_TOP="To the top of ...",t.BEFORE="Before ...",t.AFTER="After ...",t.TO_THE_BOTTOM="To the bottom of ..."}(Rr||(Rr={})),Rr))();let LX=(()=>{class t{constructor(e,i){this.configurationManagerService=e,this.modalManagerService=i,this.isProcessing=!1,this.moveOperations=Rr,this.selectedOperation=Rr.TO_THE_TOP}onCancel(){this.modalRef?.hide()}onMove(){var e=this;return(0,b.Z)(function*(){if(!e.configuration||!e.srcOption||!e.selectedGroup)return;e.isProcessing=!0;const i=e.srcOption.group;i.deleteTokenOption(e.srcOption);const r=yield e.configurationManagerService.updateTokenOptionGroup(i);e.srcOption.group=e.selectedGroup,e.selectedGroup.addTokenOption(e.srcOption,e.destIndex);const s=yield e.configurationManagerService.updateTokenOptionGroup(e.selectedGroup);if(!r||!s){const o=[r?void 0:i,s||i==e.selectedGroup&&!r?void 0:e.selectedGroup].filter(l=>null!=l).map(l=>l?.name??""),a=Fo(o.length,"token option group");yield e.modalManagerService.createNotificationModal(`Auto update failed for ${a}: ${o.join(", ")}. Please go to Canvas and click the "Save It Now" button in the quiz management page of the quiz or quizzes that the ${a} mentioned above belong to.`)}e.modalRef?.hide()})()}get destIndex(){switch(this.selectedOperation){case Rr.TO_THE_TOP:return 0;case Rr.TO_THE_BOTTOM:return this.selectedGroup?.tokenOptions.length??-1;case Rr.BEFORE:return this.selectedOption?this.selectedGroup?.tokenOptions.indexOf(this.selectedOption)??-1:-1;case Rr.AFTER:return this.selectedOption?(this.selectedGroup?.tokenOptions.indexOf(this.selectedOption)??-2)+1:-1}}onSelectTokenOptionGroup(e){this.selectedGroup=e,this.selectedOption=void 0}get validTokenOptions(){if(this.selectedGroup&&this.selectedOperation!=Rr.TO_THE_TOP&&this.selectedOperation!=Rr.TO_THE_BOTTOM)return this.selectedGroup.tokenOptions.filter(e=>e!=this.srcOption)}get isValidSelection(){return!(!this.selectedGroup||this.selectedOperation!=Rr.TO_THE_TOP&&this.selectedOperation!=Rr.TO_THE_BOTTOM&&!this.selectedOption)}}return t.\u0275fac=function(e){return new(e||t)(T(Yr),T(Ro))},t.\u0275cmp=$e({type:t,selectors:[["app-move-token-option-modal"]],inputs:{configuration:"configuration",srcOption:"srcOption"},decls:13,vars:4,consts:[[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",3,"disabled","click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-body","message"],[4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary","me-4",3,"disabled","click"],["type","button",1,"btn","btn-success",3,"disabled","click"],[1,"form-select","m-2",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"],["class","form-select m-2",3,"ngModel","ngModelChange",4,"ngIf","ngIfElse"],["noValidTokenOption",""]],template:function(e,i){1&e&&(_(0,"div",0)(1,"h4",1),M(2,"Move Token Option"),g(),_(3,"button",2),N("click",function(){return i.onCancel()}),_(4,"span",3),M(5,"\xd7"),g()()(),_(6,"div",4),V(7,NX,7,7,"ng-container",5),g(),_(8,"div",6)(9,"button",7),N("click",function(){return i.onCancel()}),M(10," Cancel "),g(),_(11,"button",8),N("click",function(){return i.onMove()}),M(12," Move "),g()()),2&e&&(m(3),y("disabled",i.isProcessing),m(4),y("ngIf",i.configuration),m(2),y("disabled",i.isProcessing),m(2),y("disabled",i.isProcessing||!i.isValidSelection))},dependencies:[Ei,Jt,ld,ud,ja,Mr,mr,RM]}),t})();function PX(t,n){1&t&&(Bn(0),Ae(1,"span",5),M(2," Migrating "),Ae(3,"span",6),M(4," Save It to Complete "),Hn())}function VX(t,n){if(1&t){const e=Fe();_(0,"ul",10)(1,"li",11),N("click",function(){return H(e),$(w(3).onMove())}),_(2,"span"),Ae(3,"i",12),M(4,"Move"),g()(),Ae(5,"li",13),_(6,"li",11),N("click",function(){return H(e),$(w(3).onDelete())}),_(7,"span",14),Ae(8,"i",15),M(9,"Delete"),g()()()}}function BX(t,n){1&t&&(_(0,"div")(1,"div",7),Ae(2,"span",8),V(3,VX,10,0,"ul",9),g()())}function HX(t,n){if(1&t){const e=Fe();Bn(0),_(1,"div",1),N("mouseenter",function(){return H(e),$(w().hoverFocus=!0)})("mouseleave",function(){return H(e),$(w().hoverFocus=!1)}),_(2,"div",2),N("click",function(){return H(e),$(w().onViewTokenOption())}),_(3,"span",3),M(4),g(),Ae(5,"br"),_(6,"span",4),M(7),Ae(8,"span",5),M(9),V(10,PX,5,0,"ng-container",0),g()(),V(11,BX,4,0,"div",0),g(),Hn()}if(2&t){const e=w();m(4),it(e.option.name),m(3),qt("",e.descriptiveName," "),m(2),qt(" ",(e.option.tokenBalanceChange>0?"Earn ":"Spend ")+e.getAbsValue(e.option.tokenBalanceChange).toString()+" token"+(1===e.getAbsValue(e.option.tokenBalanceChange)?"":"s")," "),m(1),y("ngIf",e.option.isMigrating),m(1),y("ngIf",e.hoverFocus)}}let $X=(()=>{class t{constructor(e,i,r,s,o){this.modalService=e,this.fieldRegistry=i,this.tokenOptionRegistry=r,this.modalManagerService=s,this.configurationManagerService=o,this.hoverFocus=!1}getAbsValue(e){return Math.abs(e)}onViewTokenOption(){if(!this.option)return;const e=this.fieldRegistry.getComponentType(this.option.type),i=this.tokenOptionRegistry.getDescriptiveName(this.option.type);if(!e||null==i)return;const r=this.modalService.show(Tx,{initialState:{optionComponentType:e,value:this.option,typeName:i},class:"modal-lg",backdrop:"static",keyboard:!1});r.content&&(r.content.modalRef=r)}get descriptiveName(){if(this.option)return this.tokenOptionRegistry.getDescriptiveName(this.option.type)}onMove(){var e=this;return(0,b.Z)(function*(){if(!e.option)return;const i=e.modalService.show(LX,{initialState:{configuration:e.option.group.configuration,srcOption:e.option},backdrop:"static",keyboard:!1});i.content&&(i.content.modalRef=i)})()}onDelete(){var e=this;return(0,b.Z)(function*(){if(!e.option)return;const[i,r]=yield e.modalManagerService.createConfirmationModal(`Do you really want to delete the token option '${e.option.name}'?`,"Confirmation",!0);if(!r)return void i.hide();i.content&&(i.content.disableButton=!0);const s=e.option.group;s.deleteTokenOption(e.option),(yield e.configurationManagerService.updateTokenOptionGroup(s))||(yield e.modalManagerService.createNotificationModal('Auto update failed. \nSome students have already taken the Canvas quiz that corresponds to the token option group that this token option belongs to. \nPlease click the "Save It Now" button in the quiz management page on Canvas to manually update.')),i.hide()})()}}return t.\u0275fac=function(e){return new(e||t)(T(zr),T(Dx),T(ew),T(Ro),T(Yr))},t.\u0275cmp=$e({type:t,selectors:[["app-token-option-display"]],inputs:{option:"option"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"d-flex","align-items-center",3,"mouseenter","mouseleave"],[1,"is-link","flex-grow-1",3,"click"],[1,"fs-4"],[1,"fs-6","fw-light","text-secondary"],[1,"bi","bi-dot"],[1,"bi","bi-exclamation-triangle-fill","text-warning"],["dropdown","",1,"btn-group"],["dropdownToggle","",1,"bi","bi-three-dots-vertical","fs-5","mx-3","is-link"],["class","dropdown-menu dropdown-menu-right border-dark text-center",4,"dropdownMenu"],[1,"dropdown-menu","dropdown-menu-right","border-dark","text-center"],[1,"is-link",3,"click"],[1,"bi","bi-arrows-move","me-2"],[1,"divider","dropdown-divider"],[1,"text-danger"],[1,"bi","bi-trash-fill","me-2"]],template:function(e,i){1&e&&V(0,HX,12,5,"ng-container",0),2&e&&y("ngIf",i.option)},dependencies:[Jt,kx,Mx,Xw]}),t})();function jX(t,n){if(1&t){const e=Fe();_(0,"ul",13)(1,"li",14),N("click",function(){return H(e),$(w(2).onEditGroup())}),_(2,"span"),Ae(3,"i",15),M(4,"Edit"),g()(),Ae(5,"li",16),_(6,"li",14),N("click",function(){return H(e),$(w(2).onDeleteGroup())}),_(7,"span",17),Ae(8,"i",18),M(9,"Delete"),g()()()}}function UX(t,n){if(1&t&&(_(0,"li",21),Ae(1,"app-token-option-display",22),g()),2&t){const e=n.$implicit;m(1),y("option",e)}}function YX(t,n){if(1&t&&(Bn(0),_(1,"ul",19),V(2,UX,2,1,"li",20),g(),Hn()),2&t){const e=w(2);m(2),y("ngForOf",e.group.tokenOptions)}}function zX(t,n){1&t&&(_(0,"p",23),M(1," No token options here. Click "),Ae(2,"span",24),M(3," on the top-right corner of the token option group to create new token options. "),g())}function qX(t,n){if(1&t){const e=Fe();Bn(0),_(1,"div",1),N("mouseenter",function(){return H(e),$(w().hovering=!0)})("mouseleave",function(){return H(e),$(w().hovering=!1)}),_(2,"div",2),N("click",function(){H(e);const r=w();return $(r.isCollapsed=!r.isCollapsed)}),Ae(3,"i",3),_(4,"span",4),M(5),g()(),Bn(6),_(7,"span",5),N("click",function(){H(e);const r=w();return $(r.group.isPublished?r.onUnpublishGroup():r.onPublishGroup())}),g(),_(8,"span",6),N("click",function(){return H(e),$(w().onCreateTokenOption())}),g(),_(9,"div",7),Ae(10,"span",8),V(11,jX,10,0,"ul",9),g(),Hn(),g(),_(12,"div",10),V(13,YX,3,1,"ng-container",11),V(14,zX,4,0,"ng-template",null,12,hr),g(),Hn()}if(2&t){const e=Rs(15),i=w();m(3),st("bi-caret-down-fill",!i.isCollapsed)("bi-caret-right-fill",i.isCollapsed),m(2),it(i.group.name),m(2),st("bi-check-circle",i.group.isPublished)("bi-slash-circle",!i.group.isPublished),m(5),y("collapse",i.isCollapsed)("isAnimated",!0),m(1),y("ngIf",i.group.tokenOptions.length>0)("ngIfElse",e)}}let WX=(()=>{class t{constructor(e,i,r){this.modalService=e,this.modalManagerService=i,this.configurationManagerService=r,this.isCollapsed=!1,this.hovering=!1}onEditGroup(){if(!this.group)return;const e=this.modalService.show(IA,{initialState:{group:this.group}});e.content&&(e.content.modalRef=e)}onCreateTokenOption(){var e=this;return(0,b.Z)(function*(){if(!e.group)return;const i=e.modalService.show(yX,{initialState:{group:e.group}});i.content&&(i.content.modalRef=i)})()}onPublishGroup(){var e=this;return(0,b.Z)(function*(){if(!e.group)return;const[i,r]=yield e.modalManagerService.createConfirmationModal(`Do you really want to publish the token option group '${e.group.name}'?`);r?(i.content&&(i.content.disableButton=!0),yield e.configurationManagerService.publishTokenOptionGroup(e.group),i.hide()):i.hide()})()}onUnpublishGroup(){var e=this;return(0,b.Z)(function*(){if(!e.group)return;const[i,r]=yield e.modalManagerService.createConfirmationModal(`Do you really want to unpublish the token option group '${e.group.name}'?`);r?(i.content&&(i.content.disableButton=!0),(yield e.configurationManagerService.unpublishTokenOptionGroup(e.group))||(yield e.modalManagerService.createNotificationModal(`Unpublishing token option group '${e.group.name}' failed. \nSome students have already taken the Canvas quiz for this token option group.`,"Error")),i.hide()):i.hide()})()}onDeleteGroup(){var e=this;return(0,b.Z)(function*(){if(!e.group)return;const[i,r]=yield e.modalManagerService.createConfirmationModal(`Do you really want to delete the token option group '${e.group.name}'?`,"Confirmation",!0);r?(i.content&&(i.content.disableButton=!0),yield e.configurationManagerService.deleteTokenOptionGroup(e.group),i.hide()):i.hide()})()}}return t.\u0275fac=function(e){return new(e||t)(T(zr),T(Ro),T(Yr))},t.\u0275cmp=$e({type:t,selectors:[["app-token-option-group-display"]],inputs:{group:"group"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"d-flex","border","border-secondary","border-2","rounded","align-items-center",3,"mouseenter","mouseleave"],[1,"d-inline","flex-grow-1","mx-2",3,"click"],[1,"bi"],[1,"fs-3"],[1,"bi","fs-5","mx-3","is-link",3,"click"],[1,"bi","bi-plus-circle","text-success","fs-5","mx-3","is-link",3,"click"],["dropdown","",1,"btn-group"],["dropdownToggle","",1,"bi","bi-three-dots-vertical","fs-5","mx-3","is-link"],["class","dropdown-menu dropdown-menu-right border-dark text-center",4,"dropdownMenu"],[1,"mx-2","border","border-dark","rounded","disable-top-border",3,"collapse","isAnimated"],[4,"ngIf","ngIfElse"],["emptyPrompt",""],[1,"dropdown-menu","dropdown-menu-right","border-dark","text-center"],[1,"is-link",3,"click"],[1,"bi","bi-pencil-fill","me-2"],[1,"divider","dropdown-divider"],[1,"text-danger"],[1,"bi","bi-trash-fill","me-2"],[1,"list-group","list-group-flush","m-1"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],[3,"option"],[1,"text-center"],[1,"bi","bi-plus-circle","text-success"]],template:function(e,i){1&e&&V(0,qX,16,13,"ng-container",0),2&e&&y("ngIf",i.group)},dependencies:[Ei,Jt,kx,Mx,Xw,MX,$X],styles:[".disable-top-border[_ngcontent-%COMP%]{border-top:0rem!important}"]}),t})();function GX(t,n){1&t&&(_(0,"div",2),Ae(1,"app-canvas-loading-toast"),g())}function ZX(t,n){if(1&t&&(_(0,"div",8),Ae(1,"app-token-option-group-display",9),g()),2&t){const e=n.$implicit;m(1),y("group",e)}}function QX(t,n){if(1&t){const e=Fe();Bn(0),_(1,"div",4)(2,"div",5)(3,"button",6),N("click",function(){return H(e),$(w(2).onCreateTokenOptionGroup())}),M(4," New Token Option Group "),g()(),V(5,ZX,2,1,"div",7),g(),Hn()}if(2&t){const e=w(2);m(5),y("ngForOf",e.configuration.tokenOptionGroups)}}function KX(t,n){1&t&&V(0,QX,6,1,"ng-container",3),2&t&&y("ngIf",w().configuration)}let JX=(()=>{class t{constructor(e,i){this.configurationManagerService=e,this.modalService=i}configureCourse(e){var i=this;return(0,b.Z)(function*(){i.course=e,i.configuration=yield i.configurationManagerService.getTokenATMConfiguration(i.course)})()}onCreateTokenOptionGroup(){if(!this.configuration)return;const e=this.modalService.show(IA,{initialState:{configuration:this.configuration}});e.content&&(e.content.modalRef=e)}}return t.\u0275fac=function(e){return new(e||t)(T(Yr),T(zr))},t.\u0275cmp=$e({type:t,selectors:[["app-token-option-configuration"]],decls:3,vars:2,consts:[["appCenter","",4,"ngIf","ngIfElse"],["tokenOptionPanel",""],["appCenter",""],[4,"ngIf"],[1,"container","mt-3"],[1,"row","align-items-end","mb-2"],[1,"col-auto","btn","btn-outline-success","ms-auto",3,"click"],["class","mb-5",4,"ngFor","ngForOf"],[1,"mb-5"],[3,"group"]],template:function(e,i){if(1&e&&(V(0,GX,2,0,"div",0),V(1,KX,1,1,"ng-template",null,1,hr)),2&e){const r=Rs(2);y("ngIf",!i.configuration)("ngIfElse",r)}},dependencies:[Ei,Jt,ma,WX,Hu]}),t})();var eee=ue(28);function tee(t,n){if(1&t&&(_(0,"div",12),Ae(1,"div",13),g()),2&t){const e=w(2);m(1),go("width",e.progress+"%")}}function nee(t,n){if(1&t&&(_(0,"div"),M(1),g()),2&t){const e=w(2);m(1),it(e.progressMessage)}}function iee(t,n){if(1&t){const e=Fe();Bn(0),_(1,"input",9),N("change",function(r){return H(e),$(w().onSelectFile(r))}),g(),_(2,"div",10),V(3,tee,2,2,"div",11),V(4,nee,2,1,"div",5),g(),Hn()}if(2&t){const e=w();m(3),y("ngIf",e.progress),m(1),y("ngIf",e.progressMessage)}}let ree=(()=>{class t{constructor(e,i){this.managerService=e,this.canvasService=i,this.isProcessing=!1}onSelectFile(e){this.selectedFile=e.target?.files[0]}onImportCSV(){var e=this;return(0,b.Z)(function*(){if(!e.selectedFile||!e.configuration)return;let i;e.isProcessing=!0;const r=new Promise(a=>{i=a});eee.parse(e.selectedFile,{complete:a=>{i(a.data)}});const s=yield r;let o=0;for(const a of s){if(o++,e.progress=((o-1)/s.length*100).toFixed(2),e.progressMessage=`${o-1} out of ${Fo(s.length,"record")} processed`,!Array.isArray(a)||2!=a.length&&3!=a.length)continue;const l=a[0];if("string"!=typeof l)continue;const u=parseFloat(a[1]);if(isNaN(u))continue;const c=a[2],d=yield e.canvasService.getStudentByEmail(e.configuration.course.id,l);if(!d)continue;const f=yield e.managerService.getStudentRecord(e.configuration,d),h=new Date;yield e.managerService.logProcessedRequest(e.configuration,f,new hi(e.configuration,-1,"Manual Adjustment",f.student,!0,h,h,u,c??""))}e.modalRef?.hide()})()}}return t.\u0275fac=function(e){return new(e||t)(T(Xb),T(An))},t.\u0275cmp=$e({type:t,selectors:[["app-batch-token-balance-adjustment-modal"]],inputs:{configuration:"configuration"},decls:13,vars:4,consts:[[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",3,"disabled","click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-body","message"],[4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary","me-4",3,"disabled","click"],["type","button",1,"btn","btn-success",3,"disabled","click"],["type","file","accept",".csv",1,"form-control",3,"change"],[1,"d-flex","flex-column","align-items-center","justify-content-center"],["class","progress m-3 mx-auto","style","width: 15rem",4,"ngIf"],[1,"progress","m-3","mx-auto",2,"width","15rem"],["role","progressbar",1,"progress-bar","progress-bar-striped","bg-success"]],template:function(e,i){1&e&&(_(0,"div",0)(1,"h4",1),M(2,"Import CSV"),g(),_(3,"button",2),N("click",function(){return null==i.modalRef?null:i.modalRef.hide()}),_(4,"span",3),M(5,"\xd7"),g()()(),_(6,"div",4),V(7,iee,5,2,"ng-container",5),g(),_(8,"div",6)(9,"button",7),N("click",function(){return null==i.modalRef?null:i.modalRef.hide()}),M(10," Cancel "),g(),_(11,"button",8),N("click",function(){return i.onImportCSV()}),M(12,"Import"),g()()),2&e&&(m(3),y("disabled",i.isProcessing),m(4),y("ngIf",i.configuration),m(2),y("disabled",i.isProcessing),m(2),y("disabled",i.isProcessing))},dependencies:[Jt]}),t})();function see(t,n){if(1&t&&(_(0,"option",13),M(1),g()),2&t){const e=n.$implicit;y("ngValue",e),m(1),it(e.name)}}function oee(t,n){if(1&t&&(_(0,"option",13),M(1),g()),2&t){const e=n.$implicit;y("ngValue",e),m(1),qt(" ",e.name," ")}}function aee(t,n){if(1&t){const e=Fe();_(0,"select",9),N("ngModelChange",function(r){return H(e),$(w(2).tokenOption=r)}),V(1,oee,2,2,"option",10),g()}if(2&t){const e=w(2);y("ngModel",e.tokenOption),m(1),y("ngForOf",e.getValidTokenOptions(e.tokenOptionGroup))}}function lee(t,n){1&t&&(_(0,"p"),M(1," There is no valid token option for the operation you are about to perform in the current selected token option group. "),g())}function uee(t,n){if(1&t){const e=Fe();Bn(0),_(1,"select",9),N("ngModelChange",function(r){return H(e),$(w().onSelectTokenOptionGroup(r))}),V(2,see,2,2,"option",10),g(),V(3,aee,2,2,"select",11),V(4,lee,2,0,"ng-template",null,12,hr),Hn()}if(2&t){const e=Rs(5),i=w();m(1),y("ngModel",i.tokenOptionGroup),m(1),y("ngForOf",i.configuration.tokenOptionGroups),m(1),y("ngIf",i.tokenOptionGroup&&i.getValidTokenOptions(i.tokenOptionGroup).length>0)("ngIfElse",e)}}let cee=(()=>{class t{constructor(){this.isProcessing=!1}onCancel(){this.onResolve&&this.onResolve(void 0)}onPickTokenOption(){!this.configuration||!this.onResolve||!this.tokenOption||(this.isProcessing=!0,this.onResolve(this.tokenOption))}onSelectTokenOptionGroup(e){this.tokenOptionGroup=e,this.tokenOption=void 0}getValidTokenOptions(e){return this.filter?e.tokenOptions.filter(this.filter):e.tokenOptions}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=$e({type:t,selectors:[["app-pick-token-option-modal"]],inputs:{configuration:"configuration",onResolve:"onResolve",filter:"filter"},decls:13,vars:4,consts:[[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",3,"disabled","click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-body","message"],[4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary","me-4",3,"disabled","click"],["type","button",1,"btn","btn-success",3,"disabled","click"],[1,"form-select","m-2",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["class","form-select m-2",3,"ngModel","ngModelChange",4,"ngIf","ngIfElse"],["noValidTokenOption",""],[3,"ngValue"]],template:function(e,i){1&e&&(_(0,"div",0)(1,"h4",1),M(2,"Pick Token Option"),g(),_(3,"button",2),N("click",function(){return i.onCancel()}),_(4,"span",3),M(5,"\xd7"),g()()(),_(6,"div",4),V(7,uee,6,4,"ng-container",5),g(),_(8,"div",6)(9,"button",7),N("click",function(){return i.onCancel()}),M(10," Cancel "),g(),_(11,"button",8),N("click",function(){return i.onPickTokenOption()}),M(12," Pick "),g()()),2&e&&(m(3),y("disabled",i.isProcessing),m(4),y("ngIf",i.configuration),m(2),y("disabled",i.isProcessing),m(2),y("disabled",i.isProcessing||!i.tokenOption))},dependencies:[Ei,Jt,ld,ud,ja,Mr,mr]}),t})();function dee(t,n){1&t&&(_(0,"div",2),Ae(1,"app-canvas-loading-toast"),g())}function fee(t,n){if(1&t&&(_(0,"li",13),M(1),g()),2&t){const e=w(3);m(1),qt(" Email: ",e.studentRecord.student.email," ")}}function hee(t,n){if(1&t&&(_(0,"tr")(1,"td"),M(2),g(),_(3,"td"),M(4),g(),_(5,"td"),M(6),g(),_(7,"td"),M(8),g(),_(9,"td"),M(10),g(),_(11,"td"),M(12),g()()),2&t){const e=n.$implicit,i=w(4);m(2),it(e.tokenOptionName),m(2),it(i.formatDate(e.submittedTime)),m(2),it(i.formatDate(e.processedTime)),m(2),it(e.isApproved?"Approved":"Rejected"),m(2),it(e.tokenBalanceChange),m(2),it(e.message)}}function pee(t,n){if(1&t){const e=Fe();_(0,"div",21)(1,"div",9)(2,"div",22)(3,"h5",23),M(4,"Request History"),g(),_(5,"button",19),N("click",function(){return H(e),$(w(3).onCreateProcessedRequest())}),M(6," Make Request on Student's Behalf "),g()(),_(7,"div",24)(8,"table",25)(9,"thead")(10,"tr")(11,"th",26),M(12,"Token Option Name"),g(),_(13,"th",26),M(14,"Submitted Time"),g(),_(15,"th",26),M(16,"Processed Time"),g(),_(17,"th",26),M(18,"Status"),g(),_(19,"th",26),M(20,"Token Balance Change"),g(),_(21,"th",26),M(22,"Message"),g()()(),_(23,"tbody"),V(24,hee,13,6,"tr",27),g()()()()()}if(2&t){const e=w(3);m(24),y("ngForOf",e.processedRequests)}}function mee(t,n){if(1&t){const e=Fe();Bn(0),_(1,"div",7)(2,"div",8)(3,"div",9)(4,"h5",10),M(5,"Student Information"),g(),_(6,"div",11)(7,"ul",12)(8,"li",13),M(9),g(),_(10,"li",13),M(11),g(),V(12,fee,2,1,"li",14),_(13,"li",13),M(14),g()()()()(),Ae(15,"div",15),_(16,"div",8)(17,"div",9)(18,"h5",10),M(19,"Token Balance Adjustment"),g(),_(20,"div",11)(21,"div",16)(22,"label"),M(23," Token Adjustment Count "),g(),_(24,"input",17),N("ngModelChange",function(r){return H(e),$(w(2).tokenAdjustmentCount=r)}),g()(),_(25,"div",16)(26,"label"),M(27," Message "),g(),_(28,"textarea",18),N("ngModelChange",function(r){return H(e),$(w(2).tokenAdjustmentMessage=r)}),g()(),_(29,"button",19),N("click",function(){return H(e),$(w(2).onAddManualChange())}),M(30,"Add"),g()()()(),V(31,pee,25,1,"div",20),g(),Hn()}if(2&t){const e=w(2);m(9),qt("Canvas User ID: ",e.studentRecord.student.id,""),m(2),qt("Name: ",e.studentRecord.student.name,""),m(1),y("ngIf",""!==e.studentRecord.student.email),m(2),ty(" Current Token Balance: ",e.studentRecord.tokenBalance," ",1===e.studentRecord.tokenBalance?"token":"tokens"," "),m(10),y("ngModel",e.tokenAdjustmentCount),m(4),y("ngModel",e.tokenAdjustmentMessage),m(3),y("ngIf",e.processedRequests)}}function _ee(t,n){if(1&t){const e=Fe();_(0,"div",3)(1,"div",4)(2,"div")(3,"button",5),N("click",function(){return H(e),$(w().onGoBack())}),M(4,"Back"),g()(),V(5,mee,32,8,"ng-container",6),g()()}if(2&t){const e=w();m(5),y("ngIf",e.studentRecord)}}let gee=(()=>{class t{constructor(e,i,r,s){this.recordManagerService=e,this.modalManagerService=i,this.modalService=r,this.tokenOptionRegistry=s,this.tokenAdjustmentCount=0,this.tokenAdjustmentMessage="",this.goBack=new ke}configureStudent(e,i){var r=this;return(0,b.Z)(function*(){r.studentRecord=void 0,r.tokenAdjustmentCount=0,r.tokenAdjustmentMessage="",r.configuration=e,r.student=i,r.studentRecord=yield r.recordManagerService.getStudentRecord(r.configuration,r.student)})()}formatDate(e){return ha(e,"MMM dd, yyyy kk:mm:ss")}onAddManualChange(){var e=this;return(0,b.Z)(function*(){if(!e.configuration||!e.studentRecord||null==e.tokenAdjustmentCount)return;null==e.tokenAdjustmentMessage&&(e.tokenAdjustmentMessage="");const[i,r]=yield e.modalManagerService.createConfirmationModal("Do you really want to change this student's token balance by "+e.tokenAdjustmentCount.toString()+(""==e.tokenAdjustmentMessage?"?":` with the following message?\n${e.tokenAdjustmentMessage}`));if(r){i.content&&(i.content.disableButton=!0);const s=new Date;yield e.recordManagerService.logProcessedRequest(e.configuration,e.studentRecord,new hi(e.configuration,-1,"Manual Adjustment",e.studentRecord.student,!0,s,s,e.tokenAdjustmentCount,e.tokenAdjustmentMessage)),e.tokenAdjustmentCount=0,e.tokenAdjustmentMessage=""}i.hide()})()}onCreateProcessedRequest(){var e=this;return(0,b.Z)(function*(){if(!e.configuration||!e.studentRecord)return;let i;const r=new Promise(a=>{i=a}),s=e.modalService.show(cee,{initialState:{configuration:e.configuration,onResolve:i,filter:a=>e.tokenOptionRegistry.canCreateRequestByTeacher(a)},backdrop:"static",keyboard:!1}),o=yield r;if(null!=o){const a=new Date;yield e.recordManagerService.logProcessedRequest(e.configuration,e.studentRecord,new hi(e.configuration,o.id,o.name,e.studentRecord?.student,!0,a,a,o.tokenBalanceChange,"This request is made by instructors on your behalf."))}s.hide()})()}onGoBack(){this.goBack.next()}get processedRequests(){return this.studentRecord?.processedRequests.slice(0).reverse()}}return t.\u0275fac=function(e){return new(e||t)(T(Xb),T(Ro),T(zr),T(ew))},t.\u0275cmp=$e({type:t,selectors:[["app-student-record-display"]],outputs:{goBack:"goBack"},decls:3,vars:2,consts:[["appCenter","",4,"ngIf","ngIfElse"],["studentRecordPanel",""],["appCenter",""],[1,"m-5"],[1,"d-flex","flex-column"],[1,"btn","btn-outline-primary","mb-1","ms-5",3,"click"],[4,"ngIf"],[1,"row","m-5"],[1,"col-5","card"],[1,"card-body"],[1,"card-titile"],[1,"card-text"],[1,"list-group","list-group-flush","my-auto"],[1,"list-group-item"],["class","list-group-item",4,"ngIf"],[1,"col-2"],[1,"mb-3"],["type","number","value","0",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-primary",3,"click"],["class","col-12 card my-5",4,"ngIf"],[1,"col-12","card","my-5"],[1,"m-2"],[1,"card-titile","d-inline","mx-2"],[1,"card-text","overflow-auto"],[1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"]],template:function(e,i){if(1&e&&(V(0,dee,2,0,"div",0),V(1,_ee,6,1,"ng-template",null,1,hr)),2&e){const r=Rs(2);y("ngIf",!i.studentRecord)("ngIfElse",r)}},dependencies:[Ei,Jt,Ns,ap,Mr,mr,ma,Hu],styles:["th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{text-align:center}"]}),t})();const yee=["individaulStudentRecordDisplay"];function vee(t,n){1&t&&(_(0,"div",2),Ae(1,"app-canvas-loading-toast"),g())}function bee(t,n){if(1&t&&(_(0,"option",24),M(1),g()),2&t){const e=n.$implicit;y("ngValue",e),m(1),qt(" ",e," ")}}function wee(t,n){if(1&t){const e=Fe();_(0,"tr",25),N("click",function(){const s=H(e).$implicit;return $(w(3).navigateToStudent(s))}),_(1,"td"),M(2),g(),_(3,"td"),M(4),g(),_(5,"td"),M(6),g()()}if(2&t){const e=n.$implicit,i=w(3);let r;m(2),it(e.name),m(2),it(e.email),m(2),it(null!==(r=i.studentGrades.get(e.id))&&void 0!==r?r:0)}}function Cee(t,n){if(1&t){const e=Fe();_(0,"div",14)(1,"div",15)(2,"button",16),N("click",function(){return H(e),$(w(2).prev())}),M(3," Prev "),g(),_(4,"div",17)(5,"span"),M(6,"Number of Students Per Page: "),g(),_(7,"select",18),N("ngModelChange",function(r){return H(e),$(w(2).changePageSize(r))}),V(8,bee,2,2,"option",19),g()(),_(9,"button",16),N("click",function(){return H(e),$(w(2).next())}),M(10," Next "),g()(),_(11,"div")(12,"table",20)(13,"thead")(14,"tr")(15,"th"),M(16,"Student"),g(),_(17,"th"),M(18,"Email"),g(),_(19,"th"),M(20,"Token Balance"),g()()(),_(21,"tbody"),V(22,wee,7,3,"tr",21),g()()(),_(23,"div",22)(24,"button",23),N("click",function(){return H(e),$(w(2).prev())}),M(25," Prev "),g(),_(26,"button",16),N("click",function(){return H(e),$(w(2).next())}),M(27," Next "),g()()()}if(2&t){const e=w(2);st("is-hidden",e.isShowingIndividualStudent),m(2),y("disabled",!e.students.hasPrevPage()||e.isFetchingInfo),m(5),y("ngModel",e.pageCnt),m(1),y("ngForOf",e.POSSIBLE_PAGE_CNTS),m(1),y("disabled",!e.students.hasNextPage()||e.isFetchingInfo),m(13),y("ngForOf",e.students),m(2),y("disabled",!e.students.hasPrevPage()||e.isFetchingInfo),m(2),y("disabled",!e.students.hasNextPage()||e.isFetchingInfo)}}function Dee(t,n){if(1&t){const e=Fe();_(0,"div",3)(1,"button",4),N("click",function(){return H(e),$(w().batchImport())}),M(2," Import CSV for Batch Manual Token Balance Change "),g()(),_(3,"div",5)(4,"label",6),M(5,"Search for Students"),g(),_(6,"div",7)(7,"input",8),N("ngModelChange",function(r){return H(e),$(w().studentSearchTerm=r)}),g()(),_(8,"button",9),N("click",function(){return H(e),$(w().search())}),M(9,"Search"),g(),_(10,"button",10),N("click",function(){return H(e),$(w().clearSearch())}),M(11," Clear "),g()(),V(12,Cee,28,9,"div",11),_(13,"div")(14,"app-student-record-display",12,13),N("goBack",function(){return H(e),$(w().onGoBack())}),g()()}if(2&t){const e=w();st("is-hidden",e.isShowingIndividualStudent),m(3),st("is-hidden",e.isShowingIndividualStudent),m(4),y("ngModel",e.studentSearchTerm),m(1),y("disabled",e.isFetchingInfo),m(2),y("disabled",e.isFetchingInfo),m(2),y("ngIf",e.students&&e.studentGrades),m(1),st("is-hidden",!e.isShowingIndividualStudent)}}let Tee=(()=>{class t{constructor(e,i,r,s){this.canvasService=e,this.tokenATMConfigurationManagerService=i,this.modalService=r,this.modalManagerService=s,this.POSSIBLE_PAGE_CNTS=[5,10,25,50],this.DEFAULT_PAGE_CNT=50,this.isFetchingInfo=!1,this.pageCnt=this.DEFAULT_PAGE_CNT,this.isShowingIndividualStudent=!1,this.studentItemInfo=new Bs("studentSearchTerm","Search for Students","text"),this.studentSearchTerm=""}batchImport(){var e=this;return(0,b.Z)(function*(){if(!e.configuration)return;const i=e.modalService.show(ree,{initialState:{configuration:e.configuration},backdrop:"static",keyboard:!1});i.content&&(i.content.modalRef=i),i.onHide&&(yield function XX(t,n){const e="object"==typeof n;return new Promise((i,r)=>{const s=new G({next:o=>{i(o),s.unsubscribe()},error:r,complete:()=>{e?i(n.defaultValue):r(new cd)}});t.subscribe(s)})}(i.onHide),yield e.refreshStudentList(e.studentSearchTerm))})()}configureCourse(e){var i=this;return(0,b.Z)(function*(){i.course=e,i.configuration=yield i.tokenATMConfigurationManagerService.getTokenATMConfiguration(i.course),yield i.refreshStudentList(i.studentSearchTerm)})()}search(){var e=this;return(0,b.Z)(function*(){null==e.studentSearchTerm||1!=e.studentSearchTerm.length?yield e.refreshStudentList(e.studentSearchTerm):yield e.modalManagerService.createNotificationModal("Canvas does not allow searching for students by one character")})()}clearSearch(){var e=this;return(0,b.Z)(function*(){e.studentSearchTerm="",yield e.refreshStudentList(e.studentSearchTerm)})()}changePageSize(e){var i=this;return(0,b.Z)(function*(){i.pageCnt=e,yield i.refreshStudentList(i.studentSearchTerm)})()}refreshStudentList(e){var i=this;return(0,b.Z)(function*(){i.course&&(i.students=yield i.canvasService.getCourseStudents(i.course.id,i.pageCnt,e),yield i.getStudentGrades())})()}getStudentGrades(){var e=this;return(0,b.Z)(function*(){if(!e.course||!e.configuration||!e.students)return;e.studentGrades=void 0;const i=Array.from(e.students).map(r=>r.id);e.studentGrades=0!=i.length?yield e.canvasService.getStudentsGrades(e.course.id,e.configuration.logAssignmentId,i):new Map})()}prev(){var e=this;return(0,b.Z)(function*(){e.students&&(e.isFetchingInfo=!0,yield e.students.prev(),yield e.getStudentGrades(),e.isFetchingInfo=!1)})()}next(){var e=this;return(0,b.Z)(function*(){e.students&&(e.isFetchingInfo=!0,yield e.students.next(),yield e.getStudentGrades(),e.isFetchingInfo=!1)})()}navigateToStudent(e){var i=this;return(0,b.Z)(function*(){!i.configuration||!i.individaulStudentRecordDisplay||(i.isShowingIndividualStudent=!0,yield i.individaulStudentRecordDisplay.configureStudent(i.configuration,e))})()}onGoBack(){var e=this;return(0,b.Z)(function*(){e.isShowingIndividualStudent=!1,yield e.getStudentGrades()})()}}return t.\u0275fac=function(e){return new(e||t)(T(An),T(Yr),T(zr),T(Ro))},t.\u0275cmp=$e({type:t,selectors:[["app-student-list"]],viewQuery:function(e,i){if(1&e&&pe(yee,5),2&e){let r;de(r=fe())&&(i.individaulStudentRecordDisplay=r.first)}},decls:3,vars:2,consts:[["appCenter","",4,"ngIf","ngIfElse"],["studentListPanel",""],["appCenter",""],[1,"d-flex","align-items-center","justify-content-center","mx-5","mt-5","mb-3"],[1,"btn","btn-primary",3,"click"],[1,"row","align-items-center","justify-content-center","m-5"],[1,"col-auto","d-inline"],[1,"col-4"],["type","text",1,"form-control","mx-2",3,"ngModel","ngModelChange"],[1,"col-auto","btn","btn-primary","mx-2",3,"disabled","click"],[1,"col-auto","btn","btn-outline-danger","mx-2",3,"disabled","click"],["class","flex-column m-5",3,"is-hidden",4,"ngIf"],[3,"goBack"],["individaulStudentRecordDisplay",""],[1,"flex-column","m-5"],[1,"d-flex","align-self-stretch","mx-5","align-items-center"],[1,"btn","btn-dark",3,"disabled","click"],[1,"d-inline-block","mx-auto"],[1,"form-select",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"table"],["class","is-link",3,"click",4,"ngFor","ngForOf"],[1,"d-flex","align-self-stretch","mx-5"],[1,"btn","btn-dark","me-auto",3,"disabled","click"],[3,"ngValue"],[1,"is-link",3,"click"]],template:function(e,i){if(1&e&&(V(0,vee,2,0,"div",0),V(1,Dee,16,10,"ng-template",null,1,hr)),2&e){const r=Rs(2);y("ngIf",!i.students||!i.studentGrades)("ngIfElse",r)}},dependencies:[Ei,Jt,ld,ud,Ns,ja,Mr,mr,ma,gee,Hu],styles:["th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{text-align:center;padding-left:1rem;padding-right:1rem}.is-hidden[_ngcontent-%COMP%]{display:none!important}"]}),t})();function Um(t,n){un(2,arguments);var e=Zn(t),i=Ii(n);if(isNaN(i))return new Date(NaN);if(!i)return e;var r=e.getDate(),s=new Date(e.getTime());return s.setMonth(e.getMonth()+i+1,0),r>=s.getDate()?s:(e.setFullYear(s.getFullYear(),s.getMonth(),r),e)}function eC(t,n){return un(2,arguments),Um(t,12*Ii(n))}let kee=(()=>{class t{constructor(e,i){this.manager=e,this.canvasService=i}configureCourse(e){var i=this;return(0,b.Z)(function*(){i.course=e})()}onRegenerateContent(){var e=this;return(0,b.Z)(function*(){e.course&&(yield e.manager.regenerateContent(yield e.manager.getTokenATMConfiguration(e.course)),console.log("Regeneration finished!"))})()}onDeleteAll(){var e=this;return(0,b.Z)(function*(){e.course&&(yield e.manager.deleteAll(yield e.manager.getTokenATMConfiguration(e.course)),console.log("Delete all finished!"))})()}onCreateConfiguration(){var e=this;return(0,b.Z)(function*(){if(!e.course)return;const i=yield e.manager.createTokenATMConfiguration(e.course,"Just Testing","This is just a test generation of the content");console.log("Configuration created",i)})()}onAddTokenOptionGroup(){var e=this;return(0,b.Z)(function*(){if(!e.course)return;const i=yield e.manager.getTokenATMConfiguration(e.course);yield e.manager.addNewTokenOptionGroup(new yt(i,"Test Token Option Group "+i.tokenOptionGroups.length.toString(),i.nextFreeTokenOptionGroupId,"",`Just a test <b>token option group</b> ${i.tokenOptionGroups.length}`,!1,[])),console.log("Add token option group finished")})()}onAddTokenOption(){var e=this;return(0,b.Z)(function*(){if(!e.course)return;const i=yield e.manager.getTokenATMConfiguration(e.course),r=i.tokenOptionGroups[i.tokenOptionGroups.length-1];if(!r)throw new Error("No token option groups exist in the configuration!");r.addTokenOption(new js(r,"basic",i.nextFreeTokenOptionId,`Test Token Option ${r.tokenOptions.length}`,`Just a test <b>token option</b> ${r.tokenOptions.length}`,r.tokenOptions.length,!1));const s=yield e.manager.updateTokenOptionGroup(r);console.log("Add token option finished!"),s||console.log("auto update failed. Need manual update")})()}onDeleteFirstTokenOptionGroup(){var e=this;return(0,b.Z)(function*(){if(!e.course)return;const i=yield e.manager.getTokenATMConfiguration(e.course);if(!i.tokenOptionGroups[0])throw new Error("No token option groups exist in the configuration!");yield e.manager.deleteTokenOptionGroup(i.tokenOptionGroups[0]),console.log("Delete first token option group finished!")})()}onDeleteFirstTokenOption(){var e=this;return(0,b.Z)(function*(){if(!e.course)return;const r=(yield e.manager.getTokenATMConfiguration(e.course)).tokenOptionGroups[0];if(!r)throw new Error("No token option groups exist in the configuration!");if(!r.tokenOptions[0])throw new Error("No token option exists in the first token option group!");r.deleteTokenOption(r.tokenOptions[0]);const s=yield e.manager.updateTokenOptionGroup(r);console.log("Delete first token option finished!"),s||console.log("auto update failed. Need manual update")})()}onChangeLastTokenOptionGroupPublishState(){var e=this;return(0,b.Z)(function*(){if(!e.course)return;const i=yield e.manager.getTokenATMConfiguration(e.course),r=i.tokenOptionGroups[i.tokenOptionGroups.length-1];if(!r)throw new Error("No token option groups exist in the configuration!");if(r.isPublished){const s=yield e.manager.unpublishTokenOptionGroup(r);console.log("Unpublish operation attempted. Result: ",s)}else yield e.manager.publishTokenOptionGroup(r),console.log("Token option group published!")})()}onResetStudentRecord(){var e=this;return(0,b.Z)(function*(){if(!e.course)return;const i=yield e.manager.getTokenATMConfiguration(e.course);var o,r=!1,s=!1;try{for(var l,a=vi(yield e.canvasService.getCourseStudentEnrollments(e.course.id));r=!(l=yield a.next()).done;r=!1){const u=l.value;yield e.canvasService.gradeSubmission(e.course.id,u.id,i.logAssignmentId,0);for(const c of yield e.canvasService.getSubmissionComments(e.course.id,u.id,i.logAssignmentId))yield e.canvasService.deleteComment(e.course.id,u.id,i.logAssignmentId,c.id)}}catch(u){s=!0,o=u}finally{try{r&&null!=a.return&&(yield a.return())}finally{if(s)throw o}}console.log("Deletion finished!")})()}onPopulateICSExpoConfiguration(){var e=this;return(0,b.Z)(function*(){if(!e.course)return;const i=yield e.manager.getTokenATMConfiguration(e.course),r=new yt(i,"Pass Module",i.nextFreeTokenOptionGroupId,"","Pass module with a specific grade threshold to get tokens!",!0,[]);yield e.manager.addNewTokenOptionGroup(r),r.addTokenOption(new Ga(r,"earn-by-module",i.nextFreeTokenOptionId,"getting tokens by passing module 1","Passing Module 1 with a score no less than 70% of the total score",1,!1,"Module 1","12612114",new Date,.7)),r.addTokenOption(new Ga(r,"earn-by-module",i.nextFreeTokenOptionId,"getting tokens by passing module 2","Passing Module 1 with a score no less than 80% of the total score",2,!1,"Module 2","12612167",new Date,.8)),yield e.manager.updateTokenOptionGroup(r);const s=new yt(i,"Basic Token Options (Testing)",i.nextFreeTokenOptionGroupId,"","Test Token ATM with these basic token options whose requests are always approved!",!0,[]);yield e.manager.addNewTokenOptionGroup(s),s.addTokenOption(new js(r,"basic",i.nextFreeTokenOptionId,"basic token option 1","Just a test <b>token option</b>",100,!1)),s.addTokenOption(new js(r,"basic",i.nextFreeTokenOptionId,"basic token option 2","Just a test <b>token option</b>",.5,!1)),s.addTokenOption(new js(r,"basic",i.nextFreeTokenOptionId,"basic token option 3","Just a test <b>token option</b>",-100,!1)),yield e.manager.updateTokenOptionGroup(s),console.log("Completed!")})()}onMyOperation(){var e=this;return(0,b.Z)(function*(){if(!e.course)return;const i=yield e.manager.getTokenATMConfiguration(e.course),r=new yt(i,"New Feature Testing",i.nextFreeTokenOptionGroupId,"","Testing new features",!0,[]);yield e.manager.addNewTokenOptionGroup(r),r.addTokenOption(new Hd(r,"earn-by-quiz",i.nextFreeTokenOptionId,"Earn by Quiz Testing","Just a description",10,!1,"Argument Driven Inquiry (ADI) Quiz","14478031",new Date,.5)),r.addTokenOption(new Za(r,"spend-for-assignment-resubmission",i.nextFreeTokenOptionId,"Spend for Assignment Resubmission Testing","Just a description",-1,!1,"Test Locked Assignment","38096634",new Date,Um(new Date,1),eC(new Date,1))),r.addTokenOption(new pa(r,"spend-for-lab-data",i.nextFreeTokenOptionId,"Spend for Lab Data Testing","Just a description",-2,!1,"Test Lab Data Quiz","14544887",new Date,Um(new Date,1),eC(new Date,1),[])),r.addTokenOption(new pa(r,"spend-for-lab-data",i.nextFreeTokenOptionId,"Expire Test","Just make it expired",-2,!1,"Test Lab Data Quiz","14544887",new Date,new Date,eC(new Date,1),[])),r.addTokenOption(new $d(r,"earn-by-survey",i.nextFreeTokenOptionId,"Earn by Taking Qualtrics Survey Testing","Just a description",10,!1,"SV_aVQu2sEgpSgSkBw","Email",new Date,Um(new Date,1))),yield e.manager.updateTokenOptionGroup(r),console.log("Completed!")})()}}return t.\u0275fac=function(e){return new(e||t)(T(Yr),T(An))},t.\u0275cmp=$e({type:t,selectors:[["app-dev-test"]],decls:23,vars:0,consts:[["appCenter","",1,"flex-column"],[1,"btn","btn-danger","my-3",3,"click"],[1,"btn","btn-primary","my-3",3,"click"]],template:function(e,i){1&e&&(_(0,"div",0)(1,"button",1),N("click",function(){return i.onRegenerateContent()}),M(2,"Regenerate Content"),g(),_(3,"button",1),N("click",function(){return i.onDeleteAll()}),M(4,"Delete All"),g(),_(5,"button",2),N("click",function(){return i.onCreateConfiguration()}),M(6,"Create Configuration"),g(),_(7,"button",2),N("click",function(){return i.onAddTokenOptionGroup()}),M(8,"Add Token Option Group"),g(),_(9,"button",2),N("click",function(){return i.onAddTokenOption()}),M(10," Add Token Option to the Last Token Option Group "),g(),_(11,"button",1),N("click",function(){return i.onDeleteFirstTokenOptionGroup()}),M(12," Delete First Token Option Group "),g(),_(13,"button",1),N("click",function(){return i.onDeleteFirstTokenOption()}),M(14," Delete First Token Option in the First Token Option Gorup "),g(),_(15,"button",2),N("click",function(){return i.onChangeLastTokenOptionGroupPublishState()}),M(16," Publish/Unpublish Last Token Option Group "),g(),_(17,"button",1),N("click",function(){return i.onResetStudentRecord()}),M(18,"Reset all student records"),g(),_(19,"button",1),N("click",function(){return i.onPopulateICSExpoConfiguration()}),M(20," Populate ICS Expo Testing Configuration "),g(),_(21,"button",1),N("click",function(){return i.onMyOperation()}),M(22,"On My Operation"),g()())},dependencies:[ma]}),t})();const Mee=["moduleNameModal"];function Eee(t,n){1&t&&(_(0,"div",3),Ae(1,"app-canvas-loading-toast"),g())}function Oee(t,n){if(1&t){const e=Fe();_(0,"div",4)(1,"button",5),N("click",function(){return H(e),$(w().onCreateTestingConfiguration())}),M(2," Create Testing Configuration "),g(),_(3,"button",6),N("click",function(){return H(e),$(w().onDeleteAll())}),M(4," Delete All Token-ATM related content "),g(),_(5,"button",6),N("click",function(){return H(e),$(w().onResetContent())}),M(6," Reset Token ATM "),g(),_(7,"button",6),N("click",function(){return H(e),$(w().onMigrate())}),M(8," Migrate Token ATM after a Course Copy/Import "),g()()}if(2&t){const e=w();m(1),y("disabled",e.isProcessing),m(2),y("disabled",e.isProcessing),m(2),y("disabled",e.isProcessing),m(2),y("disabled",e.isProcessing)}}function Iee(t,n){if(1&t){const e=Fe();_(0,"div",7)(1,"h4",8),M(2,"Provide course preparation module name"),g()(),_(3,"div",9)(4,"label",10),M(5,"The name of the course preparation module:"),g(),_(6,"input",11),N("ngModelChange",function(r){return H(e),$(w().moduleName=r)}),g()(),_(7,"div",12)(8,"button",13),N("click",function(){return H(e),$(w().onInputModuleName())}),M(9,"Submit"),g()()}if(2&t){const e=w();m(6),y("ngModel",e.moduleName)}}const Ox=[{name:"Process Request",path:"process-request",component:$G},{name:"Token Options",path:"configure-token-options",component:JX},{name:"Students",path:"students",component:Tee},{name:"Configuration",path:"configuration",component:(()=>{class t{constructor(e,i,r,s){this.configurationManagerService=e,this.canvasService=i,this.modalSerivce=r,this.modalManagerSerivce=s,this.isProcessing=!1}configureCourse(e){var i=this;return(0,b.Z)(function*(){i.course=e})()}onCreateTestingConfiguration(){var e=this;return(0,b.Z)(function*(){if(e.course){e.isProcessing=!0;try{return yield e.canvasService.getPageIdByName(e.course.id,"Token ATM Configuration"),e.isProcessing=!1,void(yield e.modalManagerSerivce.createNotificationModal("There is an existing configuration for this course."))}catch{}try{const i=yield e.configurationManagerService.createTokenATMConfiguration(e.course,"(Complete to earn 1 TOKEN)","This is just a test generation of the content"),r=new yt(i,"Earn & Spend Tokens (Test)",i.nextFreeTokenOptionGroupId,"",String.raw`<p>Students,</p>
            <p>To earn an extra token to be applied to your final exam, please help us try out a new system developed by your fellow UCI students in their ICS capstone course. The purpose of this programming is take make the Token process more automatic - so students don't have to wait for the Head TA to manually process token counts.</p>
            <p>All you need to do is complete this quiz to let their programming (called a Token ATM) know you want to earn a token. You still need to wait for the Head TA to trigger the automatic request processing. To see if your request was approved, look at the Token ATM Log.&nbsp; The Token ATM Log displays your token balance and information about the requests you've made.</p>
            <p>Thanks for helping us test out the Token ATM!</p>`,!0,[]);yield e.configurationManagerService.addNewTokenOptionGroup(r),r.addTokenOption(new js(r,"basic",i.nextFreeTokenOptionId,"Earn 0.5 test tokens","The test tokens you obtained by requesting this token option is just for testing purpose and will not influence your real token counts",.5,!1)),r.addTokenOption(new js(r,"basic",i.nextFreeTokenOptionId,"Spend 1 test token","The test tokens you spent by requesting this token option is just for testing purpose and will not influence your real token counts",-1,!1)),yield e.configurationManagerService.updateTokenOptionGroup(r);const s=new yt(i,"Course Preparation Token (Test)",i.nextFreeTokenOptionGroupId,"",String.raw`<div id="quiz-instructions" class="user_content enhanced">
            <div class="description user_content teacher-version enhanced">
            <p>Students,</p>
            <p>To earn an extra token to be applied to your final exam, please help us try out a new system developed by your fellow UCI students in their ICS capstone course. The purpose of this programming is take make the Token process more automatic - so students don't have to wait for the Head TA to manually process token counts.</p>
            <p>All you need to do is complete this quiz to let their programming (called a Token ATM) know you want to earn a token. You still need to wait for the Head TA to trigger the automatic request processing. To see if your request was approved, look at the Token ATM Log.&nbsp; The Token ATM Log displays your token balance and information about the requests you've made.</p>
            <p>Thanks for helping us test out the Token ATM!</p>
            </div>
            </div>`,!0,[]);yield e.configurationManagerService.addNewTokenOptionGroup(s),e.moduleName="Course Preparation (Must pass with 70% or higher to earn 1 TOKEN)",e.moduleNameModalRef=e.modalSerivce.show(e.moduleNameModalTemplate,{backdrop:"static",keyboard:!1}),yield new Promise(l=>{e.moduleNamePromiseResolve=l});const a=yield e.canvasService.getModuleIdByName(e.course.id,e.moduleName);s.addTokenOption(new Ga(s,"earn-by-module",i.nextFreeTokenOptionId,"Course Preparation Token","To get this test token, you need to pass the Course Preparation Module with a score no less than 70% of the total score. The test token you got is just for testing purpose and will not influence your real token counts",1,!1,e.moduleName,a,new Date,.7)),yield e.configurationManagerService.updateTokenOptionGroup(s),e.isProcessing=!1,yield e.modalManagerSerivce.createNotificationModal("Testing Configuration Created!")}catch(i){yield e.modalManagerSerivce.createNotificationModal(`Error occured when creating test configuration: ${_a.serailize(i)}`,"Error"),e.isProcessing=!1}}})()}onDeleteAll(){var e=this;return(0,b.Z)(function*(){if(!e.course)return;e.isProcessing=!0;const[i,r]=yield e.modalManagerSerivce.createConfirmationModal("Do you really want to delete all Token ATM related content from this course?","Confirmation",!0);if(i.hide(),r)try{const s=yield e.configurationManagerService.getTokenATMConfiguration(e.course);yield e.configurationManagerService.deleteAll(s),e.isProcessing=!1,yield e.modalManagerSerivce.createNotificationModal("All Token ATM related content has been deleted!")}catch(s){yield e.modalManagerSerivce.createNotificationModal(`Error occured when deleting Token ATM related content: ${_a.serailize(s)}\n***ACTION NEEDED***: \nYou can use Canvas to delete the Token ATM content by manually deleting: \n1) the two Canvas pages prefixed with 'Token ATM', \n2) the one Canvas assignment group prefixed with 'Token ATM', and \n3) the one Canvas module prefixed with 'Token ATM'. \n***Sorry for the inconvenience!`,"Error"),e.isProcessing=!1}else e.isProcessing=!1})()}onResetContent(){var e=this;return(0,b.Z)(function*(){if(!e.course)return;e.isProcessing=!0;const[i,r]=yield e.modalManagerSerivce.createConfirmationModal("Do you really want to reset Token ATM for this course? This will cause all information about token balances and requests being deleted! NOTE: if errors occur during reset, there is NO WAY to recover from it! Please export the course content as a backup.","Confirmation",!0);if(!r)return e.isProcessing=!1,void i.hide();i.content&&(i.content.disableButton=!0);try{const s=yield e.configurationManagerService.getTokenATMConfiguration(e.course);yield e.configurationManagerService.regenerateContent(s),yield e.modalManagerSerivce.createNotificationModal("Token ATM is successfully reset!")}catch(s){yield e.modalManagerSerivce.createNotificationModal(`Error occured when resetting Token ATM:\n***ACTION NEEDED*** Please delete the Token ATM content manually by deleting two pages prefixed with Token ATM, one assignment group prefixed with Token ATM, and one module prefixed with Token ATM. After that, please import the course content related to Token ATM (the things you deleted before) from the course export and then perform migration. Sorry for the inconvenience!\nError Message: ${_a.serailize(s)}`)}finally{e.isProcessing=!1,i.hide()}})()}onMigrate(){var e=this;return(0,b.Z)(function*(){if(!e.course)return;e.isProcessing=!0;const[i,r]=yield e.modalManagerSerivce.createConfirmationModal("Do you really want to start the migration of Token ATM for this course? This will cause all information about token balances and requests being deleted! Also, all token option groups will be unpublished, while all token options will need to be saved again to complete the migration. NOTE: if errors occur during migration, there is NO WAY to recover from it! Please export the course content as a backup.","Confirmation",!0);if(!r)return e.isProcessing=!1,void i.hide();i.content&&(i.content.disableButton=!0);try{const s=yield e.configurationManagerService.getTokenATMConfiguration(e.course);yield e.configurationManagerService.regenerateContent(s,!0),yield e.modalManagerSerivce.createNotificationModal("Token ATM migration is started sucessfully! You need to save every token option again to complete the migration.")}catch(s){yield e.modalManagerSerivce.createNotificationModal(`Error occured when migrating Token ATM:\n***ACTION NEEDED*** Please delete the Token ATM content manually by deleting two pages prefixed with Token ATM, one assignment group prefixed with Token ATM, and one module prefixed with Token ATM. After that, please import the course content related to Token ATM (the things you deleted before) from the course export and then try the migration again. Sorry for the inconvenience!\nError Message: ${_a.serailize(s)}`)}finally{e.isProcessing=!1,i.hide()}})()}onInputModuleName(){!this.moduleNameModalRef||!this.moduleNamePromiseResolve||(this.moduleNameModalRef.hide(),this.moduleNamePromiseResolve())}}return t.\u0275fac=function(e){return new(e||t)(T(Yr),T(An),T(zr),T(Ro))},t.\u0275cmp=$e({type:t,selectors:[["app-configuration"]],viewQuery:function(e,i){if(1&e&&pe(Mee,5),2&e){let r;de(r=fe())&&(i.moduleNameModalTemplate=r.first)}},decls:5,vars:2,consts:[["appCenter","",4,"ngIf","ngIfElse"],["configurationPanel",""],["moduleNameModal",""],["appCenter",""],["appCenter","",1,"flex-column"],[1,"btn","btn-primary","my-3",3,"disabled","click"],[1,"btn","btn-danger","my-3",3,"disabled","click"],[1,"modal-header"],[1,"modal-title","pull-left"],[1,"modal-body"],["for","renameText"],["type","text","id","renameText",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-primary","mx-2",3,"click"]],template:function(e,i){if(1&e&&(V(0,Eee,2,0,"div",0),V(1,Oee,9,4,"ng-template",null,1,hr),V(3,Iee,10,1,"ng-template",null,2,hr)),2&e){const r=Rs(2);y("ngIf",!i.course)("ngIfElse",r)}},dependencies:[Jt,Ns,Mr,mr,ma,Hu]}),t})()},{name:"Dev-Test",path:"dev-test",component:kee,canActivate:[()=>!1],isDev:!0}];function xee(t,n){1&t&&Ae(0,"img",12),2&t&&y("src",w().avatarUrl,_g)}function Fee(t,n){if(1&t&&(_(0,"p"),M(1),g()),2&t){const e=w();m(1),it(e.name)}}function Nee(t,n){if(1&t&&(_(0,"p"),M(1),g()),2&t){const e=w();m(1),it(e.email)}}const Lee=function(){return["/","select-course"]};function Pee(t,n){if(1&t&&(_(0,"div",13)(1,"p"),M(2),g(),_(3,"p"),M(4),g(),_(5,"span",14),M(6,"Switch Course"),g()()),2&t){const e=w();m(2),it(e.course.name),m(2),it(e.course.term),m(1),y("routerLink",function ik(t,n,e){const i=tr()+t,r=J();return r[i]===ft?As(r,i,e?n.call(e):n()):function Vc(t,n){return t[n]}(r,i)}(3,Lee))}}function Vee(t,n){if(1&t&&(Bn(0),_(1,"li",15)(2,"span",16),M(3),g()(),Hn()),2&t){const e=n.$implicit;m(2),y("routerLink",e.path),m(1),it(e.name)}}let Bee=(()=>{class t{constructor(e,i){this.router=e,this.canvasService=i,this.courseSubscription=this.router.events.subscribe(r=>{if(!(r instanceof aa)||"/dashboard"!=r.url)return;const s=this.router.getCurrentNavigation()?.extras.state;s&&(this.configureCourse(s),this.configureUserInformation("self"))})}configureUserInformation(e){var i=this;return(0,b.Z)(function*(){const r=yield i.canvasService.getUserInformation(e);i.name=r.name,i.email=r.email,i.avatarUrl=r.avatarURL})()}configureCourse(e){this.course=e}ngOnDestroy(){this.courseSubscription&&this.courseSubscription.unsubscribe()}get routes(){return Ox.filter(e=>!e.isDev)}onComponentActivate(e){var i=this;return(0,b.Z)(function*(){i.course&&"configureCourse"in e&&"function"==typeof e.configureCourse&&(yield e.configureCourse(i.course))})()}}return t.\u0275fac=function(e){return new(e||t)(T(Yi),T(An))},t.\u0275cmp=$e({type:t,selectors:[["app-dashboard"]],decls:13,vars:5,consts:[[1,"d-flex"],["id","sidebar",1,"d-flex","flex-column","flex-shrink-0","align-items-center","px-3","py-5","bg-light","vh-100","me-0","overflow-y-auto"],["src","assets/logo3.png","alt","logo"],[1,"d-flex","flex-column","align-items-center"],["alt","Avatar",3,"src",4,"ngIf"],[4,"ngIf"],["class","d-flex flex-column align-items-center my-5",4,"ngIf"],[1,"nav","nav-pills","flex-column","align-items-center"],[4,"ngFor","ngForOf"],[1,"overflow-auto","vh-100","flex-grow-1"],[1,"flex-grow-1","dashboard-component-container"],[3,"activate"],["alt","Avatar",3,"src"],[1,"d-flex","flex-column","align-items-center","my-5"],[1,"nav-link","fs-5","text-primary","is-link",3,"routerLink"],[1,"nav-item"],["routerLinkActive","fw-bold",1,"nav-link","fs-4","text-dark","is-link",3,"routerLink"]],template:function(e,i){1&e&&(_(0,"div",0)(1,"div",1),Ae(2,"img",2),_(3,"div",3),V(4,xee,1,1,"img",4),V(5,Fee,2,1,"p",5),V(6,Nee,2,1,"p",5),g(),V(7,Pee,7,4,"div",6),_(8,"ul",7),V(9,Vee,4,2,"ng-container",8),g()(),_(10,"div",9)(11,"div",10)(12,"router-outlet",11),N("activate",function(s){return i.onComponentActivate(s)}),g()()()()),2&e&&(m(4),y("ngIf",i.avatarUrl),m(1),y("ngIf",i.name),m(1),y("ngIf",i.email),m(1),y("ngIf",i.course),m(2),y("ngForOf",i.routes))},dependencies:[Ei,Jt,bp,Ip,mO],styles:["#sidebar[_ngcontent-%COMP%]{width:20rem;display:inline}.dashboard-component-container[_ngcontent-%COMP%]{max-height:100vh}"]}),t})();class Ix{constructor(){this.canvasURL="",this.canvasAccessToken="",this.qualtricsDataCenter="",this.qualtricsClientID="",this.qualtricsClientSecret=""}toJSON(){return{canvasURL:this.canvasURL,canvasAccessToken:this.canvasAccessToken,qualtricsDataCenter:this.qualtricsDataCenter,qualtricsClientID:this.qualtricsClientID,qualtricsClientSecret:this.qualtricsClientSecret}}}let Hee=(()=>{class t{getStoredItem(e,i=!0){const r=localStorage.getItem(e);if(!i)return r??"";if(null==r)throw new Error(`${e} not found in localStorage`);return r}storeCredentials(e,i){return(0,b.Z)(function*(){const r=window.crypto.getRandomValues(new Uint8Array(32)),s=yield da.deriveAESKey(i,r),[o,a]=yield da.encryptAES(s,JSON.stringify(e));localStorage.setItem("salt",qi_fromUint8Array(r)),localStorage.setItem("iv",qi_fromUint8Array(o)),localStorage.setItem("data",qi_fromUint8Array(a))})()}retrieveCredentials(e){var i=this;return(0,b.Z)(function*(){const r=new Uint8Array(qi_toUint8Array(i.getStoredItem("salt"))),s=yield da.deriveAESKey(e,r),o=new Uint8Array(qi_toUint8Array(i.getStoredItem("iv"))),a=new Uint8Array(qi_toUint8Array(i.getStoredItem("data"))),l=yield da.decryptAES(s,a,o);return JSON.parse(l)})()}hasCredentials(){return null!=localStorage.getItem("salt")&&null!=localStorage.getItem("iv")&&null!=localStorage.getItem("data")}clearCredentials(){localStorage.removeItem("salt"),localStorage.removeItem("iv"),localStorage.removeItem("data")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const $ee=["retrieveCredentialModal"],jee=["storeCredentialModal"];function Uee(t,n){if(1&t){const e=Fe();Bn(0),_(1,"app-form-item",11),N("dataChange",function(r){const o=H(e).$implicit;return $(w().credentials[o]=r)}),g(),Hn()}if(2&t){const e=n.$implicit,i=w();m(1),y("info",i.getCredentialsFormItemInfoMap()[e])("data",i.credentials[e])}}function Yee(t,n){if(1&t&&(_(0,"p",21),M(1),g()),2&t){const e=w(2);m(1),it(e.unlockCredentialErrorMessage)}}function zee(t,n){if(1&t){const e=Fe();_(0,"div",12)(1,"h4",13),M(2,"Unlock Credentials"),g()(),_(3,"div",14)(4,"form")(5,"app-form-item",11),N("dataChange",function(r){return H(e),$(w().password=r)}),g()(),V(6,Yee,2,1,"p",15),g(),_(7,"div",16)(8,"div",17)(9,"button",18),N("click",function(){H(e);const r=w();return $(null==r.retrieveCredentialModalRef?null:r.retrieveCredentialModalRef.hide())}),M(10," Cancel "),g(),_(11,"button",19),N("click",function(){return H(e),$(w().onDeleteCredentials())}),M(12," Delete saved credentials "),g(),_(13,"button",20),N("click",function(){return H(e),$(w().onUnlockCredentials())}),M(14," Unlock "),g()()()}if(2&t){const e=w();m(5),y("info",e.getPasswordFormItemInfo())("data",e.password),m(1),y("ngIf",e.unlockCredentialErrorMessage),m(3),y("disabled",e.isProcessing),m(2),y("disabled",e.isProcessing),m(2),y("disabled",e.isProcessing)}}function qee(t,n){1&t&&(_(0,"p",21),M(1," Warning: Some credentials have already been saved. Saving new credentials will overwrite the previously saved credentials. "),g())}function Wee(t,n){if(1&t){const e=Fe();_(0,"div",12)(1,"h4",13),M(2,"Save Credentials"),g()(),_(3,"div",14),V(4,qee,2,0,"p",15),_(5,"form")(6,"app-form-item",11),N("dataChange",function(r){return H(e),$(w().password=r)}),g()()(),_(7,"div",16)(8,"div",17)(9,"button",22),N("click",function(){H(e);const r=w();return $(null==r.storeCredentialModalRef?null:r.storeCredentialModalRef.hide())}),M(10," Cancel "),g(),_(11,"button",20),N("click",function(){return H(e),$(w().onSaveCredentials())}),M(12," Save "),g()()()}if(2&t){const e=w();m(4),y("ngIf",e.hasExistingCredentials()),m(2),y("info",e.getPasswordFormItemInfo())("data",e.password),m(3),y("disabled",e.isProcessing),m(2),y("disabled",e.isProcessing)}}class no{constructor(n,e,i,r,s,o){this.canvasService=n,this.qualtricsService=e,this.credentialManagerService=i,this.router=r,this.modalService=s,this.modalManagerService=o,this.credentials=new Ix,this.password="",this.unlockCredentialErrorMessage=void 0,this.isSavingCredentials=!1,this.isProcessing=!1}ngAfterViewInit(){var n=this;return(0,b.Z)(function*(){n.retrieveCredentialModalTemplate&&n.credentialManagerService.hasCredentials()&&(n.password="",n.retrieveCredentialModalRef=n.modalService.show(n.retrieveCredentialModalTemplate,{backdrop:"static",keyboard:!1}))})()}onDeleteCredentials(){this.isProcessing=!0,this.credentialManagerService.clearCredentials(),this.retrieveCredentialModalRef?.hide(),this.isProcessing=!1}onUnlockCredentials(){var n=this;return(0,b.Z)(function*(){n.unlockCredentialErrorMessage=void 0,n.isProcessing=!0;try{n.credentials=yield n.credentialManagerService.retrieveCredentials(n.password)}catch{return n.unlockCredentialErrorMessage="Unlock credentials failed. The password might be wrong, or the saved credentials might have broken.",void(n.isProcessing=!1)}yield n.onSubmitCredential(),n.retrieveCredentialModalRef?.hide(),n.isProcessing=!1})()}getPasswordFormItemInfo(){return new Bs("password","Password","password")}openLink(){window.open("https://docs.google.com/document/d/1KzO0Aic923z5rmvbmKJJ43suaz4IwG4RhmAtLUyVfeY/edit?usp=sharing","_blank")}getCredentialsFormItemInfoMap(){return no.CREDENTIALS_FORM_ITEM_INFO_MAP}getCredentialIDList(){return no.CREDENTIALS_ID_LIST}hasExistingCredentials(){return this.credentialManagerService.hasCredentials()}onClickSubmitButton(){var n=this;return(0,b.Z)(function*(){if(!n.storeCredentialModalTemplate)throw new Error("Store Credential Modal is not available");if(n.isSavingCredentials)return n.password="",void(n.storeCredentialModalRef=n.modalService.show(n.storeCredentialModalTemplate,{backdrop:"static",keyboard:!1}));yield n.onSubmitCredential()})()}onSaveCredentials(){var n=this;return(0,b.Z)(function*(){n.isProcessing=!0,yield n.credentialManagerService.storeCredentials(n.credentials,n.password),yield n.onSubmitCredential(),n.storeCredentialModalRef?.hide(),n.isProcessing=!1})()}onSubmitCredential(){var n=this;return(0,b.Z)(function*(){const e=yield n.canvasService.configureCredential(n.credentials.canvasURL,n.credentials.canvasAccessToken),i=yield n.qualtricsService.configureCredential(n.credentials.qualtricsDataCenter,n.credentials.qualtricsClientID,n.credentials.qualtricsClientSecret);if(null==e&&null==i)return n.credentials=new Ix,void n.router.navigate(["/select-course"]);{const r=[];null!=e&&(r.push("Provided Canvas credentials are invalid. Error Message:"),r.push(_a.serailize(e))),null!=i&&(0!=r.length&&r.push(""),r.push("Provided Qualtrics credentials are invalid. Error Message:"),r.push(_a.serailize(i))),n.canvasService.clearCredential(),n.qualtricsService.clearCredential(),yield n.modalManagerService.createNotificationModal(r.join("\n"),"Error")}})()}}no.CREDENTIALS_FORM_ITEM_INFO_MAP={canvasURL:new Bs("canvasURL","Canvas URL","url","https://canvas.instructure.com",'The URL you use to access your Canvas instance. \nPlease remove the "/" character at the end of the URL if there is one. \nExample: https://canvas.eee.uci.edu'),canvasAccessToken:new Bs("canvasAccessToken","Canvas Access Token","password","",'Please click your avatar on the left sidebar in Canvas and then click "Settings." \nIn the page you are redirected to, please scroll down until you see a "New Access Token" button in a section named "Approved Integrations." \nPlease click that button and follow the instruction to create a new access token, copy it, and then paste it here. \nExample: 1081~prKixoT8pyE04DPBIgmTod2IhyVTNUj7aVhazDI3UKbwt314ha31c6YXgxCpnOxH'),qualtricsDataCenter:new Bs("qualtricsDataCenter","Qualtrics Data Center","text","",'Please access the Account Settings page on Qualtrics and click the "Qualtrics IDs" tab. \nThe value of "Datacenter ID" under the "User" table is what you want. \nExample: iad1'),qualtricsClientID:new Bs("qualtricsClientID","Qualtrics Client ID","text","",'Please access the Account Settings page on Qualtrics and click the "Qualtrics IDs" tab. \nAfter that, clicks "OAuth Client Manager" tab. Press the "New Client" button. \nPlease follow the instruction to create a new client. \nToken ATM *requires* two permissions: read:survey_responses and read:users. \nAfter creation, please copy & paste the Client ID and the Client Secret that pop up. \nExample: m2fdch523fe62h7ds896b06587fhn650'),qualtricsClientSecret:new Bs("qualtricsClientSecret","Qualtrics Client Secret","password","","Please see the tooltip for the Qualtris Client ID for more information. \nPlease note that you can no longer access the Client Secret again once you close the window that pops up after the creation. You will need to create a new Client in that case. \nExample: ye8gf6hGdscTFPn3zVs4Z3YI0amMk2zbccx2KJbhKv0JFrbsKFiOKPvctMYP6UjT")},no.CREDENTIALS_ID_LIST=["canvasURL","canvasAccessToken","qualtricsDataCenter","qualtricsClientID","qualtricsClientSecret"],no.\u0275fac=function(n){return new(n||no)(T(An),T(_m),T(Hee),T(Yi),T(zr),T(Ro))},no.\u0275cmp=$e({type:no,selectors:[["app-login"]],viewQuery:function(n,e){if(1&n&&(pe($ee,5),pe(jee,5)),2&n){let i;de(i=fe())&&(e.retrieveCredentialModalTemplate=i.first),de(i=fe())&&(e.storeCredentialModalTemplate=i.first)}},decls:20,vars:2,consts:[["appCenter",""],[1,"container","text-center"],[1,"text-primary"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center"],["type","checkbox","name","isSavingCredentials","id","checkSaveCredentials",3,"ngModel","ngModelChange"],["for","checkSaveCredentials",1,"ms-2"],["type","button",1,"btn","btn-primary",3,"click"],["type","button","target","_blank",1,"btn","btn-secondary","mt-5",3,"click"],["retrieveCredentialModal",""],["storeCredentialModal",""],[3,"info","data","dataChange"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],[1,"modal-body"],["class","text-danger",4,"ngIf"],[1,"modal-footer"],[1,"d-flex","flex-grow-1"],["type","button",1,"btn","btn-outline-secondary","me-2",3,"disabled","click"],["type","button",1,"btn","btn-danger","me-auto",3,"disabled","click"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[1,"text-danger"],["type","button",1,"btn","btn-outline-secondary","me-auto",3,"disabled","click"]],template:function(n,e){1&n&&(_(0,"div",0)(1,"div",1)(2,"h1",2),M(3,"Welcome to Token ATM"),g(),_(4,"p"),M(5,"Please provide your login credentials"),g(),_(6,"form"),V(7,Uee,2,2,"ng-container",3),_(8,"div",4)(9,"input",5),N("ngModelChange",function(r){return e.isSavingCredentials=r}),g(),_(10,"label",6),M(11,"Save credentials"),g()(),_(12,"button",7),N("click",function(){return e.onClickSubmitButton()}),M(13,"Login"),g()(),_(14,"button",8),N("click",function(){return e.openLink()}),M(15," Having trouble finding your credentials? "),g()()(),V(16,zee,15,6,"ng-template",null,9,hr),V(18,Wee,13,5,"ng-template",null,10,hr)),2&n&&(m(7),y("ngForOf",e.getCredentialIDList()),m(2),y("ngModel",e.isSavingCredentials))},dependencies:[Ei,Jt,Z1,dv,Mr,N1,mr,op,ma,_A]});const tC=t=>!(!Ct(_m).hasCredentialConfigured()||!Ct(An).hasCredentialConfigured())||function kY(t,n,e=null,i=null){return function AE(t,n,e,i){let r=t;for(;r.parent;)r=r.parent;if(0===n.length)return vu(r,r,r,e,i);const s=FE(n);if(s.toRoot())return vu(r,r,new bt([],{}),e,i);const o=function EY(t,n,e){if(t.isAbsolute)return new bu(n,!0,0);if(!e)return new bu(n,!1,NaN);if(null===e.parent)return new bu(e,!0,0);const i=_d(t.commands[0])?0:1;return NE(e,e.segments.length-1+i,t.numberOfDoubleDots)}(s,r,t),a=o.processChildren?wu(o.segmentGroup,o.index,s.commands):Hv(o.segmentGroup,o.index,s.commands);return vu(r,o.segmentGroup,a,e,i)}(function IE(t){let n;const r=Vv(function e(s){const o={};for(const l of s.children){const u=e(l);o[l.outlet]=u}const a=new bt(s.url,o);return s===t&&(n=a),a}(t.root));return n??r}(t),n,e,i)}(t,["/","login"]),Gee=[{path:"login",component:no},{path:"dashboard",component:Bee,children:function Ree(){return[...Ox.map(t=>({...t,name:void 0,isDev:void 0,hidden:void 0})),{path:"",redirectTo:"process-request",pathMatch:"full"}]}(),canActivate:[tC],canActivateChild:[tC]},{path:"select-course",component:B8,canActivate:[tC]},{path:"",pathMatch:"full",redirectTo:"/login"}];let Zee=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=_i({type:t}),t.\u0275inj=oi({imports:[DO.forRoot(Gee),DO]}),t})(),Qee=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=$e({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(e,i){1&e&&Ae(0,"router-outlet")},dependencies:[bp]}),t})();function Ax(t){return new U(3e3,!1)}function Ate(){return typeof window<"u"&&typeof window.document<"u"}function nC(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Ta(t){switch(t.length){case 0:return new uf;case 1:return t[0];default:return new XR(t)}}function Rx(t,n,e,i,r=new Map,s=new Map){const o=[],a=[];let l=-1,u=null;if(i.forEach(c=>{const d=c.get("offset"),f=d==l,h=f&&u||new Map;c.forEach((p,v)=>{let k=v,I=p;if("offset"!==v)switch(k=n.normalizePropertyName(k,o),I){case Hw:I=r.get(v);break;case jo:I=s.get(v);break;default:I=n.normalizeStyleValue(v,k,I,o)}h.set(k,I)}),f||a.push(h),u=h,l=d}),o.length)throw function vte(t){return new U(3502,!1)}();return a}function iC(t,n,e,i){switch(n){case"start":t.onStart(()=>i(e&&rC(e,"start",t)));break;case"done":t.onDone(()=>i(e&&rC(e,"done",t)));break;case"destroy":t.onDestroy(()=>i(e&&rC(e,"destroy",t)))}}function rC(t,n,e){const s=sC(t.element,t.triggerName,t.fromState,t.toState,n||t.phaseName,e.totalTime??t.totalTime,!!e.disabled),o=t._data;return null!=o&&(s._data=o),s}function sC(t,n,e,i,r="",s=0,o){return{element:t,triggerName:n,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function xr(t,n,e){let i=t.get(n);return i||t.set(n,i=e),i}function xx(t){const n=t.indexOf(":");return[t.substring(1,n),t.slice(n+1)]}let oC=(t,n)=>!1,Fx=(t,n,e)=>[],Nx=null;function aC(t){const n=t.parentNode||t.host;return n===Nx?null:n}(nC()||typeof Element<"u")&&(Ate()?(Nx=(()=>document.documentElement)(),oC=(t,n)=>{for(;n;){if(n===t)return!0;n=aC(n)}return!1}):oC=(t,n)=>t.contains(n),Fx=(t,n,e)=>{if(e)return Array.from(t.querySelectorAll(n));const i=t.querySelector(n);return i?[i]:[]});let _l=null,Lx=!1;const Px=oC,Vx=Fx;let Bx=(()=>{class t{validateStyleProperty(e){return function xte(t){_l||(_l=function Fte(){return typeof document<"u"?document.body:null}()||{},Lx=!!_l.style&&"WebkitAppearance"in _l.style);let n=!0;return _l.style&&!function Rte(t){return"ebkit"==t.substring(1,6)}(t)&&(n=t in _l.style,!n&&Lx&&(n="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in _l.style)),n}(e)}matchesElement(e,i){return!1}containsElement(e,i){return Px(e,i)}getParentElement(e){return aC(e)}query(e,i,r){return Vx(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,o,a=[],l){return new uf(r,s)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})(),lC=(()=>{class t{}return t.NOOP=new Bx,t})();const Nte=1e3,uC="ng-enter",Ym="ng-leave",zm="ng-trigger",qm=".ng-trigger",$x="ng-animating",cC=".ng-animating";function Yo(t){if("number"==typeof t)return t;const n=t.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:dC(parseFloat(n[1]),n[2])}function dC(t,n){return"s"===n?t*Nte:t}function Wm(t,n,e){return t.hasOwnProperty("duration")?t:function Pte(t,n,e){let r,s=0,o="";if("string"==typeof t){const a=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return n.push(Ax()),{duration:0,delay:0,easing:""};r=dC(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=dC(parseFloat(l),a[4]));const u=a[5];u&&(o=u)}else r=t;if(!e){let a=!1,l=n.length;r<0&&(n.push(function Kee(){return new U(3100,!1)}()),a=!0),s<0&&(n.push(function Jee(){return new U(3101,!1)}()),a=!0),a&&n.splice(l,0,Ax())}return{duration:r,delay:s,easing:o}}(t,n,e)}function mf(t,n={}){return Object.keys(t).forEach(e=>{n[e]=t[e]}),n}function jx(t){const n=new Map;return Object.keys(t).forEach(e=>{n.set(e,t[e])}),n}function Sa(t,n=new Map,e){if(e)for(let[i,r]of e)n.set(i,r);for(let[i,r]of t)n.set(i,r);return n}function Yx(t,n,e){return e?n+":"+e+";":""}function zx(t){let n="";for(let e=0;e<t.style.length;e++){const i=t.style.item(e);n+=Yx(0,i,t.style.getPropertyValue(i))}for(const e in t.style)t.style.hasOwnProperty(e)&&!e.startsWith("_")&&(n+=Yx(0,$te(e),t.style[e]));t.setAttribute("style",n)}function io(t,n,e){t.style&&(n.forEach((i,r)=>{const s=hC(r);e&&!e.has(r)&&e.set(r,t.style[s]),t.style[s]=i}),nC()&&zx(t))}function gl(t,n){t.style&&(n.forEach((e,i)=>{const r=hC(i);t.style[r]=""}),nC()&&zx(t))}function _f(t){return Array.isArray(t)?1==t.length?t[0]:QR(t):t}const fC=new RegExp("{{\\s*(.+?)\\s*}}","g");function qx(t){let n=[];if("string"==typeof t){let e;for(;e=fC.exec(t);)n.push(e[1]);fC.lastIndex=0}return n}function gf(t,n,e){const i=t.toString(),r=i.replace(fC,(s,o)=>{let a=n[o];return null==a&&(e.push(function ete(t){return new U(3003,!1)}()),a=""),a.toString()});return r==i?t:r}function Gm(t){const n=[];let e=t.next();for(;!e.done;)n.push(e.value),e=t.next();return n}const Hte=/-+([a-z0-9])/g;function hC(t){return t.replace(Hte,(...n)=>n[1].toUpperCase())}function $te(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Fr(t,n,e){switch(n.type){case 7:return t.visitTrigger(n,e);case 0:return t.visitState(n,e);case 1:return t.visitTransition(n,e);case 2:return t.visitSequence(n,e);case 3:return t.visitGroup(n,e);case 4:return t.visitAnimate(n,e);case 5:return t.visitKeyframes(n,e);case 6:return t.visitStyle(n,e);case 8:return t.visitReference(n,e);case 9:return t.visitAnimateChild(n,e);case 10:return t.visitAnimateRef(n,e);case 11:return t.visitQuery(n,e);case 12:return t.visitStagger(n,e);default:throw function tte(t){return new U(3004,!1)}()}}function Wx(t,n){return window.getComputedStyle(t)[n]}const Km="*";function Wte(t,n){const e=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(i=>function Gte(t,n,e){if(":"==t[0]){const l=function Zte(t,n){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return n.push(function mte(t){return new U(3016,!1)}()),"* => *"}}(t,e);if("function"==typeof l)return void n.push(l);t=l}const i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function pte(t){return new U(3015,!1)}()),n;const r=i[1],s=i[2],o=i[3];n.push(Gx(r,o));"<"==s[0]&&!(r==Km&&o==Km)&&n.push(Gx(o,r))}(i,e,n)):e.push(t),e}const Jm=new Set(["true","1"]),Xm=new Set(["false","0"]);function Gx(t,n){const e=Jm.has(t)||Xm.has(t),i=Jm.has(n)||Xm.has(n);return(r,s)=>{let o=t==Km||t==r,a=n==Km||n==s;return!o&&e&&"boolean"==typeof r&&(o=r?Jm.has(t):Xm.has(t)),!a&&i&&"boolean"==typeof s&&(a=s?Jm.has(n):Xm.has(n)),o&&a}}const Qte=new RegExp("s*:selfs*,?","g");function pC(t,n,e,i){return new Kte(t).build(n,e,i)}class Kte{constructor(n){this._driver=n}build(n,e,i){const r=new ene(e);return this._resetContextStyleTimingState(r),Fr(this,_f(n),r)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles=new Map,n.collectedStyles.set("",new Map),n.currentTime=0}visitTrigger(n,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],o=[];return"@"==n.name.charAt(0)&&e.errors.push(function ite(){return new U(3006,!1)}()),n.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const l=a,u=l.name;u.toString().split(/\s*,\s*/).forEach(c=>{l.name=c,s.push(this.visitState(l,e))}),l.name=u}else if(1==a.type){const l=this.visitTransition(a,e);i+=l.queryCount,r+=l.depCount,o.push(l)}else e.errors.push(function rte(){return new U(3007,!1)}())}),{type:7,name:n.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(n,e){const i=this.visitStyle(n.styles,e),r=n.options&&n.options.params||null;if(i.containsDynamicStyles){const s=new Set,o=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{qx(l).forEach(u=>{o.hasOwnProperty(u)||s.add(u)})})}),s.size&&(Gm(s.values()),e.errors.push(function ste(t,n){return new U(3008,!1)}()))}return{type:0,name:n.name,style:i,options:r?{params:r}:null}}visitTransition(n,e){e.queryCount=0,e.depCount=0;const i=Fr(this,_f(n.animation),e);return{type:1,matchers:Wte(n.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:yl(n.options)}}visitSequence(n,e){return{type:2,steps:n.steps.map(i=>Fr(this,i,e)),options:yl(n.options)}}visitGroup(n,e){const i=e.currentTime;let r=0;const s=n.steps.map(o=>{e.currentTime=i;const a=Fr(this,o,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:3,steps:s,options:yl(n.options)}}visitAnimate(n,e){const i=function nne(t,n){if(t.hasOwnProperty("duration"))return t;if("number"==typeof t)return mC(Wm(t,n).duration,0,"");const e=t;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=mC(0,0,"");return s.dynamic=!0,s.strValue=e,s}const r=Wm(e,n);return mC(r.duration,r.delay,r.easing)}(n.timings,e.errors);e.currentAnimateTimings=i;let r,s=n.styles?n.styles:is({});if(5==s.type)r=this.visitKeyframes(s,e);else{let o=n.styles,a=!1;if(!o){a=!0;const u={};i.easing&&(u.easing=i.easing),o=is(u)}e.currentTime+=i.duration+i.delay;const l=this.visitStyle(o,e);l.isEmptyStep=a,r=l}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(n,e){const i=this._makeStyleAst(n,e);return this._validateStyleAst(i,e),i}_makeStyleAst(n,e){const i=[],r=Array.isArray(n.styles)?n.styles:[n.styles];for(let a of r)"string"==typeof a?a===jo?i.push(a):e.errors.push(new U(3002,!1)):i.push(jx(a));let s=!1,o=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let l of a.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:o,offset:n.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(n,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),n.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const u=e.collectedStyles.get(e.currentQuerySelector),c=u.get(l);let d=!0;c&&(s!=r&&s>=c.startTime&&r<=c.endTime&&(e.errors.push(function ate(t,n,e,i,r){return new U(3010,!1)}()),d=!1),s=c.startTime),d&&u.set(l,{startTime:s,endTime:r}),e.options&&function Bte(t,n,e){const i=n.params||{},r=qx(t);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(function Xee(t){return new U(3001,!1)}())})}(a,e.options,e.errors)})})}visitKeyframes(n,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function lte(){return new U(3011,!1)}()),i;let s=0;const o=[];let a=!1,l=!1,u=0;const c=n.steps.map(I=>{const z=this._makeStyleAst(I,e);let P=null!=z.offset?z.offset:function tne(t){if("string"==typeof t)return null;let n=null;if(Array.isArray(t))t.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;n=parseFloat(i.get("offset")),i.delete("offset")}});else if(t instanceof Map&&t.has("offset")){const e=t;n=parseFloat(e.get("offset")),e.delete("offset")}return n}(z.styles),oe=0;return null!=P&&(s++,oe=z.offset=P),l=l||oe<0||oe>1,a=a||oe<u,u=oe,o.push(oe),z});l&&e.errors.push(function ute(){return new U(3012,!1)}()),a&&e.errors.push(function cte(){return new U(3200,!1)}());const d=n.steps.length;let f=0;s>0&&s<d?e.errors.push(function dte(){return new U(3202,!1)}()):0==s&&(f=1/(d-1));const h=d-1,p=e.currentTime,v=e.currentAnimateTimings,k=v.duration;return c.forEach((I,z)=>{const P=f>0?z==h?1:f*z:o[z],oe=P*k;e.currentTime=p+v.delay+oe,v.duration=oe,this._validateStyleAst(I,e),I.offset=P,i.styles.push(I)}),i}visitReference(n,e){return{type:8,animation:Fr(this,_f(n.animation),e),options:yl(n.options)}}visitAnimateChild(n,e){return e.depCount++,{type:9,options:yl(n.options)}}visitAnimateRef(n,e){return{type:10,animation:this.visitReference(n.animation,e),options:yl(n.options)}}visitQuery(n,e){const i=e.currentQuerySelector,r=n.options||{};e.queryCount++,e.currentQuery=n;const[s,o]=function Jte(t){const n=!!t.split(/\s*,\s*/).find(e=>":self"==e);return n&&(t=t.replace(Qte,"")),t=t.replace(/@\*/g,qm).replace(/@\w+/g,e=>qm+"-"+e.slice(1)).replace(/:animating/g,cC),[t,n]}(n.selector);e.currentQuerySelector=i.length?i+" "+s:s,xr(e.collectedStyles,e.currentQuerySelector,new Map);const a=Fr(this,_f(n.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:n.selector,options:yl(n.options)}}visitStagger(n,e){e.currentQuery||e.errors.push(function fte(){return new U(3013,!1)}());const i="full"===n.timings?{duration:0,delay:0,easing:"full"}:Wm(n.timings,e.errors,!0);return{type:12,animation:Fr(this,_f(n.animation),e),timings:i,options:null}}}class ene{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function yl(t){return t?(t=mf(t)).params&&(t.params=function Xte(t){return t?mf(t):null}(t.params)):t={},t}function mC(t,n,e){return{duration:t,delay:n,easing:e}}function _C(t,n,e,i,r,s,o=null,a=!1){return{type:1,element:t,keyframes:n,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}class e_{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,e){let i=this._map.get(n);i||this._map.set(n,i=[]),i.push(...e)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const sne=new RegExp(":enter","g"),ane=new RegExp(":leave","g");function gC(t,n,e,i,r,s=new Map,o=new Map,a,l,u=[]){return(new lne).buildKeyframes(t,n,e,i,r,s,o,a,l,u)}class lne{buildKeyframes(n,e,i,r,s,o,a,l,u,c=[]){u=u||new e_;const d=new yC(n,e,u,r,s,c,[]);d.options=l;const f=l.delay?Yo(l.delay):0;d.currentTimeline.delayNextStep(f),d.currentTimeline.setStyles([o],null,d.errors,l),Fr(this,i,d);const h=d.timelines.filter(p=>p.containsAnimation());if(h.length&&a.size){let p;for(let v=h.length-1;v>=0;v--){const k=h[v];if(k.element===e){p=k;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,l)}return h.length?h.map(p=>p.buildKeyframes()):[_C(e,[],[],[],0,f,"",!1)]}visitTrigger(n,e){}visitState(n,e){}visitTransition(n,e){}visitAnimateChild(n,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(n.options),s=e.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&e.transformIntoNewTimeline(o)}e.previousNode=n}visitAnimateRef(n,e){const i=e.createSubContext(n.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([n.options,n.animation.options],e,i),this.visitReference(n.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=n}_applyAnimationRefDelays(n,e,i){for(const r of n){const s=r?.delay;if(s){const o="number"==typeof s?s:Yo(gf(s,r?.params??{},e.errors));i.delayNextStep(o)}}}_visitSubInstructions(n,e,i){let s=e.currentTimeline.currentTime;const o=null!=i.duration?Yo(i.duration):null,a=null!=i.delay?Yo(i.delay):null;return 0!==o&&n.forEach(l=>{const u=e.appendInstructionToTimeline(l,o,a);s=Math.max(s,u.duration+u.delay)}),s}visitReference(n,e){e.updateOptions(n.options,!0),Fr(this,n.animation,e),e.previousNode=n}visitSequence(n,e){const i=e.subContextCount;let r=e;const s=n.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=t_);const o=Yo(s.delay);r.delayNextStep(o)}n.steps.length&&(n.steps.forEach(o=>Fr(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=n}visitGroup(n,e){const i=[];let r=e.currentTimeline.currentTime;const s=n.options&&n.options.delay?Yo(n.options.delay):0;n.steps.forEach(o=>{const a=e.createSubContext(n.options);s&&a.delayNextStep(s),Fr(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>e.currentTimeline.mergeTimelineCollectedStyles(o)),e.transformIntoNewTimeline(r),e.previousNode=n}_visitTiming(n,e){if(n.dynamic){const i=n.strValue;return Wm(e.params?gf(i,e.params,e.errors):i,e.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,e){const i=e.currentAnimateTimings=this._visitTiming(n.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=n.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=n}visitStyle(n,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||n.easing;n.isEmptyStep?i.applyEmptyStep(s):i.setStyles(n.styles,s,e.errors,e.options),e.previousNode=n}visitKeyframes(n,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,n.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+s),e.previousNode=n}visitQuery(n,e){const i=e.currentTimeline.currentTime,r=n.options||{},s=r.delay?Yo(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=t_);let o=i;const a=e.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((u,c)=>{e.currentQueryIndex=c;const d=e.createSubContext(n.options,u);s&&d.delayNextStep(s),u===e.element&&(l=d.currentTimeline),Fr(this,n.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=n}visitStagger(n,e){const i=e.parentContext,r=e.currentTimeline,s=n.timings,o=Math.abs(s.duration),a=o*(e.currentQueryTotal-1);let l=o*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const c=e.currentTimeline;l&&c.delayNextStep(l);const d=c.currentTime;Fr(this,n.animation,e),e.previousNode=n,i.currentStaggerTime=r.currentTime-d+(r.startTime-i.currentTimeline.startTime)}}const t_={};class yC{constructor(n,e,i,r,s,o,a,l){this._driver=n,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=t_,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new n_(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,e){if(!n)return;const i=n;let r=this.options;null!=i.duration&&(r.duration=Yo(i.duration)),null!=i.delay&&(r.delay=Yo(i.delay));const s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!e||!o.hasOwnProperty(a))&&(o[a]=gf(s[a],o,this.errors))})}}_copyOptions(){const n={};if(this.options){const e=this.options.params;if(e){const i=n.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return n}createSubContext(n=null,e,i){const r=e||this.element,s=new yC(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(n),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(n){return this.previousNode=t_,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,e,i){const r={duration:e??n.duration,delay:this.currentTimeline.currentTime+(i??0)+n.delay,easing:""},s=new une(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,r,n.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,e,i,r,s,o){let a=[];if(r&&a.push(this.element),n.length>0){n=(n=n.replace(sne,"."+this._enterClassName)).replace(ane,"."+this._leaveClassName);let u=this._driver.query(this.element,n,1!=i);0!==i&&(u=i<0?u.slice(u.length+i,u.length):u.slice(0,i)),a.push(...u)}return!s&&0==a.length&&o.push(function hte(t){return new U(3014,!1)}()),a}}class n_{constructor(n,e,i,r){this._driver=n,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+n),e&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,e){return this.applyStylesToKeyframe(),new n_(this._driver,n,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,e){this._localTimelineStyles.set(n,e),this._globalTimelineStyles.set(n,e),this._styleSummary.set(n,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&this._previousKeyframe.set("easing",n);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||jo),this._currentKeyframe.set(e,jo);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,e,i,r){e&&this._previousKeyframe.set("easing",e);const s=r&&r.params||{},o=function cne(t,n){const e=new Map;let i;return t.forEach(r=>{if("*"===r){i=i||n.keys();for(let s of i)e.set(s,jo)}else Sa(r,e)}),e}(n,this._globalTimelineStyles);for(let[a,l]of o){const u=gf(l,s,i);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??jo),this._updateStyle(a,u)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((n,e)=>{this._currentKeyframe.set(e,n)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((n,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,n)}))}snapshotCurrentStyles(){for(let[n,e]of this._localTimelineStyles)this._pendingStyles.set(n,e),this._updateStyle(n,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let e in this._currentKeyframe)n.push(e);return n}mergeTimelineCollectedStyles(n){n._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const u=Sa(a,new Map,this._backFill);u.forEach((c,d)=>{c===Hw?n.add(d):c===jo&&e.add(d)}),i||u.set("offset",l/this.duration),r.push(u)});const s=n.size?Gm(n.values()):[],o=e.size?Gm(e.values()):[];if(i){const a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return _C(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}}class une extends n_{constructor(n,e,i,r,s,o,a=!1){super(n,e,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],o=i+e,a=e/o,l=Sa(n[0]);l.set("offset",0),s.push(l);const u=Sa(n[0]);u.set("offset",Kx(a)),s.push(u);const c=n.length-1;for(let d=1;d<=c;d++){let f=Sa(n[d]);const h=f.get("offset");f.set("offset",Kx((e+h*i)/o)),s.push(f)}i=o,e=0,r="",n=s}return _C(this.element,n,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function Kx(t,n=3){const e=Math.pow(10,n-1);return Math.round(t*e)/e}class vC{}const dne=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class fne extends vC{normalizePropertyName(n,e){return hC(n)}normalizeStyleValue(n,e,i,r){let s="";const o=i.toString().trim();if(dne.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function nte(t,n){return new U(3005,!1)}())}return o+s}}function Jx(t,n,e,i,r,s,o,a,l,u,c,d,f){return{type:0,element:t,triggerName:n,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:u,postStyleProps:c,totalTime:d,errors:f}}const bC={};class Xx{constructor(n,e,i){this._triggerName=n,this.ast=e,this._stateStyles=i}match(n,e,i,r){return function hne(t,n,e,i,r){return t.some(s=>s(n,e,i,r))}(this.ast.matchers,n,e,i,r)}buildStyles(n,e,i){let r=this._stateStyles.get("*");return void 0!==n&&(r=this._stateStyles.get(n?.toString())||r),r?r.buildStyles(e,i):new Map}build(n,e,i,r,s,o,a,l,u,c){const d=[],f=this.ast.options&&this.ast.options.params||bC,p=this.buildStyles(i,a&&a.params||bC,d),v=l&&l.params||bC,k=this.buildStyles(r,v,d),I=new Set,z=new Map,P=new Map,oe="void"===r,tt={params:pne(v,f),delay:this.ast.options?.delay},rt=c?[]:gC(n,e,this.ast.animation,s,o,p,k,tt,u,d);let cn=0;if(rt.forEach(xi=>{cn=Math.max(xi.duration+xi.delay,cn)}),d.length)return Jx(e,this._triggerName,i,r,oe,p,k,[],[],z,P,cn,d);rt.forEach(xi=>{const Fi=xi.element,xn=xr(z,Fi,new Set);xi.preStyleProps.forEach(Ni=>xn.add(Ni));const Ci=xr(P,Fi,new Set);xi.postStyleProps.forEach(Ni=>Ci.add(Ni)),Fi!==e&&I.add(Fi)});const Qi=Gm(I.values());return Jx(e,this._triggerName,i,r,oe,p,k,rt,Qi,z,P,cn)}}function pne(t,n){const e=mf(n);for(const i in t)t.hasOwnProperty(i)&&null!=t[i]&&(e[i]=t[i]);return e}class mne{constructor(n,e,i){this.styles=n,this.defaultParams=e,this.normalizer=i}buildStyles(n,e){const i=new Map,r=mf(this.defaultParams);return Object.keys(n).forEach(s=>{const o=n[s];null!==o&&(r[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=gf(o,r,e));const l=this.normalizer.normalizePropertyName(a,e);o=this.normalizer.normalizeStyleValue(a,l,o,e),i.set(a,o)})}),i}}class gne{constructor(n,e,i){this.name=n,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new mne(r.style,r.options&&r.options.params||{},i))}),eF(this.states,"true","1"),eF(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new Xx(n,r,this.states))}),this.fallbackTransition=function yne(t,n,e){return new Xx(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,e,i,r){return this.transitionFactories.find(o=>o.match(n,e,i,r))||null}matchStyles(n,e,i){return this.fallbackTransition.buildStyles(n,e,i)}}function eF(t,n,e){t.has(n)?t.has(e)||t.set(e,t.get(n)):t.has(e)&&t.set(n,t.get(e))}const vne=new e_;class bne{constructor(n,e,i){this.bodyNode=n,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(n,e){const i=[],r=[],s=pC(this._driver,e,i,r);if(i.length)throw function bte(t){return new U(3503,!1)}();this._animations.set(n,s)}_buildPlayer(n,e,i){const r=n.element,s=Rx(0,this._normalizer,0,n.keyframes,e,i);return this._driver.animate(r,s,n.duration,n.delay,n.easing,[],!0)}create(n,e,i={}){const r=[],s=this._animations.get(n);let o;const a=new Map;if(s?(o=gC(this._driver,e,s,uC,Ym,new Map,new Map,i,vne,r),o.forEach(c=>{const d=xr(a,c.element,new Map);c.postStyleProps.forEach(f=>d.set(f,null))})):(r.push(function wte(){return new U(3300,!1)}()),o=[]),r.length)throw function Cte(t){return new U(3504,!1)}();a.forEach((c,d)=>{c.forEach((f,h)=>{c.set(h,this._driver.computeStyle(d,h,jo))})});const u=Ta(o.map(c=>{const d=a.get(c.element);return this._buildPlayer(c,new Map,d)}));return this._playersById.set(n,u),u.onDestroy(()=>this.destroy(n)),this.players.push(u),u}destroy(n){const e=this._getPlayer(n);e.destroy(),this._playersById.delete(n);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(n){const e=this._playersById.get(n);if(!e)throw function Dte(t){return new U(3301,!1)}();return e}listen(n,e,i,r){const s=sC(e,"","","");return iC(this._getPlayer(n),i,s,r),()=>{}}command(n,e,i,r){if("register"==i)return void this.register(n,r[0]);if("create"==i)return void this.create(n,e,r[0]||{});const s=this._getPlayer(n);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(n)}}}const tF="ng-animate-queued",wC="ng-animate-disabled",Sne=[],nF={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},kne={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},rs="__ng_removed";class CC{get params(){return this.options.params}constructor(n,e=""){this.namespaceId=e;const i=n&&n.hasOwnProperty("value");if(this.value=function Ine(t){return t??null}(i?n.value:n),i){const s=mf(n);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(n){const e=n.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const yf="void",DC=new CC(yf);class Mne{constructor(n,e,i){this.id=n,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,ss(e,this._hostClassName)}listen(n,e,i,r){if(!this._triggers.has(e))throw function Tte(t,n){return new U(3302,!1)}();if(null==i||0==i.length)throw function Ste(t){return new U(3303,!1)}();if(!function Ane(t){return"start"==t||"done"==t}(i))throw function kte(t,n){return new U(3400,!1)}();const s=xr(this._elementListeners,n,[]),o={name:e,phase:i,callback:r};s.push(o);const a=xr(this._engine.statesByElement,n,new Map);return a.has(e)||(ss(n,zm),ss(n,zm+"-"+e),a.set(e,DC)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(e)||a.delete(e)})}}register(n,e){return!this._triggers.has(n)&&(this._triggers.set(n,e),!0)}_getTrigger(n){const e=this._triggers.get(n);if(!e)throw function Mte(t){return new U(3401,!1)}();return e}trigger(n,e,i,r=!0){const s=this._getTrigger(e),o=new TC(this.id,e,n);let a=this._engine.statesByElement.get(n);a||(ss(n,zm),ss(n,zm+"-"+e),this._engine.statesByElement.set(n,a=new Map));let l=a.get(e);const u=new CC(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&u.absorbOptions(l.options),a.set(e,u),l||(l=DC),u.value!==yf&&l.value===u.value){if(!function Fne(t,n){const e=Object.keys(t),i=Object.keys(n);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!n.hasOwnProperty(s)||t[s]!==n[s])return!1}return!0}(l.params,u.params)){const v=[],k=s.matchStyles(l.value,l.params,v),I=s.matchStyles(u.value,u.params,v);v.length?this._engine.reportError(v):this._engine.afterFlush(()=>{gl(n,k),io(n,I)})}return}const f=xr(this._engine.playersByElement,n,[]);f.forEach(v=>{v.namespaceId==this.id&&v.triggerName==e&&v.queued&&v.destroy()});let h=s.matchTransition(l.value,u.value,n,u.params),p=!1;if(!h){if(!r)return;h=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:e,transition:h,fromState:l,toState:u,player:o,isFallbackTransition:p}),p||(ss(n,tF),o.onStart(()=>{rc(n,tF)})),o.onDone(()=>{let v=this.players.indexOf(o);v>=0&&this.players.splice(v,1);const k=this._engine.playersByElement.get(n);if(k){let I=k.indexOf(o);I>=0&&k.splice(I,1)}}),this.players.push(o),f.push(o),o}deregister(n){this._triggers.delete(n),this._engine.statesByElement.forEach(e=>e.delete(n)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const e=this._engine.playersByElement.get(n);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,e){const i=this._engine.driver.query(n,qm,!0);i.forEach(r=>{if(r[rs])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(n,e,i,r){const s=this._engine.statesByElement.get(n),o=new Map;if(s){const a=[];if(s.forEach((l,u)=>{if(o.set(u,l.value),this._triggers.has(u)){const c=this.trigger(n,u,yf,r);c&&a.push(c)}}),a.length)return this._engine.markElementAsRemoved(this.id,n,!0,e,o),i&&Ta(a).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const e=this._elementListeners.get(n),i=this._engine.statesByElement.get(n);if(e&&i){const r=new Set;e.forEach(s=>{const o=s.name;if(r.has(o))return;r.add(o);const l=this._triggers.get(o).fallbackTransition,u=i.get(o)||DC,c=new CC(yf),d=new TC(this.id,o,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:o,transition:l,fromState:u,toState:c,player:d,isFallbackTransition:!0})})}}removeNode(n,e){const i=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,e),this.triggerLeaveAnimation(n,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(n):[];if(s&&s.length)r=!0;else{let o=n;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(n),r)i.markElementAsRemoved(this.id,n,!1,e);else{const s=n[rs];(!s||s===nF)&&(i.afterFlush(()=>this.clearElementCache(n)),i.destroyInnerAnimations(n),i._onRemovalComplete(n,e))}}insertNode(n,e){ss(n,this._hostClassName)}drainQueuedTransitions(n){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==i.triggerName){const l=sC(s,i.triggerName,i.fromState.value,i.toState.value);l._data=n,iC(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,o=r.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(n){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}elementContainsData(n){let e=!1;return this._elementListeners.has(n)&&(e=!0),e=!!this._queue.find(i=>i.element===n)||e,e}}class Ene{_onRemovalComplete(n,e){this.onRemovalComplete(n,e)}constructor(n,e,i){this.bodyNode=n,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){const n=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&n.push(i)})}),n}createNamespace(n,e){const i=new Mne(n,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[n]=i}_balanceNamespaceList(n,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,a=this.driver.getParentElement(e);for(;a;){const l=r.get(a);if(l){const u=i.indexOf(l);i.splice(u+1,0,n),o=!0;break}a=this.driver.getParentElement(a)}o||i.unshift(n)}else i.push(n);return r.set(e,n),n}register(n,e){let i=this._namespaceLookup[n];return i||(i=this.createNamespace(n,e)),i}registerTrigger(n,e,i){let r=this._namespaceLookup[n];r&&r.register(e,i)&&this.totalAnimations++}destroy(n,e){if(!n)return;const i=this._fetchNamespace(n);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[n];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const e=new Set,i=this.statesByElement.get(n);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&e.add(s)}return e}trigger(n,e,i,r){if(i_(e)){const s=this._fetchNamespace(n);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(n,e,i,r){if(!i_(e))return;const s=e[rs];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(n){const o=this._fetchNamespace(n);o&&o.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,e){e?this.disabledNodes.has(n)||(this.disabledNodes.add(n),ss(n,wC)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),rc(n,wC))}removeNode(n,e,i,r){if(i_(e)){const s=n?this._fetchNamespace(n):null;if(s?s.removeNode(e,r):this.markElementAsRemoved(n,e,!1,r),i){const o=this.namespacesByHostElement.get(e);o&&o.id!==n&&o.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(n,e,i,r,s){this.collectedLeaveElements.push(e),e[rs]={namespaceId:n,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(n,e,i,r,s){return i_(e)?this._fetchNamespace(n).listen(e,i,r,s):()=>{}}_buildInstruction(n,e,i,r,s){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,i,r,n.fromState.options,n.toState.options,e,s)}destroyInnerAnimations(n){let e=this.driver.query(n,qm,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(n,cC,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(n){const e=this.playersByElement.get(n);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(n){const e=this.playersByQueriedElement.get(n);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return Ta(this.players).onDone(()=>n());n()})}processLeaveNode(n){const e=n[rs];if(e&&e.setForRemoval){if(n[rs]=nF,e.namespaceId){this.destroyInnerAnimations(n);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(n)}this._onRemovalComplete(n,e.setForRemoval)}n.classList?.contains(wC)&&this.markElementAsDisabled(n,!1),this.driver.query(n,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(n=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)ss(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,n)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Ta(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(n){throw function Ete(t){return new U(3402,!1)}()}_flushAnimations(n,e){const i=new e_,r=[],s=new Map,o=[],a=new Map,l=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(ye=>{c.add(ye);const Be=this.driver.query(ye,".ng-animate-queued",!0);for(let nt=0;nt<Be.length;nt++)c.add(Be[nt])});const d=this.bodyNode,f=Array.from(this.statesByElement.keys()),h=sF(f,this.collectedEnterElements),p=new Map;let v=0;h.forEach((ye,Be)=>{const nt=uC+v++;p.set(Be,nt),ye.forEach(Bt=>ss(Bt,nt))});const k=[],I=new Set,z=new Set;for(let ye=0;ye<this.collectedLeaveElements.length;ye++){const Be=this.collectedLeaveElements[ye],nt=Be[rs];nt&&nt.setForRemoval&&(k.push(Be),I.add(Be),nt.hasAnimation?this.driver.query(Be,".ng-star-inserted",!0).forEach(Bt=>I.add(Bt)):z.add(Be))}const P=new Map,oe=sF(f,Array.from(I));oe.forEach((ye,Be)=>{const nt=Ym+v++;P.set(Be,nt),ye.forEach(Bt=>ss(Bt,nt))}),n.push(()=>{h.forEach((ye,Be)=>{const nt=p.get(Be);ye.forEach(Bt=>rc(Bt,nt))}),oe.forEach((ye,Be)=>{const nt=P.get(Be);ye.forEach(Bt=>rc(Bt,nt))}),k.forEach(ye=>{this.processLeaveNode(ye)})});const tt=[],rt=[];for(let ye=this._namespaceList.length-1;ye>=0;ye--)this._namespaceList[ye].drainQueuedTransitions(e).forEach(nt=>{const Bt=nt.player,Di=nt.element;if(tt.push(Bt),this.collectedEnterElements.length){const Ji=Di[rs];if(Ji&&Ji.setForMove){if(Ji.previousTriggersValues&&Ji.previousTriggersValues.has(nt.triggerName)){const vl=Ji.previousTriggersValues.get(nt.triggerName),os=this.statesByElement.get(nt.element);if(os&&os.has(nt.triggerName)){const o_=os.get(nt.triggerName);o_.value=vl,os.set(nt.triggerName,o_)}}return void Bt.destroy()}}const so=!d||!this.driver.containsElement(d,Di),Nr=P.get(Di),ka=p.get(Di),Fn=this._buildInstruction(nt,i,ka,Nr,so);if(Fn.errors&&Fn.errors.length)return void rt.push(Fn);if(so)return Bt.onStart(()=>gl(Di,Fn.fromStyles)),Bt.onDestroy(()=>io(Di,Fn.toStyles)),void r.push(Bt);if(nt.isFallbackTransition)return Bt.onStart(()=>gl(Di,Fn.fromStyles)),Bt.onDestroy(()=>io(Di,Fn.toStyles)),void r.push(Bt);const pF=[];Fn.timelines.forEach(Ji=>{Ji.stretchStartingKeyframe=!0,this.disabledNodes.has(Ji.element)||pF.push(Ji)}),Fn.timelines=pF,i.append(Di,Fn.timelines),o.push({instruction:Fn,player:Bt,element:Di}),Fn.queriedElements.forEach(Ji=>xr(a,Ji,[]).push(Bt)),Fn.preStyleProps.forEach((Ji,vl)=>{if(Ji.size){let os=l.get(vl);os||l.set(vl,os=new Set),Ji.forEach((o_,MC)=>os.add(MC))}}),Fn.postStyleProps.forEach((Ji,vl)=>{let os=u.get(vl);os||u.set(vl,os=new Set),Ji.forEach((o_,MC)=>os.add(MC))})});if(rt.length){const ye=[];rt.forEach(Be=>{ye.push(function Ote(t,n){return new U(3505,!1)}())}),tt.forEach(Be=>Be.destroy()),this.reportError(ye)}const cn=new Map,Qi=new Map;o.forEach(ye=>{const Be=ye.element;i.has(Be)&&(Qi.set(Be,Be),this._beforeAnimationBuild(ye.player.namespaceId,ye.instruction,cn))}),r.forEach(ye=>{const Be=ye.element;this._getPreviousPlayers(Be,!1,ye.namespaceId,ye.triggerName,null).forEach(Bt=>{xr(cn,Be,[]).push(Bt),Bt.destroy()})});const xi=k.filter(ye=>aF(ye,l,u)),Fi=new Map;rF(Fi,this.driver,z,u,jo).forEach(ye=>{aF(ye,l,u)&&xi.push(ye)});const Ci=new Map;h.forEach((ye,Be)=>{rF(Ci,this.driver,new Set(ye),l,Hw)}),xi.forEach(ye=>{const Be=Fi.get(ye),nt=Ci.get(ye);Fi.set(ye,new Map([...Array.from(Be?.entries()??[]),...Array.from(nt?.entries()??[])]))});const Ni=[],ro=[],Ki={};o.forEach(ye=>{const{element:Be,player:nt,instruction:Bt}=ye;if(i.has(Be)){if(c.has(Be))return nt.onDestroy(()=>io(Be,Bt.toStyles)),nt.disabled=!0,nt.overrideTotalTime(Bt.totalTime),void r.push(nt);let Di=Ki;if(Qi.size>1){let Nr=Be;const ka=[];for(;Nr=Nr.parentNode;){const Fn=Qi.get(Nr);if(Fn){Di=Fn;break}ka.push(Nr)}ka.forEach(Fn=>Qi.set(Fn,Di))}const so=this._buildAnimation(nt.namespaceId,Bt,cn,s,Ci,Fi);if(nt.setRealPlayer(so),Di===Ki)Ni.push(nt);else{const Nr=this.playersByElement.get(Di);Nr&&Nr.length&&(nt.parentPlayer=Ta(Nr)),r.push(nt)}}else gl(Be,Bt.fromStyles),nt.onDestroy(()=>io(Be,Bt.toStyles)),ro.push(nt),c.has(Be)&&r.push(nt)}),ro.forEach(ye=>{const Be=s.get(ye.element);if(Be&&Be.length){const nt=Ta(Be);ye.setRealPlayer(nt)}}),r.forEach(ye=>{ye.parentPlayer?ye.syncPlayerEvents(ye.parentPlayer):ye.destroy()});for(let ye=0;ye<k.length;ye++){const Be=k[ye],nt=Be[rs];if(rc(Be,Ym),nt&&nt.hasAnimation)continue;let Bt=[];if(a.size){let so=a.get(Be);so&&so.length&&Bt.push(...so);let Nr=this.driver.query(Be,cC,!0);for(let ka=0;ka<Nr.length;ka++){let Fn=a.get(Nr[ka]);Fn&&Fn.length&&Bt.push(...Fn)}}const Di=Bt.filter(so=>!so.destroyed);Di.length?Rne(this,Be,Di):this.processLeaveNode(Be)}return k.length=0,Ni.forEach(ye=>{this.players.push(ye),ye.onDone(()=>{ye.destroy();const Be=this.players.indexOf(ye);this.players.splice(Be,1)}),ye.play()}),Ni}elementContainsData(n,e){let i=!1;const r=e[rs];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(n).elementContainsData(e)||i}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,e,i,r,s){let o=[];if(e){const a=this.playersByQueriedElement.get(n);a&&(o=a)}else{const a=this.playersByElement.get(n);if(a){const l=!s||s==yf;a.forEach(u=>{u.queued||!l&&u.triggerName!=r||o.push(u)})}}return(i||r)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(n,e,i){const s=e.element,o=e.isRemovalTransition?void 0:n,a=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const u=l.element,c=u!==s,d=xr(i,u,[]);this._getPreviousPlayers(u,c,o,a,e.toState).forEach(h=>{const p=h.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),h.destroy(),d.push(h)})}gl(s,e.fromStyles)}_buildAnimation(n,e,i,r,s,o){const a=e.triggerName,l=e.element,u=[],c=new Set,d=new Set,f=e.timelines.map(p=>{const v=p.element;c.add(v);const k=v[rs];if(k&&k.removedBeforeQueried)return new uf(p.duration,p.delay);const I=v!==l,z=function xne(t){const n=[];return oF(t,n),n}((i.get(v)||Sne).map(cn=>cn.getRealPlayer())).filter(cn=>!!cn.element&&cn.element===v),P=s.get(v),oe=o.get(v),tt=Rx(0,this._normalizer,0,p.keyframes,P,oe),rt=this._buildPlayer(p,tt,z);if(p.subTimeline&&r&&d.add(v),I){const cn=new TC(n,a,v);cn.setRealPlayer(rt),u.push(cn)}return rt});u.forEach(p=>{xr(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function One(t,n,e){let i=t.get(n);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&t.delete(n)}return i}(this.playersByQueriedElement,p.element,p))}),c.forEach(p=>ss(p,$x));const h=Ta(f);return h.onDestroy(()=>{c.forEach(p=>rc(p,$x)),io(l,e.toStyles)}),d.forEach(p=>{xr(r,p,[]).push(h)}),h}_buildPlayer(n,e,i){return e.length>0?this.driver.animate(n.element,e,n.duration,n.delay,n.easing,i):new uf(n.duration,n.delay)}}class TC{constructor(n,e,i){this.namespaceId=n,this.triggerName=e,this.element=i,this._player=new uf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>iC(n,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const e=this._player;e.triggerCallback&&n.onStart(()=>e.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,e){xr(this._queuedCallbacks,n,[]).push(e)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const e=this._player;e.triggerCallback&&e.triggerCallback(n)}}function i_(t){return t&&1===t.nodeType}function iF(t,n){const e=t.style.display;return t.style.display=n??"none",e}function rF(t,n,e,i,r){const s=[];e.forEach(l=>s.push(iF(l)));const o=[];i.forEach((l,u)=>{const c=new Map;l.forEach(d=>{const f=n.computeStyle(u,d,r);c.set(d,f),(!f||0==f.length)&&(u[rs]=kne,o.push(u))}),t.set(u,c)});let a=0;return e.forEach(l=>iF(l,s[a++])),o}function sF(t,n){const e=new Map;if(t.forEach(a=>e.set(a,[])),0==n.length)return e;const i=1,r=new Set(n),s=new Map;function o(a){if(!a)return i;let l=s.get(a);if(l)return l;const u=a.parentNode;return l=e.has(u)?u:r.has(u)?i:o(u),s.set(a,l),l}return n.forEach(a=>{const l=o(a);l!==i&&e.get(l).push(a)}),e}function ss(t,n){t.classList?.add(n)}function rc(t,n){t.classList?.remove(n)}function Rne(t,n,e){Ta(e).onDone(()=>t.processLeaveNode(n))}function oF(t,n){for(let e=0;e<t.length;e++){const i=t[e];i instanceof XR?oF(i.players,n):n.push(i)}}function aF(t,n,e){const i=e.get(t);if(!i)return!1;let r=n.get(t);return r?i.forEach(s=>r.add(s)):n.set(t,i),e.delete(t),!0}class r_{constructor(n,e,i){this.bodyNode=n,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new Ene(n,e,i),this._timelineEngine=new bne(n,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(n,e,i,r,s){const o=n+"-"+r;let a=this._triggerCache[o];if(!a){const l=[],u=[],c=pC(this._driver,s,l,u);if(l.length)throw function yte(t,n){return new U(3404,!1)}();a=function _ne(t,n,e){return new gne(t,n,e)}(r,c,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,r,a)}register(n,e){this._transitionEngine.register(n,e)}destroy(n,e){this._transitionEngine.destroy(n,e)}onInsert(n,e,i,r){this._transitionEngine.insertNode(n,e,i,r)}onRemove(n,e,i,r){this._transitionEngine.removeNode(n,e,r||!1,i)}disableAnimations(n,e){this._transitionEngine.markElementAsDisabled(n,e)}process(n,e,i,r){if("@"==i.charAt(0)){const[s,o]=xx(i);this._timelineEngine.command(s,e,o,r)}else this._transitionEngine.trigger(n,e,i,r)}listen(n,e,i,r,s){if("@"==i.charAt(0)){const[o,a]=xx(i);return this._timelineEngine.listen(o,e,a,s)}return this._transitionEngine.listen(n,e,i,r,s)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Lne=(()=>{class t{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=t.initialStylesByElement.get(e);s||t.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&io(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(io(this._element,this._initialStyles),this._endStyles&&(io(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(gl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(gl(this._element,this._endStyles),this._endStyles=null),io(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function SC(t){let n=null;return t.forEach((e,i)=>{(function Pne(t){return"display"===t||"position"===t})(i)&&(n=n||new Map,n.set(i,e))}),n}class lF{constructor(n,e,i,r){this.element=n,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(n){const e=[];return n.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(n,e,i){return n.animate(this._convertKeyframesToObject(e),i)}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&n.set(r,this._finished?i:Wx(this.element,r))}),this.currentSnapshot=n}triggerCallback(n){const e="start"===n?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Vne{validateStyleProperty(n){return!0}validateAnimatableStyleProperty(n){return!0}matchesElement(n,e){return!1}containsElement(n,e){return Px(n,e)}getParentElement(n){return aC(n)}query(n,e,i){return Vx(n,e,i)}computeStyle(n,e,i){return window.getComputedStyle(n)[e]}animate(n,e,i,r,s,o=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(l.easing=s);const u=new Map,c=o.filter(h=>h instanceof lF);(function jte(t,n){return 0===t||0===n})(i,r)&&c.forEach(h=>{h.currentSnapshot.forEach((p,v)=>u.set(v,p))});let d=function Vte(t){return t.length?t[0]instanceof Map?t:t.map(n=>jx(n)):[]}(e).map(h=>Sa(h));d=function Ute(t,n,e){if(e.size&&n.length){let i=n[0],r=[];if(e.forEach((s,o)=>{i.has(o)||r.push(o),i.set(o,s)}),r.length)for(let s=1;s<n.length;s++){let o=n[s];r.forEach(a=>o.set(a,Wx(t,a)))}}return n}(n,d,u);const f=function Nne(t,n){let e=null,i=null;return Array.isArray(n)&&n.length?(e=SC(n[0]),n.length>1&&(i=SC(n[n.length-1]))):n instanceof Map&&(e=SC(n)),e||i?new Lne(t,e,i):null}(n,d);return new lF(n,d,l,f)}}let Bne=(()=>{class t extends lf{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:us.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?QR(e):e;return uF(this._renderer,null,i,"register",[r]),new Hne(i,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(ee(Fa),ee(ui))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();class Hne extends zZ{constructor(n,e){super(),this._id=n,this._renderer=e}create(n,e){return new $ne(this._id,n,e||{},this._renderer)}}class $ne{constructor(n,e,i,r){this.id=n,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(n,e){return this._renderer.listen(this.element,`@@${this.id}:${n}`,e)}_command(n,...e){return uF(this._renderer,this.element,this.id,n,e)}onDone(n){this._listen("done",n)}onStart(n){this._listen("start",n)}onDestroy(n){this._listen("destroy",n)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(n){this._command("setPosition",n)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function uF(t,n,e,i,r){return t.setProperty(n,`@@${e}:${i}`,r)}const cF="@.disabled";let jne=(()=>{class t{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let c=this._rendererCache.get(s);return c||(c=new dF("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,c)),c}const o=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const l=c=>{Array.isArray(c)?c.forEach(l):this.engine.registerTrigger(o,a,e,c.name,c)};return i.data.animation.forEach(l),new Une(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(ee(Fa),ee(r_),ee(hn))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();class dF{constructor(n,e,i,r){this.namespaceId=n,this.delegate=e,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?s=>e.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(n,e){return this.delegate.createElement(n,e)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,e){this.delegate.appendChild(n,e),this.engine.onInsert(this.namespaceId,e,n,!1)}insertBefore(n,e,i,r=!0){this.delegate.insertBefore(n,e,i),this.engine.onInsert(this.namespaceId,e,n,r)}removeChild(n,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(n,e){return this.delegate.selectRootElement(n,e)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,e,i,r){this.delegate.setAttribute(n,e,i,r)}removeAttribute(n,e,i){this.delegate.removeAttribute(n,e,i)}addClass(n,e){this.delegate.addClass(n,e)}removeClass(n,e){this.delegate.removeClass(n,e)}setStyle(n,e,i,r){this.delegate.setStyle(n,e,i,r)}removeStyle(n,e,i){this.delegate.removeStyle(n,e,i)}setProperty(n,e,i){"@"==e.charAt(0)&&e==cF?this.disableAnimations(n,!!i):this.delegate.setProperty(n,e,i)}setValue(n,e){this.delegate.setValue(n,e)}listen(n,e,i){return this.delegate.listen(n,e,i)}disableAnimations(n,e){this.engine.disableAnimations(n,e)}}class Une extends dF{constructor(n,e,i,r,s){super(e,i,r,s),this.factory=n,this.namespaceId=e}setProperty(n,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==cF?this.disableAnimations(n,i=void 0===i||!!i):this.engine.process(this.namespaceId,n,e.slice(1),i):this.delegate.setProperty(n,e,i)}listen(n,e,i){if("@"==e.charAt(0)){const r=function Yne(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(n);let s=e.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function zne(t){const n=t.indexOf(".");return[t.substring(0,n),t.slice(n+1)]}(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(n,e,i)}}let qne=(()=>{class t extends r_{constructor(e,i,r,s){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return t.\u0275fac=function(e){return new(e||t)(ee(ui),ee(lC),ee(vC),ee(hu))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();const fF=[{provide:lf,useClass:Bne},{provide:vC,useFactory:function Wne(){return new fne}},{provide:r_,useClass:qne},{provide:Fa,useFactory:function Gne(t,n,e){return new jne(t,n,e)},deps:[Zh,r_,hn]}],kC=[{provide:lC,useFactory:()=>new Vne},{provide:Vk,useValue:"BrowserAnimations"},...fF],hF=[{provide:lC,useClass:Bx},{provide:Vk,useValue:"NoopAnimations"},...fF];let Zne=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?hF:kC}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=_i({type:t}),t.\u0275inj=oi({providers:kC,imports:[s1]}),t})();class Qne{handleError(n){const e=window.open("about:blank","_blank");null!=e?(e.document.open(),e.document.write(`<head><title>Error Report</title></head>\n            <body style="white-space: pre-line; overflow-wrap: anywhere;">An Error occured. Sorry for the inconvenience. <br/>______________<br/>Error Message: ${_a.serailize(n)}</body>`),e.document.close()):console.error("Create error report failed!")}}let Kne=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=_i({type:t,bootstrap:[Qee]}),t.\u0275inj=oi({providers:[{provide:Na,useClass:Qne},{provide:Sb,useFactory:fW.getAxiosService},...r6.map(n=>({provide:UI,useClass:n,multi:!0})),...kG.map(n=>({provide:wA,useClass:n,multi:!0})),...sG.map(n=>({provide:bA,useClass:n,multi:!0}))],imports:[s1,Zee,XU,TX.forRoot(),Zne,EX.forRoot(),g8.forRoot(),QK.forRoot(),ZR.forRoot(),yA.forRoot()]}),t})();Hj().bootstrapModule(Kne).catch(t=>console.error(t))},590:(Xt,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.config={sort_key:!1}},586:(Xt,j,ue)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const Q=ue(241),ge=ue(902),De=ue(636);function Re(F,ae){if(""===ae||"_"===ae)return null;const B=F[ge.decodeKey(ae)];if(null===B)return B;switch(typeof B){case"undefined":case"number":return B;case"string":switch(B[0]+B[1]){case"b|":return ge.decodeBool(B);case"o|":return function ve(F,ae){if("o|"===ae)return{};const Me={},B=ae.split("|");let X=Re(F,B[1]);const te=B.length;te-2==1&&!Array.isArray(X)&&(X=[X]);for(let Ne=2;Ne<te;Ne++){const xe=X[Ne-2];let Ze=B[Ne];Ze=Re(F,Ze),Me[xe]=Ze}return Me}(F,B);case"n|":return ge.decodeNum(B);case"a|":return function at(F,ae){if("a|"===ae)return[];const Me=ae.split("|"),B=Me.length-1,ie=new Array(B);for(let X=0;X<B;X++){let te=Me[X+1];te=Re(F,te),ie[X]=te}return ie}(F,B);default:return ge.decodeStr(B)}}return Q.throwUnknownDataType(B)}j.compress=function me(F){const ae=De.makeInMemoryMemory(),Me=De.addValue(ae,F,void 0);return[De.memToValues(ae),Me]},j.decode=Re,j.decompress=function he(F){const[ae,Me]=F;return Re(ae,Me)}},241:(Xt,j)=>{"use strict";function ue(ge){return Object.prototype.toString.call(ge)}Object.defineProperty(j,"__esModule",{value:!0}),j.getType=ue,j.throwUnknownDataType=function Q(ge){throw new TypeError("unsupported data type: "+ue(ge))}},902:(Xt,j,ue)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const Q=ue(897);j.encodeNum=function ge(F){return"n|"+Q.num_to_s(F)},j.decodeNum=function De(F){return F=F.replace("n|",""),Q.s_to_num(F)},j.decodeKey=function me(F){return"number"==typeof F?F:Q.s_to_int(F)},j.encodeBool=function ve(F){return F?"b|T":"b|F"},j.decodeBool=function at(F){switch(F){case"b|T":return!0;case"b|F":return!1}return!!F},j.encodeStr=function Re(F){switch(F[0]+F[1]){case"b|":case"o|":case"n|":case"a|":case"s|":F="s|"+F}return F},j.decodeStr=function he(F){return F[0]+F[1]==="s|"?F.substr(2):F}},944:(Xt,j)=>{"use strict";function ge(De,me){me.add(De);for(const ve in De)if(void 0===De[ve])delete De[ve];else{const at=De[ve];at&&"object"==typeof at&&!me.has(at)&&ge(at,me)}}Object.defineProperty(j,"__esModule",{value:!0}),j.trimUndefined=function ue(De){for(const me in De)void 0===De[me]&&delete De[me]},j.trimUndefinedRecursively=function Q(De){ge(De,new Set)}},667:(Xt,j,ue)=>{"use strict";var ge=ue(586);j.nN=ge.compress,j.Lj=ge.decompress,ue(586),ue(636);ue(944)},636:(Xt,j,ue)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const Q=ue(590),ge=ue(241),De=ue(902),me=ue(897);function at(){const B=[];return{forEach(ie){for(let X=0;X<B.length;X++)if("break"===ie(B[X]))return},add(ie){B.push(ie)},toArray:()=>B}}function Re(){const B=Object.create(null),ie=Object.create(null);return{getValue:X=>B[X],getSchema:X=>ie[X],forEachValue(X){for(const[te,Ne]of Object.entries(B))if("break"===X(te,Ne))return},forEachSchema(X){for(const[te,Ne]of Object.entries(ie))if("break"===X(te,Ne))return},setValue(X,te){B[X]=te},setSchema(X,te){ie[X]=te},hasValue:X=>X in B,hasSchema:X=>X in ie}}function F(B,ie){if(B.cache.hasValue(ie))return B.cache.getValue(ie);const X=B.keyCount++,te=me.num_to_s(X);return B.store.add(ie),B.cache.setValue(ie,te),te}j.memToValues=function ve(B){return B.store.toArray()},j.makeInMemoryStore=at,j.makeInMemoryCache=Re,j.makeInMemoryMemory=function he(){return{store:at(),cache:Re(),keyCount:0}},j.addValue=function Me(B,ie,X){if(null===ie)return"";switch(typeof ie){case"undefined":if(Array.isArray(X))return Me(B,null,X);break;case"object":if(null===ie)return F(B,null);if(Array.isArray(ie)){let te="a";for(let Ne=0;Ne<ie.length;Ne++){const xe=ie[Ne];te+="|"+(null===xe?"_":Me(B,xe,ie))}return"a"===te&&(te="a|"),F(B,te)}{const te=Object.keys(ie);if(0===te.length)return F(B,"o|");let Ne="o";const xe=function ae(B,ie){Q.config.sort_key&&ie.sort();const X=ie.join(",");if(B.cache.hasSchema(X))return B.cache.getSchema(X);const te=Me(B,ie,void 0);return B.cache.setSchema(X,te),te}(B,te);Ne+="|"+xe;for(const Ze of te)Ne+="|"+Me(B,ie[Ze],ie);return F(B,Ne)}case"boolean":return F(B,De.encodeBool(ie));case"number":return F(B,De.encodeNum(ie));case"string":return F(B,De.encodeStr(ie))}return ge.throwUnknownDataType(ie)}},897:(Xt,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});let ue="";for(let B=0;B<10;B++){const ie=String.fromCharCode(48+B);ue+=ie}for(let B=0;B<26;B++){const ie=String.fromCharCode(65+B);ue+=ie}for(let B=0;B<26;B++){const ie=String.fromCharCode(97+B);ue+=ie}const Q=ue.length,ge={};for(let B=0;B<Q;B++)ge[ue[B]]=B;function De(B){let ie=0,X=1;for(let te=B.length-1;te>=0;te--){let xe=ge[B[te]];xe*=X,ie+=xe,X*=Q}return ie}function me(B){let ie=BigInt(0),X=BigInt(1);const te=BigInt(Q);for(let Ne=B.length-1;Ne>=0;Ne--){let Ze=BigInt(ge[B[Ne]]);Ze*=X,ie+=Ze,X*=te}return ie}function ve(B){if(0===B)return ue[0];const ie=[];for(;0!==B;){const X=B%Q;ie.push(ue[X]),B-=X,B/=Q}return ie.reverse().join("")}function at(B){const ie=BigInt(0),X=BigInt(Q);if(B===ie)return ue[0];const te=[];for(;B!==ie;){const Ne=B%X,xe=ue[Number(Ne)];te.push(xe),B-=Ne,B/=X}return te.reverse().join("")}function Re(B){return B.split("").reverse().join("")}function F(B){const ie=+B;return ie.toString()===B?ve(ie):":"+at(BigInt(B))}function ae(B){return":"===B[0]?me(B.substring(1)).toString():De(B).toString()}j.s_to_int=De,j.s_to_big_int=me,j.int_to_s=ve,j.big_int_to_s=at,j.num_to_s=function he(B){if(B<0)return"-"+he(-B);let te,[ie,X]=B.toString().split(".");if(!X)return ve(B);X&&([X,te]=X.split("e")),ie=F(ie),X=Re(X),X=F(X);let Ne=ie+"."+X;if(te){switch(Ne+=".",te[0]){case"+":te=te.slice(1);break;case"-":Ne+="-",te=te.slice(1)}te=Re(te),te=F(te),Ne+=te}return Ne},j.int_str_to_s=F,j.s_to_num=function Me(B){if("-"===B[0])return-Me(B.substr(1));let[ie,X,te]=B.split(".");if(!X)return De(ie);ie=ae(ie),X=ae(X),X=Re(X);let Ne=ie+"."+X;if(te){Ne+="e";let xe=!1;"-"===te[0]&&(xe=!0,te=te.slice(1)),te=ae(te),te=Re(te),Ne+=xe?-te:+te}return+Ne}},316:(Xt,j)=>{"use strict";var ue,ge;Object.defineProperty(j,"__esModule",{value:!0}),j.Doctype=j.CDATA=j.Tag=j.Style=j.Script=j.Comment=j.Directive=j.Text=j.Root=j.isTag=j.ElementType=void 0,(ge=ue=j.ElementType||(j.ElementType={})).Root="root",ge.Text="text",ge.Directive="directive",ge.Comment="comment",ge.Script="script",ge.Style="style",ge.Tag="tag",ge.CDATA="cdata",ge.Doctype="doctype",j.isTag=function Q(ge){return ge.type===ue.Tag||ge.type===ue.Script||ge.type===ue.Style},j.Root=ue.Root,j.Text=ue.Text,j.Directive=ue.Directive,j.Comment=ue.Comment,j.Script=ue.Script,j.Style=ue.Style,j.Tag=ue.Tag,j.CDATA=ue.CDATA,j.Doctype=ue.Doctype},993:(Xt,j)=>{j.CASE_SENSITIVE_TAG_NAMES=["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"]},191:Xt=>{var j="html",Q="body",ge=/<([a-zA-Z]+[0-9]?)/,De=/<head[^]*>/i,me=/<body[^]*>/i,ve=function(){throw new Error("This browser does not support `document.implementation.createHTMLDocument`")},at=function(){throw new Error("This browser does not support `DOMParser.prototype.parseFromString`")},Re="object"==typeof window&&window.DOMParser;if("function"==typeof Re){var he=new Re;ve=at=function(X,te){return te&&(X="<"+te+">"+X+"</"+te+">"),he.parseFromString(X,"text/html")}}if("object"==typeof document&&document.implementation){var ae=document.implementation.createHTMLDocument();ve=function(X,te){return te?(ae.documentElement.querySelector(te).innerHTML=X,ae):(ae.documentElement.innerHTML=X,ae)}}var B,Me="object"==typeof document?document.createElement("template"):{};Me.content&&(B=function(X){return Me.innerHTML=X,Me.content.childNodes}),Xt.exports=function ie(X){var te,xe,Ze,dn,Ne=X.match(ge);switch(Ne&&Ne[1]&&(te=Ne[1].toLowerCase()),te){case j:return xe=at(X),De.test(X)||(Ze=xe.querySelector("head"))&&Ze.parentNode.removeChild(Ze),me.test(X)||(Ze=xe.querySelector(Q))&&Ze.parentNode.removeChild(Ze),xe.querySelectorAll(j);case"head":case Q:return dn=(xe=ve(X)).querySelectorAll(te),me.test(X)&&De.test(X)?dn[0].parentNode.childNodes:dn;default:return B?B(X):(Ze=ve(X,Q).querySelector(Q)).childNodes}}},867:(Xt,j,ue)=>{for(var ae,ge=ue(860),me=ue(993).CASE_SENSITIVE_TAG_NAMES,ve=ge.Comment,at=ge.Element,Re=ge.ProcessingInstruction,he=ge.Text,F={},Me=0,B=me.length;Me<B;Me++)F[(ae=me[Me]).toLowerCase()]=ae;function X(xe){for(var dn,Ze={},Wt=0,Qn=xe.length;Wt<Qn;Wt++)Ze[(dn=xe[Wt]).name]=dn.value;return Ze}function te(xe){return function ie(xe){return F[xe]}(xe=xe.toLowerCase())||xe}j.e=function Ne(xe,Ze,dn){Ze=Ze||null;for(var Qn,Wt=[],x=0,se=xe.length;x<se;x++){var S,G=xe[x];switch(G.nodeType){case 1:Qn=te(G.nodeName),(S=new at(Qn,X(G.attributes))).children=Ne("template"===Qn?G.content.childNodes:G.childNodes,S);break;case 3:S=new he(G.nodeValue);break;case 8:S=new ve(G.nodeValue);break;default:continue}var E=Wt[x-1]||null;E&&(E.next=S),S.parent=Ze,S.prev=E,S.next=null,Wt.push(S)}return dn&&((S=new Re(dn.substring(0,dn.indexOf(" ")).toLowerCase(),dn)).next=Wt[0]||null,S.parent=Ze,Wt.unshift(S),Wt[1]&&(Wt[1].prev=Wt[0])),Wt}},860:function(Xt,j,ue){"use strict";var Q=this&&this.__createBinding||(Object.create?function(Re,he,F,ae){void 0===ae&&(ae=F);var Me=Object.getOwnPropertyDescriptor(he,F);(!Me||("get"in Me?!he.__esModule:Me.writable||Me.configurable))&&(Me={enumerable:!0,get:function(){return he[F]}}),Object.defineProperty(Re,ae,Me)}:function(Re,he,F,ae){void 0===ae&&(ae=F),Re[ae]=he[F]}),ge=this&&this.__exportStar||function(Re,he){for(var F in Re)"default"!==F&&!Object.prototype.hasOwnProperty.call(he,F)&&Q(he,Re,F)};Object.defineProperty(j,"__esModule",{value:!0}),j.DomHandler=void 0;var De=ue(316),me=ue(31);ge(ue(31),j);var ve={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},at=function(){function Re(he,F,ae){this.dom=[],this.root=new me.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,"function"==typeof F&&(ae=F,F=ve),"object"==typeof he&&(F=he,he=void 0),this.callback=he??null,this.options=F??ve,this.elementCB=ae??null}return Re.prototype.onparserinit=function(he){this.parser=he},Re.prototype.onreset=function(){this.dom=[],this.root=new me.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},Re.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},Re.prototype.onerror=function(he){this.handleCallback(he)},Re.prototype.onclosetag=function(){this.lastNode=null;var he=this.tagStack.pop();this.options.withEndIndices&&(he.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(he)},Re.prototype.onopentag=function(he,F){var Me=new me.Element(he,F,void 0,this.options.xmlMode?De.ElementType.Tag:void 0);this.addNode(Me),this.tagStack.push(Me)},Re.prototype.ontext=function(he){var F=this.lastNode;if(F&&F.type===De.ElementType.Text)F.data+=he,this.options.withEndIndices&&(F.endIndex=this.parser.endIndex);else{var ae=new me.Text(he);this.addNode(ae),this.lastNode=ae}},Re.prototype.oncomment=function(he){if(this.lastNode&&this.lastNode.type===De.ElementType.Comment)this.lastNode.data+=he;else{var F=new me.Comment(he);this.addNode(F),this.lastNode=F}},Re.prototype.oncommentend=function(){this.lastNode=null},Re.prototype.oncdatastart=function(){var he=new me.Text(""),F=new me.CDATA([he]);this.addNode(F),he.parent=F,this.lastNode=he},Re.prototype.oncdataend=function(){this.lastNode=null},Re.prototype.onprocessinginstruction=function(he,F){var ae=new me.ProcessingInstruction(he,F);this.addNode(ae)},Re.prototype.handleCallback=function(he){if("function"==typeof this.callback)this.callback(he,this.dom);else if(he)throw he},Re.prototype.addNode=function(he){var F=this.tagStack[this.tagStack.length-1],ae=F.children[F.children.length-1];this.options.withStartIndices&&(he.startIndex=this.parser.startIndex),this.options.withEndIndices&&(he.endIndex=this.parser.endIndex),F.children.push(he),ae&&(he.prev=ae,ae.next=he),he.parent=F,this.lastNode=null},Re}();j.DomHandler=at,j.default=at},31:function(Xt,j,ue){"use strict";var x,Q=this&&this.__extends||(x=function(se,G){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,E){S.__proto__=E}||function(S,E){for(var Z in E)Object.prototype.hasOwnProperty.call(E,Z)&&(S[Z]=E[Z])})(se,G)},function(se,G){if("function"!=typeof G&&null!==G)throw new TypeError("Class extends value "+String(G)+" is not a constructor or null");function S(){this.constructor=se}x(se,G),se.prototype=null===G?Object.create(G):(S.prototype=G.prototype,new S)}),ge=this&&this.__assign||function(){return ge=Object.assign||function(x){for(var se,G=1,S=arguments.length;G<S;G++)for(var E in se=arguments[G])Object.prototype.hasOwnProperty.call(se,E)&&(x[E]=se[E]);return x},ge.apply(this,arguments)};Object.defineProperty(j,"__esModule",{value:!0}),j.cloneNode=j.hasChildren=j.isDocument=j.isDirective=j.isComment=j.isText=j.isCDATA=j.isTag=j.Element=j.Document=j.CDATA=j.NodeWithChildren=j.ProcessingInstruction=j.Comment=j.Text=j.DataNode=j.Node=void 0;var De=ue(316),me=function(){function x(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(x.prototype,"parentNode",{get:function(){return this.parent},set:function(se){this.parent=se},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"previousSibling",{get:function(){return this.prev},set:function(se){this.prev=se},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"nextSibling",{get:function(){return this.next},set:function(se){this.next=se},enumerable:!1,configurable:!0}),x.prototype.cloneNode=function(se){return void 0===se&&(se=!1),Wt(this,se)},x}();j.Node=me;var ve=function(x){function se(G){var S=x.call(this)||this;return S.data=G,S}return Q(se,x),Object.defineProperty(se.prototype,"nodeValue",{get:function(){return this.data},set:function(G){this.data=G},enumerable:!1,configurable:!0}),se}(me);j.DataNode=ve;var at=function(x){function se(){var G=null!==x&&x.apply(this,arguments)||this;return G.type=De.ElementType.Text,G}return Q(se,x),Object.defineProperty(se.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),se}(ve);j.Text=at;var Re=function(x){function se(){var G=null!==x&&x.apply(this,arguments)||this;return G.type=De.ElementType.Comment,G}return Q(se,x),Object.defineProperty(se.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),se}(ve);j.Comment=Re;var he=function(x){function se(G,S){var E=x.call(this,S)||this;return E.name=G,E.type=De.ElementType.Directive,E}return Q(se,x),Object.defineProperty(se.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),se}(ve);j.ProcessingInstruction=he;var F=function(x){function se(G){var S=x.call(this)||this;return S.children=G,S}return Q(se,x),Object.defineProperty(se.prototype,"firstChild",{get:function(){var G;return null!==(G=this.children[0])&&void 0!==G?G:null},enumerable:!1,configurable:!0}),Object.defineProperty(se.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(se.prototype,"childNodes",{get:function(){return this.children},set:function(G){this.children=G},enumerable:!1,configurable:!0}),se}(me);j.NodeWithChildren=F;var ae=function(x){function se(){var G=null!==x&&x.apply(this,arguments)||this;return G.type=De.ElementType.CDATA,G}return Q(se,x),Object.defineProperty(se.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),se}(F);j.CDATA=ae;var Me=function(x){function se(){var G=null!==x&&x.apply(this,arguments)||this;return G.type=De.ElementType.Root,G}return Q(se,x),Object.defineProperty(se.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),se}(F);j.Document=Me;var B=function(x){function se(G,S,E,Z){void 0===E&&(E=[]),void 0===Z&&(Z="script"===G?De.ElementType.Script:"style"===G?De.ElementType.Style:De.ElementType.Tag);var le=x.call(this,E)||this;return le.name=G,le.attribs=S,le.type=Z,le}return Q(se,x),Object.defineProperty(se.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(se.prototype,"tagName",{get:function(){return this.name},set:function(G){this.name=G},enumerable:!1,configurable:!0}),Object.defineProperty(se.prototype,"attributes",{get:function(){var G=this;return Object.keys(this.attribs).map(function(S){var E,Z;return{name:S,value:G.attribs[S],namespace:null===(E=G["x-attribsNamespace"])||void 0===E?void 0:E[S],prefix:null===(Z=G["x-attribsPrefix"])||void 0===Z?void 0:Z[S]}})},enumerable:!1,configurable:!0}),se}(F);function ie(x){return(0,De.isTag)(x)}function X(x){return x.type===De.ElementType.CDATA}function te(x){return x.type===De.ElementType.Text}function Ne(x){return x.type===De.ElementType.Comment}function xe(x){return x.type===De.ElementType.Directive}function Ze(x){return x.type===De.ElementType.Root}function Wt(x,se){var G;if(void 0===se&&(se=!1),te(x))G=new at(x.data);else if(Ne(x))G=new Re(x.data);else if(ie(x)){var S=se?Qn(x.children):[],E=new B(x.name,ge({},x.attribs),S);S.forEach(function(Ee){return Ee.parent=E}),null!=x.namespace&&(E.namespace=x.namespace),x["x-attribsNamespace"]&&(E["x-attribsNamespace"]=ge({},x["x-attribsNamespace"])),x["x-attribsPrefix"]&&(E["x-attribsPrefix"]=ge({},x["x-attribsPrefix"])),G=E}else if(X(x)){S=se?Qn(x.children):[];var Z=new ae(S);S.forEach(function(Qe){return Qe.parent=Z}),G=Z}else if(Ze(x)){S=se?Qn(x.children):[];var le=new Me(S);S.forEach(function(Qe){return Qe.parent=le}),x["x-mode"]&&(le["x-mode"]=x["x-mode"]),G=le}else{if(!xe(x))throw new Error("Not implemented yet: ".concat(x.type));var be=new he(x.name,x.data);null!=x["x-name"]&&(be["x-name"]=x["x-name"],be["x-publicId"]=x["x-publicId"],be["x-systemId"]=x["x-systemId"]),G=be}return G.startIndex=x.startIndex,G.endIndex=x.endIndex,null!=x.sourceCodeLocation&&(G.sourceCodeLocation=x.sourceCodeLocation),G}function Qn(x){for(var se=x.map(function(S){return Wt(S,!0)}),G=1;G<se.length;G++)se[G].prev=se[G-1],se[G-1].next=se[G];return se}j.Element=B,j.isTag=ie,j.isCDATA=X,j.isText=te,j.isComment=Ne,j.isDirective=xe,j.isDocument=Ze,j.hasChildren=function dn(x){return Object.prototype.hasOwnProperty.call(x,"children")},j.cloneNode=Wt},28:function(Xt,j){var ue,ge;ue=function De(){"use strict";var me=typeof self<"u"?self:typeof window<"u"?window:void 0!==me?me:{},ve=!me.document&&!!me.postMessage,at=me.IS_PAPA_WORKER||!1,Re={},he=0,F={parse:function(S,E){var Z=(E=E||{}).dynamicTyping||!1;if(G(Z)&&(E.dynamicTypingFunction=Z,Z={}),E.dynamicTyping=Z,E.transform=!!G(E.transform)&&E.transform,E.worker&&F.WORKERS_SUPPORTED){var le=function(){if(!F.WORKERS_SUPPORTED)return!1;var sn,We,Ee=(sn=me.URL||me.webkitURL||null,We=De.toString(),F.BLOB_URL||(F.BLOB_URL=sn.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",We,")();"],{type:"text/javascript"})))),Qe=new me.Worker(Ee);return Qe.onmessage=dn,Qe.id=he++,Re[Qe.id]=Qe}();return le.userStep=E.step,le.userChunk=E.chunk,le.userComplete=E.complete,le.userError=E.error,E.step=G(E.step),E.chunk=G(E.chunk),E.complete=G(E.complete),E.error=G(E.error),delete E.worker,void le.postMessage({input:S,config:E,workerId:le.id})}var Ee,be=null;return"string"==typeof S?(S=65279===(Ee=S).charCodeAt(0)?Ee.slice(1):Ee,be=E.download?new B(E):new X(E)):!0===S.readable&&G(S.read)&&G(S.on)?be=new te(E):(me.File&&S instanceof File||S instanceof Object)&&(be=new ie(E)),be.stream(S)},unparse:function(S,E){var Z=!1,le=!0,be=",",Ee="\r\n",Qe='"',sn=Qe+Qe,We=!1,Oe=null,en=!1;!function(){if("object"==typeof E){if("string"!=typeof E.delimiter||F.BAD_DELIMITERS.filter(function(Te){return-1!==E.delimiter.indexOf(Te)}).length||(be=E.delimiter),("boolean"==typeof E.quotes||"function"==typeof E.quotes||Array.isArray(E.quotes))&&(Z=E.quotes),"boolean"!=typeof E.skipEmptyLines&&"string"!=typeof E.skipEmptyLines||(We=E.skipEmptyLines),"string"==typeof E.newline&&(Ee=E.newline),"string"==typeof E.quoteChar&&(Qe=E.quoteChar),"boolean"==typeof E.header&&(le=E.header),Array.isArray(E.columns)){if(0===E.columns.length)throw new Error("Option columns is empty");Oe=E.columns}void 0!==E.escapeChar&&(sn=E.escapeChar+Qe),("boolean"==typeof E.escapeFormulae||E.escapeFormulae instanceof RegExp)&&(en=E.escapeFormulae instanceof RegExp?E.escapeFormulae:/^[=+\-@\t\r].*$/)}}();var je=new RegExp(xe(Qe),"g");if("string"==typeof S&&(S=JSON.parse(S)),Array.isArray(S)){if(!S.length||Array.isArray(S[0]))return ni(null,S,We);if("object"==typeof S[0])return ni(Oe||Object.keys(S[0]),S,We)}else if("object"==typeof S)return"string"==typeof S.data&&(S.data=JSON.parse(S.data)),Array.isArray(S.data)&&(S.fields||(S.fields=S.meta&&S.meta.fields||Oe),S.fields||(S.fields=Array.isArray(S.data[0])?S.fields:"object"==typeof S.data[0]?Object.keys(S.data[0]):[]),Array.isArray(S.data[0])||"object"==typeof S.data[0]||(S.data=[S.data])),ni(S.fields||[],S.data||[],We);throw new Error("Unable to serialize unrecognized input");function ni(Te,$t,pt){var Xe="";"string"==typeof Te&&(Te=JSON.parse(Te)),"string"==typeof $t&&($t=JSON.parse($t));var wn=Array.isArray(Te)&&0<Te.length,Ie=!Array.isArray($t[0]);if(wn&&le){for(var on=0;on<Te.length;on++)0<on&&(Xe+=be),Xe+=It(Te[on],on);0<$t.length&&(Xe+=Ee)}for(var Ue=0;Ue<$t.length;Ue++){var wt=wn?Te.length:$t[Ue].length,tn=!1,an=wn?0===Object.keys($t[Ue]).length:0===$t[Ue].length;if(pt&&!wn&&(tn="greedy"===pt?""===$t[Ue].join("").trim():1===$t[Ue].length&&0===$t[Ue][0].length),"greedy"===pt&&wn){for(var Lt=[],Nn=0;Nn<wt;Nn++)Lt.push($t[Ue][Ie?Te[Nn]:Nn]);tn=""===Lt.join("").trim()}if(!tn){for(var O=0;O<wt;O++)0<O&&!an&&(Xe+=be),Xe+=It($t[Ue][wn&&Ie?Te[O]:O],O);Ue<$t.length-1&&(!pt||0<wt&&!an)&&(Xe+=Ee)}}return Xe}function It(Te,$t){if(null==Te)return"";if(Te.constructor===Date)return JSON.stringify(Te).slice(1,25);var pt=!1;en&&"string"==typeof Te&&en.test(Te)&&(Te="'"+Te,pt=!0);var Xe=Te.toString().replace(je,sn);return(pt=pt||!0===Z||"function"==typeof Z&&Z(Te,$t)||Array.isArray(Z)&&Z[$t]||function(wn,Ie){for(var on=0;on<Ie.length;on++)if(-1<wn.indexOf(Ie[on]))return!0;return!1}(Xe,F.BAD_DELIMITERS)||-1<Xe.indexOf(be)||" "===Xe.charAt(0)||" "===Xe.charAt(Xe.length-1))?Qe+Xe+Qe:Xe}}};if(F.RECORD_SEP=String.fromCharCode(30),F.UNIT_SEP=String.fromCharCode(31),F.BYTE_ORDER_MARK="\ufeff",F.BAD_DELIMITERS=["\r","\n",'"',F.BYTE_ORDER_MARK],F.WORKERS_SUPPORTED=!ve&&!!me.Worker,F.NODE_STREAM_INPUT=1,F.LocalChunkSize=10485760,F.RemoteChunkSize=5242880,F.DefaultDelimiter=",",F.Parser=Ze,F.ParserHandle=Ne,F.NetworkStreamer=B,F.FileStreamer=ie,F.StringStreamer=X,F.ReadableStreamStreamer=te,me.jQuery){var ae=me.jQuery;ae.fn.parse=function(S){var E=S.config||{},Z=[];return this.each(function(Ee){if("INPUT"!==ae(this).prop("tagName").toUpperCase()||"file"!==ae(this).attr("type").toLowerCase()||!me.FileReader||!this.files||0===this.files.length)return!0;for(var Qe=0;Qe<this.files.length;Qe++)Z.push({file:this.files[Qe],inputElem:this,instanceConfig:ae.extend({},E)})}),le(),this;function le(){if(0!==Z.length){var Qe,sn,We,Oe=Z[0];if(G(S.before)){var en=S.before(Oe.file,Oe.inputElem);if("object"==typeof en){if("abort"===en.action)return"AbortError",Qe=Oe.file,sn=Oe.inputElem,We=en.reason,void(G(S.error)&&S.error({name:"AbortError"},Qe,sn,We));if("skip"===en.action)return void be();"object"==typeof en.config&&(Oe.instanceConfig=ae.extend(Oe.instanceConfig,en.config))}else if("skip"===en)return void be()}var je=Oe.instanceConfig.complete;Oe.instanceConfig.complete=function(ni){G(je)&&je(ni,Oe.file,Oe.inputElem),be()},F.parse(Oe.file,Oe.instanceConfig)}else G(S.complete)&&S.complete()}function be(){Z.splice(0,1),le()}}}function Me(S){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(E){var Z=x(E);Z.chunkSize=parseInt(Z.chunkSize),E.step||E.chunk||(Z.chunkSize=null),this._handle=new Ne(Z),(this._handle.streamer=this)._config=Z}.call(this,S),this.parseChunk=function(E,Z){if(this.isFirstChunk&&G(this._config.beforeFirstChunk)){var le=this._config.beforeFirstChunk(E);void 0!==le&&(E=le)}this.isFirstChunk=!1,this._halted=!1;var be=this._partialLine+E;this._partialLine="";var Ee=this._handle.parse(be,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var Qe=Ee.meta.cursor;this._finished||(this._partialLine=be.substring(Qe-this._baseIndex),this._baseIndex=Qe),Ee&&Ee.data&&(this._rowCount+=Ee.data.length);var sn=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(at)me.postMessage({results:Ee,workerId:F.WORKER_ID,finished:sn});else if(G(this._config.chunk)&&!Z){if(this._config.chunk(Ee,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);Ee=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(Ee.data),this._completeResults.errors=this._completeResults.errors.concat(Ee.errors),this._completeResults.meta=Ee.meta),this._completed||!sn||!G(this._config.complete)||Ee&&Ee.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),sn||Ee&&Ee.meta.paused||this._nextChunk(),Ee}this._halted=!0},this._sendError=function(E){G(this._config.error)?this._config.error(E):at&&this._config.error&&me.postMessage({workerId:F.WORKER_ID,error:E,finished:!1})}}function B(S){var E;(S=S||{}).chunkSize||(S.chunkSize=F.RemoteChunkSize),Me.call(this,S),this._nextChunk=ve?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(Z){this._input=Z,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(E=new XMLHttpRequest,this._config.withCredentials&&(E.withCredentials=this._config.withCredentials),ve||(E.onload=se(this._chunkLoaded,this),E.onerror=se(this._chunkError,this)),E.open(this._config.downloadRequestBody?"POST":"GET",this._input,!ve),this._config.downloadRequestHeaders){var Z=this._config.downloadRequestHeaders;for(var le in Z)E.setRequestHeader(le,Z[le])}this._config.chunkSize&&E.setRequestHeader("Range","bytes="+this._start+"-"+(this._start+this._config.chunkSize-1));try{E.send(this._config.downloadRequestBody)}catch(Ee){this._chunkError(Ee.message)}ve&&0===E.status&&this._chunkError()}},this._chunkLoaded=function(){var le;4===E.readyState&&(E.status<200||400<=E.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:E.responseText.length,this._finished=!this._config.chunkSize||this._start>=(null===(le=E.getResponseHeader("Content-Range"))?-1:parseInt(le.substring(le.lastIndexOf("/")+1))),this.parseChunk(E.responseText)))},this._chunkError=function(Z){this._sendError(new Error(E.statusText||Z))}}function ie(S){var E,Z;(S=S||{}).chunkSize||(S.chunkSize=F.LocalChunkSize),Me.call(this,S);var le=typeof FileReader<"u";this.stream=function(be){this._input=be,Z=be.slice||be.webkitSlice||be.mozSlice,le?((E=new FileReader).onload=se(this._chunkLoaded,this),E.onerror=se(this._chunkError,this)):E=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var be=this._input;if(this._config.chunkSize){var Ee=Math.min(this._start+this._config.chunkSize,this._input.size);be=Z.call(be,this._start,Ee)}var Qe=E.readAsText(be,this._config.encoding);le||this._chunkLoaded({target:{result:Qe}})},this._chunkLoaded=function(be){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(be.target.result)},this._chunkError=function(){this._sendError(E.error)}}function X(S){var E;Me.call(this,S=S||{}),this.stream=function(Z){return E=Z,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var Z,le=this._config.chunkSize;return le?(Z=E.substring(0,le),E=E.substring(le)):(Z=E,E=""),this._finished=!E,this.parseChunk(Z)}}}function te(S){Me.call(this,S=S||{});var E=[],Z=!0,le=!1;this.pause=function(){Me.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){Me.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(be){this._input=be,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){le&&1===E.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),E.length?this.parseChunk(E.shift()):Z=!0},this._streamData=se(function(be){try{E.push("string"==typeof be?be:be.toString(this._config.encoding)),Z&&(Z=!1,this._checkIsFinished(),this.parseChunk(E.shift()))}catch(Ee){this._streamError(Ee)}},this),this._streamError=se(function(be){this._streamCleanUp(),this._sendError(be)},this),this._streamEnd=se(function(){this._streamCleanUp(),le=!0,this._streamData("")},this),this._streamCleanUp=se(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function Ne(S){var E,Z,le,be=Math.pow(2,53),Ee=-be,Qe=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,sn=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,We=this,Oe=0,en=0,je=!1,ni=!1,It=[],Te={data:[],errors:[],meta:{}};if(G(S.step)){var $t=S.step;S.step=function(Ue){if(Te=Ue,wn())Xe();else{if(Xe(),0===Te.data.length)return;Oe+=Ue.data.length,S.preview&&Oe>S.preview?Z.abort():(Te.data=Te.data[0],$t(Te,We))}}}function pt(Ue){return"greedy"===S.skipEmptyLines?""===Ue.join("").trim():1===Ue.length&&0===Ue[0].length}function Xe(){return Te&&le&&(on("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+F.DefaultDelimiter+"'"),le=!1),S.skipEmptyLines&&(Te.data=Te.data.filter(function(Ue){return!pt(Ue)})),wn()&&function(){if(Te)if(Array.isArray(Te.data[0])){for(var wt=0;wn()&&wt<Te.data.length;wt++)Te.data[wt].forEach(Ue);Te.data.splice(0,1)}else Te.data.forEach(Ue);function Ue(tn,an){G(S.transformHeader)&&(tn=S.transformHeader(tn,an)),It.push(tn)}}(),function(){if(!Te||!S.header&&!S.dynamicTyping&&!S.transform)return Te;function Ue(tn,an){var Lt,Nn=S.header?{}:[];for(Lt=0;Lt<tn.length;Lt++){var A=Lt,O=tn[Lt];S.header&&(A=Lt>=It.length?"__parsed_extra":It[Lt]),S.transform&&(O=S.transform(O,A)),O=Ie(A,O),"__parsed_extra"===A?(Nn[A]=Nn[A]||[],Nn[A].push(O)):Nn[A]=O}return S.header&&(Lt>It.length?on("FieldMismatch","TooManyFields","Too many fields: expected "+It.length+" fields but parsed "+Lt,en+an):Lt<It.length&&on("FieldMismatch","TooFewFields","Too few fields: expected "+It.length+" fields but parsed "+Lt,en+an)),Nn}var wt=1;return!Te.data.length||Array.isArray(Te.data[0])?(Te.data=Te.data.map(Ue),wt=Te.data.length):Te.data=Ue(Te.data,0),S.header&&Te.meta&&(Te.meta.fields=It),en+=wt,Te}()}function wn(){return S.header&&0===It.length}function Ie(Ue,wt){return tn=Ue,S.dynamicTypingFunction&&void 0===S.dynamicTyping[tn]&&(S.dynamicTyping[tn]=S.dynamicTypingFunction(tn)),!0===(S.dynamicTyping[tn]||S.dynamicTyping)?"true"===wt||"TRUE"===wt||"false"!==wt&&"FALSE"!==wt&&(function(an){if(Qe.test(an)){var Lt=parseFloat(an);if(Ee<Lt&&Lt<be)return!0}return!1}(wt)?parseFloat(wt):sn.test(wt)?new Date(wt):""===wt?null:wt):wt;var tn}function on(Ue,wt,tn,an){var Lt={type:Ue,code:wt,message:tn};void 0!==an&&(Lt.row=an),Te.errors.push(Lt)}this.parse=function(Ue,wt,tn){if(S.newline||(S.newline=function(A,O){A=A.substring(0,1048576);var L=new RegExp(xe(O)+"([^]*?)"+xe(O),"gm"),Y=(A=A.replace(L,"")).split("\r"),ne=A.split("\n");if(1===Y.length||1<ne.length&&ne[0].length<Y[0].length)return"\n";for(var At=0,we=0;we<Y.length;we++)"\n"===Y[we][0]&&At++;return At>=Y.length/2?"\r\n":"\r"}(Ue,S.quoteChar||'"')),le=!1,S.delimiter)G(S.delimiter)&&(S.delimiter=S.delimiter(Ue),Te.meta.delimiter=S.delimiter);else{var Lt=function(A,O,L,Y,ne){var ce,At,we,Se;ne=ne||[",","\t","|",";",F.RECORD_SEP,F.UNIT_SEP];for(var xt=0;xt<ne.length;xt++){var Dt=ne[xt],ii=0,Ti=0,En=0;we=void 0;for(var Cn=new Ze({comments:Y,delimiter:Dt,newline:O,preview:10}).parse(A),Li=0;Li<Cn.data.length;Li++)if(L&&pt(Cn.data[Li]))En++;else{var Pt=Cn.data[Li].length;Ti+=Pt,void 0!==we?0<Pt&&(ii+=Math.abs(Pt-we),we=Pt):we=Pt}0<Cn.data.length&&(Ti/=Cn.data.length-En),(void 0===At||ii<=At)&&(void 0===Se||Se<Ti)&&1.99<Ti&&(At=ii,ce=Dt,Se=Ti)}return{successful:!!(S.delimiter=ce),bestDelimiter:ce}}(Ue,S.newline,S.skipEmptyLines,S.comments,S.delimitersToGuess);Lt.successful?S.delimiter=Lt.bestDelimiter:(le=!0,S.delimiter=F.DefaultDelimiter),Te.meta.delimiter=S.delimiter}var Nn=x(S);return S.preview&&S.header&&Nn.preview++,E=Ue,Z=new Ze(Nn),Te=Z.parse(E,wt,tn),Xe(),je?{meta:{paused:!0}}:Te||{meta:{paused:!1}}},this.paused=function(){return je},this.pause=function(){je=!0,Z.abort(),E=G(S.chunk)?"":E.substring(Z.getCharIndex())},this.resume=function(){We.streamer._halted?(je=!1,We.streamer.parseChunk(E,!0)):setTimeout(We.resume,3)},this.aborted=function(){return ni},this.abort=function(){ni=!0,Z.abort(),Te.meta.aborted=!0,G(S.complete)&&S.complete(Te),E=""}}function xe(S){return S.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Ze(S){var E,Z=(S=S||{}).delimiter,le=S.newline,be=S.comments,Ee=S.step,Qe=S.preview,sn=S.fastMode,We=E=null==S.quoteChar?'"':S.quoteChar;if(void 0!==S.escapeChar&&(We=S.escapeChar),("string"!=typeof Z||-1<F.BAD_DELIMITERS.indexOf(Z))&&(Z=","),be===Z)throw new Error("Comment character same as delimiter");!0===be?be="#":("string"!=typeof be||-1<F.BAD_DELIMITERS.indexOf(be))&&(be=!1),"\n"!==le&&"\r"!==le&&"\r\n"!==le&&(le="\n");var Oe=0,en=!1;this.parse=function(je,ni,It){if("string"!=typeof je)throw new Error("Input must be a string");var Te=je.length,$t=Z.length,pt=le.length,Xe=be.length,wn=G(Ee),Ie=[],on=[],Ue=[],wt=Oe=0;if(!je)return jn();if(S.header&&!ni){var tn=je.split(le)[0].split(Z),an=[],Lt={},Nn=!1;for(var A in tn){var O=tn[A];G(S.transformHeader)&&(O=S.transformHeader(O,A));var L=O,Y=Lt[O]||0;for(0<Y&&(Nn=!0,L=O+"_"+Y),Lt[O]=Y+1;an.includes(L);)L=L+"_"+Y;an.push(L)}if(Nn){var ne=je.split(le);ne[0]=an.join(Z),je=ne.join(le)}}if(sn||!1!==sn&&-1===je.indexOf(E)){for(var ce=je.split(le),At=0;At<ce.length;At++){if(Oe+=(Ue=ce[At]).length,At!==ce.length-1)Oe+=le.length;else if(It)return jn();if(!be||Ue.substring(0,Xe)!==be){if(wn){if(Ie=[],En(Ue.split(Z)),as(),en)return jn()}else En(Ue.split(Z));if(Qe&&Qe<=At)return Ie=Ie.slice(0,Qe),jn(!0)}}return jn()}for(var we=je.indexOf(Z,Oe),Se=je.indexOf(le,Oe),xt=new RegExp(xe(We)+xe(E),"g"),Dt=je.indexOf(E,Oe);;)if(je[Oe]!==E)if(be&&0===Ue.length&&je.substring(Oe,Oe+Xe)===be){if(-1===Se)return jn();Se=je.indexOf(le,Oe=Se+pt),we=je.indexOf(Z,Oe)}else if(-1!==we&&(we<Se||-1===Se))Ue.push(je.substring(Oe,we)),we=je.indexOf(Z,Oe=we+$t);else{if(-1===Se)break;if(Ue.push(je.substring(Oe,Se)),Pt(Se+pt),wn&&(as(),en))return jn();if(Qe&&Ie.length>=Qe)return jn(!0)}else for(Dt=Oe,Oe++;;){if(-1===(Dt=je.indexOf(E,Dt+1)))return It||on.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Ie.length,index:Oe}),Li();if(Dt===Te-1)return Li(je.substring(Oe,Dt).replace(xt,E));if(E!==We||je[Dt+1]!==We){if(E===We||0===Dt||je[Dt-1]!==We){-1!==we&&we<Dt+1&&(we=je.indexOf(Z,Dt+1)),-1!==Se&&Se<Dt+1&&(Se=je.indexOf(le,Dt+1));var ii=Cn(-1===Se?we:Math.min(we,Se));if(je.substr(Dt+1+ii,$t)===Z){Ue.push(je.substring(Oe,Dt).replace(xt,E)),je[Oe=Dt+1+ii+$t]!==E&&(Dt=je.indexOf(E,Oe)),we=je.indexOf(Z,Oe),Se=je.indexOf(le,Oe);break}var Ti=Cn(Se);if(je.substring(Dt+1+Ti,Dt+1+Ti+pt)===le){if(Ue.push(je.substring(Oe,Dt).replace(xt,E)),Pt(Dt+1+Ti+pt),we=je.indexOf(Z,Oe),Dt=je.indexOf(E,Oe),wn&&(as(),en))return jn();if(Qe&&Ie.length>=Qe)return jn(!0);break}on.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Ie.length,index:Oe}),Dt++}}else Dt++}return Li();function En(ri){Ie.push(ri),wt=Oe}function Cn(ri){var zo=0;if(-1!==ri){var qo=je.substring(Dt+1,ri);qo&&""===qo.trim()&&(zo=qo.length)}return zo}function Li(ri){return It||(void 0===ri&&(ri=je.substring(Oe)),Ue.push(ri),Oe=Te,En(Ue),wn&&as()),jn()}function Pt(ri){Oe=ri,En(Ue),Ue=[],Se=je.indexOf(le,Oe)}function jn(ri){return{data:Ie,errors:on,meta:{delimiter:Z,linebreak:le,aborted:en,truncated:!!ri,cursor:wt+(ni||0)}}}function as(){Ee(jn()),Ie=[],on=[]}},this.abort=function(){en=!0},this.getCharIndex=function(){return Oe}}function dn(S){var E=S.data,Z=Re[E.workerId],le=!1;if(E.error)Z.userError(E.error,E.file);else if(E.results&&E.results.data){var be={abort:function(){le=!0,Wt(E.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:Qn,resume:Qn};if(G(Z.userStep)){for(var Ee=0;Ee<E.results.data.length&&(Z.userStep({data:E.results.data[Ee],errors:E.results.errors,meta:E.results.meta},be),!le);Ee++);delete E.results}else G(Z.userChunk)&&(Z.userChunk(E.results,be,E.file),delete E.results)}E.finished&&!le&&Wt(E.workerId,E.results)}function Wt(S,E){var Z=Re[S];G(Z.userComplete)&&Z.userComplete(E),Z.terminate(),delete Re[S]}function Qn(){throw new Error("Not implemented.")}function x(S){if("object"!=typeof S||null===S)return S;var E=Array.isArray(S)?[]:{};for(var Z in S)E[Z]=x(S[Z]);return E}function se(S,E){return function(){S.apply(E,arguments)}}function G(S){return"function"==typeof S}return at&&(me.onmessage=function(S){var E=S.data;if(void 0===F.WORKER_ID&&E&&(F.WORKER_ID=E.workerId),"string"==typeof E.input)me.postMessage({workerId:F.WORKER_ID,results:F.parse(E.input,E.config),finished:!0});else if(me.File&&E.input instanceof File||E.input instanceof Object){var Z=F.parse(E.input,E.config);Z&&me.postMessage({workerId:F.WORKER_ID,results:Z,finished:!0})}}),(B.prototype=Object.create(Me.prototype)).constructor=B,(ie.prototype=Object.create(Me.prototype)).constructor=ie,(X.prototype=Object.create(X.prototype)).constructor=X,(te.prototype=Object.create(Me.prototype)).constructor=te,F},void 0!==(ge=ue.apply(j,[]))&&(Xt.exports=ge)},139:(Xt,j,ue)=>{"use strict";ue.d(j,{Dg:()=>oc});var Q=ue(861);function ge(C){return C.arrayBuffer?C.arrayBuffer():new Promise((D,R)=>{const K=new FileReader;K.addEventListener("loadend",()=>{D(K.result)}),K.addEventListener("error",R),K.readAsArrayBuffer(C)})}function De(C){return me.apply(this,arguments)}function me(){return(me=(0,Q.Z)(function*(C){const D=yield ge(C);return new Uint8Array(D)})).apply(this,arguments)}function ve(C){return typeof Blob<"u"&&C instanceof Blob}function at(C){return typeof SharedArrayBuffer<"u"&&C instanceof SharedArrayBuffer}Xt=ue.hmd(Xt);const Re=typeof process<"u"&&process.versions&&typeof process.versions.node<"u"&&typeof process.versions.electron>"u";class F{constructor(D){this.typedArray=D instanceof ArrayBuffer||at(D)?new Uint8Array(D):new Uint8Array(D.buffer,D.byteOffset,D.byteLength)}getLength(){var D=this;return(0,Q.Z)(function*(){return D.typedArray.byteLength})()}read(D,R){var K=this;return(0,Q.Z)(function*(){return new Uint8Array(K.typedArray.buffer,K.typedArray.byteOffset+D,R)})()}}class ae{constructor(D){this.blob=D}getLength(){var D=this;return(0,Q.Z)(function*(){return D.blob.size})()}read(D,R){var K=this;return(0,Q.Z)(function*(){const re=K.blob.slice(D,D+R),Le=yield ge(re);return new Uint8Array(Le)})()}sliceAsBlob(D,R,K=""){var re=this;return(0,Q.Z)(function*(){return re.blob.slice(D,D+R,K)})()}}function ie(C,D){var R=C.length;if(D<=R)return C;var K=new Uint8Array(Math.max(R<<1,D));return K.set(C,0),K}function X(C,D,R,K,re,Le){for(var ze=dn,ut=Qn,Ft=0;Ft<R;){var mn=C[ut(K,re)&D];re+=15&mn;var Tt=mn>>>4;if(Tt<=15)Le[Ft]=Tt,Ft++;else{var jt=0,Rt=0;16==Tt?(Rt=3+ze(K,re,2),re+=2,jt=Le[Ft-1]):17==Tt?(Rt=3+ze(K,re,3),re+=3):18==Tt&&(Rt=11+ze(K,re,7),re+=7);for(var Ye=Ft+Rt;Ft<Ye;)Le[Ft]=jt,Ft++}}return re}function te(C,D,R,K){for(var re=0,Le=0,ze=K.length>>>1;Le<R;){var ut=C[Le+D];K[Le<<1]=0,K[1+(Le<<1)]=ut,ut>re&&(re=ut),Le++}for(;Le<ze;)K[Le<<1]=0,K[1+(Le<<1)]=0,Le++;return re}function Ne(C,D){for(var K,re,Le,ut,R=C.length,Ft=x.bl_count,ze=0;ze<=D;ze++)Ft[ze]=0;for(ze=1;ze<R;ze+=2)Ft[C[ze]]++;var mn=x.next_code;for(K=0,Ft[0]=0,re=1;re<=D;re++)mn[re]=K=K+Ft[re-1]<<1;for(Le=0;Le<R;Le+=2)0!=(ut=C[Le+1])&&(C[Le]=mn[ut],mn[ut]++)}function xe(C,D,R){for(var K=C.length,re=x.rev15,Le=0;Le<K;Le+=2)if(0!=C[Le+1])for(var ut=C[Le+1],Ft=Le>>1<<4|ut,mn=D-ut,Tt=C[Le]<<mn,jt=Tt+(1<<mn);Tt!=jt;)R[re[Tt]>>>15-D]=Ft,Tt++}function Ze(C,D){for(var R=x.rev15,K=15-D,re=0;re<C.length;re+=2)C[re]=R[C[re]<<D-C[re+1]]>>>K}function dn(C,D,R){return(C[D>>>3]|C[1+(D>>>3)]<<8)>>>(7&D)&(1<<R)-1}function Wt(C,D,R){return(C[D>>>3]|C[1+(D>>>3)]<<8|C[2+(D>>>3)]<<16)>>>(7&D)&(1<<R)-1}function Qn(C,D){return(C[D>>>3]|C[1+(D>>>3)]<<8|C[2+(D>>>3)]<<16)>>>(7&D)}const x=(C=Uint16Array,D=Uint32Array,{next_code:new C(16),bl_count:new C(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new C(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new D(32),flmap:new C(512),fltree:[],fdmap:new C(32),fdtree:[],lmap:new C(32768),ltree:[],ttree:[],dmap:new C(32768),dtree:[],imap:new C(512),itree:[],rev15:new C(32768),lhst:new D(286),dhst:new D(30),ihst:new D(19),lits:new D(15e3),strt:new C(65536),prev:new C(32768)});var C,D;!function(){for(var D=0;D<32768;D++){var R=D;x.rev15[D]=((R=(4278255360&(R=(4042322160&(R=(3435973836&(R=(2863311530&R)>>>1|(1431655765&R)<<1))>>>2|(858993459&R)<<2))>>>4|(252645135&R)<<4))>>>8|(16711935&R)<<8)>>>16|R<<16)>>>17}function K(re,Le,ze){for(;0!=Le--;)re.push(0,ze)}for(D=0;D<32;D++)x.ldef[D]=x.of0[D]<<3|x.exb[D],x.ddef[D]=x.df0[D]<<4|x.dxb[D];K(x.fltree,144,8),K(x.fltree,112,9),K(x.fltree,24,7),K(x.fltree,8,8),Ne(x.fltree,9),xe(x.fltree,9,x.flmap),Ze(x.fltree,9),K(x.fdtree,32,5),Ne(x.fdtree,5),xe(x.fdtree,5,x.fdmap),Ze(x.fdtree,5),K(x.itree,19,0),K(x.ltree,286,0),K(x.dtree,30,0),K(x.ttree,320,0)}();const se={table:function(){for(var C=new Uint32Array(256),D=0;D<256;D++){for(var R=D,K=0;K<8;K++)1&R?R=3988292384^R>>>1:R>>>=1;C[D]=R}return C}(),update:function(C,D,R,K){for(var re=0;re<K;re++)C=se.table[255&(C^D[R+re])]^C>>>8;return C},crc:function(C,D,R){return 4294967295^se.update(4294967295,C,D,R)}};const S={numWorkers:1,workerURL:"",useWorkers:!1};let E=0,Z=0,le=!0;const be=[],Ee=[],Qe=[],sn=new Map;function We(C){ni(C.target);const{id:D,error:R,data:K}=C.data,re=sn.get(D);sn.delete(D),R?re.reject(R):re.resolve(K)}function Oe(C){return new Promise((D,R)=>{const K=new Worker(C);K.onmessage=re=>{"start"===re.data?(K.onerror=void 0,K.onmessage=void 0,D(K)):R(new Error(`unexpected message: ${re.data}`))},K.onerror=R})}const je=function(){if(Re){const{Worker:C}=function en(C,D){return C.require?C.require(D):{}}(Xt,"worker_threads");return{createWorker:D=>(0,Q.Z)(function*(){return new C(D)})(),addEventListener(D,R){D.on("message",K=>{R({target:D,data:K})})},terminate:D=>(0,Q.Z)(function*(){yield D.terminate()})()}}return{createWorker:C=>(0,Q.Z)(function*(){try{return yield Oe(C)}catch{console.warn("could not load worker:",C)}let D;try{const R=yield fetch(C,{mode:"cors"});if(!R.ok)throw new Error(`could not load: ${C}`);D=yield R.text(),C=URL.createObjectURL(new Blob([D],{type:"application/javascript"}));const K=yield Oe(C);return S.workerURL=C,K}catch{console.warn("could not load worker via fetch:",C)}if(void 0!==D)try{C=`data:application/javascript;base64,${btoa(D)}`;const R=yield Oe(C);return S.workerURL=C,R}catch{console.warn("could not load worker via dataURI")}throw console.warn("workers will not be used"),new Error("can not start workers")})(),addEventListener(C,D){C.addEventListener("message",D)},terminate:C=>(0,Q.Z)(function*(){C.terminate()})()}}();function ni(C){Ee.push(C),pt()}function Te(){return Te=(0,Q.Z)(function*(){if(0===Ee.length&&Z<S.numWorkers){++Z;try{const C=yield je.createWorker(S.workerURL);be.push(C),Ee.push(C),je.addEventListener(C,We)}catch{le=!1}}return Ee.pop()}),Te.apply(this,arguments)}function $t(C,D,R,K){const re=new Uint8Array(D);(function G(C,D){return function B(C,D){var R=Uint8Array;if(3==C[0]&&0==C[1])return D||new R(0);var K=Wt,re=dn,Le=X,ze=Qn,ut=null==D;ut&&(D=new R(C.length>>>2<<3));for(var gr,ls,Ft=0,mn=0,Tt=0,jt=0,Rt=0,Ye=0,Ln=0,_n=0,Ht=0;0==Ft;)if(Ft=K(C,Ht,1),mn=K(C,Ht+1,2),Ht+=3,0!=mn){if(ut&&(D=ie(D,_n+(1<<17))),1==mn&&(gr=x.flmap,ls=x.fdmap,Ye=511,Ln=31),2==mn){Tt=re(C,Ht,5)+257,jt=re(C,Ht+5,5)+1,Rt=re(C,Ht+10,4)+4,Ht+=14;for(var Dn=0;Dn<38;Dn+=2)x.itree[Dn]=0,x.itree[Dn+1]=0;var Xi=1;for(Dn=0;Dn<Rt;Dn++){var Dl=re(C,Ht+3*Dn,3);x.itree[1+(x.ordr[Dn]<<1)]=Dl,Dl>Xi&&(Xi=Dl)}Ht+=3*Rt,Ne(x.itree,Xi),xe(x.itree,Xi,x.imap),gr=x.lmap,ls=x.dmap,Ht=Le(x.imap,(1<<Xi)-1,Tt+jt,C,Ht,x.ttree);var ac=te(x.ttree,0,Tt,x.ltree);Ye=(1<<ac)-1;var lc=te(x.ttree,Tt,jt,x.dtree);Ln=(1<<lc)-1,Ne(x.ltree,ac),xe(x.ltree,ac,gr),Ne(x.dtree,lc),xe(x.dtree,lc,ls)}for(;;){var bf=gr[ze(C,Ht)&Ye];Ht+=15&bf;var Wo=bf>>>4;if(Wo>>>8){if(256==Wo)break;var Tl=_n+Wo-254;if(Wo>264){var uc=x.ldef[Wo-257];Tl=_n+(uc>>>3)+re(C,Ht,7&uc),Ht+=7&uc}var wf=ls[ze(C,Ht)&Ln],Sl=x.ddef[wf>>>4],kl=(Sl>>>4)+K(C,Ht+=15&wf,15&Sl);for(Ht+=15&Sl,ut&&(D=ie(D,_n+(1<<17)));_n<Tl;)D[_n]=D[_n++-kl],D[_n]=D[_n++-kl],D[_n]=D[_n++-kl],D[_n]=D[_n++-kl];_n=Tl}else D[_n++]=Wo}}else{7&Ht&&(Ht+=8-(7&Ht));var Un=4+(Ht>>>3),si=C[Un-4]|C[Un-3]<<8;ut&&(D=ie(D,_n+si)),D.set(new R(C.buffer,C.byteOffset+Un,si),_n),Ht=Un+si<<3,_n+=si}return D.length==_n?D:D.slice(0,_n)}(C,D)})(C,re),K(R?new Blob([re],{type:R}):re.buffer)}function pt(){return Xe.apply(this,arguments)}function Xe(){return Xe=(0,Q.Z)(function*(){if(0!==Qe.length){if(S.useWorkers&&le){const C=yield function It(){return Te.apply(this,arguments)}();if(le){if(C){if(0===Qe.length)return void ni(C);const{id:D,src:R,uncompressedSize:K,type:re,resolve:Le,reject:ze}=Qe.shift();sn.set(D,{id:D,resolve:Le,reject:ze}),C.postMessage({type:"inflate",data:{id:D,type:re,src:R,uncompressedSize:K}},[])}return}}for(;Qe.length;){const{src:C,uncompressedSize:D,type:R,resolve:K}=Qe.shift();let re=C;ve(C)&&(re=yield De(C)),$t(re,D,R,K)}}}),Xe.apply(this,arguments)}function Ie(C,D,R){return new Promise((K,re)=>{Qe.push({src:C,uncompressedSize:D,type:R,resolve:K,reject:re,id:E++}),pt()})}class an{constructor(D,R){this._reader=D,this._rawEntry=R,this.name=R.name,this.nameBytes=R.nameBytes,this.size=R.uncompressedSize,this.compressedSize=R.compressedSize,this.comment=R.comment,this.commentBytes=R.commentBytes,this.compressionMethod=R.compressionMethod,this.lastModDate=function tn(C,D){return new Date(1980+(C>>9&127),(C>>5&15)-1,31&C,D>>11&31,D>>5&63,2*(31&D),0)}(R.lastModFileDate,R.lastModFileTime),this.isDirectory=0===R.uncompressedSize&&R.name.endsWith("/"),this.encrypted=!!(1&R.generalPurposeBitFlag),this.externalFileAttributes=R.externalFileAttributes,this.versionMadeBy=R.versionMadeBy}blob(D="application/octet-stream"){var R=this;return(0,Q.Z)(function*(){return yield function sc(C,D,R){return bl.apply(this,arguments)}(R._reader,R._rawEntry,D)})()}arrayBuffer(){var D=this;return(0,Q.Z)(function*(){return yield function EC(C,D){return vf.apply(this,arguments)}(D._reader,D._rawEntry)})()}text(){var D=this;return(0,Q.Z)(function*(){const R=yield D.arrayBuffer();return ii(new Uint8Array(R))})()}json(){var D=this;return(0,Q.Z)(function*(){const R=yield D.text();return JSON.parse(R)})()}}const Lt=22,Nn=65535,A=101010256,O=101075792;function L(C,D,R){return Y.apply(this,arguments)}function Y(){return Y=(0,Q.Z)(function*(C,D,R){return yield C.read(D,R)}),Y.apply(this,arguments)}function ne(C,D,R,K){return ce.apply(this,arguments)}function ce(){return ce=(0,Q.Z)(function*(C,D,R,K){return C.sliceAsBlob?yield C.sliceAsBlob(D,R,K):yield C.read(D,R)}),ce.apply(this,arguments)}const At={unsigned:()=>0};function we(C,D){return C[D]+256*C[D+1]}function Se(C,D){return C[D]+256*C[D+1]+65536*C[D+2]+16777216*C[D+3]}function xt(C,D){return Se(C,D)+4294967296*Se(C,D+4)}const Dt=new TextDecoder;function ii(C,D){return at(C.buffer)&&(C=new Uint8Array(C)),Dt.decode(C)}function En(){return En=(0,Q.Z)(function*(C,D){const R=Math.min(Lt+Nn,D),K=D-R,re=yield L(C,K,R);for(let Le=R-Lt;Le>=0;--Le){if(Se(re,Le)!==A)continue;const ze=new Uint8Array(re.buffer,re.byteOffset+Le,re.byteLength-Le),ut=we(ze,4);if(0!==ut)throw new Error(`multi-volume zip files are not supported. This is volume: ${ut}`);const Ft=we(ze,10),mn=Se(ze,12),Tt=Se(ze,16),jt=we(ze,20),Rt=ze.length-Lt;if(jt!==Rt)throw new Error(`invalid comment length. expected: ${Rt}, actual: ${jt}`);const Ye=new Uint8Array(ze.buffer,ze.byteOffset+22,jt),Ln=ii(Ye);return 65535===Ft||4294967295===Tt?yield Li(C,K+Le,Ln,Ye):yield as(C,Tt,mn,Ft,Ln,Ye)}throw new Error("could not find end of central directory. maybe not zip file")}),En.apply(this,arguments)}const Cn=117853008;function Li(C,D,R,K){return Pt.apply(this,arguments)}function Pt(){return Pt=(0,Q.Z)(function*(C,D,R,K){const re=D-20,Le=yield L(C,re,20);if(Se(Le,0)!==Cn)throw new Error("invalid zip64 end of central directory locator signature");const ze=xt(Le,8),ut=yield L(C,ze,56);if(Se(ut,0)!==O)throw new Error("invalid zip64 end of central directory record signature");const Ft=xt(ut,32),mn=xt(ut,40);return as(C,xt(ut,48),mn,Ft,R,K)}),Pt.apply(this,arguments)}const jn=33639248;function as(C,D,R,K,re,Le){return ri.apply(this,arguments)}function ri(){return ri=(0,Q.Z)(function*(C,D,R,K,re,Le){let ze=0;const ut=yield L(C,D,R),Ft=[];for(let Tt=0;Tt<K;++Tt){const jt=ut.subarray(ze,ze+46),Rt=Se(jt,0);if(Rt!==jn)throw new Error(`invalid central directory file header signature: 0x${Rt.toString(16)}`);const Ye={versionMadeBy:we(jt,4),versionNeededToExtract:we(jt,6),generalPurposeBitFlag:we(jt,8),compressionMethod:we(jt,10),lastModFileTime:we(jt,12),lastModFileDate:we(jt,14),crc32:Se(jt,16),compressedSize:Se(jt,20),uncompressedSize:Se(jt,24),fileNameLength:we(jt,28),extraFieldLength:we(jt,30),fileCommentLength:we(jt,32),internalFileAttributes:we(jt,36),externalFileAttributes:Se(jt,38),relativeOffsetOfLocalHeader:Se(jt,42)};if(64&Ye.generalPurposeBitFlag)throw new Error("strong encryption is not supported");ze+=46;const Ln=ut.subarray(ze,ze+Ye.fileNameLength+Ye.extraFieldLength+Ye.fileCommentLength);Ye.nameBytes=Ln.slice(0,Ye.fileNameLength),Ye.name=ii(Ye.nameBytes);const _n=Ye.fileNameLength+Ye.extraFieldLength,Ht=Ln.slice(Ye.fileNameLength,_n);Ye.extraFields=[];let gr=0;for(;gr<Ht.length-3;){const Un=we(Ht,gr+0),Dn=gr+4,Xi=Dn+we(Ht,gr+2);if(Xi>Ht.length)throw new Error("extra field length exceeds extra field buffer size");Ye.extraFields.push({id:Un,data:Ht.slice(Dn,Xi)}),gr=Xi}if(Ye.commentBytes=Ln.slice(_n,_n+Ye.fileCommentLength),Ye.comment=ii(Ye.commentBytes),ze+=Ln.length,4294967295===Ye.uncompressedSize||4294967295===Ye.compressedSize||4294967295===Ye.relativeOffsetOfLocalHeader){const Un=Ye.extraFields.find(Xi=>1===Xi.id);if(!Un)throw new Error("expected zip64 extended information extra field");const si=Un.data;let Dn=0;if(4294967295===Ye.uncompressedSize){if(Dn+8>si.length)throw new Error("zip64 extended information extra field does not include uncompressed size");Ye.uncompressedSize=xt(si,Dn),Dn+=8}if(4294967295===Ye.compressedSize){if(Dn+8>si.length)throw new Error("zip64 extended information extra field does not include compressed size");Ye.compressedSize=xt(si,Dn),Dn+=8}if(4294967295===Ye.relativeOffsetOfLocalHeader){if(Dn+8>si.length)throw new Error("zip64 extended information extra field does not include relative header offset");Ye.relativeOffsetOfLocalHeader=xt(si,Dn),Dn+=8}}const ls=Ye.extraFields.find(Un=>28789===Un.id&&Un.data.length>=6&&1===Un.data[0]&&Se(Un.data,1),At.unsigned(Ye.nameBytes));if(ls&&(Ye.fileName=ii(ls.data.slice(5))),0===Ye.compressionMethod){let Un=Ye.uncompressedSize;if(1&Ye.generalPurposeBitFlag&&(Un+=12),Ye.compressedSize!==Un)throw new Error(`compressed size mismatch for stored file: ${Ye.compressedSize} != ${Un}`)}Ft.push(Ye)}return{zip:{comment:re,commentBytes:Le},entries:Ft.map(Tt=>new an(C,Tt))}}),ri.apply(this,arguments)}function zo(C,D){return qo.apply(this,arguments)}function qo(){return qo=(0,Q.Z)(function*(C,D){if(1&D.generalPurposeBitFlag)throw new Error("encrypted entries not supported");const R=yield L(C,D.relativeOffsetOfLocalHeader,30),K=yield C.getLength(),re=Se(R,0);if(67324752!==re)throw new Error(`invalid local file header signature: 0x${re.toString(16)}`);const Le=we(R,26),ze=we(R,28),ut=D.relativeOffsetOfLocalHeader+R.length+Le+ze;let Ft;if(0===D.compressionMethod)Ft=!1;else{if(8!==D.compressionMethod)throw new Error(`unsupported compression method: ${D.compressionMethod}`);Ft=!0}const mn=ut;if(0!==D.compressedSize&&mn+D.compressedSize>K)throw new Error(`file data overflows file bounds: ${mn} +  ${D.compressedSize}  > ${K}`);return{decompress:Ft,fileDataStart:mn}}),qo.apply(this,arguments)}function vf(){return vf=(0,Q.Z)(function*(C,D){const{decompress:R,fileDataStart:K}=yield zo(C,D);if(!R){const ze=yield L(C,K,D.compressedSize);return function he(C){return 0===C.byteOffset&&C.byteLength===C.buffer.byteLength}(ze)?ze.buffer:ze.slice().buffer}const re=yield ne(C,K,D.compressedSize);return yield Ie(re,D.uncompressedSize)}),vf.apply(this,arguments)}function bl(){return bl=(0,Q.Z)(function*(C,D,R){const{decompress:K,fileDataStart:re}=yield zo(C,D);if(!K){const ut=yield ne(C,re,D.compressedSize,R);return ve(ut)?ut:new Blob([at(ut.buffer)?new Uint8Array(ut):ut],{type:R})}const Le=yield ne(C,re,D.compressedSize);return yield Ie(Le,D.uncompressedSize,R)}),bl.apply(this,arguments)}function oc(C){return wl.apply(this,arguments)}function wl(){return wl=(0,Q.Z)(function*(C){let D;if(typeof Blob<"u"&&C instanceof Blob)D=new ae(C);else if(C instanceof ArrayBuffer||C&&C.buffer&&C.buffer instanceof ArrayBuffer)D=new F(C);else if(at(C)||at(C.buffer))D=new F(C);else if("string"==typeof C){const K=yield fetch(C);if(!K.ok)throw new Error(`failed http request ${C}, status: ${K.status}: ${K.statusText}`);const re=yield K.blob();D=new ae(re)}else{if("function"!=typeof C.getLength||"function"!=typeof C.read)throw new Error("unsupported source type");D=C}const R=yield D.getLength();if(R>Number.MAX_SAFE_INTEGER)throw new Error(`file too large. size: ${R}. Only file sizes up 4503599627370496 bytes are supported`);return yield function Ti(C,D){return En.apply(this,arguments)}(D,R)}),wl.apply(this,arguments)}},321:()=>{"use strict";const Xt=":";class It extends Error{constructor(O){super(`No translation found for ${Ie(O)}.`),this.parsedMessage=O,this.type="MissingTranslationError"}}const an=function(A,...O){if(an.translate){const Y=an.translate(A,O);A=Y[0],O=Y[1]}let L=Nn(A[0],A.raw[0]);for(let Y=1;Y<A.length;Y++)L+=O[Y-1]+Nn(A[Y],A.raw[Y]);return L},Lt=":";function Nn(A,O){return O.charAt(0)===Lt?A.substring(function ni(A,O){for(let L=1,Y=1;L<A.length;L++,Y++)if("\\"===O[Y])Y++;else if(A[L]===Xt)return L;throw new Error(`Unterminated $localize metadata block in "${O}".`)}(A,O)+1):A}(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)().$localize=an},861:(Xt,j,ue)=>{"use strict";function Q(De,me,ve,at,Re,he,F){try{var ae=De[he](F),Me=ae.value}catch(B){return void ve(B)}ae.done?me(Me):Promise.resolve(Me).then(at,Re)}function ge(De){return function(){var me=this,ve=arguments;return new Promise(function(at,Re){var he=De.apply(me,ve);function F(Me){Q(he,at,Re,F,ae,"next",Me)}function ae(Me){Q(he,at,Re,F,ae,"throw",Me)}F(void 0)})}}ue.d(j,{Z:()=>ge})}},Xt=>{var j=Q=>Xt(Xt.s=Q);j(321),j(446)}]);