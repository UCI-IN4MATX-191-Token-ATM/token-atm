(self.webpackChunktoken_atm_spa=self.webpackChunktoken_atm_spa||[]).push([[179],{131:(Ht,U,ce)=>{"use strict";function Z(e){return"function"==typeof e}function ge(e){const t=e(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const oe=ge(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function he(e,n){if(e){const t=e.indexOf(n);0<=t&&e.splice(t,1)}}class de{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(Z(r))try{r()}catch(s){n=s instanceof oe?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{pe(s)}catch(o){n=n??[],o instanceof oe?n=[...n,...o.errors]:n.push(o)}}if(n)throw new oe(n)}}add(n){var t;if(n&&n!==this)if(this.closed)pe(n);else{if(n instanceof de){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(n)}}_hasParent(n){const{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){const{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&he(t,n)}remove(n){const{_finalizers:t}=this;t&&he(t,n),n instanceof de&&n._removeParent(this)}}de.EMPTY=(()=>{const e=new de;return e.closed=!0,e})();const ze=de.EMPTY;function Se(e){return e instanceof de||e&&"closed"in e&&Z(e.remove)&&Z(e.add)&&Z(e.unsubscribe)}function pe(e){Z(e)?e():e.unsubscribe()}const R={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},le={setTimeout(e,n,...t){const{delegate:r}=le;return r?.setTimeout?r.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){const{delegate:n}=le;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function De(e){le.setTimeout(()=>{const{onUnhandledError:n}=R;if(!n)throw e;n(e)})}function H(){}const ne=xe("C",void 0,void 0);function xe(e,n,t){return{kind:e,value:n,error:t}}let Ie=null;function Ze(e){if(R.useDeprecatedSynchronousErrorHandling){const n=!Ie;if(n&&(Ie={errorThrown:!1,error:null}),e(),n){const{errorThrown:t,error:r}=Ie;if(Ie=null,t)throw r}}else e()}class Qt extends de{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Se(n)&&n.add(this)):this.destination=fe}static create(n,t,r){return new Q(n,t,r)}next(n){this.isStopped?K(function re(e){return xe("N",e,void 0)}(n),this):this._next(n)}error(n){this.isStopped?K(function te(e){return xe("E",void 0,e)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?K(ne,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const rr=Function.prototype.bind;function N(e,n){return rr.call(e,n)}class ae{constructor(n){this.partialObserver=n}next(n){const{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(r){k(r)}}error(n){const{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(r){k(r)}else k(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){k(t)}}}class Q extends Qt{constructor(n,t,r){let i;if(super(),Z(n)||!n)i={next:n??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&R.useDeprecatedNextContext?(s=Object.create(n),s.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&N(n.next,s),error:n.error&&N(n.error,s),complete:n.complete&&N(n.complete,s)}):i=n}this.destination=new ae(i)}}function k(e){R.useDeprecatedSynchronousErrorHandling?function hn(e){R.useDeprecatedSynchronousErrorHandling&&Ie&&(Ie.errorThrown=!0,Ie.error=e)}(e):De(e)}function K(e,n){const{onStoppedNotification:t}=R;t&&le.setTimeout(()=>t(e,n))}const fe={closed:!0,next:H,error:function A(e){throw e},complete:H},ve="function"==typeof Symbol&&Symbol.observable||"@@observable";function ke(e){return e}function an(e){return 0===e.length?ke:1===e.length?e[0]:function(t){return e.reduce((r,i)=>i(r),t)}}let We=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function Ve(e){return e&&e instanceof Qt||function nn(e){return e&&Z(e.next)&&Z(e.error)&&Z(e.complete)}(e)&&Se(e)}(t)?t:new Q(t,r,i);return Ze(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=Ee(r))((i,s)=>{const o=new Q({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[ve](){return this}pipe(...t){return an(t)(this)}toPromise(t){return new(t=Ee(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return e.create=n=>new e(n),e})();function Ee(e){var n;return null!==(n=e??R.Promise)&&void 0!==n?n:Promise}const cr=ge(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let kt=(()=>{class e extends We{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new Ce(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new cr}next(t){Ze(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Ze(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Ze(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?ze:(this.currentObservers=null,s.push(t),new de(()=>{this.currentObservers=null,he(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new We;return t.source=this,t}}return e.create=(n,t)=>new Ce(n,t),e})();class Ce extends kt{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,n)}error(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,n)}complete(){var n,t;null===(t=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===t||t.call(n)}_subscribe(n){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(n))&&void 0!==r?r:ze}}function Ut(e){return Z(e?.lift)}function ft(e){return n=>{if(Ut(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Xe(e,n,t,r,i){return new Mn(e,n,t,r,i)}class Mn extends Qt{constructor(n,t,r,i,s,o){super(n),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){n.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function Ae(e,n){return ft((t,r)=>{let i=0;t.subscribe(Xe(r,s=>{r.next(e.call(n,s,i++))}))})}function W(e,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,n)}function Rn(e){return this instanceof Rn?(this.v=e,this):new Rn(e)}function Nt(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function Te(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=e[s]&&function(o){return new Promise(function(a,l){!function i(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}(a,l,(o=e[s](o)).done,o.value)})}}}const $c=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function Kl(e){return Z(e?.then)}function f_(e){return Z(e[ve])}function jc(e){return Symbol.asyncIterator&&Z(e?.[Symbol.asyncIterator])}function Jl(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Xl=function s0(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function h_(e){return Z(e?.[Xl])}function T(e){return function Sn(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(e,n||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){r[f]&&(i[f]=function(h){return new Promise(function(p,g){s.push([f,h,p,g])>1||a(f,h)})})}function a(f,h){try{!function l(f){f.value instanceof Rn?Promise.resolve(f.value.v).then(u,c):d(s[0][2],f)}(r[f](h))}catch(p){d(s[0][3],p)}}function u(f){a("next",f)}function c(f){a("throw",f)}function d(f,h){f(h),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const t=e.getReader();try{for(;;){const{value:r,done:i}=yield Rn(t.read());if(i)return yield Rn(void 0);yield yield Rn(r)}}finally{t.releaseLock()}})}function S(e){return Z(e?.getReader)}function L(e){if(e instanceof We)return e;if(null!=e){if(f_(e))return function X(e){return new We(n=>{const t=e[ve]();if(Z(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if($c(e))return function se(e){return new We(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}(e);if(Kl(e))return function Re(e){return new We(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,De)})}(e);if(jc(e))return at(e);if(h_(e))return function Ue(e){return new We(n=>{for(const t of e)if(n.next(t),n.closed)return;n.complete()})}(e);if(S(e))return function Rt(e){return at(T(e))}(e)}throw Jl(e)}function at(e){return new We(n=>{(function yn(e,n){var t,r,i,s;return function ie(e,n,t,r){return new(t||(t=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(c.value).then(a,l)}u((r=r.apply(e,n||[])).next())})}(this,void 0,void 0,function*(){try{for(t=Nt(e);!(r=yield t.next()).done;)if(n.next(r.value),n.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}n.complete()})})(e,n).catch(t=>n.error(t))})}function wt(e,n,t,r=0,i=!1){const s=n.schedule(function(){t(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(s),!i)return s}function It(e,n,t=1/0){return Z(n)?It((r,i)=>Ae((s,o)=>n(r,s,i,o))(L(e(r,i))),t):("number"==typeof n&&(t=n),ft((r,i)=>function Yt(e,n,t,r,i,s,o,a){const l=[];let u=0,c=0,d=!1;const f=()=>{d&&!l.length&&!u&&n.complete()},h=g=>u<r?p(g):l.push(g),p=g=>{s&&n.next(g),u++;let M=!1;L(t(g,c++)).subscribe(Xe(n,O=>{i?.(O),s?h(O):n.next(O)},()=>{M=!0},void 0,()=>{if(M)try{for(u--;l.length&&u<r;){const O=l.shift();o?wt(n,o,()=>p(O)):p(O)}f()}catch(O){n.error(O)}}))};return e.subscribe(Xe(n,h,()=>{d=!0,f()})),()=>{a?.()}}(r,i,e,t)))}function je(e=1/0){return It(ke,e)}const $n=new We(e=>e.complete());function Ri(e){return e&&Z(e.schedule)}function ks(e){return e[e.length-1]}function Zn(e){return Z(ks(e))?e.pop():void 0}function hr(e){return Ri(ks(e))?e.pop():void 0}function ci(e,n=0){return ft((t,r)=>{t.subscribe(Xe(r,i=>wt(r,e,()=>r.next(i),n),()=>wt(r,e,()=>r.complete(),n),i=>wt(r,e,()=>r.error(i),n)))})}function eu(e,n=0){return ft((t,r)=>{r.add(e.schedule(()=>t.subscribe(r),n))})}function tu(e,n){if(!e)throw new Error("Iterable cannot be null");return new We(t=>{wt(t,n,()=>{const r=e[Symbol.asyncIterator]();wt(t,n,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function jn(e,n){return n?function ch(e,n){if(null!=e){if(f_(e))return function Uc(e,n){return L(e).pipe(eu(n),ci(n))}(e,n);if($c(e))return function uh(e,n){return new We(t=>{let r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}(e,n);if(Kl(e))return function Yc(e,n){return L(e).pipe(eu(n),ci(n))}(e,n);if(jc(e))return tu(e,n);if(h_(e))return function wa(e,n){return new We(t=>{let r;return wt(t,n,()=>{r=e[Xl](),wt(t,n,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>Z(r?.return)&&r.return()})}(e,n);if(S(e))return function zc(e,n){return tu(T(e),n)}(e,n)}throw Jl(e)}(e,n):L(e)}function nu(...e){const n=hr(e),t=function kn(e,n){return"number"==typeof ks(e)?e.pop():n}(e,1/0),r=e;return r.length?1===r.length?L(r[0]):je(t)(jn(r,n)):$n}function p_(e,n,...t){if(!0===n)return void e();if(!1===n)return;const r=new Q({next:()=>{r.unsubscribe(),e()}});return L(n(...t)).subscribe(r)}function cn(e){for(let n in e)if(e[n]===cn)return n;throw Error("Could not find renamed property on target object.")}function m_(e,n){for(const t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function pn(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(pn).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const t=n.indexOf("\n");return-1===t?n:n.substring(0,t)}function g_(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const qN=cn({__forward_ref__:cn});function zt(e){return e.__forward_ref__=zt,e.toString=function(){return pn(this())},e}function Ke(e){return __(e)?e():e}function __(e){return"function"==typeof e&&e.hasOwnProperty(qN)&&e.__forward_ref__===zt}function y_(e){return e&&!!e.\u0275providers}const dh="https://g.co/ng/security#xss";class z extends Error{constructor(n,t){super(fh(n,t)),this.code=n}}function fh(e,n){return`NG0${Math.abs(e)}${n?": "+n.trim():""}`}function lt(e){return"string"==typeof e?e:null==e?"":String(e)}function hh(e,n){throw new z(-201,!1)}function es(e,n){null==e&&function Jt(e,n,t,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${t} ${r} ${n} <=Actual]`))}(n,e,null,"!=")}function q(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function pr(e){return{providers:e.providers||[],imports:e.imports||[]}}function ph(e){return o0(e,mh)||o0(e,l0)}function o0(e,n){return e.hasOwnProperty(n)?e[n]:null}function a0(e){return e&&(e.hasOwnProperty(v_)||e.hasOwnProperty(nF))?e[v_]:null}const mh=cn({\u0275prov:cn}),v_=cn({\u0275inj:cn}),l0=cn({ngInjectableDef:cn}),nF=cn({ngInjectorDef:cn});var Je=(()=>((Je=Je||{})[Je.Default=0]="Default",Je[Je.Host=1]="Host",Je[Je.Self=2]="Self",Je[Je.SkipSelf=4]="SkipSelf",Je[Je.Optional=8]="Optional",Je))();let b_;function ts(e){const n=b_;return b_=e,n}function u0(e,n,t){const r=ph(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&Je.Optional?null:void 0!==n?n:void hh(pn(e))}const bn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Wc={},w_="__NG_DI_FLAG__",gh="ngTempTokenPath",iF="ngTokenPath",sF=/\n/gm,oF="\u0275",c0="__source";let qc;function iu(e){const n=qc;return qc=e,n}function aF(e,n=Je.Default){if(void 0===qc)throw new z(-203,!1);return null===qc?u0(e,void 0,n):qc.get(e,n&Je.Optional?null:void 0,n)}function J(e,n=Je.Default){return(function rF(){return b_}()||aF)(Ke(e),n)}function vt(e,n=Je.Default){return J(e,_h(n))}function _h(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function D_(e){const n=[];for(let t=0;t<e.length;t++){const r=Ke(e[t]);if(Array.isArray(r)){if(0===r.length)throw new z(900,!1);let i,s=Je.Default;for(let o=0;o<r.length;o++){const a=r[o],l=lF(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}n.push(J(i,s))}else n.push(J(r))}return n}function Gc(e,n){return e[w_]=n,e.prototype[w_]=n,e}function lF(e){return e[w_]}function Ro(e){return{toString:e}.toString()}var Ys=(()=>((Ys=Ys||{})[Ys.OnPush=0]="OnPush",Ys[Ys.Default=1]="Default",Ys))(),Es=(()=>{return(e=Es||(Es={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",Es;var e})();const Lo={},Wt=[],yh=cn({\u0275cmp:cn}),C_=cn({\u0275dir:cn}),T_=cn({\u0275pipe:cn}),f0=cn({\u0275mod:cn}),Po=cn({\u0275fac:cn}),Zc=cn({__NG_ELEMENT_ID__:cn});let dF=0;function qe(e){return Ro(()=>{const n=p0(e),t={...n,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Ys.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:null,data:e.data||{},encapsulation:e.encapsulation||Es.Emulated,id:"c"+dF++,styles:e.styles||Wt,_:null,schemas:e.schemas||null,tView:null};m0(t);const r=e.dependencies;return t.directiveDefs=vh(r,!1),t.pipeDefs=vh(r,!0),t})}function hF(e){return Xt(e)||qr(e)}function pF(e){return null!==e}function Sr(e){return Ro(()=>({type:e.type,bootstrap:e.bootstrap||Wt,declarations:e.declarations||Wt,imports:e.imports||Wt,exports:e.exports||Wt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function h0(e,n){if(null==e)return Lo;const t={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,n&&(n[i]=s)}return t}function Pe(e){return Ro(()=>{const n=p0(e);return m0(n),n})}function Di(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Xt(e){return e[yh]||null}function qr(e){return e[C_]||null}function Ci(e){return e[T_]||null}function Pi(e,n){const t=e[f0]||null;if(!t&&!0===n)throw new Error(`Type ${pn(e)} does not have '\u0275mod' property.`);return t}function p0(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,exportAs:e.exportAs||null,standalone:!0===e.standalone,selectors:e.selectors||Wt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:h0(e.inputs,n),outputs:h0(e.outputs)}}function m0(e){e.features?.forEach(n=>n(e))}function vh(e,n){if(!e)return null;const t=n?Ci:hF;return()=>("function"==typeof e?e():e).map(r=>t(r)).filter(pF)}const No=0,we=1,ht=2,Un=3,As=4,tl=5,Gr=6,ou=7,Qn=8,bh=9,wh=10,mt=11,M_=12,Qc=13,g0=14,au=15,Zr=16,Kc=17,lu=18,zs=19,Jc=20,_0=21,wn=22,S_=1,y0=2,Dh=7,Ch=8,uu=9,di=10;function Ni(e){return Array.isArray(e)&&"object"==typeof e[S_]}function Is(e){return Array.isArray(e)&&!0===e[S_]}function k_(e){return 0!=(4&e.flags)}function Xc(e){return e.componentOffset>-1}function Th(e){return 1==(1&e.flags)}function Os(e){return!!e.template}function gF(e){return 0!=(256&e[ht])}function nl(e,n){return e.hasOwnProperty(Po)?e[Po]:null}class vF{constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Qr(){return w0}function w0(e){return e.type.prototype.ngOnChanges&&(e.setInput=wF),bF}function bF(){const e=C0(this),n=e?.current;if(n){const t=e.previous;if(t===Lo)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function wF(e,n,t,r){const i=this.declaredInputs[t],s=C0(e)||function DF(e,n){return e[D0]=n}(e,{previous:Lo,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[i];o[i]=new vF(l&&l.currentValue,n,a===Lo),e[r]=n}Qr.ngInherit=!0;const D0="__ngSimpleChanges__";function C0(e){return e[D0]||null}const ns=function(e,n,t){};function Pr(e){for(;Array.isArray(e);)e=e[No];return e}function Mh(e,n){return Pr(n[e])}function Fi(e,n){return Pr(n[e.index])}function S0(e,n){return e.data[n]}function cu(e,n){return e[n]}function Vi(e,n){const t=n[e];return Ni(t)?t:t[No]}function Sh(e){return 64==(64&e[ht])}function Ca(e,n){return null==n?null:e[n]}function k0(e){e[lu]=0}function A_(e,n){e[tl]+=n;let t=e,r=e[Un];for(;null!==r&&(1===n&&1===t[tl]||-1===n&&0===t[tl]);)r[tl]+=n,t=r,r=r[Un]}const ut={lFrame:F0(null),bindingsEnabled:!0};function A0(){return ut.bindingsEnabled}function ee(){return ut.lFrame.lView}function Lt(){return ut.lFrame.tView}function $(e){return ut.lFrame.contextLView=e,e[Qn]}function j(e){return ut.lFrame.contextLView=null,e}function Nr(){let e=I0();for(;null!==e&&64===e.type;)e=e.parent;return e}function I0(){return ut.lFrame.currentTNode}function Ws(e,n){const t=ut.lFrame;t.currentTNode=e,t.isParent=n}function I_(){return ut.lFrame.isParent}function O_(){ut.lFrame.isParent=!1}function fi(){const e=ut.lFrame;let n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function du(){return ut.lFrame.bindingIndex++}function Vo(e){const n=ut.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function PF(e,n){const t=ut.lFrame;t.bindingIndex=t.bindingRootIndex=e,x_(n)}function x_(e){ut.lFrame.currentDirectiveIndex=e}function L0(){return ut.lFrame.currentQueryIndex}function L_(e){ut.lFrame.currentQueryIndex=e}function FF(e){const n=e[we];return 2===n.type?n.declTNode:1===n.type?e[Gr]:null}function P0(e,n,t){if(t&Je.SkipSelf){let i=n,s=e;for(;!(i=i.parent,null!==i||t&Je.Host||(i=FF(s),null===i||(s=s[au],10&i.type))););if(null===i)return!1;n=i,e=s}const r=ut.lFrame=N0();return r.currentTNode=n,r.lView=e,!0}function P_(e){const n=N0(),t=e[we];ut.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function N0(){const e=ut.lFrame,n=null===e?null:e.child;return null===n?F0(e):n}function F0(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function V0(){const e=ut.lFrame;return ut.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const B0=V0;function N_(){const e=V0();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function hi(){return ut.lFrame.selectedIndex}function rl(e){ut.lFrame.selectedIndex=e}function Ln(){const e=ut.lFrame;return S0(e.tView,e.selectedIndex)}function kh(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){const s=e.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:c}=s;o&&(e.contentHooks??(e.contentHooks=[])).push(-t,o),a&&((e.contentHooks??(e.contentHooks=[])).push(t,a),(e.contentCheckHooks??(e.contentCheckHooks=[])).push(t,a)),l&&(e.viewHooks??(e.viewHooks=[])).push(-t,l),u&&((e.viewHooks??(e.viewHooks=[])).push(t,u),(e.viewCheckHooks??(e.viewCheckHooks=[])).push(t,u)),null!=c&&(e.destroyHooks??(e.destroyHooks=[])).push(t,c)}}function Eh(e,n,t){H0(e,n,3,t)}function Ah(e,n,t,r){(3&e[ht])===t&&H0(e,n,t,r)}function F_(e,n){let t=e[ht];(3&t)===n&&(t&=2047,t+=1,e[ht]=t)}function H0(e,n,t,r){const s=r??-1,o=n.length-1;let a=0;for(let l=void 0!==r?65535&e[lu]:0;l<o;l++)if("number"==typeof n[l+1]){if(a=n[l],null!=r&&a>=r)break}else n[l]<0&&(e[lu]+=65536),(a<s||-1==s)&&(WF(e,t,n,l),e[lu]=(4294901760&e[lu])+l+2),l++}function WF(e,n,t,r){const i=t[r]<0,s=t[r+1],a=e[i?-t[r]:t[r]];if(i){if(e[ht]>>11<e[lu]>>16&&(3&e[ht])===n){e[ht]+=2048,ns(4,a,s);try{s.call(a)}finally{ns(5,a,s)}}}else{ns(4,a,s);try{s.call(a)}finally{ns(5,a,s)}}}const fu=-1;class td{constructor(n,t,r){this.factory=n,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function B_(e,n,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];e.setAttribute(n,o,a,s)}else{const s=i,o=t[++r];j0(s)?e.setProperty(n,s,o):e.setAttribute(n,s,o),r++}}return r}function $0(e){return 3===e||4===e||6===e}function j0(e){return 64===e.charCodeAt(0)}function nd(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){const i=n[r];"number"==typeof i?t=i:0===t||U0(e,t,i,null,-1===t||2===t?n[++r]:null)}}return e}function U0(e,n,t,r,i){let s=0,o=e.length;if(-1===n)o=-1;else for(;s<e.length;){const a=e[s++];if("number"==typeof a){if(a===n){o=-1;break}if(a>n){o=s-1;break}}}for(;s<e.length;){const a=e[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(e[s+1]=i));if(r===e[s+1])return void(e[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(e.splice(o,0,n),s=o+1),e.splice(s++,0,t),null!==r&&e.splice(s++,0,r),null!==i&&e.splice(s++,0,i)}function Y0(e){return e!==fu}function Ih(e){return 32767&e}function Oh(e,n){let t=function QF(e){return e>>16}(e),r=n;for(;t>0;)r=r[au],t--;return r}let H_=!0;function xh(e){const n=H_;return H_=e,n}const z0=255,W0=5;let KF=0;const qs={};function Rh(e,n){const t=q0(e,n);if(-1!==t)return t;const r=n[we];r.firstCreatePass&&(e.injectorIndex=n.length,$_(r.data,e),$_(n,null),$_(r.blueprint,null));const i=j_(e,n),s=e.injectorIndex;if(Y0(i)){const o=Ih(i),a=Oh(i,n),l=a[we].data;for(let u=0;u<8;u++)n[s+u]=a[o+u]|l[o+u]}return n[s+8]=i,s}function $_(e,n){e.push(0,0,0,0,0,0,0,0,n)}function q0(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function j_(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let t=0,r=null,i=n;for(;null!==i;){if(r=eT(i),null===r)return fu;if(t++,i=i[au],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return fu}function U_(e,n,t){!function JF(e,n,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Zc)&&(r=t[Zc]),null==r&&(r=t[Zc]=KF++);const i=r&z0;n.data[e+(i>>W0)]|=1<<i}(e,n,t)}function G0(e,n,t){if(t&Je.Optional||void 0!==e)return e;hh()}function Z0(e,n,t,r){if(t&Je.Optional&&void 0===r&&(r=null),!(t&(Je.Self|Je.Host))){const i=e[bh],s=ts(void 0);try{return i?i.get(n,r,t&Je.Optional):u0(n,r,t&Je.Optional)}finally{ts(s)}}return G0(r,0,t)}function Q0(e,n,t,r=Je.Default,i){if(null!==e){if(1024&n[ht]){const o=function r2(e,n,t,r,i){let s=e,o=n;for(;null!==s&&null!==o&&1024&o[ht]&&!(256&o[ht]);){const a=K0(s,o,t,r|Je.Self,qs);if(a!==qs)return a;let l=s.parent;if(!l){const u=o[_0];if(u){const c=u.get(t,qs,r);if(c!==qs)return c}l=eT(o),o=o[au]}s=l}return i}(e,n,t,r,qs);if(o!==qs)return o}const s=K0(e,n,t,r,qs);if(s!==qs)return s}return Z0(n,t,r,i)}function K0(e,n,t,r,i){const s=function t2(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(Zc)?e[Zc]:void 0;return"number"==typeof n?n>=0?n&z0:n2:n}(t);if("function"==typeof s){if(!P0(n,e,r))return r&Je.Host?G0(i,0,r):Z0(n,t,r,i);try{const o=s(r);if(null!=o||r&Je.Optional)return o;hh()}finally{B0()}}else if("number"==typeof s){let o=null,a=q0(e,n),l=fu,u=r&Je.Host?n[Zr][Gr]:null;for((-1===a||r&Je.SkipSelf)&&(l=-1===a?j_(e,n):n[a+8],l!==fu&&X0(r,!1)?(o=n[we],a=Ih(l),n=Oh(l,n)):a=-1);-1!==a;){const c=n[we];if(J0(s,a,c.data)){const d=e2(a,n,t,o,r,u);if(d!==qs)return d}l=n[a+8],l!==fu&&X0(r,n[we].data[a+8]===u)&&J0(s,a,n)?(o=c,a=Ih(l),n=Oh(l,n)):a=-1}}return i}function e2(e,n,t,r,i,s){const o=n[we],a=o.data[e+8],c=Lh(a,o,t,null==r?Xc(a)&&H_:r!=o&&0!=(3&a.type),i&Je.Host&&s===a);return null!==c?il(n,o,c,a):qs}function Lh(e,n,t,r,i){const s=e.providerIndexes,o=n.data,a=1048575&s,l=e.directiveStart,c=s>>20,f=i?a+c:e.directiveEnd;for(let h=r?a:a+c;h<f;h++){const p=o[h];if(h<l&&t===p||h>=l&&p.type===t)return h}if(i){const h=o[l];if(h&&Os(h)&&h.type===t)return l}return null}function il(e,n,t,r){let i=e[t];const s=n.data;if(function qF(e){return e instanceof td}(i)){const o=i;o.resolving&&function GN(e,n){const t=n?`. Dependency path: ${n.join(" > ")} > ${e}`:"";throw new z(-200,`Circular dependency in DI detected for ${e}${t}`)}(function Kt(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():lt(e)}(s[t]));const a=xh(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?ts(o.injectImpl):null;P0(e,r,Je.Default);try{i=e[t]=o.factory(void 0,s,e,r),n.firstCreatePass&&t>=r.directiveStart&&function zF(e,n,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=n.type.prototype;if(r){const o=w0(n);(t.preOrderHooks??(t.preOrderHooks=[])).push(e,o),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(e,o)}i&&(t.preOrderHooks??(t.preOrderHooks=[])).push(0-e,i),s&&((t.preOrderHooks??(t.preOrderHooks=[])).push(e,s),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(e,s))}(t,s[t],n)}finally{null!==l&&ts(l),xh(a),o.resolving=!1,B0()}}return i}function J0(e,n,t){return!!(t[n+(e>>W0)]&1<<e)}function X0(e,n){return!(e&Je.Self||e&Je.Host&&n)}class hu{constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return Q0(this._tNode,this._lView,n,_h(r),t)}}function n2(){return new hu(Nr(),ee())}function gt(e){return Ro(()=>{const n=e.prototype.constructor,t=n[Po]||Y_(n),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const s=i[Po]||Y_(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Y_(e){return __(e)?()=>{const n=Y_(Ke(e));return n&&n()}:nl(e)}function eT(e){const n=e[we],t=n.type;return 2===t?n.declTNode:1===t?e[Gr]:null}const mu="__parameters__";function _u(e,n,t){return Ro(()=>{const r=function z_(e){return function(...t){if(e){const r=e(...t);for(const i in r)this[i]=r[i]}}}(n);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,u,c){const d=l.hasOwnProperty(mu)?l[mu]:Object.defineProperty(l,mu,{value:[]})[mu];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(o),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}class Le{constructor(n,t){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=q({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function sl(e,n){e.forEach(t=>Array.isArray(t)?sl(t,n):n(t))}function nT(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function Nh(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function sd(e,n){const t=[];for(let r=0;r<e;r++)t.push(n);return t}function Bi(e,n,t){let r=yu(e,n);return r>=0?e[1|r]=t:(r=~r,function l2(e,n,t,r){let i=e.length;if(i==n)e.push(t,r);else if(1===i)e.push(r,e[0]),e[0]=t;else{for(i--,e.push(e[i-1],e[i]);i>n;)e[i]=e[i-2],i--;e[n]=t,e[n+1]=r}}(e,r,n,t)),r}function q_(e,n){const t=yu(e,n);if(t>=0)return e[1|t]}function yu(e,n){return function rT(e,n,t){let r=0,i=e.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=e[s<<t];if(n===o)return s<<t;o>n?i=s:r=s+1}return~(i<<t)}(e,n,1)}const od=Gc(_u("Optional"),8),ad=Gc(_u("SkipSelf"),4);var Ti=(()=>((Ti=Ti||{})[Ti.Important=1]="Important",Ti[Ti.DashCase=2]="DashCase",Ti))();const X_=new Map;let I2=0;const ty="__ngContext__";function Kr(e,n){Ni(n)?(e[ty]=n[Jc],function x2(e){X_.set(e[Jc],e)}(n)):e[ty]=n}let ny;function ry(e,n){return ny(e,n)}function dd(e){const n=e[Un];return Is(n)?n[Un]:n}function iy(e){return CT(e[Qc])}function sy(e){return CT(e[As])}function CT(e){for(;null!==e&&!Is(e);)e=e[As];return e}function bu(e,n,t,r,i){if(null!=r){let s,o=!1;Is(r)?s=r:Ni(r)&&(o=!0,r=r[No]);const a=Pr(r);0===e&&null!==t?null==i?AT(n,t,a):ol(n,t,a,i||null,!0):1===e&&null!==t?ol(n,t,a,i||null,!0):2===e?function fy(e,n,t){const r=Hh(e,n);r&&function J2(e,n,t,r){e.removeChild(n,t,r)}(e,r,n,t)}(n,a,o):3===e&&n.destroyNode(a),null!=s&&function tV(e,n,t,r,i){const s=t[Dh];s!==Pr(t)&&bu(n,e,r,s,i);for(let a=di;a<t.length;a++){const l=t[a];fd(l[we],l,e,n,r,s)}}(n,e,s,t,i)}}function ay(e,n,t){return e.createElement(n,t)}function MT(e,n){const t=e[uu],r=t.indexOf(n),i=n[Un];512&n[ht]&&(n[ht]&=-513,A_(i,-1)),t.splice(r,1)}function ly(e,n){if(e.length<=di)return;const t=di+n,r=e[t];if(r){const i=r[Kc];null!==i&&i!==e&&MT(i,r),n>0&&(e[t-1][As]=r[As]);const s=Nh(e,di+n);!function Y2(e,n){fd(e,n,n[mt],2,null,null),n[No]=null,n[Gr]=null}(r[we],r);const o=s[zs];null!==o&&o.detachView(s[we]),r[Un]=null,r[As]=null,r[ht]&=-65}return r}function ST(e,n){if(!(128&n[ht])){const t=n[mt];t.destroyNode&&fd(e,n,t,3,null,null),function q2(e){let n=e[Qc];if(!n)return uy(e[we],e);for(;n;){let t=null;if(Ni(n))t=n[Qc];else{const r=n[di];r&&(t=r)}if(!t){for(;n&&!n[As]&&n!==e;)Ni(n)&&uy(n[we],n),n=n[Un];null===n&&(n=e),Ni(n)&&uy(n[we],n),t=n&&n[As]}n=t}}(n)}}function uy(e,n){if(!(128&n[ht])){n[ht]&=-65,n[ht]|=128,function K2(e,n){let t;if(null!=e&&null!=(t=e.destroyHooks))for(let r=0;r<t.length;r+=2){const i=n[t[r]];if(!(i instanceof td)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];ns(4,a,l);try{l.call(a)}finally{ns(5,a,l)}}else{ns(4,i,s);try{s.call(i)}finally{ns(5,i,s)}}}}}(e,n),function Q2(e,n){const t=e.cleanup,r=n[ou];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?r[i=o]():r[i=-o].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();n[ou]=null}}(e,n),1===n[we].type&&n[mt].destroy();const t=n[Kc];if(null!==t&&Is(n[Un])){t!==n[Un]&&MT(t,n);const r=n[zs];null!==r&&r.detachView(e)}!function R2(e){X_.delete(e[Jc])}(n)}}function kT(e,n,t){return function ET(e,n,t){let r=n;for(;null!==r&&40&r.type;)r=(n=r).parent;if(null===r)return t[No];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=e.data[r.directiveStart+i];if(s===Es.None||s===Es.Emulated)return null}return Fi(r,t)}}(e,n.parent,t)}function ol(e,n,t,r,i){e.insertBefore(n,t,r,i)}function AT(e,n,t){e.appendChild(n,t)}function IT(e,n,t,r,i){null!==r?ol(e,n,t,r,i):AT(e,n,t)}function Hh(e,n){return e.parentNode(n)}function OT(e,n,t){return RT(e,n,t)}let cy,Uh,my,Yh,RT=function xT(e,n,t){return 40&e.type?Fi(e,t):null};function $h(e,n,t,r){const i=kT(e,r,n),s=n[mt],a=OT(r.parent||n[Gr],r,n);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)IT(s,i,t[l],a,!1);else IT(s,i,t,a,!1);void 0!==cy&&cy(s,r,n,t,i)}function jh(e,n){if(null!==n){const t=n.type;if(3&t)return Fi(n,e);if(4&t)return dy(-1,e[n.index]);if(8&t){const r=n.child;if(null!==r)return jh(e,r);{const i=e[n.index];return Is(i)?dy(-1,i):Pr(i)}}if(32&t)return ry(n,e)()||Pr(e[n.index]);{const r=PT(e,n);return null!==r?Array.isArray(r)?r[0]:jh(dd(e[Zr]),r):jh(e,n.next)}}return null}function PT(e,n){return null!==n?e[Zr][Gr].projection[n.projection]:null}function dy(e,n){const t=di+e+1;if(t<n.length){const r=n[t],i=r[we].firstChild;if(null!==i)return jh(r,i)}return n[Dh]}function hy(e,n,t,r,i,s,o){for(;null!=t;){const a=r[t.index],l=t.type;if(o&&0===n&&(a&&Kr(Pr(a),r),t.flags|=2),32!=(32&t.flags))if(8&l)hy(e,n,t.child,r,i,s,!1),bu(n,e,i,a,s);else if(32&l){const u=ry(t,r);let c;for(;c=u();)bu(n,e,i,c,s);bu(n,e,i,a,s)}else 16&l?NT(e,n,r,t,i,s):bu(n,e,i,a,s);t=o?t.projectionNext:t.next}}function fd(e,n,t,r,i,s){hy(t,r,e.firstChild,n,i,s,!1)}function NT(e,n,t,r,i,s){const o=t[Zr],l=o[Gr].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)bu(n,e,i,l[u],s);else hy(e,n,l,o[Un],i,s,!0)}function FT(e,n,t){""===t?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function VT(e,n,t){const{mergedAttrs:r,classes:i,styles:s}=t;null!==r&&B_(e,n,r),null!==i&&FT(e,n,i),null!==s&&function rV(e,n,t){e.setAttribute(n,"style",t)}(e,n,s)}function wu(e){return function py(){if(void 0===Uh&&(Uh=null,bn.trustedTypes))try{Uh=bn.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Uh}()?.createHTML(e)||e}function jT(e){return function gy(){if(void 0===Yh&&(Yh=null,bn.trustedTypes))try{Yh=bn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Yh}()?.createScriptURL(e)||e}class al{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${dh})`}}class lV extends al{getTypeName(){return"HTML"}}class uV extends al{getTypeName(){return"Style"}}class cV extends al{getTypeName(){return"Script"}}class dV extends al{getTypeName(){return"URL"}}class fV extends al{getTypeName(){return"ResourceURL"}}function Hi(e){return e instanceof al?e.changingThisBreaksApplicationSecurity:e}function Gs(e,n){const t=function hV(e){return e instanceof al&&e.getTypeName()||null}(e);if(null!=t&&t!==n){if("ResourceURL"===t&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${dh})`)}return t===n}class vV{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const t=(new window.DOMParser).parseFromString(wu(n),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(n):(t.removeChild(t.firstChild),t)}catch{return null}}}class bV{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const t=this.inertDocument.createElement("template");return t.innerHTML=wu(n),t}}const DV=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function zh(e){return(e=String(e)).match(DV)?e:"unsafe:"+e}function Bo(e){const n={};for(const t of e.split(","))n[t]=!0;return n}function hd(...e){const n={};for(const t of e)for(const r in t)t.hasOwnProperty(r)&&(n[r]=!0);return n}const YT=Bo("area,br,col,hr,img,wbr"),zT=Bo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),WT=Bo("rp,rt"),_y=hd(YT,hd(zT,Bo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),hd(WT,Bo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),hd(WT,zT)),yy=Bo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),qT=hd(yy,Bo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Bo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),CV=Bo("script,style,template");class TV{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let t=n.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(n){const t=n.nodeName.toLowerCase();if(!_y.hasOwnProperty(t))return this.sanitizedSomething=!0,!CV.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=n.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!qT.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;yy[a]&&(l=zh(l)),this.buf.push(" ",o,'="',GT(l),'"')}return this.buf.push(">"),!0}endElement(n){const t=n.nodeName.toLowerCase();_y.hasOwnProperty(t)&&!YT.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(n){this.buf.push(GT(n))}checkClobberedElement(n,t){if(t&&(n.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return t}}const MV=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,SV=/([^\#-~ |!])/g;function GT(e){return e.replace(/&/g,"&amp;").replace(MV,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(SV,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Wh;function ZT(e,n){let t=null;try{Wh=Wh||function UT(e){const n=new bV(e);return function wV(){try{return!!(new window.DOMParser).parseFromString(wu(""),"text/html")}catch{return!1}}()?new vV(n):n}(e);let r=n?String(n):"";t=Wh.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=t.innerHTML,t=Wh.getInertBodyElement(r)}while(r!==s);return wu((new TV).sanitizeChildren(vy(t)||t))}finally{if(t){const r=vy(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function vy(e){return"content"in e&&function kV(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var dn=(()=>((dn=dn||{})[dn.NONE=0]="NONE",dn[dn.HTML=1]="HTML",dn[dn.STYLE=2]="STYLE",dn[dn.SCRIPT=3]="SCRIPT",dn[dn.URL=4]="URL",dn[dn.RESOURCE_URL=5]="RESOURCE_URL",dn))();function by(e){const n=pd();return n?n.sanitize(dn.URL,e)||"":Gs(e,"URL")?Hi(e):zh(lt(e))}function QT(e){const n=pd();if(n)return jT(n.sanitize(dn.RESOURCE_URL,e)||"");if(Gs(e,"ResourceURL"))return jT(Hi(e));throw new z(904,!1)}function pd(){const e=ee();return e&&e[M_]}const qh=new Le("ENVIRONMENT_INITIALIZER"),JT=new Le("INJECTOR",-1),XT=new Le("INJECTOR_DEF_TYPES");class eM{get(n,t=Wc){if(t===Wc){const r=new Error(`NullInjectorError: No provider for ${pn(n)}!`);throw r.name="NullInjectorError",r}return t}}function LV(...e){return{\u0275providers:tM(0,e),\u0275fromNgModule:!0}}function tM(e,...n){const t=[],r=new Set;let i;return sl(n,s=>{const o=s;wy(o,t,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&nM(i,t),t}function nM(e,n){for(let t=0;t<e.length;t++){const{providers:i}=e[t];Dy(i,s=>{n.push(s)})}}function wy(e,n,t,r){if(!(e=Ke(e)))return!1;let i=null,s=a0(e);const o=!s&&Xt(e);if(s||o){if(o&&!o.standalone)return!1;i=e}else{const l=e.ngModule;if(s=a0(l),!s)return!1;i=l}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const u of l)wy(u,n,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let u;r.add(i);try{sl(s.imports,c=>{wy(c,n,t,r)&&(u||(u=[]),u.push(c))})}finally{}void 0!==u&&nM(u,n)}if(!a){const u=nl(i)||(()=>new i);n.push({provide:i,useFactory:u,deps:Wt},{provide:XT,useValue:i,multi:!0},{provide:qh,useValue:()=>J(i),multi:!0})}const l=s.providers;null==l||a||Dy(l,c=>{n.push(c)})}}return i!==e&&void 0!==e.providers}function Dy(e,n){for(let t of e)y_(t)&&(t=t.\u0275providers),Array.isArray(t)?Dy(t,n):n(t)}const PV=cn({provide:String,useValue:cn});function Cy(e){return null!==e&&"object"==typeof e&&PV in e}function ll(e){return"function"==typeof e}const Ty=new Le("Set Injector scope."),Gh={},FV={};let My;function Zh(){return void 0===My&&(My=new eM),My}class Si{}class sM extends Si{get destroyed(){return this._destroyed}constructor(n,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ky(n,o=>this.processProvider(o)),this.records.set(JT,Du(void 0,this)),i.has("environment")&&this.records.set(Si,Du(void 0,this));const s=this.records.get(Ty);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(XT.multi,Wt,Je.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();for(const n of this._onDestroyHooks)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(n){this._onDestroyHooks.push(n)}runInContext(n){this.assertNotDestroyed();const t=iu(this),r=ts(void 0);try{return n()}finally{iu(t),ts(r)}}get(n,t=Wc,r=Je.Default){this.assertNotDestroyed(),r=_h(r);const i=iu(this),s=ts(void 0);try{if(!(r&Je.SkipSelf)){let a=this.records.get(n);if(void 0===a){const l=function jV(e){return"function"==typeof e||"object"==typeof e&&e instanceof Le}(n)&&ph(n);a=l&&this.injectableDefInScope(l)?Du(Sy(n),Gh):null,this.records.set(n,a)}if(null!=a)return this.hydrate(n,a)}return(r&Je.Self?Zh():this.parent).get(n,t=r&Je.Optional&&t===Wc?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[gh]=o[gh]||[]).unshift(pn(n)),i)throw o;return function uF(e,n,t,r){const i=e[gh];throw n[c0]&&i.unshift(n[c0]),e.message=function cF(e,n,t,r=null){e=e&&"\n"===e.charAt(0)&&e.charAt(1)==oF?e.slice(2):e;let i=pn(n);if(Array.isArray(n))i=n.map(pn).join(" -> ");else if("object"==typeof n){let s=[];for(let o in n)if(n.hasOwnProperty(o)){let a=n[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):pn(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${e.replace(sF,"\n  ")}`}("\n"+e.message,i,t,r),e[iF]=i,e[gh]=null,e}(o,n,"R3InjectorError",this.source)}throw o}finally{ts(s),iu(i)}}resolveInjectorInitializers(){const n=iu(this),t=ts(void 0);try{const r=this.get(qh.multi,Wt,Je.Self);for(const i of r)i()}finally{iu(n),ts(t)}}toString(){const n=[],t=this.records;for(const r of t.keys())n.push(pn(r));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new z(205,!1)}processProvider(n){let t=ll(n=Ke(n))?n:Ke(n&&n.provide);const r=function BV(e){return Cy(e)?Du(void 0,e.useValue):Du(oM(e),Gh)}(n);if(ll(n)||!0!==n.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=Du(void 0,Gh,!0),i.factory=()=>D_(i.multi),this.records.set(t,i)),t=n,i.multi.push(n)}this.records.set(t,r)}hydrate(n,t){return t.value===Gh&&(t.value=FV,t.value=t.factory()),"object"==typeof t.value&&t.value&&function $V(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(n){if(!n.providedIn)return!1;const t=Ke(n.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function Sy(e){const n=ph(e),t=null!==n?n.factory:nl(e);if(null!==t)return t;if(e instanceof Le)throw new z(204,!1);if(e instanceof Function)return function VV(e){const n=e.length;if(n>0)throw sd(n,"?"),new z(204,!1);const t=function eF(e){const n=e&&(e[mh]||e[l0]);return n?(function tF(e){if(e.hasOwnProperty("name"))return e.name;(""+e).match(/^function\s*([^\s(]+)/)}(e),n):null}(e);return null!==t?()=>t.factory(e):()=>new e}(e);throw new z(204,!1)}function oM(e,n,t){let r;if(ll(e)){const i=Ke(e);return nl(i)||Sy(i)}if(Cy(e))r=()=>Ke(e.useValue);else if(function iM(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...D_(e.deps||[]));else if(function rM(e){return!(!e||!e.useExisting)}(e))r=()=>J(Ke(e.useExisting));else{const i=Ke(e&&(e.useClass||e.provide));if(!function HV(e){return!!e.deps}(e))return nl(i)||Sy(i);r=()=>new i(...D_(e.deps))}return r}function Du(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function ky(e,n){for(const t of e)Array.isArray(t)?ky(t,n):t&&y_(t)?ky(t.\u0275providers,n):n(t)}class UV{}class aM{}class zV{resolveComponentFactory(n){throw function YV(e){const n=Error(`No component factory found for ${pn(e)}. Did you add it to @NgModule.entryComponents?`);return n.ngComponent=e,n}(n)}}let Cu=(()=>{class e{}return e.NULL=new zV,e})();function WV(){return Tu(Nr(),ee())}function Tu(e,n){return new qt(Fi(e,n))}let qt=(()=>{class e{constructor(t){this.nativeElement=t}}return e.__NG_ELEMENT_ID__=WV,e})();function qV(e){return e instanceof qt?e.nativeElement:e}class ul{}let En=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function GV(){const e=ee(),t=Vi(Nr().index,e);return(Ni(t)?t:e)[mt]}(),e})(),ZV=(()=>{class e{}return e.\u0275prov=q({token:e,providedIn:"root",factory:()=>null}),e})();class md{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const QV=new md("15.2.6"),Ey={},Ay="ngOriginalError";function Iy(e){return e[Ay]}class cl{constructor(){this._console=console}handleError(n){const t=this._findOriginalError(n);this._console.error("ERROR",n),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(n){let t=n&&Iy(n);for(;t&&Iy(t);)t=Iy(t);return t||null}}function Oy(e){return e.ownerDocument.defaultView}function Ho(e){return e instanceof Function?e():e}function cM(e,n,t){let r=e.length;for(;;){const i=e.indexOf(n,t);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const s=n.length;if(i+s===r||e.charCodeAt(i+s)<=32)return i}t=i+1}}const dM="ng-template";function oB(e,n,t){let r=0,i=!0;for(;r<e.length;){let s=e[r++];if("string"==typeof s&&i){const o=e[r++];if(t&&"class"===s&&-1!==cM(o.toLowerCase(),n,0))return!0}else{if(1===s){for(;r<e.length&&"string"==typeof(s=e[r++]);)if(s.toLowerCase()===n)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function fM(e){return 4===e.type&&e.value!==dM}function aB(e,n,t){return n===(4!==e.type||t?e.value:dM)}function lB(e,n,t){let r=4;const i=e.attrs||[],s=function dB(e){for(let n=0;n<e.length;n++)if($0(e[n]))return n;return e.length}(i);let o=!1;for(let a=0;a<n.length;a++){const l=n[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!aB(e,l,t)||""===l&&1===n.length){if(xs(r))return!1;o=!0}}else{const u=8&r?l:n[++a];if(8&r&&null!==e.attrs){if(!oB(e.attrs,u,t)){if(xs(r))return!1;o=!0}continue}const d=uB(8&r?"class":l,i,fM(e),t);if(-1===d){if(xs(r))return!1;o=!0;continue}if(""!==u){let f;f=d>s?"":i[d+1].toLowerCase();const h=8&r?f:null;if(h&&-1!==cM(h,u,0)||2&r&&u!==f){if(xs(r))return!1;o=!0}}}}else{if(!o&&!xs(r)&&!xs(l))return!1;if(o&&xs(l))continue;o=!1,r=l|1&r}}return xs(r)||o}function xs(e){return 0==(1&e)}function uB(e,n,t,r){if(null===n)return-1;let i=0;if(r||!t){let s=!1;for(;i<n.length;){const o=n[i];if(o===e)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=n[++i];for(;"string"==typeof a;)a=n[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function fB(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){const r=e[t];if("number"==typeof r)return-1;if(r===n)return t;t++}return-1}(n,e)}function hM(e,n,t=!1){for(let r=0;r<n.length;r++)if(lB(e,n[r],t))return!0;return!1}function hB(e,n){e:for(let t=0;t<n.length;t++){const r=n[t];if(e.length===r.length){for(let i=0;i<e.length;i++)if(e[i]!==r[i])continue e;return!0}}return!1}function pM(e,n){return e?":not("+n.trim()+")":n}function pB(e){let n=e[0],t=1,r=2,i="",s=!1;for(;t<e.length;){let o=e[t];if("string"==typeof o)if(2&r){const a=e[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!xs(o)&&(n+=pM(s,i),i=""),r=o,s=s||!xs(r);t++}return""!==i&&(n+=pM(s,i)),n}const ct={};function v(e){mM(Lt(),ee(),hi()+e,!1)}function mM(e,n,t,r){if(!r)if(3==(3&n[ht])){const s=e.preOrderCheckHooks;null!==s&&Eh(n,s,t)}else{const s=e.preOrderHooks;null!==s&&Ah(n,s,0,t)}rl(t)}function vM(e,n=null,t=null,r){const i=bM(e,n,t,r);return i.resolveInjectorInitializers(),i}function bM(e,n=null,t=null,r,i=new Set){const s=[t||Wt,LV(e)];return r=r||("object"==typeof e?void 0:pn(e)),new sM(s,n||Zh(),r||null,i)}let ki=(()=>{class e{static create(t,r){if(Array.isArray(t))return vM({name:""},r,t,"");{const i=t.name??"";return vM({name:i},t.parent,t.providers,i)}}}return e.THROW_IF_NOT_FOUND=Wc,e.NULL=new eM,e.\u0275prov=q({token:e,providedIn:"any",factory:()=>J(JT)}),e.__NG_ELEMENT_ID__=-1,e})();function D(e,n=Je.Default){const t=ee();return null===t?J(e,n):Q0(Nr(),t,Ke(e),n)}function EM(e,n){const t=e.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const o=e.data[s];L_(t[r]),o.contentQueries(2,n[s],s)}}}function Kh(e,n,t,r,i,s,o,a,l,u,c){const d=n.blueprint.slice();return d[No]=i,d[ht]=76|r,(null!==c||e&&1024&e[ht])&&(d[ht]|=1024),k0(d),d[Un]=d[au]=e,d[Qn]=t,d[wh]=o||e&&e[wh],d[mt]=a||e&&e[mt],d[M_]=l||e&&e[M_]||null,d[bh]=u||e&&e[bh]||null,d[Gr]=s,d[Jc]=function O2(){return I2++}(),d[_0]=c,d[Zr]=2==n.type?e[Zr]:d,d}function ku(e,n,t,r,i){let s=e.data[n];if(null===s)s=function Ny(e,n,t,r,i){const s=I0(),o=I_(),l=e.data[n]=function HB(e,n,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,n,r,i);return null===e.firstChild&&(e.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(e,n,t,r,i),function LF(){return ut.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function ed(){const e=ut.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Ws(s,!0),s}function gd(e,n,t,r){if(0===t)return-1;const i=n.length;for(let s=0;s<t;s++)n.push(r),e.blueprint.push(r),e.data.push(null);return i}function Fy(e,n,t){P_(n);try{const r=e.viewQuery;null!==r&&qy(1,r,t);const i=e.template;null!==i&&AM(e,n,i,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&EM(e,n),e.staticViewQueries&&qy(2,e.viewQuery,t);const s=e.components;null!==s&&function FB(e,n){for(let t=0;t<n.length;t++)sH(e,n[t])}(n,s)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[ht]&=-5,N_()}}function Jh(e,n,t,r){const i=n[ht];if(128!=(128&i)){P_(n);try{k0(n),function x0(e){return ut.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==t&&AM(e,n,t,2,r);const o=3==(3&i);if(o){const u=e.preOrderCheckHooks;null!==u&&Eh(n,u,null)}else{const u=e.preOrderHooks;null!==u&&Ah(n,u,0,null),F_(n,0)}if(function rH(e){for(let n=iy(e);null!==n;n=sy(n)){if(!n[y0])continue;const t=n[uu];for(let r=0;r<t.length;r++){const i=t[r];512&i[ht]||A_(i[Un],1),i[ht]|=512}}}(n),function nH(e){for(let n=iy(e);null!==n;n=sy(n))for(let t=di;t<n.length;t++){const r=n[t],i=r[we];Sh(r)&&Jh(i,r,i.template,r[Qn])}}(n),null!==e.contentQueries&&EM(e,n),o){const u=e.contentCheckHooks;null!==u&&Eh(n,u)}else{const u=e.contentHooks;null!==u&&Ah(n,u,1),F_(n,1)}!function PB(e,n){const t=e.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)rl(~i);else{const s=i,o=t[++r],a=t[++r];PF(o,s),a(2,n[s])}}}finally{rl(-1)}}(e,n);const a=e.components;null!==a&&function NB(e,n){for(let t=0;t<n.length;t++)iH(e,n[t])}(n,a);const l=e.viewQuery;if(null!==l&&qy(2,l,r),o){const u=e.viewCheckHooks;null!==u&&Eh(n,u)}else{const u=e.viewHooks;null!==u&&Ah(n,u,2),F_(n,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[ht]&=-41,512&n[ht]&&(n[ht]&=-513,A_(n[Un],-1))}finally{N_()}}}function AM(e,n,t,r,i){const s=hi(),o=2&r;try{rl(-1),o&&n.length>wn&&mM(e,n,wn,!1),ns(o?2:0,i),t(r,i)}finally{rl(s),ns(o?3:1,i)}}function Vy(e,n,t){if(k_(n)){const i=n.directiveEnd;for(let s=n.directiveStart;s<i;s++){const o=e.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}function By(e,n,t){A0()&&(function WB(e,n,t,r){const i=t.directiveStart,s=t.directiveEnd;Xc(t)&&function XB(e,n,t){const r=Fi(n,e),i=IM(t),s=e[wh],o=Xh(e,Kh(e,i,null,t.onPush?32:16,r,n,s,s.createRenderer(r,t),null,null,null));e[n.index]=o}(n,t,e.data[i+t.componentOffset]),e.firstCreatePass||Rh(t,n),Kr(r,n);const o=t.initialInputs;for(let a=i;a<s;a++){const l=e.data[a],u=il(n,e,a,t);Kr(u,n),null!==o&&eH(0,a-i,u,l,0,o),Os(l)&&(Vi(t.index,n)[Qn]=il(n,e,a,t))}}(e,n,t,Fi(t,n)),64==(64&t.flags)&&NM(e,n,t))}function Hy(e,n,t=Fi){const r=n.localNames;if(null!==r){let i=n.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(n,e):e[o];e[i++]=a}}}function IM(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=$y(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):n}function $y(e,n,t,r,i,s,o,a,l,u){const c=wn+r,d=c+i,f=function VB(e,n){const t=[];for(let r=0;r<n;r++)t.push(r<e?null:ct);return t}(c,d),h="function"==typeof u?u():u;return f[we]={type:e,blueprint:f,template:t,queries:null,viewQuery:a,declTNode:n,data:f.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:h,incompleteFirstPass:!1}}function OM(e,n,t,r){const i=VM(n);null===t?i.push(r):(i.push(t),e.firstCreatePass&&BM(e).push(r,i.length-1))}function xM(e,n,t,r){for(let i in e)if(e.hasOwnProperty(i)){t=null===t?{}:t;const s=e[i];null===r?RM(t,n,i,s):r.hasOwnProperty(i)&&RM(t,n,r[i],s)}return t}function RM(e,n,t,r){e.hasOwnProperty(t)?e[t].push(n,r):e[t]=[n,r]}function $i(e,n,t,r,i,s,o,a){const l=Fi(n,t);let c,u=n.inputs;!a&&null!=u&&(c=u[r])?(Gy(e,t,c,r,i),Xc(n)&&LM(t,n.index)):3&n.type&&(r=function jB(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=o?o(i,n.value||"",r):i,s.setProperty(l,r,i))}function LM(e,n){const t=Vi(n,e);16&t[ht]||(t[ht]|=32)}function jy(e,n,t,r){if(A0()){const i=null===r?null:{"":-1},s=function GB(e,n){const t=e.directiveRegistry;let r=null,i=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(hM(n,o.selectors,!1))if(r||(r=[]),Os(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),Uy(e,n,a.length)}else r.unshift(o),Uy(e,n,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(e,t);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&PM(e,n,t,o,i,a),i&&function ZB(e,n,t){if(n){const r=e.localNames=[];for(let i=0;i<n.length;i+=2){const s=t[n[i+1]];if(null==s)throw new z(-301,!1);r.push(n[i],s)}}}(t,r,i)}t.mergedAttrs=nd(t.mergedAttrs,t.attrs)}function PM(e,n,t,r,i,s){for(let u=0;u<r.length;u++)U_(Rh(t,n),e,r[u].type);!function KB(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}(t,e.data.length,r.length);for(let u=0;u<r.length;u++){const c=r[u];c.providersResolver&&c.providersResolver(c)}let o=!1,a=!1,l=gd(e,n,r.length,null);for(let u=0;u<r.length;u++){const c=r[u];t.mergedAttrs=nd(t.mergedAttrs,c.hostAttrs),JB(e,t,n,l,c),QB(l,c,i),null!==c.contentQueries&&(t.flags|=4),(null!==c.hostBindings||null!==c.hostAttrs||0!==c.hostVars)&&(t.flags|=64);const d=c.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??(e.preOrderHooks=[])).push(t.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??(e.preOrderCheckHooks=[])).push(t.index),a=!0),l++}!function $B(e,n,t){const i=n.directiveEnd,s=e.data,o=n.attrs,a=[];let l=null,u=null;for(let c=n.directiveStart;c<i;c++){const d=s[c],f=t?t.get(d):null,p=f?f.outputs:null;l=xM(d.inputs,c,l,f?f.inputs:null),u=xM(d.outputs,c,u,p);const g=null===l||null===o||fM(n)?null:tH(l,c,o);a.push(g)}null!==l&&(l.hasOwnProperty("class")&&(n.flags|=8),l.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=a,n.inputs=l,n.outputs=u}(e,t,s)}function NM(e,n,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function NF(){return ut.lFrame.currentDirectiveIndex}();try{rl(s);for(let a=r;a<i;a++){const l=e.data[a],u=n[a];x_(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&qB(l,u)}}finally{rl(-1),x_(o)}}function qB(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function Uy(e,n,t){n.componentOffset=t,(e.components??(e.components=[])).push(n.index)}function QB(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;Os(n)&&(t[""]=e)}}function JB(e,n,t,r,i){e.data[r]=i;const s=i.factory||(i.factory=nl(i.type)),o=new td(s,Os(i),D);e.blueprint[r]=o,t[r]=o,function YB(e,n,t,r,i){const s=i.hostBindings;if(s){let o=e.hostBindingOpCodes;null===o&&(o=e.hostBindingOpCodes=[]);const a=~n.index;(function zB(e){let n=e.length;for(;n>0;){const t=e[--n];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,r,s)}}(e,n,r,gd(e,t,i.hostVars,ct),i)}function Zs(e,n,t,r,i,s){const o=Fi(e,n);!function Yy(e,n,t,r,i,s,o){if(null==s)e.removeAttribute(n,i,t);else{const a=null==o?lt(s):o(s,r||"",i);e.setAttribute(n,i,a,t)}}(n[mt],o,s,e.value,t,r,i)}function eH(e,n,t,r,i,s){const o=s[n];if(null!==o){const a=r.setInput;for(let l=0;l<o.length;){const u=o[l++],c=o[l++],d=o[l++];null!==a?r.setInput(t,d,u,c):t[c]=d}}}function tH(e,n,t){let r=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(e.hasOwnProperty(s)){null===r&&(r=[]);const o=e[s];for(let a=0;a<o.length;a+=2)if(o[a]===n){r.push(s,o[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function FM(e,n,t,r){return[e,!0,!1,n,null,0,r,t,null,null]}function iH(e,n){const t=Vi(n,e);if(Sh(t)){const r=t[we];48&t[ht]?Jh(r,t,r.template,t[Qn]):t[tl]>0&&zy(t)}}function zy(e){for(let r=iy(e);null!==r;r=sy(r))for(let i=di;i<r.length;i++){const s=r[i];if(Sh(s))if(512&s[ht]){const o=s[we];Jh(o,s,o.template,s[Qn])}else s[tl]>0&&zy(s)}const t=e[we].components;if(null!==t)for(let r=0;r<t.length;r++){const i=Vi(t[r],e);Sh(i)&&i[tl]>0&&zy(i)}}function sH(e,n){const t=Vi(n,e),r=t[we];(function oH(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])})(r,t),Fy(r,t,t[Qn])}function Xh(e,n){return e[Qc]?e[g0][As]=n:e[Qc]=n,e[g0]=n,n}function Wy(e){for(;e;){e[ht]|=32;const n=dd(e);if(gF(e)&&!n)return e;e=n}return null}function ep(e,n,t,r=!0){const i=n[wh];i.begin&&i.begin();try{Jh(e,n,e.template,t)}catch(o){throw r&&$M(n,o),o}finally{i.end&&i.end()}}function qy(e,n,t){L_(0),n(e,t)}function VM(e){return e[ou]||(e[ou]=[])}function BM(e){return e.cleanup||(e.cleanup=[])}function $M(e,n){const t=e[bh],r=t?t.get(cl,null):null;r&&r.handleError(n)}function Gy(e,n,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],l=n[o],u=e.data[o];null!==u.setInput?u.setInput(l,i,r,a):l[a]=i}}function $o(e,n,t){const r=Mh(n,e);!function TT(e,n,t){e.setValue(n,t)}(e[mt],r,t)}function tp(e,n,t){let r=t?e.styles:null,i=t?e.classes:null,s=0;if(null!==n)for(let o=0;o<n.length;o++){const a=n[o];"number"==typeof a?s=a:1==s?i=g_(i,a):2==s&&(r=g_(r,a+": "+n[++o]+";"))}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=i:e.classesWithoutHost=i}function np(e,n,t,r,i=!1){for(;null!==t;){const s=n[t.index];if(null!==s&&r.push(Pr(s)),Is(s))for(let a=di;a<s.length;a++){const l=s[a],u=l[we].firstChild;null!==u&&np(l[we],l,u,r)}const o=t.type;if(8&o)np(e,n,t.child,r);else if(32&o){const a=ry(t,n);let l;for(;l=a();)r.push(l)}else if(16&o){const a=PT(n,t);if(Array.isArray(a))r.push(...a);else{const l=dd(n[Zr]);np(l[we],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class _d{get rootNodes(){const n=this._lView,t=n[we];return np(t,n,t.firstChild,[])}constructor(n,t){this._lView=n,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Qn]}set context(n){this._lView[Qn]=n}get destroyed(){return 128==(128&this._lView[ht])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Un];if(Is(n)){const t=n[Ch],r=t?t.indexOf(this):-1;r>-1&&(ly(n,r),Nh(t,r))}this._attachedToViewContainer=!1}ST(this._lView[we],this._lView)}onDestroy(n){OM(this._lView[we],this._lView,null,n)}markForCheck(){Wy(this._cdRefInjectingView||this._lView)}detach(){this._lView[ht]&=-65}reattach(){this._lView[ht]|=64}detectChanges(){ep(this._lView[we],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function W2(e,n){fd(e,n,n[mt],2,null,null)}(this._lView[we],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new z(902,!1);this._appRef=n}}class aH extends _d{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;ep(n[we],n,n[Qn],!1)}checkNoChanges(){}get context(){return null}}class jM extends Cu{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const t=Xt(n);return new yd(t,this.ngModule)}}function UM(e){const n=[];for(let t in e)e.hasOwnProperty(t)&&n.push({propName:e[t],templateName:t});return n}class uH{constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,r){r=_h(r);const i=this.injector.get(n,Ey,r);return i!==Ey||t===Ey?i:this.parentInjector.get(n,t,r)}}class yd extends aM{get inputs(){return UM(this.componentDef.inputs)}get outputs(){return UM(this.componentDef.outputs)}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=function mB(e){return e.map(pB).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!t}create(n,t,r,i){let s=(i=i||this.ngModule)instanceof Si?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new uH(n,s):n,a=o.get(ul,null);if(null===a)throw new z(407,!1);const l=o.get(ZV,null),u=a.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",d=r?function BB(e,n,t){return e.selectRootElement(n,t===Es.ShadowDom)}(u,r,this.componentDef.encapsulation):ay(u,c,function lH(e){const n=e.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(c)),f=this.componentDef.onPush?288:272,h=$y(0,null,null,1,0,null,null,null,null,null),p=Kh(null,h,null,f,null,null,a,u,l,o,null);let g,M;P_(p);try{const O=this.componentDef;let Y,B=null;O.findHostDirectiveDefs?(Y=[],B=new Map,O.findHostDirectiveDefs(O,Y,B),Y.push(O)):Y=[O];const ue=function dH(e,n){const t=e[we],r=wn;return e[r]=n,ku(t,r,2,"#host",null)}(p,d),nt=function fH(e,n,t,r,i,s,o,a){const l=i[we];!function hH(e,n,t,r){for(const i of e)n.mergedAttrs=nd(n.mergedAttrs,i.hostAttrs);null!==n.mergedAttrs&&(tp(n,n.mergedAttrs,!0),null!==t&&VT(r,t,n))}(r,e,n,o);const u=s.createRenderer(n,t),c=Kh(i,IM(t),null,t.onPush?32:16,i[e.index],e,s,u,a||null,null,null);return l.firstCreatePass&&Uy(l,e,r.length-1),Xh(i,c),i[e.index]=c}(ue,d,O,Y,p,a,u);M=S0(h,wn),d&&function mH(e,n,t,r){if(r)B_(e,t,["ng-version",QV.full]);else{const{attrs:i,classes:s}=function gB(e){const n=[],t=[];let r=1,i=2;for(;r<e.length;){let s=e[r];if("string"==typeof s)2===i?""!==s&&n.push(s,e[++r]):8===i&&t.push(s);else{if(!xs(i))break;i=s}r++}return{attrs:n,classes:t}}(n.selectors[0]);i&&B_(e,t,i),s&&s.length>0&&FT(e,t,s.join(" "))}}(u,O,d,r),void 0!==t&&function gH(e,n,t){const r=e.projection=[];for(let i=0;i<n.length;i++){const s=t[i];r.push(null!=s?Array.from(s):null)}}(M,this.ngContentSelectors,t),g=function pH(e,n,t,r,i,s){const o=Nr(),a=i[we],l=Fi(o,i);PM(a,i,o,t,null,r);for(let c=0;c<t.length;c++)Kr(il(i,a,o.directiveStart+c,o),i);NM(a,i,o),l&&Kr(l,i);const u=il(i,a,o.directiveStart+o.componentOffset,o);if(e[Qn]=i[Qn]=u,null!==s)for(const c of s)c(u,n);return Vy(a,o,e),u}(nt,O,Y,B,p,[_H]),Fy(h,p,null)}finally{N_()}return new cH(this.componentType,g,Tu(M,p),p,M)}}class cH extends UV{constructor(n,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new aH(i),this.componentType=n}setInput(n,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[n])){const s=this._rootLView;Gy(s[we],s,i,n,t),LM(s,this._tNode.index)}}get injector(){return new hu(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function _H(){const e=Nr();kh(ee()[we],e)}function Et(e){let n=function YM(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),t=!0;const r=[e];for(;n;){let i;if(Os(e))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new z(903,!1);i=n.\u0275dir}if(i){if(t){r.push(i);const o=e;o.inputs=Zy(e.inputs),o.declaredInputs=Zy(e.declaredInputs),o.outputs=Zy(e.outputs);const a=i.hostBindings;a&&wH(e,a);const l=i.viewQuery,u=i.contentQueries;if(l&&vH(e,l),u&&bH(e,u),m_(e.inputs,i.inputs),m_(e.declaredInputs,i.declaredInputs),m_(e.outputs,i.outputs),Os(i)&&i.data.animation){const c=e.data;c.animation=(c.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(e),a===Et&&(t=!1)}}n=Object.getPrototypeOf(n)}!function yH(e){let n=0,t=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=n+=i.hostVars,i.hostAttrs=nd(i.hostAttrs,t=nd(t,i.hostAttrs))}}(r)}function Zy(e){return e===Lo?{}:e===Wt?[]:e}function vH(e,n){const t=e.viewQuery;e.viewQuery=t?(r,i)=>{n(r,i),t(r,i)}:n}function bH(e,n){const t=e.contentQueries;e.contentQueries=t?(r,i,s)=>{n(r,i,s),t(r,i,s)}:n}function wH(e,n){const t=e.hostBindings;e.hostBindings=t?(r,i)=>{n(r,i),t(r,i)}:n}function rp(e){return!!Qy(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Qy(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Qs(e,n,t){return e[n]=t}function Jr(e,n,t){return!Object.is(e[n],t)&&(e[n]=t,!0)}function Kn(e,n,t,r){const i=ee();return Jr(i,du(),n)&&(Lt(),Zs(Ln(),i,e,n,t,r)),Kn}function Au(e,n,t,r){return Jr(e,du(),t)?n+lt(t)+r:ct}function Iu(e,n,t,r,i,s){const a=function dl(e,n,t,r){const i=Jr(e,n,t);return Jr(e,n+1,r)||i}(e,function Fo(){return ut.lFrame.bindingIndex}(),t,i);return Vo(2),a?n+lt(t)+r+lt(i)+s:ct}function V(e,n,t,r,i,s,o,a){const l=ee(),u=Lt(),c=e+wn,d=u.firstCreatePass?function OH(e,n,t,r,i,s,o,a,l){const u=n.consts,c=ku(n,e,4,o||null,Ca(u,a));jy(n,t,c,Ca(u,l)),kh(n,c);const d=c.tView=$y(2,c,r,i,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,u);return null!==n.queries&&(n.queries.template(n,c),d.queries=n.queries.embeddedTView(c)),c}(c,u,l,n,t,r,i,s,o):u.data[c];Ws(d,!1);const f=l[mt].createComment("");$h(u,l,f,d),Kr(f,l),Xh(l,l[c]=FM(f,l,f,d)),Th(d)&&By(u,l,d),null!=o&&Hy(l,d,a)}function Ks(e){return cu(function RF(){return ut.lFrame.contextLView}(),wn+e)}function w(e,n,t){const r=ee();return Jr(r,du(),n)&&$i(Lt(),Ln(),r,e,n,r[mt],t,!1),w}function Ky(e,n,t,r,i){const o=i?"class":"style";Gy(e,t,n.inputs[o],o,r)}function m(e,n,t,r){const i=ee(),s=Lt(),o=wn+e,a=i[mt],l=s.firstCreatePass?function RH(e,n,t,r,i,s){const o=n.consts,l=ku(n,e,2,r,Ca(o,i));return jy(n,t,l,Ca(o,s)),null!==l.attrs&&tp(l,l.attrs,!1),null!==l.mergedAttrs&&tp(l,l.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,l),l}(o,s,i,n,t,r):s.data[o],u=i[o]=ay(a,n,function YF(){return ut.lFrame.currentNamespace}()),c=Th(l);return Ws(l,!0),VT(a,u,l),32!=(32&l.flags)&&$h(s,i,u,l),0===function EF(){return ut.lFrame.elementDepthCount}()&&Kr(u,i),function AF(){ut.lFrame.elementDepthCount++}(),c&&(By(s,i,l),Vy(s,l,i)),null!==r&&Hy(i,l),m}function y(){let e=Nr();I_()?O_():(e=e.parent,Ws(e,!1));const n=e;!function IF(){ut.lFrame.elementDepthCount--}();const t=Lt();return t.firstCreatePass&&(kh(t,e),k_(e)&&t.queries.elementEnd(e)),null!=n.classesWithoutHost&&function GF(e){return 0!=(8&e.flags)}(n)&&Ky(t,n,ee(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function ZF(e){return 0!=(16&e.flags)}(n)&&Ky(t,n,ee(),n.stylesWithoutHost,!1),y}function He(e,n,t,r){return m(e,n,t,r),y(),He}function Yn(e,n,t){const r=ee(),i=Lt(),s=e+wn,o=i.firstCreatePass?function LH(e,n,t,r,i){const s=n.consts,o=Ca(s,r),a=ku(n,e,8,"ng-container",o);return null!==o&&tp(a,o,!0),jy(n,t,a,Ca(s,i)),null!==n.queries&&n.queries.elementStart(n,a),a}(s,i,r,n,t):i.data[s];Ws(o,!0);const a=r[s]=r[mt].createComment("");return $h(i,r,a,o),Kr(a,r),Th(o)&&(By(i,r,o),Vy(i,o,r)),null!=t&&Hy(r,o),Yn}function zn(){let e=Nr();const n=Lt();return I_()?O_():(e=e.parent,Ws(e,!1)),n.firstCreatePass&&(kh(n,e),k_(e)&&n.queries.elementEnd(e)),zn}function Oe(){return ee()}function bd(e){return!!e&&"function"==typeof e.then}function iS(e){return!!e&&"function"==typeof e.subscribe}const Jy=iS;function P(e,n,t,r){const i=ee(),s=Lt(),o=Nr();return function oS(e,n,t,r,i,s,o){const a=Th(r),u=e.firstCreatePass&&BM(e),c=n[Qn],d=VM(n);let f=!0;if(3&r.type||o){const g=Fi(r,n),M=o?o(g):g,O=d.length,Y=o?ue=>o(Pr(ue[r.index])):r.index;let B=null;if(!o&&a&&(B=function PH(e,n,t,r){const i=e.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=n[ou],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(e,n,i,r.index)),null!==B)(B.__ngLastListenerFn__||B).__ngNextListenerFn__=s,B.__ngLastListenerFn__=s,f=!1;else{s=lS(r,n,c,s,!1);const ue=t.listen(M,i,s);d.push(s,ue),u&&u.push(i,Y,O,O+1)}}else s=lS(r,n,c,s,!1);const h=r.outputs;let p;if(f&&null!==h&&(p=h[i])){const g=p.length;if(g)for(let M=0;M<g;M+=2){const nt=n[p[M]][p[M+1]].subscribe(s),it=d.length;d.push(s,nt),u&&u.push(i,r.index,it,-(it+1))}}}(s,i,i[mt],o,e,n,r),P}function aS(e,n,t,r){try{return ns(6,n,t),!1!==t(r)}catch(i){return $M(e,i),!1}finally{ns(7,n,t)}}function lS(e,n,t,r,i){return function s(o){if(o===Function)return r;Wy(e.componentOffset>-1?Vi(e.index,n):n);let l=aS(n,t,r,o),u=s.__ngNextListenerFn__;for(;u;)l=aS(n,t,u,o)&&l,u=u.__ngNextListenerFn__;return i&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function C(e=1){return function VF(e){return(ut.lFrame.contextLView=function BF(e,n){for(;e>0;)n=n[au],e--;return n}(e,ut.lFrame.contextLView))[Qn]}(e)}function NH(e,n){let t=null;const r=function cB(e){const n=e.attrs;if(null!=n){const t=n.indexOf(5);if(!(1&t))return n[t+1]}return null}(e);for(let i=0;i<n.length;i++){const s=n[i];if("*"!==s){if(null===r?hM(e,s,!0):hB(r,s))return i}else t=i}return t}function wd(e){const n=ee()[Zr][Gr];if(!n.projection){const r=n.projection=sd(e?e.length:1,null),i=r.slice();let s=n.child;for(;null!==s;){const o=e?NH(s,e):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}function Fu(e,n=0,t){const r=ee(),i=Lt(),s=ku(i,wn+e,16,null,t||null);null===s.projection&&(s.projection=n),O_(),32!=(32&s.flags)&&function eV(e,n,t){NT(n[mt],0,n,t,kT(e,t,n),OT(t.parent||n[Gr],t,n))}(i,r,s)}function sp(e,n,t){return Xy(e,"",n,"",t),sp}function Xy(e,n,t,r,i){const s=ee(),o=Au(s,n,t,r);return o!==ct&&$i(Lt(),Ln(),s,e,o,s[mt],i,!1),Xy}function op(e,n){return e<<17|n<<2}function Ta(e){return e>>17&32767}function ev(e){return 2|e}function fl(e){return(131068&e)>>2}function tv(e,n){return-131069&e|n<<2}function nv(e){return 1|e}function _S(e,n,t,r,i){const s=e[t+1],o=null===n;let a=r?Ta(s):fl(s),l=!1;for(;0!==a&&(!1===l||o);){const c=e[a+1];jH(e[a],n)&&(l=!0,e[a+1]=r?nv(c):ev(c)),a=r?Ta(c):fl(c)}l&&(e[t+1]=r?ev(s):nv(s))}function jH(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&yu(e,n)>=0}const gr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function yS(e){return e.substring(gr.key,gr.keyEnd)}function vS(e,n){const t=gr.textEnd;return t===n?-1:(n=gr.keyEnd=function WH(e,n,t){for(;n<t&&e.charCodeAt(n)>32;)n++;return n}(e,gr.key=n,t),Vu(e,n,t))}function Vu(e,n,t){for(;n<t&&e.charCodeAt(n)<=32;)n++;return n}function jo(e,n,t){return Rs(e,n,t,!1),jo}function st(e,n){return Rs(e,n,null,!0),st}function rv(e){!function Ls(e,n,t,r){const i=Lt(),s=Vo(2);i.firstUpdatePass&&MS(i,null,s,r);const o=ee();if(t!==ct&&Jr(o,s,t)){const a=i.data[hi()];if(AS(a,r)&&!TS(i,s)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(t=g_(l,t||"")),Ky(i,a,o,t,r)}else!function t3(e,n,t,r,i,s,o,a){i===ct&&(i=Wt);let l=0,u=0,c=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;null!==c||null!==d;){const f=l<i.length?i[l+1]:void 0,h=u<s.length?s[u+1]:void 0;let g,p=null;c===d?(l+=2,u+=2,f!==h&&(p=d,g=h)):null===d||null!==c&&c<d?(l+=2,p=c):(u+=2,p=d,g=h),null!==p&&kS(e,n,t,r,p,g,o,a),c=l<i.length?i[l]:null,d=u<s.length?s[u]:null}}(i,a,o,o[mt],o[s+1],o[s+1]=function e3(e,n,t){if(null==t||""===t)return Wt;const r=[],i=Hi(t);if(Array.isArray(i))for(let s=0;s<i.length;s++)e(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&e(r,s,i[s]);else"string"==typeof i&&n(r,i);return r}(e,n,t),r,s)}}(Bi,Xs,e,!0)}function Xs(e,n){for(let t=function YH(e){return function wS(e){gr.key=0,gr.keyEnd=0,gr.value=0,gr.valueEnd=0,gr.textEnd=e.length}(e),vS(e,Vu(e,0,gr.textEnd))}(n);t>=0;t=vS(n,t))Bi(e,yS(n),!0)}function Rs(e,n,t,r){const i=ee(),s=Lt(),o=Vo(2);s.firstUpdatePass&&MS(s,e,o,r),n!==ct&&Jr(i,o,n)&&kS(s,s.data[hi()],i,i[mt],e,i[o+1]=function n3(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=pn(Hi(e)))),e}(n,t),r,o)}function TS(e,n){return n>=e.expandoStartIndex}function MS(e,n,t,r){const i=e.data;if(null===i[t+1]){const s=i[hi()],o=TS(e,t);AS(s,r)&&null===n&&!o&&(n=!1),n=function QH(e,n,t,r){const i=function R_(e){const n=ut.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e);let s=r?n.residualClasses:n.residualStyles;if(null===i)0===(r?n.classBindings:n.styleBindings)&&(t=Dd(t=iv(null,e,n,t,r),n.attrs,r),s=null);else{const o=n.directiveStylingLast;if(-1===o||e[o]!==i)if(t=iv(i,e,n,t,r),null===s){let l=function KH(e,n,t){const r=t?n.classBindings:n.styleBindings;if(0!==fl(r))return e[Ta(r)]}(e,n,r);void 0!==l&&Array.isArray(l)&&(l=iv(null,e,n,l[1],r),l=Dd(l,n.attrs,r),function JH(e,n,t,r){e[Ta(t?n.classBindings:n.styleBindings)]=r}(e,n,r,l))}else s=function XH(e,n,t){let r;const i=n.directiveEnd;for(let s=1+n.directiveStylingLast;s<i;s++)r=Dd(r,e[s].hostAttrs,t);return Dd(r,n.attrs,t)}(e,n,r)}return void 0!==s&&(r?n.residualClasses=s:n.residualStyles=s),t}(i,s,n,r),function HH(e,n,t,r,i,s){let o=s?n.classBindings:n.styleBindings,a=Ta(o),l=fl(o);e[r]=t;let c,u=!1;if(Array.isArray(t)?(c=t[1],(null===c||yu(t,c)>0)&&(u=!0)):c=t,i)if(0!==l){const f=Ta(e[a+1]);e[r+1]=op(f,a),0!==f&&(e[f+1]=tv(e[f+1],r)),e[a+1]=function VH(e,n){return 131071&e|n<<17}(e[a+1],r)}else e[r+1]=op(a,0),0!==a&&(e[a+1]=tv(e[a+1],r)),a=r;else e[r+1]=op(l,0),0===a?a=r:e[l+1]=tv(e[l+1],r),l=r;u&&(e[r+1]=ev(e[r+1])),_S(e,c,r,!0),_S(e,c,r,!1),function $H(e,n,t,r,i){const s=i?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof n&&yu(s,n)>=0&&(t[r+1]=nv(t[r+1]))}(n,c,e,r,s),o=op(a,l),s?n.classBindings=o:n.styleBindings=o}(i,s,n,t,o,r)}}function iv(e,n,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=n[a],r=Dd(r,s.hostAttrs,i),s!==e);)a++;return null!==e&&(t.directiveStylingLast=a),r}function Dd(e,n,t){const r=t?1:2;let i=-1;if(null!==n)for(let s=0;s<n.length;s++){const o=n[s];"number"==typeof o?i=o:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Bi(e,o,!!t||n[++s]))}return void 0===e?null:e}function kS(e,n,t,r,i,s,o,a){if(!(3&n.type))return;const l=e.data,u=l[a+1],c=function BH(e){return 1==(1&e)}(u)?ES(l,n,t,i,fl(u),o):void 0;ap(c)||(ap(s)||function FH(e){return 2==(2&e)}(u)&&(s=ES(l,null,t,i,a,o)),function nV(e,n,t,r,i){if(n)i?e.addClass(t,r):e.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:Ti.DashCase;null==i?e.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Ti.Important),e.setStyle(t,r,i,s))}}(r,o,Mh(hi(),t),i,s))}function ES(e,n,t,r,i,s){const o=null===n;let a;for(;i>0;){const l=e[i],u=Array.isArray(l),c=u?l[1]:l,d=null===c;let f=t[i+1];f===ct&&(f=d?Wt:void 0);let h=d?q_(f,r):c===r?f:void 0;if(u&&!ap(h)&&(h=q_(l,r)),ap(h)&&(a=h,o))return a;const p=e[i+1];i=o?Ta(p):fl(p)}if(null!==n){let l=s?n.residualClasses:n.residualStyles;null!=l&&(a=q_(l,r))}return a}function ap(e){return void 0!==e}function AS(e,n){return 0!=(e.flags&(n?8:16))}function E(e,n=""){const t=ee(),r=Lt(),i=e+wn,s=r.firstCreatePass?ku(r,i,1,n,null):r.data[i],o=t[i]=function oy(e,n){return e.createText(n)}(t[mt],n);$h(r,t,o,s),Ws(s,!1)}function et(e){return Gt("",e,""),et}function Gt(e,n,t){const r=ee(),i=Au(r,e,n,t);return i!==ct&&$o(r,hi(),i),Gt}function sv(e,n,t,r,i){const s=ee(),o=Iu(s,e,n,t,r,i);return o!==ct&&$o(s,hi(),o),sv}const Hu="en-US";let QS=Hu;function lv(e,n,t,r,i){if(e=Ke(e),Array.isArray(e))for(let s=0;s<e.length;s++)lv(e[s],n,t,r,i);else{const s=Lt(),o=ee();let a=ll(e)?e:Ke(e.provide),l=oM(e);const u=Nr(),c=1048575&u.providerIndexes,d=u.directiveStart,f=u.providerIndexes>>20;if(ll(e)||!e.multi){const h=new td(l,i,D),p=cv(a,n,i?c:c+f,d);-1===p?(U_(Rh(u,o),s,a),uv(s,e,n.length),n.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),t.push(h),o.push(h)):(t[p]=h,o[p]=h)}else{const h=cv(a,n,c+f,d),p=cv(a,n,c,c+f),M=p>=0&&t[p];if(i&&!M||!i&&!(h>=0&&t[h])){U_(Rh(u,o),s,a);const O=function b$(e,n,t,r,i){const s=new td(e,t,D);return s.multi=[],s.index=n,s.componentProviders=0,wk(s,i,r&&!t),s}(i?v$:y$,t.length,i,r,l);!i&&M&&(t[p].providerFactory=O),uv(s,e,n.length,0),n.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),t.push(O),o.push(O)}else uv(s,e,h>-1?h:p,wk(t[i?p:h],l,!i&&r));!i&&r&&M&&t[p].componentProviders++}}}function uv(e,n,t,r){const i=ll(n),s=function NV(e){return!!e.useClass}(n);if(i||s){const l=(s?Ke(n.useClass):n).prototype.ngOnDestroy;if(l){const u=e.destroyHooks||(e.destroyHooks=[]);if(!i&&n.multi){const c=u.indexOf(t);-1===c?u.push(t,[r,l]):u[c+1].push(r,l)}else u.push(t,l)}}}function wk(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function cv(e,n,t,r){for(let i=t;i<r;i++)if(n[i]===e)return i;return-1}function y$(e,n,t,r){return dv(this.multi,[])}function v$(e,n,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=il(t,t[we],this.providerFactory.index,r);s=a.slice(0,o),dv(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],dv(i,s);return s}function dv(e,n){for(let t=0;t<e.length;t++)n.push((0,e[t])());return n}function en(e,n=[]){return t=>{t.providersResolver=(r,i)=>function _$(e,n,t){const r=Lt();if(r.firstCreatePass){const i=Os(e);lv(t,r.data,r.blueprint,i,!0),lv(n,r.data,r.blueprint,i,!1)}}(r,i?i(e):e,n)}}class $u{}class Dk{}class Ck extends $u{constructor(n,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new jM(this);const r=Pi(n);this._bootstrapComponents=Ho(r.bootstrap),this._r3Injector=bM(n,t,[{provide:$u,useValue:this},{provide:Cu,useValue:this.componentFactoryResolver}],pn(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class fv extends Dk{constructor(n){super(),this.moduleType=n}create(n){return new Ck(this.moduleType,n)}}class D$ extends $u{constructor(n,t,r){super(),this.componentFactoryResolver=new jM(this),this.instance=null;const i=new sM([...n,{provide:$u,useValue:this},{provide:Cu,useValue:this.componentFactoryResolver}],t||Zh(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function fp(e,n,t=null){return new D$(e,n,t).injector}let C$=(()=>{class e{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=tM(0,t.type),i=r.length>0?fp([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,i)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=q({token:e,providedIn:"environment",factory:()=>new e(J(Si))}),e})();function Tk(e){e.getStandaloneInjector=n=>n.get(C$).getOrCreateStandaloneInjector(e)}function Rk(e,n,t,r,i,s){const o=n+t;return Jr(e,o,i)?Qs(e,o+1,s?r.call(s,i):r(i)):function Ed(e,n){const t=e[n];return t===ct?void 0:t}(e,o+1)}function Ei(e,n){const t=Lt();let r;const i=e+wn;t.firstCreatePass?(r=function H$(e,n){if(n)for(let t=n.length-1;t>=0;t--){const r=n[t];if(e===r.name)return r}}(n,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??(t.destroyHooks=[])).push(i,r.onDestroy)):r=t.data[i];const s=r.factory||(r.factory=nl(r.type)),o=ts(D);try{const a=xh(!1),l=s();return xh(a),function xH(e,n,t,r){t>=e.data.length&&(e.data[t]=null,e.blueprint[t]=null),n[t]=r}(t,ee(),i,l),l}finally{ts(o)}}function Ai(e,n,t){const r=e+wn,i=ee(),s=cu(i,r);return function Ad(e,n){return e[we].data[n].pure}(i,r)?Rk(i,fi(),n,s.transform,t,s):s.transform(t)}function pv(e){return n=>{setTimeout(e,void 0,n)}}const Me=class z$ extends kt{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,t,r){let i=n,s=t||(()=>null),o=r;if(n&&"object"==typeof n){const l=n;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=pv(s),i&&(i=pv(i)),o&&(o=pv(o)));const a=super.subscribe({next:i,error:s,complete:o});return n instanceof de&&n.add(a),a}};function W$(){return this._results[Symbol.iterator]()}class mv{get changes(){return this._changes||(this._changes=new Me)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=mv.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=W$)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,t){return this._results.reduce(n,t)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,t){const r=this;r.dirty=!1;const i=function rs(e){return e.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function o2(e,n,t){if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=n[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Ps=(()=>{class e{}return e.__NG_ELEMENT_ID__=Z$,e})();const q$=Ps,G$=class extends q${constructor(n,t,r){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(n,t){const r=this._declarationTContainer.tView,i=Kh(this._declarationLView,r,n,16,null,r.declTNode,null,null,null,null,t||null);i[Kc]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[zs];return null!==o&&(i[zs]=o.createEmbeddedView(r)),Fy(r,i,n),new _d(i)}};function Z$(){return hp(Nr(),ee())}function hp(e,n){return 4&e.type?new G$(n,e,Tu(e,n)):null}let Pn=(()=>{class e{}return e.__NG_ELEMENT_ID__=Q$,e})();function Q$(){return Hk(Nr(),ee())}const K$=Pn,Vk=class extends K${constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return Tu(this._hostTNode,this._hostLView)}get injector(){return new hu(this._hostTNode,this._hostLView)}get parentInjector(){const n=j_(this._hostTNode,this._hostLView);if(Y0(n)){const t=Oh(n,this._hostLView),r=Ih(n);return new hu(t[we].data[r+8],t)}return new hu(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const t=Bk(this._lContainer);return null!==t&&t[n]||null}get length(){return this._lContainer.length-di}createEmbeddedView(n,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=n.createEmbeddedView(t||{},s);return this.insert(o,i),o}createComponent(n,t,r,i,s){const o=n&&!function id(e){return"function"==typeof e}(n);let a;if(o)a=t;else{const d=t||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const l=o?n:new yd(Xt(n)),u=r||this.parentInjector;if(!s&&null==l.ngModule){const f=(o?u:this.parentInjector).get(Si,null);f&&(s=f)}const c=l.create(u,i,void 0,s);return this.insert(c.hostView,a),c}insert(n,t){const r=n._lView,i=r[we];if(function kF(e){return Is(e[Un])}(r)){const c=this.indexOf(n);if(-1!==c)this.detach(c);else{const d=r[Un],f=new Vk(d,d[Gr],d[Un]);f.detach(f.indexOf(n))}}const s=this._adjustIndex(t),o=this._lContainer;!function G2(e,n,t,r){const i=di+r,s=t.length;r>0&&(t[i-1][As]=n),r<s-di?(n[As]=t[i],nT(t,di+r,n)):(t.push(n),n[As]=null),n[Un]=t;const o=n[Kc];null!==o&&t!==o&&function Z2(e,n){const t=e[uu];n[Zr]!==n[Un][Un][Zr]&&(e[y0]=!0),null===t?e[uu]=[n]:t.push(n)}(o,n);const a=n[zs];null!==a&&a.insertView(e),n[ht]|=64}(i,r,o,s);const a=dy(s,o),l=r[mt],u=Hh(l,o[Dh]);return null!==u&&function z2(e,n,t,r,i,s){r[No]=i,r[Gr]=n,fd(e,r,t,1,i,s)}(i,o[Gr],l,r,u,a),n.attachToViewContainerRef(),nT(gv(o),s,n),n}move(n,t){return this.insert(n,t)}indexOf(n){const t=Bk(this._lContainer);return null!==t?t.indexOf(n):-1}remove(n){const t=this._adjustIndex(n,-1),r=ly(this._lContainer,t);r&&(Nh(gv(this._lContainer),t),ST(r[we],r))}detach(n){const t=this._adjustIndex(n,-1),r=ly(this._lContainer,t);return r&&null!=Nh(gv(this._lContainer),t)?new _d(r):null}_adjustIndex(n,t=0){return n??this.length+t}};function Bk(e){return e[Ch]}function gv(e){return e[Ch]||(e[Ch]=[])}function Hk(e,n){let t;const r=n[e.index];if(Is(r))t=r;else{let i;if(8&e.type)i=Pr(r);else{const s=n[mt];i=s.createComment("");const o=Fi(e,n);ol(s,Hh(s,o),i,function X2(e,n){return e.nextSibling(n)}(s,o),!1)}n[e.index]=t=FM(r,n,i,e),Xh(n,t)}return new Vk(t,e,n)}class _v{constructor(n){this.queryList=n,this.matches=null}clone(){return new _v(this.queryList)}setDirty(){this.queryList.setDirty()}}class yv{constructor(n=[]){this.queries=n}createEmbeddedView(n){const t=n.queries;if(null!==t){const r=null!==n.contentQueries?n.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new yv(i)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let t=0;t<this.queries.length;t++)null!==Wk(n,t).matches&&this.queries[t].setDirty()}}class $k{constructor(n,t,r=null){this.predicate=n,this.flags=t,this.read=r}}class vv{constructor(n=[]){this.queries=n}elementStart(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,t)}elementEnd(n){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(n)}embeddedTView(n){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(n,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new vv(t):null}template(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,t)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class bv{constructor(n,t=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(n,t){this.isApplyingToNode(t)&&this.matchTNode(n,t)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,t){this.elementStart(n,t)}embeddedTView(n,t){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,t),new bv(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=n.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(n,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(n,t,J$(t,s)),this.matchTNodeWithReadOption(n,t,Lh(t,n,s,!1,!1))}else r===Ps?4&t.type&&this.matchTNodeWithReadOption(n,t,-1):this.matchTNodeWithReadOption(n,t,Lh(t,n,r,!1,!1))}matchTNodeWithReadOption(n,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===qt||i===Pn||i===Ps&&4&t.type)this.addMatch(t.index,-2);else{const s=Lh(t,n,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(n,t){null===this.matches?this.matches=[n,t]:this.matches.push(n,t)}}function J$(e,n){const t=e.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===n)return t[r+1];return null}function ej(e,n,t,r){return-1===t?function X$(e,n){return 11&e.type?Tu(e,n):4&e.type?hp(e,n):null}(n,e):-2===t?function tj(e,n,t){return t===qt?Tu(n,e):t===Ps?hp(n,e):t===Pn?Hk(n,e):void 0}(e,n,r):il(e,e[we],t,n)}function jk(e,n,t,r){const i=n[zs].queries[r];if(null===i.matches){const s=e.data,o=t.matches,a=[];for(let l=0;l<o.length;l+=2){const u=o[l];a.push(u<0?null:ej(n,s[u],o[l+1],t.metadata.read))}i.matches=a}return i.matches}function wv(e,n,t,r){const i=e.queries.getByIndex(t),s=i.matches;if(null!==s){const o=jk(e,n,i,t);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)r.push(o[a/2]);else{const u=s[a+1],c=n[-l];for(let d=di;d<c.length;d++){const f=c[d];f[Kc]===f[Un]&&wv(f[we],f,u,r)}if(null!==c[uu]){const d=c[uu];for(let f=0;f<d.length;f++){const h=d[f];wv(h[we],h,u,r)}}}}}return r}function Fr(e){const n=ee(),t=Lt(),r=L0();L_(r+1);const i=Wk(t,r);if(e.dirty&&function SF(e){return 4==(4&e[ht])}(n)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const s=i.crossesNgTemplate?wv(t,n,r,[]):jk(t,n,i,r);e.reset(s,qV),e.notifyOnChanges()}return!0}return!1}function Xr(e,n,t){const r=Lt();r.firstCreatePass&&(zk(r,new $k(e,n,t),-1),2==(2&n)&&(r.staticViewQueries=!0)),Yk(r,ee(),n)}function Vr(){return function nj(e,n){return e[zs].queries[n].queryList}(ee(),L0())}function Yk(e,n,t){const r=new mv(4==(4&t));OM(e,n,r,r.destroy),null===n[zs]&&(n[zs]=new yv),n[zs].queries.push(new _v(r))}function zk(e,n,t){null===e.queries&&(e.queries=new vv),e.queries.track(new bv(n,t))}function Wk(e,n){return e.queries.getByIndex(n)}function ir(e,n){return hp(e,n)}function mp(...e){}const gp=new Le("Application Initializer");let _p=(()=>{class e{constructor(t){this.appInits=t,this.resolve=mp,this.reject=mp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(bd(s))t.push(s);else if(Jy(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)(J(gp,8))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Od=new Le("AppId",{providedIn:"root",factory:function d1(){return`${kv()}${kv()}${kv()}`}});function kv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const f1=new Le("Platform Initializer"),yp=new Le("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),h1=new Le("AnimationModuleType");let Cj=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const Uo=new Le("LocaleId",{providedIn:"root",factory:()=>vt(Uo,Je.Optional|Je.SkipSelf)||function Tj(){return typeof $localize<"u"&&$localize.locale||Hu}()});class Sj{constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}}let p1=(()=>{class e{compileModuleSync(t){return new fv(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=Ho(Pi(t).declarations).reduce((o,a)=>{const l=Xt(a);return l&&o.push(new yd(l)),o},[]);return new Sj(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Aj=(()=>Promise.resolve(0))();function Ev(e){typeof Zone>"u"?Aj.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class mn{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Me(!1),this.onMicrotaskEmpty=new Me(!1),this.onStable=new Me(!1),this.onError=new Me(!1),typeof Zone>"u")throw new z(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function Ij(){let e=bn.requestAnimationFrame,n=bn.cancelAnimationFrame;if(typeof Zone<"u"&&e&&n){const t=e[Zone.__symbol__("OriginalDelegate")];t&&(e=t);const r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function Rj(e){const n=()=>{!function xj(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(bn,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Iv(e),e.isCheckStableRunning=!0,Av(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Iv(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return _1(e),t.invokeTask(i,s,o,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&n(),y1(e)}},onInvoke:(t,r,i,s,o,a,l)=>{try{return _1(e),t.invoke(i,s,o,a,l)}finally{e.shouldCoalesceRunChangeDetection&&n(),y1(e)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,Iv(e),Av(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!mn.isInAngularZone())throw new z(909,!1)}static assertNotInAngularZone(){if(mn.isInAngularZone())throw new z(909,!1)}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,n,Oj,mp,mp);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}}const Oj={};function Av(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Iv(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function _1(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function y1(e){e._nesting--,Av(e)}class Lj{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Me,this.onMicrotaskEmpty=new Me,this.onStable=new Me,this.onError=new Me}run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,i){return n.apply(t,r)}}const v1=new Le(""),vp=new Le("");let Rv,Ov=(()=>{class e{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Rv||(function Pj(e){Rv=e}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{mn.assertNotInAngularZone(),Ev(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ev(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return e.\u0275fac=function(t){return new(t||e)(J(mn),J(xv),J(vp))},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})(),xv=(()=>{class e{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return Rv?.findTestabilityInTree(this,t,r)??null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const Yo=!1;let Ma=null;const b1=new Le("AllowMultipleToken"),Lv=new Le("PlatformDestroyListeners"),w1=new Le("appBootstrapListener");class D1{constructor(n,t){this.name=n,this.token=t}}function T1(e,n,t=[]){const r=`Platform: ${n}`,i=new Le(r);return(s=[])=>{let o=Pv();if(!o||o.injector.get(b1,!1)){const a=[...t,...s,{provide:i,useValue:!0}];e?e(a):function Vj(e){if(Ma&&!Ma.get(b1,!1))throw new z(400,!1);Ma=e;const n=e.get(S1);(function C1(e){const n=e.get(f1,null);n&&n.forEach(t=>t())})(e)}(function M1(e=[],n){return ki.create({name:n,providers:[{provide:Ty,useValue:"platform"},{provide:Lv,useValue:new Set([()=>Ma=null])},...e]})}(a,r))}return function Hj(e){const n=Pv();if(!n)throw new z(401,!1);return n}()}}function Pv(){return Ma?.get(S1)??null}let S1=(()=>{class e{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function E1(e,n){let t;return t="noop"===e?new Lj:("zone.js"===e?void 0:e)||new mn(n),t}(r?.ngZone,function k1(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!e||!e.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!e||!e.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:mn,useValue:i}];return i.run(()=>{const o=ki.create({providers:s,parent:this.injector,name:t.moduleType.name}),a=t.create(o),l=a.injector.get(cl,null);if(!l)throw new z(402,!1);return i.runOutsideAngular(()=>{const u=i.onError.subscribe({next:c=>{l.handleError(c)}});a.onDestroy(()=>{bp(this._modules,a),u.unsubscribe()})}),function A1(e,n,t){try{const r=t();return bd(r)?r.catch(i=>{throw n.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>e.handleError(r)),r}}(l,i,()=>{const u=a.injector.get(_p);return u.runInitializers(),u.donePromise.then(()=>(function KS(e){es(e,"Expected localeId to be defined"),"string"==typeof e&&(QS=e.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Uo,Hu)||Hu),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const i=I1({},r);return function Nj(e,n,t){const r=new fv(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(Yu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new z(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new z(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(Lv,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(J(ki))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function I1(e,n){return Array.isArray(n)?n.reduce(I1,e):{...e,...n}}let Yu=(()=>{class e{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new We(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new We(a=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{mn.assertNotInAngularZone(),Ev(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const u=this._zone.onUnstable.subscribe(()=>{mn.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),u.unsubscribe()}});this.isStable=nu(s,o.pipe(function ru(e={}){const{connector:n=(()=>new kt),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return s=>{let o,a,l,u=0,c=!1,d=!1;const f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),o=l=void 0,c=d=!1},p=()=>{const g=o;h(),g?.unsubscribe()};return ft((g,M)=>{u++,!d&&!c&&f();const O=l=l??n();M.add(()=>{u--,0===u&&!d&&!c&&(a=p_(p,i))}),O.subscribe(M),!o&&u>0&&(o=new Q({next:Y=>O.next(Y),error:Y=>{d=!0,f(),a=p_(h,t,Y),O.error(Y)},complete:()=>{c=!0,f(),a=p_(h,r),O.complete()}}),L(g).subscribe(o))})(s)}}()))}bootstrap(t,r){const i=t instanceof aM;if(!this._injector.get(_p).done){!i&&function su(e){const n=Xt(e)||qr(e)||Ci(e);return null!==n&&n.standalone}(t);throw new z(405,Yo)}let o;o=i?t:this._injector.get(Cu).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function Fj(e){return e.isBoundToModule}(o)?void 0:this._injector.get($u),u=o.create(ki.NULL,[],r||o.selector,a),c=u.location.nativeElement,d=u.injector.get(v1,null);return d?.registerApplication(c),u.onDestroy(()=>{this.detachView(u.hostView),bp(this.components,u),d?.unregisterApplication(c)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new z(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;bp(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(w1,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>bp(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new z(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(t){return new(t||e)(J(mn),J(Si),J(cl))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function bp(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}let zo=(()=>{class e{}return e.__NG_ELEMENT_ID__=jj,e})();function jj(e){return function Uj(e,n,t){if(Xc(e)&&!t){const r=Vi(e.index,n);return new _d(r,r)}return 47&e.type?new _d(n[Zr],n):null}(Nr(),ee(),16==(16&e))}class P1{constructor(){}supports(n){return rp(n)}create(n){return new Zj(n)}}const Gj=(e,n)=>n;class Zj{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||Gj}forEachItem(n){let t;for(t=this._itHead;null!==t;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<F1(r,i,s)?t:r,a=F1(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const u=a-i,c=l-i;if(u!=c){for(let f=0;f<u;f++){const h=f<s.length?s[f]:s[f]=0,p=h+f;c<=p&&p<u&&(s[f]=h+1)}s[o.previousIndex]=c-u}}a!==l&&n(o,a,l)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)n(t)}diff(n){if(null==n&&(n=[]),!rp(n))throw new z(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)s=n[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function EH(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{const t=e[Symbol.iterator]();let r;for(;!(r=t.next()).done;)n(r.value)}}(n,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,r,i){let s;return null===n?s=this._itTail:(s=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,s,i)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,s,i)):n=this._addAfter(new Qj(t,r),s,i),n}_verifyReinsertion(n,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?n=this._reinsertAfter(s,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;null!==n;){const t=n._next;this._addToRemovals(this._unlink(n)),n=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const i=n._prevRemoved,s=n._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(n,t,r),this._addToMoves(n,r),n}_moveAfter(n,t,r){return this._unlink(n),this._insertAfter(n,t,r),this._addToMoves(n,r),n}_addAfter(n,t,r){return this._insertAfter(n,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,t,r){const i=null===t?this._itHead:t._next;return n._next=i,n._prev=t,null===i?this._itTail=n:i._prev=n,null===t?this._itHead=n:t._next=n,null===this._linkedRecords&&(this._linkedRecords=new N1),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const t=n._prev,r=n._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new N1),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class Qj{constructor(n,t){this.item=n,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Kj{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){const t=n._prevDup,r=n._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class N1{constructor(){this.map=new Map}put(n){const t=n.trackById;let r=this.map.get(t);r||(r=new Kj,this.map.set(t,r)),r.add(n)}get(n,t){const i=this.map.get(n);return i?i.get(n,t):null}remove(n){const t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function F1(e,n,t){const r=e.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+n+i}class V1{constructor(){}supports(n){return n instanceof Map||Qy(n)}create(){return new Jj}}class Jj{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let t;for(t=this._mapHead;null!==t;t=t._next)n(t)}forEachPreviousItem(n){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)n(t)}forEachChangedItem(n){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}diff(n){if(n){if(!(n instanceof Map||Qy(n)))throw new z(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(n,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,t){if(n){const r=n._prev;return t._next=n,t._prev=r,n._prev=t,r&&(r._next=t),n===this._mapHead&&(this._mapHead=t),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(n,t){if(this._records.has(n)){const i=this._records.get(n);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new Xj(n);return this._records.set(n,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,t){Object.is(t,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=t,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,t){n instanceof Map?n.forEach(t):Object.keys(n).forEach(r=>t(n[r],r))}}class Xj{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function B1(){return new Cp([new P1])}let Cp=(()=>{class e{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||B1()),deps:[[e,new ad,new od]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new z(901,!1)}}return e.\u0275prov=q({token:e,providedIn:"root",factory:B1}),e})();function H1(){return new Rd([new V1])}let Rd=(()=>{class e{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||H1()),deps:[[e,new ad,new od]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new z(901,!1)}}return e.\u0275prov=q({token:e,providedIn:"root",factory:H1}),e})();const nU=T1(null,"core",[]);let rU=(()=>{class e{constructor(t){}}return e.\u0275fac=function(t){return new(t||e)(J(Yu))},e.\u0275mod=Sr({type:e}),e.\u0275inj=pr({}),e})();function zu(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function Wu(e,n){const t=Xt(e),r=n.elementInjector||Zh();return new yd(t).create(r,n.projectableNodes,n.hostElement,n.environmentInjector)}let Hv=null;function Wo(){return Hv}class oU{}const Jn=new Le("DocumentToken");let $v=(()=>{class e{historyGo(t){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=q({token:e,factory:function(){return function aU(){return J($1)}()},providedIn:"platform"}),e})();const lU=new Le("Location Initialized");let $1=(()=>{class e extends $v{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Wo().getBaseHref(this._doc)}onPopState(t){const r=Wo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Wo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){j1()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){j1()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)(J(Jn))},e.\u0275prov=q({token:e,factory:function(){return function uU(){return new $1(J(Jn))}()},providedIn:"platform"}),e})();function j1(){return!!window.history.pushState}function jv(e,n){if(0==e.length)return n;if(0==n.length)return e;let t=0;return e.endsWith("/")&&t++,n.startsWith("/")&&t++,2==t?e+n.substring(1):1==t?e+n:e+"/"+n}function U1(e){const n=e.match(/#|\?|$/),t=n&&n.index||e.length;return e.slice(0,t-("/"===e[t-1]?1:0))+e.slice(t)}function qo(e){return e&&"?"!==e[0]?"?"+e:e}let ml=(()=>{class e{historyGo(t){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=q({token:e,factory:function(){return vt(z1)},providedIn:"root"}),e})();const Y1=new Le("appBaseHref");let z1=(()=>{class e extends ml{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??vt(Jn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return jv(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+qo(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+qo(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+qo(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return e.\u0275fac=function(t){return new(t||e)(J($v),J(Y1,8))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),cU=(()=>{class e extends ml{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=jv(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+qo(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+qo(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return e.\u0275fac=function(t){return new(t||e)(J($v),J(Y1,8))},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})(),Uv=(()=>{class e{constructor(t){this._subject=new Me,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function hU(e){if(new RegExp("^(https?:)?//").test(e)){const[,t]=e.split(/\/\/[^\/]+/);return t}return e}(U1(W1(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+qo(r))}normalize(t){return e.stripTrailingSlash(function fU(e,n){if(!e||!n.startsWith(e))return n;const t=n.substring(e.length);return""===t||["/",";","?","#"].includes(t[0])?t:n}(this._basePath,W1(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+qo(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+qo(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return e.normalizeQueryParams=qo,e.joinWithSlash=jv,e.stripTrailingSlash=U1,e.\u0275fac=function(t){return new(t||e)(J(ml))},e.\u0275prov=q({token:e,factory:function(){return function dU(){return new Uv(J(ml))}()},providedIn:"root"}),e})();function W1(e){return e.replace(/\/index.html$/,"")}const Xv=/\s+/,tE=[];let Rp=(()=>{class e{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=tE,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(Xv):tE}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(Xv):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,Boolean(t[r]));this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(Xv).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return e.\u0275fac=function(t){return new(t||e)(D(Cp),D(Rd),D(qt),D(En))},e.\u0275dir=Pe({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class JU{constructor(n,t,r,i){this.$implicit=n,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Br=(()=>{class e{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new JU(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),iE(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{iE(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return e.\u0275fac=function(t){return new(t||e)(D(Pn),D(Ps),D(Cp))},e.\u0275dir=Pe({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function iE(e,n){e.context.$implicit=n.item}let Zt=(()=>{class e{constructor(t,r){this._viewContainer=t,this._context=new eY,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){sE("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){sE("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return e.\u0275fac=function(t){return new(t||e)(D(Pn),D(Ps))},e.\u0275dir=Pe({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class eY{constructor(){this.$implicit=null,this.ngIf=null}}function sE(e,n){if(n&&!n.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${pn(n)}'.`)}class eb{constructor(n,t){this._viewContainerRef=n,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(n){n&&!this._created?this.create():!n&&this._created&&this.destroy()}}let Nd=(()=>{class e{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(const r of this._defaultViews)r.enforceState(t)}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=Pe({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),e})(),tb=(()=>{class e{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new eb(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return e.\u0275fac=function(t){return new(t||e)(D(Pn),D(Ps),D(Nd,9))},e.\u0275dir=Pe({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),e})();class nY{createSubscription(n,t){return n.subscribe({next:t,error:r=>{throw r}})}dispose(n){n.unsubscribe()}}class rY{createSubscription(n,t){return n.then(t,r=>{throw r})}dispose(n){}}const iY=new rY,sY=new nY;let nb=(()=>{class e{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(bd(t))return iY;if(iS(t))return sY;throw function Vs(e,n){return new z(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return e.\u0275fac=function(t){return new(t||e)(D(zo,16))},e.\u0275pipe=Di({name:"async",type:e,pure:!1,standalone:!0}),e})(),aE=(()=>{class e{constructor(t){this.differs=t,this.keyValues=[],this.compareFn=lE}transform(t,r=lE){if(!t||!(t instanceof Map)&&"object"!=typeof t)return null;this.differ||(this.differ=this.differs.find(t).create());const i=this.differ.diff(t),s=r!==this.compareFn;return i&&(this.keyValues=[],i.forEachItem(o=>{this.keyValues.push(function yY(e,n){return{key:e,value:n}}(o.key,o.currentValue))})),(i||s)&&(this.keyValues.sort(r),this.compareFn=r),this.keyValues}}return e.\u0275fac=function(t){return new(t||e)(D(Rd,16))},e.\u0275pipe=Di({name:"keyvalue",type:e,pure:!1,standalone:!0}),e})();function lE(e,n){const t=e.key,r=n.key;if(t===r)return 0;if(void 0===t)return 1;if(void 0===r)return-1;if(null===t)return 1;if(null===r)return-1;if("string"==typeof t&&"string"==typeof r)return t<r?-1:1;if("number"==typeof t&&"number"==typeof r)return t-r;if("boolean"==typeof t&&"boolean"==typeof r)return t<r?-1:1;const i=String(t),s=String(r);return i==s?0:i<s?-1:1}let qu=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Sr({type:e}),e.\u0275inj=pr({}),e})();const uE="browser";function cE(e){return e===uE}let MY=(()=>{class e{}return e.\u0275prov=q({token:e,providedIn:"root",factory:()=>new SY(J(Jn),window)}),e})();class SY{constructor(n,t){this.document=n,this.window=t,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const t=function kY(e,n){const t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(n)||s.querySelector(`[name="${n}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,n);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=n)}}scrollToElement(n){const t=n.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=dE(this.window.history)||dE(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function dE(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class t4 extends oU{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ab extends t4{static makeCurrent(){!function sU(e){Hv||(Hv=e)}(new ab)}onAndCancel(n,t,r){return n.addEventListener(t,r,!1),()=>{n.removeEventListener(t,r,!1)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,t){return(t=t||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return"window"===t?window:"document"===t?n:"body"===t?n.body:null}getBaseHref(n){const t=function n4(){return Vd=Vd||document.querySelector("base"),Vd?Vd.getAttribute("href"):null}();return null==t?null:function r4(e){Np=Np||document.createElement("a"),Np.setAttribute("href",e);const n=Np.pathname;return"/"===n.charAt(0)?n:`/${n}`}(t)}resetBaseElement(){Vd=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return function QU(e,n){n=encodeURIComponent(n);for(const t of e.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===n)return decodeURIComponent(s)}return null}(document.cookie,n)}}let Np,Vd=null;const gE=new Le("TRANSITION_ID"),s4=[{provide:gp,useFactory:function i4(e,n,t){return()=>{t.get(_p).donePromise.then(()=>{const r=Wo(),i=n.querySelectorAll(`style[ng-transition="${e}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[gE,Jn,ki],multi:!0}];let a4=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})();const Fp=new Le("EventManagerPlugins");let Vp=(()=>{class e{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return e.\u0275fac=function(t){return new(t||e)(J(Fp),J(mn))},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})();class _E{constructor(n){this._doc=n}addGlobalEventListener(n,t,r){const i=Wo().getGlobalEventTarget(this._doc,n);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let yE=(()=>{class e{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const i=this.usageCount;let s=i.get(t)??0;return s+=r,s>0?i.set(t,s):i.delete(t),s}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})(),Bd=(()=>{class e extends yE{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(s=>s.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const s=this.styleRef.get(r);s?s.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return e.\u0275fac=function(t){return new(t||e)(J(Jn))},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})();const lb={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ub=/%COMP%/g,wE=new Le("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function DE(e,n){return n.flat(100).map(t=>t.replace(ub,e))}function CE(e){return n=>{if("__ngUnwrap__"===n)return e;!1===e(n)&&(n.preventDefault(),n.returnValue=!1)}}let Bp=(()=>{class e{constructor(t,r,i,s){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new cb(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof SE?i.applyToHost(t):i instanceof db&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.eventManager,a=this.sharedStylesHost,l=this.removeStylesOnCompDestory;switch(r.encapsulation){case Es.Emulated:s=new SE(o,a,r,this.appId,l);break;case Es.ShadowDom:return new p4(o,a,t,r);default:s=new db(o,a,r,l)}s.onDestroy=()=>i.delete(r.id),i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return e.\u0275fac=function(t){return new(t||e)(J(Vp),J(Bd),J(Od),J(wE))},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})();class cb{constructor(n){this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,t){return t?document.createElementNS(lb[t]||t,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,t){(ME(n)?n.content:n).appendChild(t)}insertBefore(n,t,r){n&&(ME(n)?n.content:n).insertBefore(t,r)}removeChild(n,t){n&&n.removeChild(t)}selectRootElement(n,t){let r="string"==typeof n?document.querySelector(n):n;if(!r)throw new Error(`The selector "${n}" did not match any elements`);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,i){if(i){t=i+":"+t;const s=lb[i];s?n.setAttributeNS(s,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){const i=lb[r];i?n.removeAttributeNS(i,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,i){i&(Ti.DashCase|Ti.Important)?n.style.setProperty(t,r,i&Ti.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&Ti.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){n[t]=r}setValue(n,t){n.nodeValue=t}listen(n,t,r){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,t,CE(r)):this.eventManager.addEventListener(n,t,CE(r))}}function ME(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class p4 extends cb{constructor(n,t,r,i){super(n),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=DE(i.id,i.styles);for(const o of s){const a=document.createElement("style");a.textContent=o,this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(this.nodeOrShadowRoot(n),t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class db extends cb{constructor(n,t,r,i,s=r.id){super(n),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=DE(s,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class SE extends db{constructor(n,t,r,i,s){const o=i+"-"+r.id;super(n,t,r,s,o),this.contentAttr=function d4(e){return"_ngcontent-%COMP%".replace(ub,e)}(o),this.hostAttr=function f4(e){return"_nghost-%COMP%".replace(ub,e)}(o)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){const r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}}let m4=(()=>{class e extends _E{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return e.\u0275fac=function(t){return new(t||e)(J(Jn))},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})();const kE=["alt","control","meta","shift"],g4={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_4={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let y4=(()=>{class e extends _E{constructor(t){super(t)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,r,i){const s=e.parseEventName(r),o=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Wo().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=e._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),kE.forEach(u=>{const c=r.indexOf(u);c>-1&&(r.splice(c,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(t,r){let i=g4[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),kE.forEach(o=>{o!==i&&(0,_4[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{e.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return e.\u0275fac=function(t){return new(t||e)(J(Jn))},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})();const AE=[{provide:yp,useValue:uE},{provide:f1,useValue:function v4(){ab.makeCurrent()},multi:!0},{provide:Jn,useFactory:function w4(){return function aV(e){my=e}(document),document},deps:[]}],D4=T1(nU,"browser",AE),IE=new Le(""),OE=[{provide:vp,useClass:class o4{addToWindow(n){bn.getAngularTestability=(r,i=!0)=>{const s=n.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},bn.getAllAngularTestabilities=()=>n.getAllTestabilities(),bn.getAllAngularRootElements=()=>n.getAllRootElements(),bn.frameworkStabilizers||(bn.frameworkStabilizers=[]),bn.frameworkStabilizers.push(r=>{const i=bn.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(n,t,r){return null==t?null:n.getTestability(t)??(r?Wo().isShadowRoot(t)?this.findTestabilityInTree(n,t.host,!0):this.findTestabilityInTree(n,t.parentElement,!0):null)}},deps:[]},{provide:v1,useClass:Ov,deps:[mn,xv,vp]},{provide:Ov,useClass:Ov,deps:[mn,xv,vp]}],xE=[{provide:Ty,useValue:"root"},{provide:cl,useFactory:function b4(){return new cl},deps:[]},{provide:Fp,useClass:m4,multi:!0,deps:[Jn,mn,yp]},{provide:Fp,useClass:y4,multi:!0,deps:[Jn]},{provide:Bp,useClass:Bp,deps:[Vp,Bd,Od,wE]},{provide:ul,useExisting:Bp},{provide:yE,useExisting:Bd},{provide:Bd,useClass:Bd,deps:[Jn]},{provide:Vp,useClass:Vp,deps:[Fp,mn]},{provide:class EY{},useClass:a4,deps:[]},[]];let RE=(()=>{class e{constructor(t){}static withServerTransition(t){return{ngModule:e,providers:[{provide:Od,useValue:t.appId},{provide:gE,useExisting:Od},s4]}}}return e.\u0275fac=function(t){return new(t||e)(J(IE,12))},e.\u0275mod=Sr({type:e}),e.\u0275inj=pr({providers:[...xE,...OE],imports:[qu,rU]}),e})(),LE=(()=>{class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return e.\u0275fac=function(t){return new(t||e)(J(Jn))},e.\u0275prov=q({token:e,factory:function(t){let r=null;return r=t?new t:function T4(){return new LE(J(Jn))}(),r},providedIn:"root"}),e})();typeof window<"u"&&window;let FE=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=q({token:e,factory:function(t){let r=null;return r=t?new(t||e):J(VE),r},providedIn:"root"}),e})(),VE=(()=>{class e extends FE{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case dn.NONE:return r;case dn.HTML:return Gs(r,"HTML")?Hi(r):ZT(this._doc,String(r)).toString();case dn.STYLE:return Gs(r,"Style")?Hi(r):r;case dn.SCRIPT:if(Gs(r,"Script"))return Hi(r);throw new Error("unsafe value used in a script context");case dn.URL:return Gs(r,"URL")?Hi(r):zh(String(r));case dn.RESOURCE_URL:if(Gs(r,"ResourceURL"))return Hi(r);throw new Error(`unsafe value used in a resource URL context (see ${dh})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${dh})`)}}bypassSecurityTrustHtml(t){return function pV(e){return new lV(e)}(t)}bypassSecurityTrustStyle(t){return function mV(e){return new uV(e)}(t)}bypassSecurityTrustScript(t){return function gV(e){return new cV(e)}(t)}bypassSecurityTrustUrl(t){return function _V(e){return new dV(e)}(t)}bypassSecurityTrustResourceUrl(t){return function yV(e){return new fV(e)}(t)}}return e.\u0275fac=function(t){return new(t||e)(J(Jn))},e.\u0275prov=q({token:e,factory:function(t){let r=null;return r=t?new t:function A4(e){return new VE(e.get(Jn))}(J(ki)),r},providedIn:"root"}),e})();const{isArray:I4}=Array,{getPrototypeOf:O4,prototype:x4,keys:R4}=Object;function BE(e){if(1===e.length){const n=e[0];if(I4(n))return{args:n,keys:null};if(function L4(e){return e&&"object"==typeof e&&O4(e)===x4}(n)){const t=R4(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}const{isArray:P4}=Array;function pb(e){return Ae(n=>function N4(e,n){return P4(n)?e(...n):e(n)}(e,n))}function HE(e,n){return e.reduce((t,r,i)=>(t[r]=n[i],t),{})}let $E=(()=>{class e{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return e.\u0275fac=function(t){return new(t||e)(D(En),D(qt))},e.\u0275dir=Pe({type:e}),e})(),gl=(()=>{class e extends $E{}return e.\u0275fac=function(){let n;return function(r){return(n||(n=gt(e)))(r||e)}}(),e.\u0275dir=Pe({type:e,features:[Et]}),e})();const ji=new Le("NgValueAccessor"),V4={provide:ji,useExisting:zt(()=>Hp),multi:!0};let Hp=(()=>{class e extends gl{writeValue(t){this.setProperty("checked",t)}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=gt(e)))(r||e)}}(),e.\u0275dir=Pe({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,r){1&t&&P("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},features:[en([V4]),Et]}),e})();const B4={provide:ji,useExisting:zt(()=>eo),multi:!0},$4=new Le("CompositionEventMode");let eo=(()=>{class e extends $E{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function H4(){const e=Wo()?Wo().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return e.\u0275fac=function(t){return new(t||e)(D(En),D(qt),D($4,8))},e.\u0275dir=Pe({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&P("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[en([B4]),Et]}),e})();const j4=!1,kr=new Le("NgValidators"),Ea=new Le("NgAsyncValidators");function KE(e){return null!=e}function JE(e){const n=bd(e)?jn(e):e;if(j4&&!Jy(n)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof e&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new z(-1101,t)}return n}function XE(e){let n={};return e.forEach(t=>{n=null!=t?{...n,...t}:n}),0===Object.keys(n).length?null:n}function eA(e,n){return n.map(t=>t(e))}function tA(e){return e.map(n=>function Y4(e){return!e.validate}(n)?n:t=>n.validate(t))}function mb(e){return null!=e?function nA(e){if(!e)return null;const n=e.filter(KE);return 0==n.length?null:function(t){return XE(eA(t,n))}}(tA(e)):null}function gb(e){return null!=e?function rA(e){if(!e)return null;const n=e.filter(KE);return 0==n.length?null:function(t){return function F4(...e){const n=Zn(e),{args:t,keys:r}=BE(e),i=new We(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let l=o,u=o;for(let c=0;c<o;c++){let d=!1;L(t[c]).subscribe(Xe(s,f=>{d||(d=!0,u--),a[c]=f},()=>l--,void 0,()=>{(!l||!d)&&(u||s.next(r?HE(r,a):a),s.complete())}))}});return n?i.pipe(pb(n)):i}(eA(t,n).map(JE)).pipe(Ae(XE))}}(tA(e)):null}function iA(e,n){return null===e?[n]:Array.isArray(e)?[...e,n]:[e,n]}function _b(e){return e?Array.isArray(e)?e:[e]:[]}function jp(e,n){return Array.isArray(e)?e.includes(n):e===n}function aA(e,n){const t=_b(n);return _b(e).forEach(i=>{jp(t,i)||t.push(i)}),t}function lA(e,n){return _b(n).filter(t=>!jp(e,t))}class uA{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=mb(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=gb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,t){return!!this.control&&this.control.hasError(n,t)}getError(n,t){return this.control?this.control.getError(n,t):null}}class gi extends uA{get formDirective(){return null}get path(){return null}}class Aa extends uA{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class cA{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Oi=(()=>{class e extends cA{constructor(t){super(t)}}return e.\u0275fac=function(t){return new(t||e)(D(Aa,2))},e.\u0275dir=Pe({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&st("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Et]}),e})(),dA=(()=>{class e extends cA{constructor(t){super(t)}}return e.\u0275fac=function(t){return new(t||e)(D(gi,10))},e.\u0275dir=Pe({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&st("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Et]}),e})();function fA(e,n){return e?`with name: '${n}'`:`at index: ${n}`}const bb=!1,Hd="VALID",Yp="INVALID",Gu="PENDING",$d="DISABLED";function wb(e){return(zp(e)?e.validators:e)||null}function Db(e,n){return(zp(n)?n.asyncValidators:e)||null}function zp(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class mA{constructor(n,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===Hd}get invalid(){return this.status===Yp}get pending(){return this.status==Gu}get disabled(){return this.status===$d}get enabled(){return this.status!==$d}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(aA(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(aA(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(lA(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(lA(n,this._rawAsyncValidators))}hasValidator(n){return jp(this._rawValidators,n)}hasAsyncValidator(n){return jp(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=Gu,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=$d,this.errors=null,this._forEachChild(r=>{r.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=Hd,this._forEachChild(r=>{r.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Hd||this.status===Gu)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?$d:Hd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=Gu,this._hasOwnPendingAsyncValidator=!0;const t=JE(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(!1!==t.emitEvent)}get(n){let t=n;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(n,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new Me,this.statusChanges=new Me}_calculateStatus(){return this._allControlsDisabled()?$d:this.errors?Yp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Gu)?Gu:this._anyControlsHaveStatus(Yp)?Yp:Hd}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){zp(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function K4(e){return Array.isArray(e)?mb(e):e||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function J4(e){return Array.isArray(e)?gb(e):e||null}(this._rawAsyncValidators)}}class Cb extends mA{constructor(n,t,r){super(wb(t),Db(r,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,t){return this.controls[n]?this.controls[n]:(this.controls[n]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(n,t,r={}){this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(n,t,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],t&&this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,t={}){(function pA(e,n,t){e._forEachChild((r,i)=>{if(void 0===t[i])throw new z(1002,bb?function Q4(e,n){return`Must supply a value for form control ${fA(e,n)}`}(n,i):"")})})(this,!0,n),Object.keys(n).forEach(r=>{(function hA(e,n,t){const r=e.controls;if(!(n?Object.keys(r):r).length)throw new z(1e3,bb?function G4(e){return`\n    There are no form controls registered with this ${e?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(n):"");if(!r[t])throw new z(1001,bb?function Z4(e,n){return`Cannot find form control ${fA(e,n)}`}(n,t):"")})(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){null!=n&&(Object.keys(n).forEach(r=>{const i=this.controls[r];i&&i.patchValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n={},t={}){this._forEachChild((r,i)=>{r.reset(n[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(n,t,r)=>(n[r]=t.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&n(r,t)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&n(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(n,t){let r=n;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}const Zu=new Le("CallSetDisabledState",{providedIn:"root",factory:()=>Wp}),Wp="always";function jd(e,n,t=Wp){Tb(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||"always"===t)&&n.valueAccessor.setDisabledState?.(e.disabled),function tz(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&gA(e,n)})}(e,n),function rz(e,n){const t=(r,i)=>{n.valueAccessor.writeValue(r),i&&n.viewToModelUpdate(r)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}(e,n),function nz(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&gA(e,n),"submit"!==e.updateOn&&e.markAsTouched()})}(e,n),function ez(e,n){if(n.valueAccessor.setDisabledState){const t=r=>{n.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}(e,n)}function Zp(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function Tb(e,n){const t=function sA(e){return e._rawValidators}(e);null!==n.validator?e.setValidators(iA(t,n.validator)):"function"==typeof t&&e.setValidators([t]);const r=function oA(e){return e._rawAsyncValidators}(e);null!==n.asyncValidator?e.setAsyncValidators(iA(r,n.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();Zp(n._rawValidators,i),Zp(n._rawAsyncValidators,i)}function gA(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}const lz={provide:gi,useExisting:zt(()=>Kp)},Ud=(()=>Promise.resolve())();let Kp=(()=>{class e extends gi{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Me,this.form=new Cb({},mb(t),gb(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Ud.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),jd(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Ud.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Ud.then(()=>{const r=this._findContainer(t.path),i=new Cb({});(function _A(e,n){Tb(e,n)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Ud.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Ud.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function yA(e,n){e._syncPendingControls(),n.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return e.\u0275fac=function(t){return new(t||e)(D(kr,10),D(Ea,10),D(Zu,8))},e.\u0275dir=Pe({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&P("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[en([lz]),Et]}),e})();function vA(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}function bA(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const wA=class extends mA{constructor(n=null,t,r){super(wb(t),Db(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),zp(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=bA(n)?n.value:n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){vA(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){vA(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){bA(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},dz={provide:Aa,useExisting:zt(()=>_i)},TA=(()=>Promise.resolve())();let _i=(()=>{class e extends Aa{constructor(t,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new wA,this._registered=!1,this.update=new Me,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function kb(e,n){if(!n)return null;let t,r,i;return Array.isArray(n),n.forEach(s=>{s.constructor===eo?t=s:function oz(e){return Object.getPrototypeOf(e.constructor)===gl}(s)?r=s:i=s}),i||r||t||null}(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function Sb(e,n){if(!e.hasOwnProperty("model"))return!1;const t=e.model;return!!t.isFirstChange()||!Object.is(n,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){jd(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){TA.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&zu(r);TA.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function qp(e,n){return[...n.path,e]}(t,this._parent):[t]}}return e.\u0275fac=function(t){return new(t||e)(D(gi,9),D(kr,10),D(Ea,10),D(ji,10),D(zo,8),D(Zu,8))},e.\u0275dir=Pe({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[en([dz]),Et,Qr]}),e})(),MA=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=Pe({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})();const fz={provide:ji,useExisting:zt(()=>Jp),multi:!0};let Jp=(()=>{class e extends gl{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=gt(e)))(r||e)}}(),e.\u0275dir=Pe({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&P("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[en([fz]),Et]}),e})(),SA=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Sr({type:e}),e.\u0275inj=pr({}),e})();const wz={provide:ji,useExisting:zt(()=>_l),multi:!0};function RA(e,n){return null==e?`${n}`:(n&&"object"==typeof n&&(n="Object"),`${e}: ${n}`.slice(0,50))}let _l=(()=>{class e extends gl{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=RA(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function Dz(e){return e.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=gt(e)))(r||e)}}(),e.\u0275dir=Pe({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&P("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[en([wz]),Et]}),e})(),Yd=(()=>{class e{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(RA(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(t){return new(t||e)(D(qt),D(En),D(_l,9))},e.\u0275dir=Pe({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();const Cz={provide:ji,useExisting:zt(()=>Ob),multi:!0};function LA(e,n){return null==e?`${n}`:("string"==typeof n&&(n=`'${n}'`),n&&"object"==typeof n&&(n="Object"),`${e}: ${n}`.slice(0,50))}let Ob=(()=>{class e extends gl{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const u=this._getOptionValue(o[a].value);i.push(u)}}else{const o=r.options;for(let a=0;a<o.length;a++){const l=o[a];if(l.selected){const u=this._getOptionValue(l.value);i.push(u)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function Tz(e){return e.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=gt(e)))(r||e)}}(),e.\u0275dir=Pe({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&P("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[en([Cz]),Et]}),e})(),zd=(()=>{class e{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(LA(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(LA(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(t){return new(t||e)(D(qt),D(En),D(Ob,9))},e.\u0275dir=Pe({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})(),Rz=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Sr({type:e}),e.\u0275inj=pr({imports:[SA]}),e})(),Pz=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:Zu,useValue:t.callSetDisabledState??Wp}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Sr({type:e}),e.\u0275inj=pr({imports:[Rz]}),e})();function Ye(...e){return jn(e,hr(e))}class Er extends kt{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){const{hasError:n,thrownError:t,_value:r}=this;if(n)throw t;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}}const Wd=ge(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Rb(...e){const n=hr(e),t=Zn(e),{args:r,keys:i}=BE(e);if(0===r.length)return jn([],n);const s=new We(function Nz(e,n,t=ke){return r=>{YA(n,()=>{const{length:i}=e,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)YA(n,()=>{const u=jn(e[l],n);let c=!1;u.subscribe(Xe(r,d=>{s[l]=d,c||(c=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,n,i?o=>HE(i,o):ke));return t?s.pipe(pb(t)):s}function YA(e,n,t){e?wt(t,e,n):n()}function Lb(...e){return function Fz(){return je(1)}()(jn(e,hr(e)))}function zA(e){return new We(n=>{L(e()).subscribe(n)})}function qd(e,n){const t=Z(e)?e:()=>e,r=i=>i.error(t());return new We(n?i=>n.schedule(r,0,i):r)}function Pb(){return ft((e,n)=>{let t=null;e._refCount++;const r=Xe(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(t=null);const i=e._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),n.unsubscribe()});e.subscribe(r),r.closed||(t=e.connect())})}class WA extends We{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Ut(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new de;const t=this.getSubject();n.add(this.source.subscribe(Xe(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=de.EMPTY)}return n}refCount(){return Pb()(this)}}function to(e,n){return ft((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(Xe(r,l=>{i?.unsubscribe();let u=0;const c=s++;L(e(l,c)).subscribe(i=Xe(r,d=>r.next(n?n(l,d,c,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Zo(e){return e<=0?()=>$n:ft((n,t)=>{let r=0;n.subscribe(Xe(t,i=>{++r<=e&&(t.next(i),e<=r&&t.complete())}))})}function An(e,n){return ft((t,r)=>{let i=0;t.subscribe(Xe(r,s=>e.call(n,s,i++)&&r.next(s)))})}function Xp(e){return ft((n,t)=>{let r=!1;n.subscribe(Xe(t,i=>{r=!0,t.next(i)},()=>{r||t.next(e),t.complete()}))})}function qA(e=Bz){return ft((n,t)=>{let r=!1;n.subscribe(Xe(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(e())))})}function Bz(){return new Wd}function Ia(e,n){const t=arguments.length>=2;return r=>r.pipe(e?An((i,s)=>e(i,s,r)):ke,Zo(1),t?Xp(n):qA(()=>new Wd))}function vl(e,n){return Z(n)?It(e,n,1):It(e,1)}function ei(e,n,t){const r=Z(e)||n||t?{next:e,error:n,complete:t}:e;return r?ft((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(Xe(s,l=>{var u;null===(u=r.next)||void 0===u||u.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,l),s.error(l)},()=>{var l,u;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):ke}function Oa(e){return ft((n,t)=>{let s,r=null,i=!1;r=n.subscribe(Xe(t,void 0,void 0,o=>{s=L(e(o,Oa(e)(n))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function Nb(e,n){return ft(function Hz(e,n,t,r,i){return(s,o)=>{let a=t,l=n,u=0;s.subscribe(Xe(o,c=>{const d=u++;l=a?e(l,c,d):(a=!0,c),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}(e,n,arguments.length>=2,!0))}function Fb(e){return e<=0?()=>$n:ft((n,t)=>{let r=[];n.subscribe(Xe(t,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function GA(e,n){const t=arguments.length>=2;return r=>r.pipe(e?An((i,s)=>e(i,s,r)):ke,Fb(1),t?Xp(n):qA(()=>new Wd))}function Vb(e){return ft((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}const dt="primary",Gd=Symbol("RouteTitle");class Uz{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Qu(e){return new Uz(e)}function Yz(e,n,t){const r=t.path.split("/");if(r.length>e.length||"full"===t.pathMatch&&(n.hasChildren()||r.length<e.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=e[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function no(e,n){const t=e?Object.keys(e):void 0,r=n?Object.keys(n):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!ZA(e[i],n[i]))return!1;return!0}function ZA(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;const t=[...e].sort(),r=[...n].sort();return t.every((i,s)=>r[s]===i)}return e===n}function QA(e){return Array.prototype.concat.apply([],e)}function KA(e){return e.length>0?e[e.length-1]:null}function Hr(e,n){for(const t in e)e.hasOwnProperty(t)&&n(e[t],t)}function xa(e){return Jy(e)?e:bd(e)?jn(Promise.resolve(e)):Ye(e)}const em=!1,Wz={exact:function eI(e,n,t){if(!bl(e.segments,n.segments)||!tm(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children)if(!e.children[r]||!eI(e.children[r],n.children[r],t))return!1;return!0},subset:tI},JA={exact:function qz(e,n){return no(e,n)},subset:function Gz(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>ZA(e[t],n[t]))},ignored:()=>!0};function XA(e,n,t){return Wz[t.paths](e.root,n.root,t.matrixParams)&&JA[t.queryParams](e.queryParams,n.queryParams)&&!("exact"===t.fragment&&e.fragment!==n.fragment)}function tI(e,n,t){return nI(e,n,n.segments,t)}function nI(e,n,t,r){if(e.segments.length>t.length){const i=e.segments.slice(0,t.length);return!(!bl(i,t)||n.hasChildren()||!tm(i,t,r))}if(e.segments.length===t.length){if(!bl(e.segments,t)||!tm(e.segments,t,r))return!1;for(const i in n.children)if(!e.children[i]||!tI(e.children[i],n.children[i],r))return!1;return!0}{const i=t.slice(0,e.segments.length),s=t.slice(e.segments.length);return!!(bl(e.segments,i)&&tm(e.segments,i,r)&&e.children[dt])&&nI(e.children[dt],n,s,r)}}function tm(e,n,t){return n.every((r,i)=>JA[t](e[i].parameters,r.parameters))}class Ra{constructor(n=new _t([],{}),t={},r=null){this.root=n,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qu(this.queryParams)),this._queryParamMap}toString(){return Kz.serialize(this)}}class _t{constructor(n,t){this.segments=n,this.children=t,this.parent=null,Hr(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return nm(this)}}class Zd{constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Qu(this.parameters)),this._parameterMap}toString(){return sI(this)}}function bl(e,n){return e.length===n.length&&e.every((t,r)=>t.path===n[r].path)}let Qd=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=q({token:e,factory:function(){return new Bb},providedIn:"root"}),e})();class Bb{parse(n){const t=new oW(n);return new Ra(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){const t=`/${Kd(n.root,!0)}`,r=function eW(e){const n=Object.keys(e).map(t=>{const r=e[t];return Array.isArray(r)?r.map(i=>`${rm(t)}=${rm(i)}`).join("&"):`${rm(t)}=${rm(r)}`}).filter(t=>!!t);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${t}${r}${"string"==typeof n.fragment?`#${function Jz(e){return encodeURI(e)}(n.fragment)}`:""}`}}const Kz=new Bb;function nm(e){return e.segments.map(n=>sI(n)).join("/")}function Kd(e,n){if(!e.hasChildren())return nm(e);if(n){const t=e.children[dt]?Kd(e.children[dt],!1):"",r=[];return Hr(e.children,(i,s)=>{s!==dt&&r.push(`${s}:${Kd(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Qz(e,n){let t=[];return Hr(e.children,(r,i)=>{i===dt&&(t=t.concat(n(r,i)))}),Hr(e.children,(r,i)=>{i!==dt&&(t=t.concat(n(r,i)))}),t}(e,(r,i)=>i===dt?[Kd(e.children[dt],!1)]:[`${i}:${Kd(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[dt]?`${nm(e)}/${t[0]}`:`${nm(e)}/(${t.join("//")})`}}function rI(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function rm(e){return rI(e).replace(/%3B/gi,";")}function Hb(e){return rI(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function im(e){return decodeURIComponent(e)}function iI(e){return im(e.replace(/\+/g,"%20"))}function sI(e){return`${Hb(e.path)}${function Xz(e){return Object.keys(e).map(n=>`;${Hb(n)}=${Hb(e[n])}`).join("")}(e.parameters)}`}const tW=/^[^\/()?;=#]+/;function sm(e){const n=e.match(tW);return n?n[0]:""}const nW=/^[^=?&#]+/,iW=/^[^&#]+/;class oW{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new _t([],{}):new _t([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(r[dt]=new _t(n,t)),r}parseSegment(){const n=sm(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new z(4009,em);return this.capture(n),new Zd(im(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const t=sm(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=sm(this.remaining);i&&(r=i,this.capture(r))}n[im(t)]=im(r)}parseQueryParam(n){const t=function rW(e){const n=e.match(nW);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function sW(e){const n=e.match(iW);return n?n[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=iI(t),s=iI(r);if(n.hasOwnProperty(i)){let o=n[i];Array.isArray(o)||(o=[o],n[i]=o),o.push(s)}else n[i]=s}parseParens(n){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=sm(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new z(4010,em);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):n&&(s=dt);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[dt]:new _t([],o),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new z(4011,em)}}function $b(e){return e.segments.length>0?new _t([],{[dt]:e}):e}function om(e){const n={};for(const r of Object.keys(e.children)){const s=om(e.children[r]);(s.segments.length>0||s.hasChildren())&&(n[r]=s)}return function aW(e){if(1===e.numberOfChildren&&e.children[dt]){const n=e.children[dt];return new _t(e.segments.concat(n.segments),n.children)}return e}(new _t(e.segments,n))}function wl(e){return e instanceof Ra}const jb=!1;function Jd(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Xd(e){return"object"==typeof e&&null!=e&&e.outlets}function Ku(e,n,t,r,i){let o,s={};r&&Hr(r,(l,u)=>{s[u]=Array.isArray(l)?l.map(c=>`${c}`):`${l}`}),o=e===n?t:lI(e,n,t);const a=$b(om(o));return new Ra(a,s,i)}function lI(e,n,t){const r={};return Hr(e.children,(i,s)=>{r[s]=i===n?t:lI(i,n,t)}),new _t(e.segments,r)}class uI{constructor(n,t,r){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&Jd(r[0]))throw new z(4003,jb&&"Root segment cannot have matrix parameters");const i=r.find(Xd);if(i&&i!==KA(r))throw new z(4004,jb&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}function cI(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new uI(!0,0,e);let n=0,t=!1;const r=e.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Hr(s.outlets,(l,u)=>{a[u]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?n++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new uI(t,n,r)}class Ju{constructor(n,t,r){this.segmentGroup=n,this.processChildren=t,this.index=r}}function dI(e,n,t){let r=e,i=n,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new z(4005,jb&&"Invalid number of '../'");i=r.segments.length}return new Ju(r,!1,i-s)}function Ub(e,n,t){if(e||(e=new _t([],{})),0===e.segments.length&&e.hasChildren())return Xu(e,n,t);const r=function hW(e,n,t){let r=0,i=n;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=t.length)return s;const o=e.segments[i],a=t[r];if(Xd(a))break;const l=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!hI(l,u,o))return s;r+=2}else{if(!hI(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,n,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const s=new _t(e.segments.slice(0,r.pathIndex),{});return s.children[dt]=new _t(e.segments.slice(r.pathIndex),e.children),Xu(s,0,i)}return r.match&&0===i.length?new _t(e.segments,{}):r.match&&!e.hasChildren()?Yb(e,n,t):r.match?Xu(e,0,i):Yb(e,n,t)}function Xu(e,n,t){if(0===t.length)return new _t(e.segments,{});{const r=function fW(e){return Xd(e[0])?e[0].outlets:{[dt]:e}}(t),i={};if(!r[dt]&&e.children[dt]&&1===e.numberOfChildren&&0===e.children[dt].segments.length){const s=Xu(e.children[dt],n,t);return new _t(e.segments,s.children)}return Hr(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=Ub(e.children[o],n,s))}),Hr(e.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new _t(e.segments,i)}}function Yb(e,n,t){const r=e.segments.slice(0,n);let i=0;for(;i<t.length;){const s=t[i];if(Xd(s)){const l=pW(s.outlets);return new _t(r,l)}if(0===i&&Jd(t[0])){r.push(new Zd(e.segments[n].path,fI(t[0]))),i++;continue}const o=Xd(s)?s.outlets[dt]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&Jd(a)?(r.push(new Zd(o,fI(a))),i+=2):(r.push(new Zd(o,{})),i++)}return new _t(r,{})}function pW(e){const n={};return Hr(e,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(n[r]=Yb(new _t([],{}),0,t))}),n}function fI(e){const n={};return Hr(e,(t,r)=>n[r]=`${t}`),n}function hI(e,n,t){return e==t.path&&no(n,t.parameters)}const ef="imperative";class ro{constructor(n,t){this.id=n,this.url=t}}class zb extends ro{constructor(n,t,r="imperative",i=null){super(n,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class La extends ro{constructor(n,t,r){super(n,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class am extends ro{constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class lm extends ro{constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i,this.type=16}}class Wb extends ro{constructor(n,t,r,i){super(n,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class mW extends ro{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gW extends ro{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _W extends ro{constructor(n,t,r,i,s){super(n,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class yW extends ro{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vW extends ro{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bW{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class wW{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class DW{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class CW{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class TW{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class MW{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pI{constructor(n,t,r){this.routerEvent=n,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let EW=(()=>{class e{createUrlTree(t,r,i,s,o,a){const u=function uW(e,n,t,r,i){if(0===t.length)return Ku(n.root,n.root,n.root,r,i);const s=cI(t);return s.toRoot()?Ku(n.root,n.root,new _t([],{}),r,i):function o(l){const u=function dW(e,n,t,r){return e.isAbsolute?new Ju(n.root,!0,0):-1===r?new Ju(t,t===n.root,0):dI(t,r+(Jd(e.commands[0])?0:1),e.numberOfDoubleDots)}(s,n,e.snapshot?._urlSegment,l),c=u.processChildren?Xu(u.segmentGroup,u.index,s.commands):Ub(u.segmentGroup,u.index,s.commands);return Ku(n.root,u.segmentGroup,c,r,i)}(e.snapshot?._lastPathIndex)}(t||r.root,i,s,o,a);return u}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})(),IW=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=q({token:e,factory:function(n){return EW.\u0275fac(n)},providedIn:"root"}),e})();class mI{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){const t=qb(n,this._root);return t?t.children.map(r=>r.value):[]}firstChild(n){const t=qb(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){const t=Gb(n,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return Gb(n,this._root).map(t=>t.value)}}function qb(e,n){if(e===n.value)return n;for(const t of n.children){const r=qb(e,t);if(r)return r}return null}function Gb(e,n){if(e===n.value)return[n];for(const t of n.children){const r=Gb(e,t);if(r.length)return r.unshift(n),r}return[]}class Qo{constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}}function ec(e){const n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}class gI extends mI{constructor(n,t){super(n),this.snapshot=t,Zb(this,n)}toString(){return this.snapshot.toString()}}function _I(e,n){const t=function OW(e,n){const o=new um([],{},{},"",{},dt,n,null,e.root,-1,{});return new vI("",new Qo(o,[]))}(e,n),r=new Er([new Zd("",{})]),i=new Er({}),s=new Er({}),o=new Er({}),a=new Er(""),l=new tc(r,i,o,a,s,dt,n,t.root);return l.snapshot=t.root,new gI(new Qo(l,[]),t)}class tc{constructor(n,t,r,i,s,o,a,l){this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(Ae(u=>u[Gd]))??Ye(void 0),this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ae(n=>Qu(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ae(n=>Qu(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function yI(e,n="emptyOnly"){const t=e.pathFromRoot;let r=0;if("always"!==n)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function xW(e){return e.reduce((n,t)=>({params:{...n.params,...t.params},data:{...n.data,...t.data},resolve:{...t.data,...n.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class um{get title(){return this.data?.[Gd]}constructor(n,t,r,i,s,o,a,l,u,c,d){this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=u,this._lastPathIndex=c,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Qu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class vI extends mI{constructor(n,t){super(t),this.url=n,Zb(this,t)}toString(){return bI(this._root)}}function Zb(e,n){n.value._routerState=e,n.children.forEach(t=>Zb(e,t))}function bI(e){const n=e.children.length>0?` { ${e.children.map(bI).join(", ")} } `:"";return`${e.value}${n}`}function Qb(e){if(e.snapshot){const n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,no(n.queryParams,t.queryParams)||e.queryParams.next(t.queryParams),n.fragment!==t.fragment&&e.fragment.next(t.fragment),no(n.params,t.params)||e.params.next(t.params),function zz(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!no(e[t],n[t]))return!1;return!0}(n.url,t.url)||e.url.next(t.url),no(n.data,t.data)||e.data.next(t.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function Kb(e,n){const t=no(e.params,n.params)&&function Zz(e,n){return bl(e,n)&&e.every((t,r)=>no(t.parameters,n[r].parameters))}(e.url,n.url);return t&&!(!e.parent!=!n.parent)&&(!e.parent||Kb(e.parent,n.parent))}function tf(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=n.value;const i=function LW(e,n,t){return n.children.map(r=>{for(const i of t.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return tf(e,r,i);return tf(e,r)})}(e,n,t);return new Qo(r,i)}{if(e.shouldAttach(n.value)){const s=e.retrieve(n.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=n.value,o.children=n.children.map(a=>tf(e,a)),o}}const r=function PW(e){return new tc(new Er(e.url),new Er(e.params),new Er(e.queryParams),new Er(e.fragment),new Er(e.data),e.outlet,e.component,e)}(n.value),i=n.children.map(s=>tf(e,s));return new Qo(r,i)}}const Jb="ngNavigationCancelingError";function wI(e,n){const{redirectTo:t,navigationBehaviorOptions:r}=wl(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=DI(!1,0,n);return i.url=t,i.navigationBehaviorOptions=r,i}function DI(e,n,t){const r=new Error("NavigationCancelingError: "+(e||""));return r[Jb]=!0,r.cancellationCode=n,t&&(r.url=t),r}function CI(e){return TI(e)&&wl(e.url)}function TI(e){return e&&e[Jb]}class NW{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new nf,this.attachRef=null}}let nf=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new NW,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const cm=!1;let dm=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=dt,this.activateEvents=new Me,this.deactivateEvents=new Me,this.attachEvents=new Me,this.detachEvents=new Me,this.parentContexts=vt(nf),this.location=vt(Pn),this.changeDetector=vt(zo),this.environmentInjector=vt(Si)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new z(4012,cm);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new z(4012,cm);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new z(4012,cm);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new z(4013,cm);this._activatedRoute=t;const i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new FW(t,a,i.injector);if(r&&function VW(e){return!!e.resolveComponentFactory}(r)){const u=r.resolveComponentFactory(o);this.activated=i.createComponent(u,i.length,l)}else this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=Pe({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Qr]}),e})();class FW{constructor(n,t,r){this.route=n,this.childContexts=t,this.parent=r}get(n,t){return n===tc?this.route:n===nf?this.childContexts:this.parent.get(n,t)}}let Xb=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=qe({type:e,selectors:[["ng-component"]],standalone:!0,features:[Tk],decls:1,vars:0,template:function(t,r){1&t&&He(0,"router-outlet")},dependencies:[dm],encapsulation:2}),e})();function MI(e,n){return e.providers&&!e._injector&&(e._injector=fp(e.providers,n,`Route: ${e.path}`)),e._injector??n}function tw(e){const n=e.children&&e.children.map(tw),t=n?{...e,children:n}:{...e};return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==dt&&(t.component=Xb),t}function as(e){return e.outlet||dt}function SI(e,n){const t=e.filter(r=>as(r)===n);return t.push(...e.filter(r=>as(r)!==n)),t}function rf(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){const t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class UW{constructor(n,t,r,i){this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(n){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,n),Qb(this.futureState.root),this.activateChildRoutes(t,r,n)}deactivateChildRoutes(n,t,r){const i=ec(t);n.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Hr(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(n,t,r){const i=n.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(n,t,o.children)}else this.deactivateChildRoutes(n,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){const r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,s=ec(n);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:o,route:n,contexts:a})}}deactivateRouteAndOutlet(n,t){const r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,s=ec(n);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(n,t,r){const i=ec(t);n.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new MW(s.value.snapshot))}),n.children.length&&this.forwardEvent(new CW(n.value.snapshot))}activateRoutes(n,t,r){const i=n.value,s=t?t.value:null;if(Qb(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,t,o.children)}else this.activateChildRoutes(n,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Qb(a.route.value),this.activateChildRoutes(n,null,o.children)}else{const a=rf(i.snapshot),l=a?.get(Cu)??null;o.attachRef=null,o.route=i,o.resolver=l,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(n,null,o.children)}}else this.activateChildRoutes(n,null,r)}}class kI{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class fm{constructor(n,t){this.component=n,this.route=t}}function YW(e,n,t){const r=e._root;return sf(r,n?n._root:null,t,[r.value])}function nc(e,n){const t=Symbol(),r=n.get(e,t);return r===t?"function"!=typeof e||function XN(e){return null!==ph(e)}(e)?n.get(e):e:r}function sf(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=ec(n);return e.children.forEach(o=>{(function WW(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,o=n?n.value:null,a=t?t.getContext(e.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function qW(e,n,t){if("function"==typeof t)return t(e,n);switch(t){case"pathParamsChange":return!bl(e.url,n.url);case"pathParamsOrQueryParamsChange":return!bl(e.url,n.url)||!no(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Kb(e,n)||!no(e.queryParams,n.queryParams);default:return!Kb(e,n)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new kI(r)):(s.data=o.data,s._resolvedData=o._resolvedData),sf(e,n,s.component?a?a.children:null:t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new fm(a.outlet.component,o))}else o&&af(n,a,i),i.canActivateChecks.push(new kI(r)),sf(e,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Hr(s,(o,a)=>af(o,t.getContext(a),i)),i}function af(e,n,t){const r=ec(e),i=e.value;Hr(r,(s,o)=>{af(s,i.component?n?n.children.getContext(o):null:n,t)}),t.canDeactivateChecks.push(new fm(i.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,i))}function lf(e){return"function"==typeof e}function nw(e){return e instanceof Wd||"EmptyError"===e?.name}const hm=Symbol("INITIAL_VALUE");function rc(){return to(e=>Rb(e.map(n=>n.pipe(Zo(1),function Vz(...e){const n=hr(e);return ft((t,r)=>{(n?Lb(e,t,n):Lb(e,t)).subscribe(r)})}(hm)))).pipe(Ae(n=>{for(const t of n)if(!0!==t){if(t===hm)return hm;if(!1===t||t instanceof Ra)return t}return!0}),An(n=>n!==hm),Zo(1)))}function EI(e){return function Qe(...e){return an(e)}(ei(n=>{if(wl(n))throw wI(0,n)}),Ae(n=>!0===n))}const rw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function AI(e,n,t,r,i){const s=iw(e,n,t);return s.matched?function d5(e,n,t,r){const i=n.canMatch;return i&&0!==i.length?Ye(i.map(o=>{const a=nc(o,e);return xa(function XW(e){return e&&lf(e.canMatch)}(a)?a.canMatch(n,t):e.runInContext(()=>a(n,t)))})).pipe(rc(),EI()):Ye(!0)}(r=MI(n,r),n,t).pipe(Ae(o=>!0===o?s:{...rw})):Ye(s)}function iw(e,n,t){if(""===n.path)return"full"===n.pathMatch&&(e.hasChildren()||t.length>0)?{...rw}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(n.matcher||Yz)(t,e,n);if(!i)return{...rw};const s={};Hr(i.posParams,(a,l)=>{s[l]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function pm(e,n,t,r){if(t.length>0&&function p5(e,n,t){return t.some(r=>mm(e,n,r)&&as(r)!==dt)}(e,t,r)){const s=new _t(n,function h5(e,n,t,r){const i={};i[dt]=r,r._sourceSegment=e,r._segmentIndexShift=n.length;for(const s of t)if(""===s.path&&as(s)!==dt){const o=new _t([],{});o._sourceSegment=e,o._segmentIndexShift=n.length,i[as(s)]=o}return i}(e,n,r,new _t(t,e.children)));return s._sourceSegment=e,s._segmentIndexShift=n.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function m5(e,n,t){return t.some(r=>mm(e,n,r))}(e,t,r)){const s=new _t(e.segments,function f5(e,n,t,r,i){const s={};for(const o of r)if(mm(e,t,o)&&!i[as(o)]){const a=new _t([],{});a._sourceSegment=e,a._segmentIndexShift=n.length,s[as(o)]=a}return{...i,...s}}(e,n,t,r,e.children));return s._sourceSegment=e,s._segmentIndexShift=n.length,{segmentGroup:s,slicedSegments:t}}const i=new _t(e.segments,e.children);return i._sourceSegment=e,i._segmentIndexShift=n.length,{segmentGroup:i,slicedSegments:t}}function mm(e,n,t){return(!(e.hasChildren()||n.length>0)||"full"!==t.pathMatch)&&""===t.path}function II(e,n,t,r){return!!(as(e)===r||r!==dt&&mm(n,t,e))&&("**"===e.path||iw(n,e,t).matched)}function OI(e,n,t){return 0===n.length&&!e.children[t]}const gm=!1;class _m{constructor(n){this.segmentGroup=n||null}}class xI{constructor(n){this.urlTree=n}}function uf(e){return qd(new _m(e))}function RI(e){return qd(new xI(e))}class v5{constructor(n,t,r,i,s){this.injector=n,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const n=pm(this.urlTree.root,[],[],this.config).segmentGroup,t=new _t(n.segments,n.children);return this.expandSegmentGroup(this.injector,this.config,t,dt).pipe(Ae(s=>this.createUrlTree(om(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Oa(s=>{if(s instanceof xI)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof _m?this.noMatchError(s):s}))}match(n){return this.expandSegmentGroup(this.injector,this.config,n.root,dt).pipe(Ae(i=>this.createUrlTree(om(i),n.queryParams,n.fragment))).pipe(Oa(i=>{throw i instanceof _m?this.noMatchError(i):i}))}noMatchError(n){return new z(4002,gm)}createUrlTree(n,t,r){const i=$b(n);return new Ra(i,t,r)}expandSegmentGroup(n,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(n,t,r).pipe(Ae(s=>new _t([],s))):this.expandSegment(n,r,t,r.segments,i,!0)}expandChildren(n,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return jn(i).pipe(vl(s=>{const o=r.children[s],a=SI(t,s);return this.expandSegmentGroup(n,a,o,s).pipe(Ae(l=>({segment:l,outlet:s})))}),Nb((s,o)=>(s[o.outlet]=o.segment,s),{}),GA())}expandSegment(n,t,r,i,s,o){return jn(r).pipe(vl(a=>this.expandSegmentAgainstRoute(n,t,r,a,i,s,o).pipe(Oa(u=>{if(u instanceof _m)return Ye(null);throw u}))),Ia(a=>!!a),Oa((a,l)=>{if(nw(a))return OI(t,i,s)?Ye(new _t([],{})):uf(t);throw a}))}expandSegmentAgainstRoute(n,t,r,i,s,o,a){return II(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(n,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,t,r,i,s,o):uf(t):uf(t)}expandSegmentAgainstRouteUsingRedirect(n,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(n,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?RI(s):this.lineralizeSegments(r,s).pipe(It(o=>{const a=new _t(o,{});return this.expandSegment(n,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,t,r,i,s,o){const{matched:a,consumedSegments:l,remainingSegments:u,positionalParamSegments:c}=iw(t,i,s);if(!a)return uf(t);const d=this.applyRedirectCommands(l,i.redirectTo,c);return i.redirectTo.startsWith("/")?RI(d):this.lineralizeSegments(i,d).pipe(It(f=>this.expandSegment(n,t,r,f.concat(u),o,!1)))}matchSegmentAgainstRoute(n,t,r,i,s){return"**"===r.path?(n=MI(r,n),r.loadChildren?(r._loadedRoutes?Ye({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(n,r)).pipe(Ae(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new _t(i,{})))):Ye(new _t(i,{}))):AI(t,r,i,n).pipe(to(({matched:o,consumedSegments:a,remainingSegments:l})=>o?this.getChildConfig(n=r._injector??n,r,i).pipe(It(c=>{const d=c.injector??n,f=c.routes,{segmentGroup:h,slicedSegments:p}=pm(t,a,l,f),g=new _t(h.segments,h.children);if(0===p.length&&g.hasChildren())return this.expandChildren(d,f,g).pipe(Ae(B=>new _t(a,B)));if(0===f.length&&0===p.length)return Ye(new _t(a,{}));const M=as(r)===s;return this.expandSegment(d,g,f,p,M?dt:s,!0).pipe(Ae(Y=>new _t(a.concat(Y.segments),Y.children)))})):uf(t)))}getChildConfig(n,t,r){return t.children?Ye({routes:t.children,injector:n}):t.loadChildren?void 0!==t._loadedRoutes?Ye({routes:t._loadedRoutes,injector:t._loadedInjector}):function c5(e,n,t,r){const i=n.canLoad;return void 0===i||0===i.length?Ye(!0):Ye(i.map(o=>{const a=nc(o,e);return xa(function ZW(e){return e&&lf(e.canLoad)}(a)?a.canLoad(n,t):e.runInContext(()=>a(n,t)))})).pipe(rc(),EI())}(n,t,r).pipe(It(i=>i?this.configLoader.loadChildren(n,t).pipe(ei(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function _5(e){return qd(DI(gm,3))}())):Ye({routes:[],injector:n})}lineralizeSegments(n,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Ye(r);if(i.numberOfChildren>1||!i.children[dt])return n.redirectTo,qd(new z(4e3,gm));i=i.children[dt]}}applyRedirectCommands(n,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,r)}applyRedirectCreateUrlTree(n,t,r,i){const s=this.createSegmentGroup(n,t.root,r,i);return new Ra(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){const r={};return Hr(n,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=t[a]}else r[s]=i}),r}createSegmentGroup(n,t,r,i){const s=this.createSegments(n,t.segments,r,i);let o={};return Hr(t.children,(a,l)=>{o[l]=this.createSegmentGroup(n,a,r,i)}),new _t(s,o)}createSegments(n,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(n,s,i):this.findOrReturn(s,r))}findPosParam(n,t,r){const i=r[t.path.substring(1)];if(!i)throw new z(4001,gm);return i}findOrReturn(n,t){let r=0;for(const i of t){if(i.path===n.path)return t.splice(r),i;r++}return n}}class w5{}class T5{constructor(n,t,r,i,s,o,a){this.injector=n,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a}recognize(){const n=pm(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,dt).pipe(Ae(t=>{if(null===t)return null;const r=new um([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},dt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Qo(r,t),s=new vI(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(n){const t=n.value,r=yI(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),n.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(n,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(n,t,r):this.processSegment(n,t,r,r.segments,i)}processChildren(n,t,r){return jn(Object.keys(r.children)).pipe(vl(i=>{const s=r.children[i],o=SI(t,i);return this.processSegmentGroup(n,o,s,i)}),Nb((i,s)=>i&&s?(i.push(...s),i):null),function $z(e,n=!1){return ft((t,r)=>{let i=0;t.subscribe(Xe(r,s=>{const o=e(s,i++);(o||n)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),Xp(null),GA(),Ae(i=>{if(null===i)return null;const s=PI(i);return function M5(e){e.sort((n,t)=>n.value.outlet===dt?-1:t.value.outlet===dt?1:n.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(n,t,r,i,s){return jn(t).pipe(vl(o=>this.processSegmentAgainstRoute(o._injector??n,o,r,i,s)),Ia(o=>!!o),Oa(o=>{if(nw(o))return OI(r,i,s)?Ye([]):Ye(null);throw o}))}processSegmentAgainstRoute(n,t,r,i,s){if(t.redirectTo||!II(t,r,i,s))return Ye(null);let o;if("**"===t.path){const a=i.length>0?KA(i).parameters:{},l=FI(r)+i.length;o=Ye({snapshot:new um(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,VI(t),as(t),t.component??t._loadedComponent??null,t,NI(r),l,BI(t)),consumedSegments:[],remainingSegments:[]})}else o=AI(r,t,i,n).pipe(Ae(({matched:a,consumedSegments:l,remainingSegments:u,parameters:c})=>{if(!a)return null;const d=FI(r)+l.length;return{snapshot:new um(l,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,VI(t),as(t),t.component??t._loadedComponent??null,t,NI(r),d,BI(t)),consumedSegments:l,remainingSegments:u}}));return o.pipe(to(a=>{if(null===a)return Ye(null);const{snapshot:l,consumedSegments:u,remainingSegments:c}=a;n=t._injector??n;const d=t._loadedInjector??n,f=function S5(e){return e.children?e.children:e.loadChildren?e._loadedRoutes:[]}(t),{segmentGroup:h,slicedSegments:p}=pm(r,u,c,f.filter(M=>void 0===M.redirectTo));if(0===p.length&&h.hasChildren())return this.processChildren(d,f,h).pipe(Ae(M=>null===M?null:[new Qo(l,M)]));if(0===f.length&&0===p.length)return Ye([new Qo(l,[])]);const g=as(t)===s;return this.processSegment(d,f,h,p,g?dt:s).pipe(Ae(M=>null===M?null:[new Qo(l,M)]))}))}}function k5(e){const n=e.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function PI(e){const n=[],t=new Set;for(const r of e){if(!k5(r)){n.push(r);continue}const i=n.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):n.push(r)}for(const r of t){const i=PI(r.children);n.push(new Qo(r.value,i))}return n.filter(r=>!t.has(r))}function NI(e){let n=e;for(;n._sourceSegment;)n=n._sourceSegment;return n}function FI(e){let n=e,t=n._segmentIndexShift??0;for(;n._sourceSegment;)n=n._sourceSegment,t+=n._segmentIndexShift??0;return t-1}function VI(e){return e.data||{}}function BI(e){return e.resolve||{}}function HI(e){return"string"==typeof e.title||null===e.title}function sw(e){return to(n=>{const t=e(n);return t?jn(t).pipe(Ae(()=>n)):Ye(n)})}const ic=new Le("ROUTES");let ow=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=vt(p1)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Ye(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=xa(t.loadComponent()).pipe(Ae(jI),ei(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Vb(()=>{this.componentLoaders.delete(t)})),i=new WA(r,()=>new kt).pipe(Pb());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Ye({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(Ae(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let l,u,c=!1;Array.isArray(a)?u=a:(l=a.create(t).injector,u=QA(l.get(ic,[],Je.Self|Je.Optional)));return{routes:u.map(tw),injector:l}}),Vb(()=>{this.childrenLoaders.delete(r)})),o=new WA(s,()=>new kt).pipe(Pb());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(t){return xa(t()).pipe(Ae(jI),It(r=>r instanceof Dk||Array.isArray(r)?Ye(r):jn(this.compiler.compileModuleAsync(r))))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function jI(e){return function P5(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let vm=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new kt,this.configLoader=vt(ow),this.environmentInjector=vt(Si),this.urlSerializer=vt(Qd),this.rootContexts=vt(nf),this.navigationId=0,this.afterPreactivation=()=>Ye(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new wW(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new bW(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Er({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ef,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(An(r=>0!==r.id),Ae(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),to(r=>{let i=!1,s=!1;return Ye(r).pipe(ei(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),to(o=>{const a=t.browserUrlTree.toString(),l=!t.navigated||o.extractedUrl.toString()!==a||a!==t.currentUrlTree.toString();if(!l&&"reload"!==(o.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const c="";return this.events.next(new lm(o.id,t.serializeUrl(r.rawUrl),c,0)),t.rawUrlTree=o.rawUrl,o.resolve(null),$n}if(t.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return UI(o.source)&&(t.browserUrlTree=o.extractedUrl),Ye(o).pipe(to(c=>{const d=this.transitions?.getValue();return this.events.next(new zb(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),d!==this.transitions?.getValue()?$n:Promise.resolve(c)}),function b5(e,n,t,r){return to(i=>function y5(e,n,t,r,i){return new v5(e,n,t,r,i).apply()}(e,n,t,i.extractedUrl,r).pipe(Ae(s=>({...i,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),ei(c=>{this.currentNavigation={...this.currentNavigation,finalUrl:c.urlAfterRedirects},r.urlAfterRedirects=c.urlAfterRedirects}),function A5(e,n,t,r,i){return It(s=>function C5(e,n,t,r,i,s,o="emptyOnly"){return new T5(e,n,t,r,i,o,s).recognize().pipe(to(a=>null===a?function D5(e){return new We(n=>n.error(e))}(new w5):Ye(a)))}(e,n,t,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i).pipe(Ae(o=>({...s,targetSnapshot:o}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),ei(c=>{if(r.targetSnapshot=c.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!c.extras.skipLocationChange){const f=t.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl);t.setBrowserUrl(f,c)}t.browserUrlTree=c.urlAfterRedirects}const d=new mW(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}));if(l&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:c,extractedUrl:d,source:f,restoredState:h,extras:p}=o,g=new zb(c,this.urlSerializer.serialize(d),f,h);this.events.next(g);const M=_I(d,this.rootComponentType).snapshot;return Ye(r={...o,targetSnapshot:M,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const c="";return this.events.next(new lm(o.id,t.serializeUrl(r.extractedUrl),c,1)),t.rawUrlTree=o.rawUrl,o.resolve(null),$n}}),ei(o=>{const a=new gW(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),Ae(o=>r={...o,guards:YW(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function t5(e,n){return It(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?Ye({...t,guardsResult:!0}):function n5(e,n,t,r){return jn(e).pipe(It(i=>function u5(e,n,t,r,i){const s=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return s&&0!==s.length?Ye(s.map(a=>{const l=rf(n)??i,u=nc(a,l);return xa(function JW(e){return e&&lf(e.canDeactivate)}(u)?u.canDeactivate(e,n,t,r):l.runInContext(()=>u(e,n,t,r))).pipe(Ia())})).pipe(rc()):Ye(!0)}(i.component,i.route,t,n,r)),Ia(i=>!0!==i,!0))}(o,r,i,e).pipe(It(a=>a&&function GW(e){return"boolean"==typeof e}(a)?function r5(e,n,t,r){return jn(n).pipe(vl(i=>Lb(function o5(e,n){return null!==e&&n&&n(new DW(e)),Ye(!0)}(i.route.parent,r),function s5(e,n){return null!==e&&n&&n(new TW(e)),Ye(!0)}(i.route,r),function l5(e,n,t){const r=n[n.length-1],s=n.slice(0,n.length-1).reverse().map(o=>function zW(e){const n=e.routeConfig?e.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:e,guards:n}:null}(o)).filter(o=>null!==o).map(o=>zA(()=>Ye(o.guards.map(l=>{const u=rf(o.node)??t,c=nc(l,u);return xa(function KW(e){return e&&lf(e.canActivateChild)}(c)?c.canActivateChild(r,e):u.runInContext(()=>c(r,e))).pipe(Ia())})).pipe(rc())));return Ye(s).pipe(rc())}(e,i.path,t),function a5(e,n,t){const r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||0===r.length)return Ye(!0);const i=r.map(s=>zA(()=>{const o=rf(n)??t,a=nc(s,o);return xa(function QW(e){return e&&lf(e.canActivate)}(a)?a.canActivate(n,e):o.runInContext(()=>a(n,e))).pipe(Ia())}));return Ye(i).pipe(rc())}(e,i.route,t))),Ia(i=>!0!==i,!0))}(r,s,e,n):Ye(a)),Ae(a=>({...t,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),ei(o=>{if(r.guardsResult=o.guardsResult,wl(o.guardsResult))throw wI(0,o.guardsResult);const a=new _W(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),An(o=>!!o.guardsResult||(t.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),sw(o=>{if(o.guards.canActivateChecks.length)return Ye(o).pipe(ei(a=>{const l=new yW(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),to(a=>{let l=!1;return Ye(a).pipe(function I5(e,n){return It(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Ye(t);let s=0;return jn(i).pipe(vl(o=>function O5(e,n,t,r){const i=e.routeConfig,s=e._resolve;return void 0!==i?.title&&!HI(i)&&(s[Gd]=i.title),function x5(e,n,t,r){const i=function R5(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===i.length)return Ye({});const s={};return jn(i).pipe(It(o=>function L5(e,n,t,r){const i=rf(n)??r,s=nc(e,i);return xa(s.resolve?s.resolve(n,t):i.runInContext(()=>s(n,t)))}(e[o],n,t,r).pipe(Ia(),ei(a=>{s[o]=a}))),Fb(1),function jz(e){return Ae(()=>e)}(s),Oa(o=>nw(o)?$n:qd(o)))}(s,e,n,r).pipe(Ae(o=>(e._resolvedData=o,e.data=yI(e,t).resolve,i&&HI(i)&&(e.data[Gd]=i.title),null)))}(o.route,r,e,n)),ei(()=>s++),Fb(1),It(o=>s===i.length?Ye(t):$n))})}(t.paramsInheritanceStrategy,this.environmentInjector),ei({next:()=>l=!0,complete:()=>{l||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),ei(a=>{const l=new vW(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),sw(o=>{const a=l=>{const u=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(l.routeConfig).pipe(ei(c=>{l.component=c}),Ae(()=>{})));for(const c of l.children)u.push(...a(c));return u};return Rb(a(o.targetSnapshot.root)).pipe(Xp(),Zo(1))}),sw(()=>this.afterPreactivation()),Ae(o=>{const a=function RW(e,n,t){const r=tf(e,n._root,t?t._root:void 0);return new gI(r,n)}(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),ei(o=>{t.currentUrlTree=o.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),t.routerState=o.targetRouterState,"deferred"===t.urlUpdateStrategy&&(o.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,o),t.browserUrlTree=o.urlAfterRedirects)}),((e,n,t)=>Ae(r=>(new UW(n,r.targetRouterState,r.currentRouterState,t).activate(e),r)))(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o)),Zo(1),ei({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new La(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Vb(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Oa(o=>{if(s=!0,TI(o)){CI(o)||(t.navigated=!0,t.restoreHistory(r,!0));const a=new am(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),CI(o)){const l=t.urlHandlingStrategy.merge(o.url,t.rawUrlTree),u={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||UI(r.source)};t.scheduleNavigation(l,ef,null,u,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const a=new Wb(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(t.errorHandler(o))}catch(l){r.reject(l)}}return $n}))}))}cancelNavigationTransition(t,r,i){const s=new am(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function UI(e){return e!==ef}let YI=(()=>{class e{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===dt);return r}getResolvedTitleForRoute(t){return t.data[Gd]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=q({token:e,factory:function(){return vt(N5)},providedIn:"root"}),e})(),N5=(()=>{class e extends YI{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return e.\u0275fac=function(t){return new(t||e)(J(LE))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),F5=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=q({token:e,factory:function(){return vt(B5)},providedIn:"root"}),e})();class V5{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}}let B5=(()=>{class e extends V5{}return e.\u0275fac=function(){let n;return function(r){return(n||(n=gt(e)))(r||e)}}(),e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const bm=new Le("",{providedIn:"root",factory:()=>({})});let $5=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=q({token:e,factory:function(){return vt(j5)},providedIn:"root"}),e})(),j5=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function U5(e){throw e}function Y5(e,n,t){return n.parse("/")}const z5={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},W5={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ti=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=vt(Cj),this.isNgZoneEnabled=!1,this.options=vt(bm,{optional:!0})||{},this.errorHandler=this.options.errorHandler||U5,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Y5,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=vt($5),this.routeReuseStrategy=vt(F5),this.urlCreationStrategy=vt(IW),this.titleStrategy=vt(YI),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=QA(vt(ic,{optional:!0})??[]),this.navigationTransitions=vt(vm),this.urlSerializer=vt(Qd),this.location=vt(Uv),this.isNgZoneEnabled=vt(mn)instanceof mn&&mn.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ra,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=_I(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ef,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(tw),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,u=l?this.currentUrlTree.fragment:o;let c=null;switch(a){case"merge":c={...this.currentUrlTree.queryParams,...s};break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=s||null}return null!==c&&(c=this.removeEmptyProps(c)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,c,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=wl(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,ef,null,r)}navigate(t,r={skipLocationChange:!1}){return function q5(e){for(let n=0;n<e.length;n++){const t=e[n];if(null==t)throw new z(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...z5}:!1===r?{...W5}:r,wl(t))return XA(this.currentUrlTree,t,i);const s=this.parseUrl(t);return XA(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,u,c;return o?(a=o.resolve,l=o.reject,u=o.promise):u=new Promise((d,f)=>{a=d,l=f}),c="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:c,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===i?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),wm=(()=>{class e{constructor(t,r,i,s,o,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new kt;const l=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=t.events.subscribe(u=>{u instanceof La&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=zu(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=zu(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=zu(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function KT(e,n,t){return function RV(e,n){return"src"===n&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===n&&("base"===e||"link"===e)?QT:by}(n,t)(e)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return e.\u0275fac=function(t){return new(t||e)(D(ti),D(tc),function Ph(e){return function XF(e,n){if("class"===n)return e.classes;if("style"===n)return e.styles;const t=e.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if($0(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===n)return t[i+1];i+=2}}}return null}(Nr(),e)}("tabindex"),D(En),D(qt),D(ml))},e.\u0275dir=Pe({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&P("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&Kn("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[Qr]}),e})(),zI=(()=>{class e{get isActive(){return this._isActive}constructor(t,r,i,s,o){this.router=t,this.element=r,this.renderer=i,this.cdr=s,this.link=o,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Me,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof La&&this.update()})}ngAfterContentInit(){Ye(this.links.changes,Ye(null)).pipe(je()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=jn(t).pipe(je()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function G5(e){return!!e.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&t.isActive(i.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}}return e.\u0275fac=function(t){return new(t||e)(D(ti),D(qt),D(En),D(zo),D(wm,8))},e.\u0275dir=Pe({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,i){if(1&t&&function Uk(e,n,t,r){const i=Lt();if(i.firstCreatePass){const s=Nr();zk(i,new $k(n,t,r),s.index),function rj(e,n){const t=e.contentQueries||(e.contentQueries=[]);n!==(t.length?t[t.length-1]:-1)&&t.push(e.queries.length-1,n)}(i,e),2==(2&t)&&(i.staticContentQueries=!0)}Yk(i,ee(),t)}(i,wm,5),2&t){let s;Fr(s=Vr())&&(r.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Qr]}),e})();class WI{}let Z5=(()=>{class e{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(An(t=>t instanceof La),vl(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=fp(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return jn(i).pipe(je())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):Ye(null);const s=i.pipe(It(o=>null===o?Ye(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?jn([s,this.loader.loadComponent(r)]).pipe(je()):s})}}return e.\u0275fac=function(t){return new(t||e)(J(ti),J(p1),J(Si),J(WI),J(ow))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const lw=new Le("");let qI=(()=>{class e{constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof zb?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof La&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof pI&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new pI(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return e.\u0275fac=function(t){!function kM(){throw new Error("invalid")}()},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})();var Ui=(()=>((Ui=Ui||{})[Ui.COMPLETE=0]="COMPLETE",Ui[Ui.FAILED=1]="FAILED",Ui[Ui.REDIRECTING=2]="REDIRECTING",Ui))();const sc=!1;function Pa(e,n){return{\u0275kind:e,\u0275providers:n}}const uw=new Le("",{providedIn:"root",factory:()=>!1});function ZI(){const e=vt(ki);return n=>{const t=e.get(Yu);if(n!==t.components[0])return;const r=e.get(ti),i=e.get(QI);1===e.get(cw)&&r.initialNavigation(),e.get(KI,null,Je.Optional)?.setUpPreloading(),e.get(lw,null,Je.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const QI=new Le(sc?"bootstrap done indicator":"",{factory:()=>new kt}),cw=new Le(sc?"initial navigation":"",{providedIn:"root",factory:()=>1});function e6(){let e=[];return e=sc?[{provide:qh,multi:!0,useFactory:()=>{const n=vt(ti);return()=>n.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function SW(e){if(!("type"in e))return`Unknown Router Event: ${e.constructor.name}`;switch(e.type){case 14:return`ActivationEnd(path: '${e.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${e.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${e.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${e.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state}, shouldActivate: ${e.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 2:return`NavigationCancel(id: ${e.id}, url: '${e.url}')`;case 16:return`NavigationSkipped(id: ${e.id}, url: '${e.url}')`;case 1:return`NavigationEnd(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${e.id}, url: '${e.url}', error: ${e.error})`;case 0:return`NavigationStart(id: ${e.id}, url: '${e.url}')`;case 6:return`ResolveEnd(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 5:return`ResolveStart(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 10:return`RouteConfigLoadEnd(path: ${e.route.path})`;case 9:return`RouteConfigLoadStart(path: ${e.route.path})`;case 4:return`RoutesRecognized(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 15:return`Scroll(anchor: '${e.anchor}', position: '${e.position?`${e.position[0]}, ${e.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],Pa(1,e)}const KI=new Le(sc?"router preloader":"");function t6(e){return Pa(0,[{provide:KI,useExisting:Z5},{provide:WI,useExisting:e}])}const cf=!1,JI=new Le(cf?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),n6=[Uv,{provide:Qd,useClass:Bb},ti,nf,{provide:tc,useFactory:function GI(e){return e.routerState.root},deps:[ti]},ow,cf?{provide:uw,useValue:!0}:[]];function r6(){return new D1("Router",ti)}let XI=(()=>{class e{constructor(t){}static forRoot(t,r){return{ngModule:e,providers:[n6,cf&&r?.enableTracing?e6().\u0275providers:[],{provide:ic,multi:!0,useValue:t},{provide:JI,useFactory:l6,deps:[[ti,new od,new ad]]},{provide:bm,useValue:r||{}},r?.useHash?{provide:ml,useClass:cU}:{provide:ml,useClass:z1},{provide:lw,useFactory:()=>{const e=vt(MY),n=vt(mn),t=vt(bm),r=vt(vm),i=vt(Qd);return t.scrollOffset&&e.setOffset(t.scrollOffset),new qI(i,r,e,n,t)}},r?.preloadingStrategy?t6(r.preloadingStrategy).\u0275providers:[],{provide:D1,multi:!0,useFactory:r6},r?.initialNavigation?u6(r):[],[{provide:eO,useFactory:ZI},{provide:w1,multi:!0,useExisting:eO}]]}}static forChild(t){return{ngModule:e,providers:[{provide:ic,multi:!0,useValue:t}]}}}return e.\u0275fac=function(t){return new(t||e)(J(JI,8))},e.\u0275mod=Sr({type:e}),e.\u0275inj=pr({imports:[Xb]}),e})();function l6(e){if(cf&&e)throw new z(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function u6(e){return["disabled"===e.initialNavigation?Pa(3,[{provide:gp,multi:!0,useFactory:()=>{const n=vt(ti);return()=>{n.setUpLocationChangeListener()}}},{provide:cw,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?Pa(2,[{provide:cw,useValue:0},{provide:gp,multi:!0,deps:[ki],useFactory:n=>{const t=n.get(lU,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=n.get(ti),s=n.get(QI);(function Q5(e,n){e.events.pipe(An(t=>t instanceof La||t instanceof am||t instanceof Wb||t instanceof lm),Ae(t=>t instanceof La||t instanceof lm?Ui.COMPLETE:t instanceof am&&(0===t.code||1===t.code)?Ui.REDIRECTING:Ui.FAILED),An(t=>t!==Ui.REDIRECTING),Zo(1)).subscribe(()=>{n()})})(i,()=>{r(!0)}),n.get(vm).afterPreactivation=()=>(r(!0),s.closed?Ye(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const eO=new Le(cf?"Router Initializer":"");var b=ce(861);class io{constructor(n="",t="",r="text",i="",s=""){this.propertyID="",this.propertyName="",this.propertyType="text",this.inputPlaceholder="",this.tooltip="",this.propertyID=n,this.propertyName=t,this.propertyType=r,this.inputPlaceholder=i,this.tooltip=s}}function tO(e,n){if(n.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function so(e,n,t){tO(e,n),n.set(e,t)}function nO(e,n,t){if(!n.has(e))throw new TypeError("attempted to "+t+" private field on non-instance");return n.get(e)}function tr(e,n,t){return function d6(e,n,t){if(n.set)n.set.call(e,t);else{if(!n.writable)throw new TypeError("attempted to set read only private field");n.value=t}}(e,nO(e,n,"set"),t),t}function sn(e,n){return function f6(e,n){return n.get?n.get.call(e):n.value}(e,nO(e,n,"get"))}function yr(e){var n,t,r,i=2;for(typeof Symbol<"u"&&(t=Symbol.asyncIterator,r=Symbol.iterator);i--;){if(t&&null!=(n=e[t]))return n.call(e);if(r&&null!=(n=e[r]))return new Dm(n.call(e));t="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function Dm(e){function n(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var r=t.done;return Promise.resolve(t.value).then(function(i){return{value:i,done:r}})}return(Dm=function(r){this.s=r,this.n=r.next}).prototype={s:null,n:null,next:function(){return n(this.n.apply(this.s,arguments))},return:function(r){var i=this.s.return;return void 0===i?Promise.resolve({value:r,done:!0}):n(i.apply(this.s,arguments))},throw:function(r){var i=this.s.return;return void 0===i?Promise.reject(r):n(i.apply(this.s,arguments))}},new Dm(e)}class dw{constructor(n,t,r){this._id=n,this._name=t,this._term=r}get id(){return this._id}get name(){return this._name}get term(){return this._term}static deserialize(n){if("string"!=typeof n.id||"string"!=typeof n.name||"string"!=typeof n.term?.name)throw new Error("Invalid data");return new dw(n.id,n.name,n.term.name)}}class Cm{constructor(n,t,r,i,s){this._id=n,this._moduleId=t,this._type=r,this._contentId=i,this._pointsPossible=s}get id(){return this._id}get moduleId(){return this._moduleId}get type(){return this._type}get contentId(){return this._contentId}get pointsPossible(){return this._pointsPossible??0}static deserialize(n){if("string"!=typeof n.id||"string"!=typeof n.module_id||"string"!=typeof n.type||typeof n.content_id<"u"&&"string"!=typeof n.content_id||typeof n.content_details?.points_possible<"u"&&"number"!=typeof n.content_details?.points_possible)throw new Error("Invalid data");return new Cm(n.id,n.module_id,n.type,n.content_id,n.content_details?.points_possible)}}class fw{constructor(n,t,r,i){this._id=n,this._quizId=t,this._studentId=r,this._attempt=i}get id(){return this._id}get quizId(){return this._quizId}get studentId(){return this._studentId}get attempt(){return this._attempt}static deserialize(n){if("string"!=typeof n.id||"string"!=typeof n.quiz_id||"string"!=typeof n.user_id||"number"!=typeof n.attempt||"string"!=typeof n.workflow_state)throw new Error("Invalid data");return new fw(n.id,n.quiz_id,n.user_id,n.attempt-("untaken"==n.workflow_state?1:0))}}class df{constructor(n,t,r){this._id=n,this._name=t,this._email=r}get id(){return this._id}get name(){return this._name}get email(){return this._email??""}static deserialize(n){if("string"!=typeof n.id||"string"!=typeof n.name||typeof n.email<"u"&&"string"!=typeof n.email)throw new Error("Invalid data");return new df(n.id,n.name,n.email)}}class oc{constructor(n,t,r){this._id=n,this._content=t,this._createdAt=r}get id(){return this._id}get content(){return this._content}get createdAt(){return this._createdAt}static deserialize(n){if("string"!=typeof n.id||"string"!=typeof n.comment||"string"!=typeof n.created_at)throw new Error("Invalid data");return new oc(n.id,n.comment,new Date(n.created_at))}}function rO(e,n){this.v=e,this.k=n}function ff(e){var n,t;function r(s,o){try{var a=e[s](o),l=a.value,u=l instanceof rO;Promise.resolve(u?l.v:l).then(function(c){if(u){var d="return"===s?"return":"next";if(!l.k||c.done)return r(d,c);c=e[d](c).value}i(a.done?"return":"normal",c)},function(c){r("throw",c)})}catch(c){i("throw",c)}}function i(s,o){switch(s){case"return":n.resolve({value:o,done:!0});break;case"throw":n.reject(o);break;default:n.resolve({value:o,done:!1})}(n=n.next)?r(n.key,n.arg):t=null}this._invoke=function(s,o){return new Promise(function(a,l){var u={key:s,arg:o,resolve:a,reject:l,next:null};t?t=t.next=u:(n=t=u,r(s,o))})},"function"!=typeof e.return&&(this.return=void 0)}ff.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},ff.prototype.next=function(e){return this._invoke("next",e)},ff.prototype.throw=function(e){return this._invoke("throw",e)},ff.prototype.return=function(e){return this._invoke("return",e)};class Ar{constructor(n,t,r){this.data=r(n.data),this.nextURL=this.extractNextURL(n),this.requestHandler=t,this.dataProcessor=r}extractNextURL(n){const t=n.headers.link;if(t)for(const r of t.split(","))if(r.endsWith('rel="next"')){const i=r.split(";")[0];return i?.substring(1,i.length-1)}}hasNextPage(){return null!=this.nextURL}fetchNextPage(){var n=this;return(0,b.Z)(function*(){if(!n.nextURL)return;const t=yield n.requestHandler(n.nextURL);n.data.push(...n.dataProcessor(t.data)),n.nextURL=n.extractNextURL(t)})()}generator(){var n=this;return function p6(e){return function(){return new ff(e.apply(this,arguments))}}(function*(){let t=0;for(;n.hasNextPage()||t!=n.data.length;){t==n.data.length&&(yield(e=n.fetchNextPage(),new rO(e,0)));const r=n.data[t++];if(!r)throw new Error("Index out of bound");yield r}var e})()}[Symbol.asyncIterator](){return this.generator()}}class m6{constructor(n,t,r){this.data=r(n.data),this.extractURLs(n),this.requestHandler=t,this.dataProcessor=r}extractURLs(n){const t=n.headers.link;if(this.prevURL=void 0,this.nextURL=void 0,t)for(const r of t.split(","))if(r.endsWith('rel="next"')){const i=r.split(";")[0];this.nextURL=i?.substring(1,i.length-1)}else if(r.endsWith('rel="prev"')){const i=r.split(";")[0];this.prevURL=i?.substring(1,i.length-1)}}hasPrevPage(){return null!=this.prevURL}prev(){var n=this;return(0,b.Z)(function*(){if(!n.prevURL)return;const t=yield n.requestHandler(n.prevURL);n.data=n.dataProcessor(t.data),n.extractURLs(t)})()}hasNextPage(){return null!=this.nextURL}next(){var n=this;return(0,b.Z)(function*(){if(!n.nextURL)return;const t=yield n.requestHandler(n.nextURL);n.data=n.dataProcessor(t.data),n.extractURLs(t)})()}*generator(){for(const n of this.data)yield n}[Symbol.iterator](){return this.generator()}}Math.pow(10,8);var iO=6e4,sO=36e5;function Dn(e,n){if(n.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+n.length+" present")}function yi(e){if(null===e||!0===e||!1===e)return NaN;var n=Number(e);return isNaN(n)?n:n<0?Math.ceil(n):Math.floor(n)}function aO(e,n){var t;Dn(1,arguments);var r=yi(null!==(t=n?.additionalDigits)&&void 0!==t?t:2);if(2!==r&&1!==r&&0!==r)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!=typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var s,i=function T6(e){var r,n={},t=e.split(Tm.dateTimeDelimiter);if(t.length>2)return n;if(/:/.test(t[0])?r=t[0]:(n.date=t[0],r=t[1],Tm.timeZoneDelimiter.test(n.date)&&(n.date=e.split(Tm.timeZoneDelimiter)[0],r=e.substr(n.date.length,e.length))),r){var i=Tm.timezone.exec(r);i?(n.time=r.replace(i[1],""),n.timezone=i[1]):n.time=r}return n}(e);if(i.date){var o=function M6(e,n){var t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+n)+"})|(\\d{2}|[+-]\\d{"+(2+n)+"})$)"),r=e.match(t);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:null===s?i:100*s,restDateString:e.slice((r[1]||r[2]).length)}}(i.date,r);s=function S6(e,n){if(null===n)return new Date(NaN);var t=e.match(w6);if(!t)return new Date(NaN);var r=!!t[4],i=hf(t[1]),s=hf(t[2])-1,o=hf(t[3]),a=hf(t[4]),l=hf(t[5])-1;if(r)return function R6(e,n,t){return n>=1&&n<=53&&t>=0&&t<=6}(0,a,l)?function A6(e,n,t){var r=new Date(0);r.setUTCFullYear(e,0,4);var s=7*(n-1)+t+1-(r.getUTCDay()||7);return r.setUTCDate(r.getUTCDate()+s),r}(n,a,l):new Date(NaN);var u=new Date(0);return function O6(e,n,t){return n>=0&&n<=11&&t>=1&&t<=(I6[n]||(lO(e)?29:28))}(n,s,o)&&function x6(e,n){return n>=1&&n<=(lO(e)?366:365)}(n,i)?(u.setUTCFullYear(n,s,Math.max(i,o)),u):new Date(NaN)}(o.restDateString,o.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);var u,a=s.getTime(),l=0;if(i.time&&(l=function k6(e){var n=e.match(D6);if(!n)return NaN;var t=hw(n[1]),r=hw(n[2]),i=hw(n[3]);return function L6(e,n,t){return 24===e?0===n&&0===t:t>=0&&t<60&&n>=0&&n<60&&e>=0&&e<25}(t,r,i)?t*sO+r*iO+1e3*i:NaN}(i.time),isNaN(l)))return new Date(NaN);if(!i.timezone){var c=new Date(a+l),d=new Date(0);return d.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),d.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),d}return u=function E6(e){if("Z"===e)return 0;var n=e.match(C6);if(!n)return 0;var t="+"===n[1]?-1:1,r=parseInt(n[2]),i=n[3]&&parseInt(n[3])||0;return function P6(e,n){return n>=0&&n<=59}(0,i)?t*(r*sO+i*iO):NaN}(i.timezone),isNaN(u)?new Date(NaN):new Date(a+l+u)}var Tm={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},w6=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,D6=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,C6=/^([+-])(\d{2})(?::?(\d{2}))?$/;function hf(e){return e?parseInt(e):1}function hw(e){return e&&parseFloat(e.replace(",","."))||0}var I6=[31,null,31,30,31,30,31,31,30,31,30,31];function lO(e){return e%400==0||e%4==0&&e%100!=0}function pf(e){return(pf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(e)}function ar(e){Dn(1,arguments);var n=Object.prototype.toString.call(e);return e instanceof Date||"object"===pf(e)&&"[object Date]"===n?new Date(e.getTime()):"number"==typeof e||"[object Number]"===n?new Date(e):(("string"==typeof e||"[object String]"===n)&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function Ct(e,n){for(var t=e<0?"-":"",r=Math.abs(e).toString();r.length<n;)r="0"+r;return t+r}function Mm(e,n){var t,r;Dn(1,arguments);var i=ar(e);if(isNaN(i.getTime()))throw new RangeError("Invalid time value");var s=String(null!==(t=n?.format)&&void 0!==t?t:"extended"),o=String(null!==(r=n?.representation)&&void 0!==r?r:"complete");if("extended"!==s&&"basic"!==s)throw new RangeError("format must be 'extended' or 'basic'");if("date"!==o&&"time"!==o&&"complete"!==o)throw new RangeError("representation must be 'date', 'time', or 'complete'");var a="",l="",u="extended"===s?"-":"",c="extended"===s?":":"";if("time"!==o){var d=Ct(i.getDate(),2),f=Ct(i.getMonth()+1,2),h=Ct(i.getFullYear(),4);a="".concat(h).concat(u).concat(f).concat(u).concat(d)}if("date"!==o){var p=i.getTimezoneOffset();if(0!==p){var g=Math.abs(p),M=Ct(Math.floor(g/60),2),O=Ct(g%60,2);l="".concat(p<0?"+":"-").concat(M,":").concat(O)}else l="Z";var it=""===a?"":"T",fn=[Ct(i.getHours(),2),Ct(i.getMinutes(),2),Ct(i.getSeconds(),2)].join(c);a="".concat(a).concat(it).concat(fn).concat(l)}return a}function Sm(e,n){Dn(2,arguments);var t=ar(e),r=ar(n),i=t.getTime()-r.getTime();return i<0?-1:i>0?1:i}function uO(e,n){return function(){return e.apply(n,arguments)}}const{toString:cO}=Object.prototype,{getPrototypeOf:pw}=Object,mw=(e=Object.create(null),n=>{const t=cO.call(n);return e[t]||(e[t]=t.slice(8,-1).toLowerCase())}),Ko=e=>(e=e.toLowerCase(),n=>mw(n)===e),km=e=>n=>typeof n===e,{isArray:ac}=Array,mf=km("undefined");var e;const dO=Ko("ArrayBuffer"),V6=km("string"),Na=km("function"),fO=km("number"),gw=e=>null!==e&&"object"==typeof e,Em=e=>{if("object"!==mw(e))return!1;const n=pw(e);return!(null!==n&&n!==Object.prototype&&null!==Object.getPrototypeOf(n)||Symbol.toStringTag in e||Symbol.iterator in e)},H6=Ko("Date"),$6=Ko("File"),j6=Ko("Blob"),U6=Ko("FileList"),W6=Ko("URLSearchParams");function gf(e,n,{allOwnKeys:t=!1}={}){if(null===e||typeof e>"u")return;let r,i;if("object"!=typeof e&&(e=[e]),ac(e))for(r=0,i=e.length;r<i;r++)n.call(null,e[r],r,e);else{const s=t?Object.getOwnPropertyNames(e):Object.keys(e),o=s.length;let a;for(r=0;r<o;r++)a=s[r],n.call(null,e[a],a,e)}}function hO(e,n){n=n.toLowerCase();const t=Object.keys(e);let i,r=t.length;for(;r-- >0;)if(i=t[r],n===i.toLowerCase())return i;return null}const pO=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,mO=e=>!mf(e)&&e!==pO,eq=(e=>n=>e&&n instanceof e)(typeof Uint8Array<"u"&&pw(Uint8Array)),rq=Ko("HTMLFormElement"),gO=(({hasOwnProperty:e})=>(n,t)=>e.call(n,t))(Object.prototype),sq=Ko("RegExp"),_O=(e,n)=>{const t=Object.getOwnPropertyDescriptors(e),r={};gf(t,(i,s)=>{!1!==n(i,s,e)&&(r[s]=i)}),Object.defineProperties(e,r)},yw="abcdefghijklmnopqrstuvwxyz",yO="0123456789",vO={DIGIT:yO,ALPHA:yw,ALPHA_DIGIT:yw+yw.toUpperCase()+yO},G={isArray:ac,isArrayBuffer:dO,isBuffer:function N6(e){return null!==e&&!mf(e)&&null!==e.constructor&&!mf(e.constructor)&&Na(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{const n="[object FormData]";return e&&("function"==typeof FormData&&e instanceof FormData||cO.call(e)===n||Na(e.toString)&&e.toString()===n)},isArrayBufferView:function F6(e){let n;return n=typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&dO(e.buffer),n},isString:V6,isNumber:fO,isBoolean:e=>!0===e||!1===e,isObject:gw,isPlainObject:Em,isUndefined:mf,isDate:H6,isFile:$6,isBlob:j6,isRegExp:sq,isFunction:Na,isStream:e=>gw(e)&&Na(e.pipe),isURLSearchParams:W6,isTypedArray:eq,isFileList:U6,forEach:gf,merge:function _w(){const{caseless:e}=mO(this)&&this||{},n={},t=(r,i)=>{const s=e&&hO(n,i)||i;n[s]=Em(n[s])&&Em(r)?_w(n[s],r):Em(r)?_w({},r):ac(r)?r.slice():r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&gf(arguments[r],t);return n},extend:(e,n,t,{allOwnKeys:r}={})=>(gf(n,(i,s)=>{e[s]=t&&Na(i)?uO(i,t):i},{allOwnKeys:r}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,n,t,r)=>{e.prototype=Object.create(n.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:n.prototype}),t&&Object.assign(e.prototype,t)},toFlatObject:(e,n,t,r)=>{let i,s,o;const a={};if(n=n||{},null==e)return n;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)o=i[s],(!r||r(o,e,n))&&!a[o]&&(n[o]=e[o],a[o]=!0);e=!1!==t&&pw(e)}while(e&&(!t||t(e,n))&&e!==Object.prototype);return n},kindOf:mw,kindOfTest:Ko,endsWith:(e,n,t)=>{e=String(e),(void 0===t||t>e.length)&&(t=e.length);const r=e.indexOf(n,t-=n.length);return-1!==r&&r===t},toArray:e=>{if(!e)return null;if(ac(e))return e;let n=e.length;if(!fO(n))return null;const t=new Array(n);for(;n-- >0;)t[n]=e[n];return t},forEachEntry:(e,n)=>{const r=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=r.next())&&!i.done;){const s=i.value;n.call(e,s[0],s[1])}},matchAll:(e,n)=>{let t;const r=[];for(;null!==(t=e.exec(n));)r.push(t);return r},isHTMLForm:rq,hasOwnProperty:gO,hasOwnProp:gO,reduceDescriptors:_O,freezeMethods:e=>{_O(e,(n,t)=>{if(Na(e)&&-1!==["arguments","caller","callee"].indexOf(t))return!1;if(Na(e[t])){if(n.enumerable=!1,"writable"in n)return void(n.writable=!1);n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},toObjectSet:(e,n)=>{const t={},r=i=>{i.forEach(s=>{t[s]=!0})};return ac(e)?r(e):r(String(e).split(n)),t},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),noop:()=>{},toFiniteNumber:(e,n)=>(e=+e,Number.isFinite(e)?e:n),findKey:hO,global:pO,isContextDefined:mO,ALPHABET:vO,generateString:(e=16,n=vO.ALPHA_DIGIT)=>{let t="";const{length:r}=n;for(;e--;)t+=n[Math.random()*r|0];return t},isSpecCompliantForm:function dq(e){return!!(e&&Na(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const n=new Array(10),t=(r,i)=>{if(gw(r)){if(n.indexOf(r)>=0)return;if(!("toJSON"in r)){n[i]=r;const s=ac(r)?[]:{};return gf(r,(o,a)=>{const l=t(o,i+1);!mf(l)&&(s[a]=l)}),n[i]=void 0,s}}return r};return t(e,0)}};function lc(e,n,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",n&&(this.code=n),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i)}G.inherits(lc,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:G.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const bO=lc.prototype,wO={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{wO[e]={value:e}}),Object.defineProperties(lc,wO),Object.defineProperty(bO,"isAxiosError",{value:!0}),lc.from=(e,n,t,r,i,s)=>{const o=Object.create(bO);return G.toFlatObject(e,o,function(l){return l!==Error.prototype},a=>"isAxiosError"!==a),lc.call(o,e.message,n,t,r,i),o.cause=e,o.name=e.name,s&&Object.assign(o,s),o};const on=lc;function vw(e){return G.isPlainObject(e)||G.isArray(e)}function CO(e){return G.endsWith(e,"[]")?e.slice(0,-2):e}function TO(e,n,t){return e?e.concat(n).map(function(i,s){return i=CO(i),!t&&s?"["+i+"]":i}).join(t?".":""):n}const hq=G.toFlatObject(G,{},null,function(n){return/^is[A-Z]/.test(n)}),Am=function pq(e,n,t){if(!G.isObject(e))throw new TypeError("target must be an object");n=n||new FormData;const r=(t=G.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,M){return!G.isUndefined(M[g])})).metaTokens,i=t.visitor||c,s=t.dots,o=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&G.isSpecCompliantForm(n);if(!G.isFunction(i))throw new TypeError("visitor must be a function");function u(p){if(null===p)return"";if(G.isDate(p))return p.toISOString();if(!l&&G.isBlob(p))throw new on("Blob is not supported. Use a Buffer instead.");return G.isArrayBuffer(p)||G.isTypedArray(p)?l&&"function"==typeof Blob?new Blob([p]):Buffer.from(p):p}function c(p,g,M){let O=p;if(p&&!M&&"object"==typeof p)if(G.endsWith(g,"{}"))g=r?g:g.slice(0,-2),p=JSON.stringify(p);else if(G.isArray(p)&&function fq(e){return G.isArray(e)&&!e.some(vw)}(p)||(G.isFileList(p)||G.endsWith(g,"[]"))&&(O=G.toArray(p)))return g=CO(g),O.forEach(function(B,ue){!G.isUndefined(B)&&null!==B&&n.append(!0===o?TO([g],ue,s):null===o?g:g+"[]",u(B))}),!1;return!!vw(p)||(n.append(TO(M,g,s),u(p)),!1)}const d=[],f=Object.assign(hq,{defaultVisitor:c,convertValue:u,isVisitable:vw});if(!G.isObject(e))throw new TypeError("data must be an object");return function h(p,g){if(!G.isUndefined(p)){if(-1!==d.indexOf(p))throw Error("Circular reference detected in "+g.join("."));d.push(p),G.forEach(p,function(O,Y){!0===(!(G.isUndefined(O)||null===O)&&i.call(n,O,G.isString(Y)?Y.trim():Y,g,f))&&h(O,g?g.concat(Y):[Y])}),d.pop()}}(e),n};function MO(e){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return n[r]})}function SO(e,n){this._pairs=[],e&&Am(e,this,n)}const kO=SO.prototype;kO.append=function(n,t){this._pairs.push([n,t])},kO.toString=function(n){const t=n?function(r){return n.call(this,r,MO)}:MO;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};const EO=SO;function mq(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function AO(e,n,t){if(!n)return e;const r=t&&t.encode||mq,i=t&&t.serialize;let s;if(s=i?i(n,t):G.isURLSearchParams(n)?n.toString():new EO(n,t).toString(r),s){const o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}const IO=class gq{constructor(){this.handlers=[]}use(n,t,r){return this.handlers.push({fulfilled:n,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){G.forEach(this.handlers,function(r){null!==r&&n(r)})}},OO={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},_q=typeof URLSearchParams<"u"?URLSearchParams:EO,yq=typeof FormData<"u"?FormData:null,vq=typeof Blob<"u"?Blob:null,bq=(()=>{let e;return(!(typeof navigator<"u")||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&typeof window<"u"&&typeof document<"u"})(),oo={isBrowser:!0,classes:{URLSearchParams:_q,FormData:yq,Blob:vq},isStandardBrowserEnv:bq,isStandardBrowserWebWorkerEnv:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,protocols:["http","https","file","blob","url","data"]},xO=function Mq(e){function n(t,r,i,s){let o=t[s++];const a=Number.isFinite(+o),l=s>=t.length;return o=!o&&G.isArray(i)?i.length:o,l?(i[o]=G.hasOwnProp(i,o)?[i[o],r]:r,!a):((!i[o]||!G.isObject(i[o]))&&(i[o]=[]),n(t,r,i[o],s)&&G.isArray(i[o])&&(i[o]=function Tq(e){const n={},t=Object.keys(e);let r;const i=t.length;let s;for(r=0;r<i;r++)s=t[r],n[s]=e[s];return n}(i[o])),!a)}if(G.isFormData(e)&&G.isFunction(e.entries)){const t={};return G.forEachEntry(e,(r,i)=>{n(function Cq(e){return G.matchAll(/\w+|\[(\w*)]/g,e).map(n=>"[]"===n[0]?"":n[1]||n[0])}(r),i,t,0)}),t}return null},Sq={"Content-Type":void 0},Im={transitional:OO,adapter:["xhr","http"],transformRequest:[function(n,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,s=G.isObject(n);if(s&&G.isHTMLForm(n)&&(n=new FormData(n)),G.isFormData(n))return i&&i?JSON.stringify(xO(n)):n;if(G.isArrayBuffer(n)||G.isBuffer(n)||G.isStream(n)||G.isFile(n)||G.isBlob(n))return n;if(G.isArrayBufferView(n))return n.buffer;if(G.isURLSearchParams(n))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function Dq(e,n){return Am(e,new oo.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,s){return oo.isNode&&G.isBuffer(t)?(this.append(r,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},n))}(n,this.formSerializer).toString();if((a=G.isFileList(n))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Am(a?{"files[]":n}:n,l&&new l,this.formSerializer)}}return s||i?(t.setContentType("application/json",!1),function kq(e,n,t){if(G.isString(e))try{return(n||JSON.parse)(e),G.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(t||JSON.stringify)(e)}(n)):n}],transformResponse:[function(n){const t=this.transitional||Im.transitional,r=t&&t.forcedJSONParsing,i="json"===this.responseType;if(n&&G.isString(n)&&(r&&!this.responseType||i)){const o=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(n)}catch(a){if(o)throw"SyntaxError"===a.name?on.from(a,on.ERR_BAD_RESPONSE,this,null,this.response):a}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:oo.classes.FormData,Blob:oo.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};G.forEach(["delete","get","head"],function(n){Im.headers[n]={}}),G.forEach(["post","put","patch"],function(n){Im.headers[n]=G.merge(Sq)});const bw=Im,Eq=G.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),RO=Symbol("internals");function _f(e){return e&&String(e).trim().toLowerCase()}function Om(e){return!1===e||null==e?e:G.isArray(e)?e.map(Om):String(e)}function ww(e,n,t,r,i){if(G.isFunction(r))return r.call(this,n,t);if(i&&(n=t),G.isString(n)){if(G.isString(r))return-1!==n.indexOf(r);if(G.isRegExp(r))return r.test(n)}}class xm{constructor(n){n&&this.set(n)}set(n,t,r){const i=this;function s(a,l,u){const c=_f(l);if(!c)throw new Error("header name must be a non-empty string");const d=G.findKey(i,c);(!d||void 0===i[d]||!0===u||void 0===u&&!1!==i[d])&&(i[d||l]=Om(a))}const o=(a,l)=>G.forEach(a,(u,c)=>s(u,c,l));return G.isPlainObject(n)||n instanceof this.constructor?o(n,t):G.isString(n)&&(n=n.trim())&&!(e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))(n)?o((e=>{const n={};let t,r,i;return e&&e.split("\n").forEach(function(o){i=o.indexOf(":"),t=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!t||n[t]&&Eq[t])&&("set-cookie"===t?n[t]?n[t].push(r):n[t]=[r]:n[t]=n[t]?n[t]+", "+r:r)}),n})(n),t):null!=n&&s(t,n,r),this}get(n,t){if(n=_f(n)){const r=G.findKey(this,n);if(r){const i=this[r];if(!t)return i;if(!0===t)return function Iq(e){const n=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(e);)n[r[1]]=r[2];return n}(i);if(G.isFunction(t))return t.call(this,i,r);if(G.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,t){if(n=_f(n)){const r=G.findKey(this,n);return!(!r||void 0===this[r]||t&&!ww(0,this[r],r,t))}return!1}delete(n,t){const r=this;let i=!1;function s(o){if(o=_f(o)){const a=G.findKey(r,o);a&&(!t||ww(0,r[a],a,t))&&(delete r[a],i=!0)}}return G.isArray(n)?n.forEach(s):s(n),i}clear(n){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const s=t[r];(!n||ww(0,this[s],s,n,!0))&&(delete this[s],i=!0)}return i}normalize(n){const t=this,r={};return G.forEach(this,(i,s)=>{const o=G.findKey(r,s);if(o)return t[o]=Om(i),void delete t[s];const a=n?function xq(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,t,r)=>t.toUpperCase()+r)}(s):String(s).trim();a!==s&&delete t[s],t[a]=Om(i),r[a]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const t=Object.create(null);return G.forEach(this,(r,i)=>{null!=r&&!1!==r&&(t[i]=n&&G.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,t])=>n+": "+t).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...t){const r=new this(n);return t.forEach(i=>r.set(i)),r}static accessor(n){const r=(this[RO]=this[RO]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=_f(o);r[a]||(function Rq(e,n){const t=G.toCamelCase(" "+n);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+t,{value:function(i,s,o){return this[r].call(this,n,i,s,o)},configurable:!0})})}(i,o),r[a]=!0)}return G.isArray(n)?n.forEach(s):s(n),this}}xm.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),G.freezeMethods(xm.prototype),G.freezeMethods(xm);const Jo=xm;function Dw(e,n){const t=this||bw,r=n||t,i=Jo.from(r.headers);let s=r.data;return G.forEach(e,function(a){s=a.call(t,s,i.normalize(),n?n.status:void 0)}),i.normalize(),s}function LO(e){return!(!e||!e.__CANCEL__)}function PO(e,n,t){on.call(this,e??"canceled",on.ERR_CANCELED,n,t),this.name="CanceledError"}G.inherits(PO,on,{__CANCEL__:!0});const Rm=PO,Pq=oo.isStandardBrowserEnv?{write:function(t,r,i,s,o,a){const l=[];l.push(t+"="+encodeURIComponent(r)),G.isNumber(i)&&l.push("expires="+new Date(i).toGMTString()),G.isString(s)&&l.push("path="+s),G.isString(o)&&l.push("domain="+o),!0===a&&l.push("secure"),document.cookie=l.join("; ")},read:function(t){const r=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function NO(e,n){return e&&!function Nq(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}(n)?function Fq(e,n){return n?e.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):e}(e,n):n}const Vq=oo.isStandardBrowserEnv?function(){const n=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let r;function i(s){let o=s;return n&&(t.setAttribute("href",o),o=t.href),t.setAttribute("href",o),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return r=i(window.location.href),function(o){const a=G.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return!0},$q=function Hq(e,n){e=e||10;const t=new Array(e),r=new Array(e);let o,i=0,s=0;return n=void 0!==n?n:1e3,function(l){const u=Date.now(),c=r[s];o||(o=u),t[i]=l,r[i]=u;let d=s,f=0;for(;d!==i;)f+=t[d++],d%=e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),u-o<n)return;const h=c&&u-c;return h?Math.round(1e3*f/h):void 0}};function FO(e,n){let t=0;const r=$q(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,a=s-t,l=r(a);t=s;const c={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&s<=o?(o-s)/l:void 0,event:i};c[n?"download":"upload"]=!0,e(c)}}const Lm={http:null,xhr:typeof XMLHttpRequest<"u"&&function(e){return new Promise(function(t,r){let i=e.data;const s=Jo.from(e.headers).normalize(),o=e.responseType;let a;function l(){e.cancelToken&&e.cancelToken.unsubscribe(a),e.signal&&e.signal.removeEventListener("abort",a)}G.isFormData(i)&&(oo.isStandardBrowserEnv||oo.isStandardBrowserWebWorkerEnv)&&s.setContentType(!1);let u=new XMLHttpRequest;if(e.auth){const h=e.auth.username||"",p=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";s.set("Authorization","Basic "+btoa(h+":"+p))}const c=NO(e.baseURL,e.url);function d(){if(!u)return;const h=Jo.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders());(function Lq(e,n,t){const r=t.config.validateStatus;t.status&&r&&!r(t.status)?n(new on("Request failed with status code "+t.status,[on.ERR_BAD_REQUEST,on.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t)):e(t)})(function(O){t(O),l()},function(O){r(O),l()},{data:o&&"text"!==o&&"json"!==o?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:h,config:e,request:u}),u=null}if(u.open(e.method.toUpperCase(),AO(c,e.params,e.paramsSerializer),!0),u.timeout=e.timeout,"onloadend"in u?u.onloadend=d:u.onreadystatechange=function(){!u||4!==u.readyState||0===u.status&&(!u.responseURL||0!==u.responseURL.indexOf("file:"))||setTimeout(d)},u.onabort=function(){u&&(r(new on("Request aborted",on.ECONNABORTED,e,u)),u=null)},u.onerror=function(){r(new on("Network Error",on.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){let p=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";e.timeoutErrorMessage&&(p=e.timeoutErrorMessage),r(new on(p,(e.transitional||OO).clarifyTimeoutError?on.ETIMEDOUT:on.ECONNABORTED,e,u)),u=null},oo.isStandardBrowserEnv){const h=(e.withCredentials||Vq(c))&&e.xsrfCookieName&&Pq.read(e.xsrfCookieName);h&&s.set(e.xsrfHeaderName,h)}void 0===i&&s.setContentType(null),"setRequestHeader"in u&&G.forEach(s.toJSON(),function(p,g){u.setRequestHeader(g,p)}),G.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),o&&"json"!==o&&(u.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&u.addEventListener("progress",FO(e.onDownloadProgress,!0)),"function"==typeof e.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",FO(e.onUploadProgress)),(e.cancelToken||e.signal)&&(a=h=>{u&&(r(!h||h.type?new Rm(null,e,u):h),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(a),e.signal&&(e.signal.aborted?a():e.signal.addEventListener("abort",a)));const f=function Bq(e){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return n&&n[1]||""}(c);f&&-1===oo.protocols.indexOf(f)?r(new on("Unsupported protocol "+f+":",on.ERR_BAD_REQUEST,e)):u.send(i||null)})}};G.forEach(Lm,(e,n)=>{if(e){try{Object.defineProperty(e,"name",{value:n})}catch{}Object.defineProperty(e,"adapterName",{value:n})}});const jq={getAdapter:e=>{e=G.isArray(e)?e:[e];const{length:n}=e;let t,r;for(let i=0;i<n&&(t=e[i],!(r=G.isString(t)?Lm[t.toLowerCase()]:t));i++);if(!r)throw!1===r?new on(`Adapter ${t} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(G.hasOwnProp(Lm,t)?`Adapter '${t}' is not available in the build`:`Unknown adapter '${t}'`);if(!G.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:Lm};function Cw(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Rm(null,e)}function VO(e){return Cw(e),e.headers=Jo.from(e.headers),e.data=Dw.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),jq.getAdapter(e.adapter||bw.adapter)(e).then(function(r){return Cw(e),r.data=Dw.call(e,e.transformResponse,r),r.headers=Jo.from(r.headers),r},function(r){return LO(r)||(Cw(e),r&&r.response&&(r.response.data=Dw.call(e,e.transformResponse,r.response),r.response.headers=Jo.from(r.response.headers))),Promise.reject(r)})}const BO=e=>e instanceof Jo?e.toJSON():e;function uc(e,n){n=n||{};const t={};function r(u,c,d){return G.isPlainObject(u)&&G.isPlainObject(c)?G.merge.call({caseless:d},u,c):G.isPlainObject(c)?G.merge({},c):G.isArray(c)?c.slice():c}function i(u,c,d){return G.isUndefined(c)?G.isUndefined(u)?void 0:r(void 0,u,d):r(u,c,d)}function s(u,c){if(!G.isUndefined(c))return r(void 0,c)}function o(u,c){return G.isUndefined(c)?G.isUndefined(u)?void 0:r(void 0,u):r(void 0,c)}function a(u,c,d){return d in n?r(u,c):d in e?r(void 0,u):void 0}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,c)=>i(BO(u),BO(c),!0)};return G.forEach(Object.keys(e).concat(Object.keys(n)),function(c){const d=l[c]||i,f=d(e[c],n[c],c);G.isUndefined(f)&&d!==a||(t[c]=f)}),t}const HO="1.3.5",Tw={};["object","boolean","number","function","string","symbol"].forEach((e,n)=>{Tw[e]=function(r){return typeof r===e||"a"+(n<1?"n ":" ")+e}});const $O={};Tw.transitional=function(n,t,r){function i(s,o){return"[Axios v"+HO+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(!1===n)throw new on(i(o," has been removed"+(t?" in "+t:"")),on.ERR_DEPRECATED);return t&&!$O[o]&&($O[o]=!0,console.warn(i(o," has been deprecated since v"+t+" and will be removed in the near future"))),!n||n(s,o,a)}};const Mw={assertOptions:function Uq(e,n,t){if("object"!=typeof e)throw new on("options must be an object",on.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const s=r[i],o=n[s];if(o){const a=e[s],l=void 0===a||o(a,s,e);if(!0!==l)throw new on("option "+s+" must be "+l,on.ERR_BAD_OPTION_VALUE)}else if(!0!==t)throw new on("Unknown option "+s,on.ERR_BAD_OPTION)}},validators:Tw},Fa=Mw.validators;class Pm{constructor(n){this.defaults=n,this.interceptors={request:new IO,response:new IO}}request(n,t){"string"==typeof n?(t=t||{}).url=n:t=n||{},t=uc(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:s}=t;let o;void 0!==r&&Mw.assertOptions(r,{silentJSONParsing:Fa.transitional(Fa.boolean),forcedJSONParsing:Fa.transitional(Fa.boolean),clarifyTimeoutError:Fa.transitional(Fa.boolean)},!1),null!=i&&(G.isFunction(i)?t.paramsSerializer={serialize:i}:Mw.assertOptions(i,{encode:Fa.function,serialize:Fa.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase(),o=s&&G.merge(s.common,s[t.method]),o&&G.forEach(["delete","get","head","post","put","patch","common"],p=>{delete s[p]}),t.headers=Jo.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(g){"function"==typeof g.runWhen&&!1===g.runWhen(t)||(l=l&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let c,f,d=0;if(!l){const p=[VO.bind(this),void 0];for(p.unshift.apply(p,a),p.push.apply(p,u),f=p.length,c=Promise.resolve(t);d<f;)c=c.then(p[d++],p[d++]);return c}f=a.length;let h=t;for(d=0;d<f;){const p=a[d++],g=a[d++];try{h=p(h)}catch(M){g.call(this,M);break}}try{c=VO.call(this,h)}catch(p){return Promise.reject(p)}for(d=0,f=u.length;d<f;)c=c.then(u[d++],u[d++]);return c}getUri(n){return AO(NO((n=uc(this.defaults,n)).baseURL,n.url),n.params,n.paramsSerializer)}}G.forEach(["delete","get","head","options"],function(n){Pm.prototype[n]=function(t,r){return this.request(uc(r||{},{method:n,url:t,data:(r||{}).data}))}}),G.forEach(["post","put","patch"],function(n){function t(r){return function(s,o,a){return this.request(uc(a||{},{method:n,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Pm.prototype[n]=t(),Pm.prototype[n+"Form"]=t(!0)});const Nm=Pm;class Sw{constructor(n){if("function"!=typeof n)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},n(function(s,o,a){r.reason||(r.reason=new Rm(s,o,a),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){this.reason?n(this.reason):this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const t=this._listeners.indexOf(n);-1!==t&&this._listeners.splice(t,1)}static source(){let n;return{token:new Sw(function(i){n=i}),cancel:n}}}const Yq=Sw,kw={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(kw).forEach(([e,n])=>{kw[n]=e});const qq=kw,vr=function jO(e){const n=new Nm(e),t=uO(Nm.prototype.request,n);return G.extend(t,Nm.prototype,n,{allOwnKeys:!0}),G.extend(t,n,null,{allOwnKeys:!0}),t.create=function(i){return jO(uc(e,i))},t}(bw);vr.Axios=Nm,vr.CanceledError=Rm,vr.CancelToken=Yq,vr.isCancel=LO,vr.VERSION=HO,vr.toFormData=Am,vr.AxiosError=on,vr.Cancel=vr.CanceledError,vr.all=function(n){return Promise.all(n)},vr.spread=function zq(e){return function(t){return e.apply(null,t)}},vr.isAxiosError=function Wq(e){return G.isObject(e)&&!0===e.isAxiosError},vr.mergeConfig=uc,vr.AxiosHeaders=Jo,vr.formToJSON=e=>xO(G.isHTMLForm(e)?new FormData(e):e),vr.HttpStatusCode=qq,vr.default=vr;const Gq=vr,Zq=["head","options","put","post","patch","delete","get","request"];function Fm(e){if(null==e)return!1;if("boolean"==typeof e.isAxiosError&&e.isAxiosError){if(!e.response)return!0;const t=e.response.status;return null==t||t<400||t>=500}return!0}class Ew{}class Qq{static getAxiosService(){const n=window.axiosProxy;return n?new Proxy({},{get(t,r){if("symbol"!=typeof r&&Zq.includes(r))return(...i)=>n(r,...i)}}):Gq}}class Aw{constructor(n,t,r,i){this._id=n,this._name=t,this._email=r,this._avatarURL=i}get id(){return this._id}get name(){return this._name}get email(){return this._email??""}get avatarURL(){return this._avatarURL??""}static deserialize(n){if("string"!=typeof n.id||"string"!=typeof n.name||typeof n.email<"u"&&"string"!=typeof n.email||typeof n.avatar_url<"u"&&"string"!=typeof n.avatar_url)throw new Error("Invalid data");return new Aw(n.id,n.name,n.email,n.avatar_url)}}class Va{static convertAsyncIterableToList(n){return(0,b.Z)(function*(){const t=[];var s,r=!1,i=!1;try{for(var a,o=yr(n);r=!(a=yield o.next()).done;r=!1)t.push(a.value)}catch(l){i=!0,s=l}finally{try{r&&null!=o.return&&(yield o.return())}finally{if(i)throw s}}return t})()}}class Vm{constructor(n,t,r,i){this._id=n,this._title=t,this._assignmentId=r,this._pointsPossible=i}get id(){return this._id}get title(){return this._title}get assignmentId(){return this._assignmentId}get pointsPossible(){return this._pointsPossible}static deserialize(n){if("string"!=typeof n.id||"string"!=typeof n.title||"string"!=typeof n.assignment_id||"number"!=typeof n.points_possible&&null!=n.points_possible)throw new Error("Invalid data");return new Vm(n.id,n.title,n.assignment_id,n.points_possible??0)}}class Iw{constructor(n,t,r,i){this._id=n,this._title=t,this._studentIds=r,this._lockAt=i}get id(){return this._id}get title(){return this._title}get studentIds(){return this._studentIds}get lockAt(){return this._lockAt}static deserialize(n){if("string"!=typeof n.id||"string"!=typeof n.title||"object"!=typeof n.student_ids||typeof n.lock_at<"u"&&"string"!=typeof n.lock_at||!Array.isArray(n.student_ids))throw new Error("Invalid data");return new Iw(n.id,n.title,n.student_ids,n.lock_at?aO(n.lock_at):void 0)}}class Ow{constructor(n,t){this._id=n,this._name=t}get id(){return this._id}get name(){return this._name}static deserialize(n){if("string"!=typeof n.id||"string"!=typeof n.name)throw new Error("Invalid data");return new Ow(n.id,n.name)}}class xw{constructor(n,t){this._id=n,this._name=t}get id(){return this._id}get name(){return this._name}static deserialize(n){if("string"!=typeof n.id||"string"!=typeof n.name)throw new Error("Invalid data");return new xw(n.id,n.name)}}class Rw{constructor(n,t){this._id=n,this._workflowState=t}get id(){return this._id}get workflowState(){return this._workflowState}static deserialize(n){if("string"!=typeof n.id||"string"!=typeof n.workflow_state)throw new Error("Invalid data");return new Rw(n.id,n.workflow_state)}}class Bm{static execute(n,t=function(){var o=(0,b.Z)(function*(a,l){return null==l});return function(a,l){return o.apply(this,arguments)}}(),r=5,i=250,s=2){return(0,b.Z)(function*(){let o=0,a=i;for(;;){let l,u;try{l=yield n()}catch(c){u=c}if(yield t(l,u)){if(null!=u)throw u;return l}if(!(o<r))throw u??new Error("Result of exponential backoff execution does not pass the checker");o++,console.log(`Retrying... wait for ${a} ms`),yield new Promise(c=>setTimeout(c,a)),a*=s}})()}}class Lw{constructor(n,t){this._id=n,this._name=t}get id(){return this._id}get name(){return this._name}static deserialize(n){if("string"!=typeof n.id||"string"!=typeof n.name)throw new Error("Invalid data");return new Lw(n.id,n.name)}}let In=(()=>{var e=new WeakMap,n=new WeakMap;class t{constructor(i){so(this,e,{writable:!0,value:void 0}),so(this,n,{writable:!0,value:void 0}),this.axiosService=i}hasCredentialConfigured(){return null!=sn(this,e)&&null!=sn(this,n)}configureCredential(i,s){var o=this;return(0,b.Z)(function*(){tr(o,e,i),tr(o,n,s);try{yield o.getUserInformation("self")}catch(a){return a}})()}clearCredential(){var i=this;return(0,b.Z)(function*(){tr(i,e,void 0),tr(i,n,void 0)})()}rawAPIRequest(i,s){var o=this;return(0,b.Z)(function*(){const a=function(){var l=(0,b.Z)(function*(){return yield o.axiosService.request({...s,url:sn(o,e)+i,headers:{...s?.headers,Accept:"application/json+canvas-string-ids",Authorization:"Bearer "+sn(o,n)}})});return function(){return l.apply(this,arguments)}}();return yield Bm.execute(a,function(){var l=(0,b.Z)(function*(u,c){return!Fm(c)});return function(u,c){return l.apply(this,arguments)}}())})()}apiRequest(i,s){var o=this;return(0,b.Z)(function*(){return(yield o.rawAPIRequest(i,s)).data})()}paginatedRequestHandler(i){var s=this;return(0,b.Z)(function*(){const o=function(){var a=(0,b.Z)(function*(){return yield s.axiosService.request({url:i,headers:{Accept:"application/json+canvas-string-ids",Authorization:"Bearer "+sn(s,n)}})});return function(){return a.apply(this,arguments)}}();return yield Bm.execute(o,function(){var a=(0,b.Z)(function*(l,u){return!Fm(u)});return function(l,u){return a.apply(this,arguments)}}())})()}safeGuardForAssignment(i,s){var o=this;return(0,b.Z)(function*(){const a=yield o.apiRequest(`/api/v1/courses/${i}/assignments/${s}`);if(!a.name.includes("Token ATM")||a.id!=s)throw new Error("Safe guard for assignment is violated!")})()}safeGuardForQuiz(i,s){var o=this;return(0,b.Z)(function*(){const a=yield o.apiRequest(`/api/v1/courses/${i}/quizzes/${s}`);if(!a.title.includes("Token ATM")||a.id!=s)throw new Error("Safe guard for quiz is violated!")})()}safeGuardForAssignmentGroup(i,s){var o=this;return(0,b.Z)(function*(){const a=yield o.apiRequest(`/api/v1/courses/${i}/assignment_groups/${s}`);if(!a.name.includes("Token ATM")||a.id!=s)throw new Error("Safe guard for assignment group is violated!")})()}safeGuardForModule(i,s){var o=this;return(0,b.Z)(function*(){const a=yield o.apiRequest(`/api/v1/courses/${i}/modules/${s}`);if(!a.name.includes("Token ATM")||a.id!=s)throw new Error("Safe guard for module is violated!")})()}safeGuardForPage(i,s){var o=this;return(0,b.Z)(function*(){const a=yield o.apiRequest(`/api/v1/courses/${i}/pages/${s}`);if(!a.title.includes("Token ATM")||a.page_id!=s)throw new Error("Safe guard for page is violated!")})()}getCourses(i="teacher",s="active"){var o=this;return(0,b.Z)(function*(){const a=yield o.rawAPIRequest("/api/v1/courses",{params:{per_page:100,enrollment_type:i,enrollment_state:s,include:["term"]}});return new Ar(a,function(){var l=(0,b.Z)(function*(u){return yield o.paginatedRequestHandler(u)});return function(u){return l.apply(this,arguments)}}(),l=>{let u=l;if(Object.hasOwn(l,"meta")){const c=l.meta.primaryCollection,d=new Map,f=Object.keys(l).filter(h=>!["meta",c].includes(h))[0];if(f)for(const h of l[f])h.id&&d.set(h.id,h);u=l[c];for(const h of u)h.term=d.get(h.enrollment_term_id)}return u.map(c=>dw.deserialize(c))})})()}getPageContentById(i,s){var o=this;return(0,b.Z)(function*(){const l=(yield o.rawAPIRequest(`/api/v1/courses/${i}/pages/${s}`)).data.body;if(!l)throw new Error("Page fetch error");return l})()}getUserInformation(i){var s=this;return(0,b.Z)(function*(){const o=yield s.apiRequest(`/api/v1/users/${i}`);return Aw.deserialize(o)})()}deletePage(i,s){var o=this;return(0,b.Z)(function*(){yield o.safeGuardForPage(i,s),yield o.apiRequest(`/api/v1/courses/${i}/pages/${s}`,{method:"delete"})})()}createPage(i,s,o,a="teachers",l=!1,u=!1){var c=this;return(0,b.Z)(function*(){return(yield c.apiRequest(`/api/v1/courses/${i}/pages`,{method:"post",data:{wiki_page:{title:s,body:o,editing_roles:a,notify_of_update:l,published:u}}})).page_id})()}modifyPage(i,s,o,a=!1,l=!1){var u=this;return(0,b.Z)(function*(){return yield u.safeGuardForPage(i,s),(yield u.apiRequest(`/api/v1/courses/${i}/pages/${s}`,{method:"put",data:{wiki_page:{body:o,notify_of_update:a,published:l}}})).page_id})()}getPageIdByName(i,s){var o=this;return(0,b.Z)(function*(){let a=yield Va.convertAsyncIterableToList(new Ar(yield o.rawAPIRequest(`/api/v1/courses/${i}/pages`,{params:{search_term:s,per_page:100}}),function(){var l=(0,b.Z)(function*(u){return yield o.paginatedRequestHandler(u)});return function(u){return l.apply(this,arguments)}}(),l=>l.map(u=>[u.page_id,u.title])));if(a=a.filter(l=>l[1]==s),0==a.length)throw new Error("Page not found");if(a.length>1)throw new Error("Multiple pages found");return a[0]?.[0]})()}getPageContentByName(i,s){var o=this;return(0,b.Z)(function*(){return yield o.getPageContentById(i,yield o.getPageIdByName(i,s))})()}getQuizSubmissions(i,s){var o=this;return(0,b.Z)(function*(){const a=yield o.rawAPIRequest(`/api/v1/courses/${i}/quizzes/${s}/submissions`,{params:{per_page:100}});return new Ar(a,function(){var l=(0,b.Z)(function*(u){return yield o.paginatedRequestHandler(u)});return function(u){return l.apply(this,arguments)}}(),l=>l.quiz_submissions.map(u=>fw.deserialize(u)))})()}getSubmissionComments(i,s,o){var a=this;return(0,b.Z)(function*(){return(yield a.apiRequest(`/api/v1/courses/${i}/assignments/${o}/submissions/${s}`,{params:{include:["submission_comments"]}})).submission_comments.map(u=>oc.deserialize(u))})()}getSingleSubmissionGrade(i,s,o,a=0){var l=this;return(0,b.Z)(function*(){return(yield l.apiRequest(`/api/v1/courses/${i}/assignments/${o}/submissions/${s}`)).score??a})()}deleteSubmissionComment(i,s,o,a){var l=this;return(0,b.Z)(function*(){yield l.safeGuardForAssignment(i,o),yield l.apiRequest(`/api/v1/courses/${i}/assignments/${o}/submissions/${s}/comments/${a}`,{method:"delete"})})()}postComment(i,s,o,a){var l=this;return(0,b.Z)(function*(){yield l.safeGuardForAssignment(i,o);const c=(yield l.apiRequest(`/api/v1/courses/${i}/assignments/${o}/submissions/${s}`,{method:"put",data:{comment:{text_comment:a}}})).submission_comments;for(let d=c.length-1;d>=0;d--){let f;try{f=oc.deserialize(c[d])}catch{continue}if(f.content==a)return f}throw new Error("Comment creation failed")})()}deleteComment(i,s,o,a){var l=this;return(0,b.Z)(function*(){yield l.safeGuardForAssignment(i,o),yield l.apiRequest(`/api/v1/courses/${i}/assignments/${o}/submissions/${s}/comments/${a}`,{method:"delete"})})()}modifyComment(i,s,o,a,l){var u=this;return(0,b.Z)(function*(){yield u.safeGuardForAssignment(i,o);const c=yield u.apiRequest(`/api/v1/courses/${i}/assignments/${o}/submissions/${s}/comments/${a}`,{method:"put",data:{comment:l}});return oc.deserialize(c)})()}gradeSubmission(i,s,o,a){var l=this;return(0,b.Z)(function*(){yield l.safeGuardForAssignment(i,o),yield l.apiRequest(`/api/v1/courses/${i}/assignments/${o}/submissions/${s}`,{method:"put",data:{submission:{posted_grade:a.toString()}}})})()}gradeSubmissionWithPostingComment(i,s,o,a,l){var u=this;return(0,b.Z)(function*(){yield u.safeGuardForAssignment(i,o);const d=(yield u.apiRequest(`/api/v1/courses/${i}/assignments/${o}/submissions/${s}`,{method:"put",data:{comment:{text_comment:l},submission:{posted_grade:a.toString()}}})).submission_comments;for(let f=d.length-1;f>=0;f--){let h;try{h=oc.deserialize(d[f])}catch{continue}if(h.content==l)return h}throw new Error("Comment creation failed")})()}getAssignmentIdByQuizId(i,s){var o=this;return(0,b.Z)(function*(){return(yield o.apiRequest(`/api/v1/courses/${i}/quizzes/${s}`)).assignment_id})()}getQuizSubmissionAttempt(i,s,o,a,l=1,{assignmentId:u}={}){var c=this;return(0,b.Z)(function*(){u||(u=yield c.getAssignmentIdByQuizId(i,s));const d=new Ar(yield c.rawAPIRequest(`/api/v1/courses/${i}/quizzes/${s}/questions`,{params:{per_page:100,quiz_submission_id:o,quiz_submission_attempt:l}}),function(){var Vn=(0,b.Z)(function*(xr){return yield c.paginatedRequestHandler(xr)});return function(xr){return Vn.apply(this,arguments)}}(),Vn=>Vn.map(xr=>{const zr={id:xr.id,answers:[]};for(const Oo of xr.answers)zr.answers.push({id:Oo.id,text:Oo.text});return zr})),f=new Map;var g,h=!1,p=!1;try{for(var O,M=yr(d);h=!(O=yield M.next()).done;h=!1){const Vn=O.value;f.has(Vn.id)||f.set(Vn.id,new Map);for(const xr of Vn.answers)f.get(Vn.id)?.set(xr.id,xr.text)}}catch(Vn){p=!0,g=Vn}finally{try{h&&null!=M.return&&(yield M.return())}finally{if(p)throw g}}const Y=(yield c.apiRequest(`/api/v1/courses/${i}/assignments/${u}/submissions/${a}`,{params:{include:["submission_history"]}})).submission_history,B=new Map;let ue=new Date;for(const Vn of Y){if(Vn.attempt!=l)continue;ue=aO(Vn.submitted_at);const xr=Vn.submission_data;for(const zr of xr){if(null==zr.answer_id)continue;const Oo=f.get(zr.question_id)?.get(zr.answer_id);Oo&&B.set(zr.question_id,Oo)}break}const nt=[];var ai,it=!1,fn=!1;try{for(var Yr,Ur=yr(d);it=!(Yr=yield Ur.next()).done;it=!1)nt.push(B.get(Yr.value.id)??"")}catch(Vn){fn=!0,ai=Vn}finally{try{it&&null!=Ur.return&&(yield Ur.return())}finally{if(fn)throw ai}}return[ue,nt]})()}getCourseStudentEnrollments(i){var s=this;return(0,b.Z)(function*(){return new Ar(yield s.rawAPIRequest(`/api/v1/courses/${i}/users`,{params:{enrollment_type:["student"],enrollment_state:["active"],per_page:100}}),function(){var o=(0,b.Z)(function*(a){return yield s.paginatedRequestHandler(a)});return function(a){return o.apply(this,arguments)}}(),o=>o.map(a=>df.deserialize(a)))})()}getModuleScore(i,s,o){var a=this;return(0,b.Z)(function*(){let l=0,u=0;const c=new Ar(yield a.rawAPIRequest(`/api/v1/courses/${i}/modules/${s}/items`,{params:{include:["content_details"],per_page:100}}),function(){var M=(0,b.Z)(function*(O){return yield a.paginatedRequestHandler(O)});return function(O){return M.apply(this,arguments)}}(),M=>M.map(O=>Cm.deserialize(O)));var h,d=!1,f=!1;try{for(var g,p=yr(c);d=!(g=yield p.next()).done;d=!1){const M=g.value;if(M.contentId)switch(u+=M.pointsPossible,M.type){case"Assignment":l+=(yield a.getSingleSubmissionGrade(i,o,M.contentId,0));break;case"Quiz":l+=(yield a.getSingleSubmissionGrade(i,o,yield a.getAssignmentIdByQuizId(i,M.contentId),0))}}}catch(M){f=!0,h=M}finally{try{d&&null!=p.return&&(yield p.return())}finally{if(f)throw h}}return[l,u]})()}getCourseStudents(i,s=50,o){var a=this;return(0,b.Z)(function*(){return new m6(yield a.rawAPIRequest(`/api/v1/courses/${i}/users`,{params:{enrollment_type:["student"],enrollment_state:["active"],per_page:s,search_term:o}}),function(){var l=(0,b.Z)(function*(u){return yield a.paginatedRequestHandler(u)});return function(u){return l.apply(this,arguments)}}(),l=>l.map(u=>df.deserialize(u)))})()}getStudentsGrades(i,s,o){var a=this;return(0,b.Z)(function*(){const l=new Ar(yield a.rawAPIRequest(`/api/v1/courses/${i}/students/submissions`,{params:{student_ids:o,assignment_ids:[s],enrollment_state:"active",per_page:100}}),function(){var g=(0,b.Z)(function*(M){return yield a.paginatedRequestHandler(M)});return function(M){return g.apply(this,arguments)}}(),g=>g.map(M=>({user_id:M.user_id,score:M.score??0}))),u=new Map;var f,c=!1,d=!1;try{for(var p,h=yr(l);c=!(p=yield h.next()).done;c=!1){const g=p.value;u.set(g.user_id,g.score)}}catch(g){d=!0,f=g}finally{try{c&&null!=h.return&&(yield h.return())}finally{if(d)throw f}}return u})()}createAssignment(i,s,o,a=""){var l=this;return(0,b.Z)(function*(){return(yield l.apiRequest(`/api/v1/courses/${i}/assignments`,{method:"post",data:{assignment:{name:o,submission_types:["none"],notify_of_update:!1,points_possible:0,description:a,assignment_group_id:s,published:!0}}})).id})()}deleteAssignment(i,s){var o=this;return(0,b.Z)(function*(){yield o.safeGuardForAssignment(i,s),yield o.apiRequest(`/api/v1/courses/${i}/assignments/${s}`,{method:"delete"})})()}createModule(i,s){var o=this;return(0,b.Z)(function*(){return(yield o.apiRequest(`/api/v1/courses/${i}/modules`,{method:"post",data:{module:{name:s}}})).id})()}publishModule(i,s){var o=this;return(0,b.Z)(function*(){return yield o.safeGuardForModule(i,s),(yield o.apiRequest(`/api/v1/courses/${i}/modules/${s}`,{method:"put",data:{module:{published:!0}}})).id})()}deleteModule(i,s,o=!1){var a=this;return(0,b.Z)(function*(){if(yield a.safeGuardForModule(i,s),o){const h=new Ar(yield a.rawAPIRequest(`/api/v1/courses/${i}/modules/${s}/items`,{params:{include:["content_details"],per_page:100}}),function(){var p=(0,b.Z)(function*(g){return yield a.paginatedRequestHandler(g)});return function(g){return p.apply(this,arguments)}}(),p=>p.map(g=>Cm.deserialize(g)));var c,l=!1,u=!1;try{for(var f,d=yr(h);l=!(f=yield d.next()).done;l=!1){const p=f.value;if(p.contentId)switch(p.type){case"Assignment":yield a.deleteAssignment(i,p.contentId);break;case"Quiz":yield a.deleteQuiz(i,p.contentId)}}}catch(p){u=!0,c=p}finally{try{l&&null!=d.return&&(yield d.return())}finally{if(u)throw c}}}yield a.apiRequest(`/api/v1/courses/${i}/modules/${s}`,{method:"delete"})})()}getModuleIdByName(i,s){var o=this;return(0,b.Z)(function*(){const a=new Ar(yield o.rawAPIRequest(`/api/v1/courses/${i}/modules`,{params:{search_term:s,per_page:100}}),function(){var p=(0,b.Z)(function*(g){return yield o.paginatedRequestHandler(g)});return function(g){return p.apply(this,arguments)}}(),p=>p.map(g=>Ow.deserialize(g)));let l;var d,u=!1,c=!1;try{for(var h,f=yr(a);u=!(h=yield f.next()).done;u=!1){const p=h.value;if(p.name==s){if(null!=l)throw new Error("Multiple modules found");l=p.id}}}catch(p){c=!0,d=p}finally{try{u&&null!=f.return&&(yield f.return())}finally{if(c)throw d}}if(null==l)throw new Error("Module not found");return l})()}addModuleItem(i,s,o,a){var l=this;return(0,b.Z)(function*(){return yield l.safeGuardForModule(i,s),(yield l.apiRequest(`/api/v1/courses/${i}/modules/${s}/items`,{method:"post",data:{module_item:{type:o,content_id:a}}})).id})()}getAssignmentGroupIdByName(i,s){var o=this;return(0,b.Z)(function*(){const a=new Ar(yield o.rawAPIRequest(`/api/v1/courses/${i}/assignment_groups`,{params:{per_page:100}}),function(){var p=(0,b.Z)(function*(g){return yield o.paginatedRequestHandler(g)});return function(g){return p.apply(this,arguments)}}(),p=>p.map(g=>[g.id,g.name]));let l;var d,u=!1,c=!1;try{for(var h,f=yr(a);u=!(h=yield f.next()).done;u=!1){const[p,g]=h.value;if(g==s){if(null!=l)throw new Error("Multiple assignment groups found");l=p}}}catch(p){c=!0,d=p}finally{try{u&&null!=f.return&&(yield f.return())}finally{if(c)throw d}}if(null==l)throw new Error("No assignment group found");return l})()}deleteAssignmentGroup(i,s){var o=this;return(0,b.Z)(function*(){yield o.safeGuardForAssignmentGroup(i,s),yield o.apiRequest(`/api/v1/courses/${i}/assignment_groups/${s}`,{method:"delete"})})()}createAssignmentGroup(i,s){var o=this;return(0,b.Z)(function*(){return(yield o.apiRequest(`/api/v1/courses/${i}/assignment_groups`,{method:"post",data:{name:s,group_weight:0}})).id})()}deleteQuiz(i,s){var o=this;return(0,b.Z)(function*(){yield o.safeGuardForQuiz(i,s),yield o.apiRequest(`/api/v1/courses/${i}/quizzes/${s}`,{method:"delete"})})()}createQuiz(i,s,o,a,l="graded_survey"){var u=this;return(0,b.Z)(function*(){return(yield u.apiRequest(`/api/v1/courses/${i}/quizzes`,{method:"post",data:{quiz:{title:o,description:a,quiz_type:l,assignment_group_id:s,allowed_attempts:100,points_possible:0,published:!1}}})).id})()}canQuizUnpublished(i,s){var o=this;return(0,b.Z)(function*(){return(yield o.apiRequest(`/api/v1/courses/${i}/quizzes/${s}`)).unpublishable})()}changeQuizPublishState(i,s,o=!0,a=!1){var l=this;return(0,b.Z)(function*(){yield l.safeGuardForQuiz(i,s);try{yield l.apiRequest(`/api/v1/courses/${i}/quizzes/${s}`,{method:"put",data:{quiz:{published:o,notify_of_update:a}}})}catch{return!1}return!0})()}modifyQuiz(i,s,o,a,l=!1){var u=this;return(0,b.Z)(function*(){return yield u.safeGuardForQuiz(i,s),(yield u.apiRequest(`/api/v1/courses/${i}/quizzes/${s}`,{method:"put",data:{quiz:{title:o,description:a,notify_of_update:l}}})).id})()}changeQuizLockDate(i,s,o){var a=this;return(0,b.Z)(function*(){yield a.safeGuardForQuiz(i,s),yield a.apiRequest(`/api/v1/courses/${i}/quizzes/${s}`,{method:"put",data:{quiz:{lock_at:null==o?null:Mm(o)}}})})()}clearQuizQuestions(i,s){var o=this;return(0,b.Z)(function*(){yield o.safeGuardForQuiz(i,s);const a=new Ar(yield o.rawAPIRequest(`/api/v1/courses/${i}/quizzes/${s}/questions`,{params:{per_page:100}}),function(){var h=(0,b.Z)(function*(p){return yield o.paginatedRequestHandler(p)});return function(p){return h.apply(this,arguments)}}(),h=>h.map(p=>p.id));var c,l=!1,u=!1;try{for(var f,d=yr(a);l=!(f=yield d.next()).done;l=!1){const h=f.value;yield o.apiRequest(`/api/v1/courses/${i}/quizzes/${s}/questions/${h}`,{method:"delete"})}}catch(h){u=!0,c=h}finally{try{l&&null!=d.return&&(yield d.return())}finally{if(u)throw c}}})()}createQuizQuestions(i,s,o){var a=this;return(0,b.Z)(function*(){yield a.safeGuardForQuiz(i,s);for(const l of o)yield a.apiRequest(`/api/v1/courses/${i}/quizzes/${s}/questions`,{method:"post",data:{question:l.toJSON()}})})()}replaceQuizQuestions(i,s,o){var a=this;return(0,b.Z)(function*(){yield a.safeGuardForQuiz(i,s);const l=yield Va.convertAsyncIterableToList(new Ar(yield a.rawAPIRequest(`/api/v1/courses/${i}/quizzes/${s}/questions`,{params:{per_page:100}}),function(){var c=(0,b.Z)(function*(d){return yield a.paginatedRequestHandler(d)});return function(d){return c.apply(this,arguments)}}(),c=>c.map(d=>d.id))),u=Math.min(l.length,o.length);for(let c=0;c<u;c++)yield a.apiRequest(`/api/v1/courses/${i}/quizzes/${s}/questions/${l[c]}`,{method:"put",data:{question:o[c]?.toJSON()}});for(let c=u;c<l.length;c++)yield a.apiRequest(`/api/v1/courses/${i}/quizzes/${s}/questions/${l[c]}`,{method:"delete"});for(let c=u;c<o.length;c++)yield a.apiRequest(`/api/v1/courses/${i}/quizzes/${s}/questions`,{method:"post",data:{question:o[c]?.toJSON()}})})()}getQuiz(i,s){var o=this;return(0,b.Z)(function*(){const a=yield o.apiRequest(`/api/v1/courses/${i}/quizzes/${s}`);return Vm.deserialize(a)})()}getAssignmentOverrides(i,s){var o=this;return(0,b.Z)(function*(){return new Ar(yield o.rawAPIRequest(`/api/v1/courses/${i}/assignments/${s}/overrides`),function(){var a=(0,b.Z)(function*(l){return yield o.paginatedRequestHandler(l)});return function(l){return a.apply(this,arguments)}}(),a=>a.map(l=>Iw.deserialize(l)))})()}createAssignmentOverrideForStudent(i,s,o,a,l){var u=this;return(0,b.Z)(function*(){let c,d=0;var p,f=!1,h=!1;try{for(var M,g=yr(yield u.getAssignmentOverrides(i,s));f=!(M=yield g.next()).done;f=!1){const O=M.value;{const Y=O.title.split(" - ");if(Y.length>=3&&(d=parseInt(Y[2])+1),O.studentIds.includes(o))return!1;if(O.studentIds.length>=t.ASSIGNMENT_OVERRIDE_MAX_SIZE||null==O.lockAt||0!=Sm(O.lockAt,l))continue;c=O;break}}}catch(O){h=!0,p=O}finally{try{f&&null!=g.return&&(yield g.return())}finally{if(h)throw p}}return c?yield u.apiRequest(`/api/v1/courses/${i}/assignments/${s}/overrides/${c.id}`,{method:"put",data:{assignment_override:{student_ids:c.studentIds.concat([o]),title:c.title,lock_at:Mm(l)}}}):yield u.apiRequest(`/api/v1/courses/${i}/assignments/${s}/overrides`,{method:"post",data:{assignment_override:{student_ids:[o],title:`${a} - ${d}`,lock_at:Mm(l)}}}),!0})()}deleteAssignmentOverrideForStudent(i,s,o){var a=this;return(0,b.Z)(function*(){let l;var d,u=!1,c=!1;try{for(var h,f=yr(yield a.getAssignmentOverrides(i,s));u=!(h=yield f.next()).done;u=!1){const p=h.value;if(p.studentIds.includes(o)){l=p;break}}}catch(p){c=!0,d=p}finally{try{u&&null!=f.return&&(yield f.return())}finally{if(c)throw d}}return null!=l&&(1==l.studentIds.length?yield a.apiRequest(`/api/v1/courses/${i}/assignments/${s}/overrides/${l.id}`,{method:"delete"}):(l.studentIds.splice(l.studentIds.indexOf(o),1),yield a.apiRequest(`/api/v1/courses/${i}/assignments/${s}/overrides/${l.id}`,{method:"put",data:{assignment_override:{student_ids:l.studentIds,title:l.title,lock_at:l.lockAt?Mm(l.lockAt):void 0}}})),!0)})()}getAssignmentSubmission(i,s,o){var a=this;return(0,b.Z)(function*(){return Rw.deserialize(yield a.apiRequest(`/api/v1/courses/${i}/assignments/${s}/submissions/${o}`))})()}getQuizIdByName(i,s){var o=this;return(0,b.Z)(function*(){const a=new Ar(yield o.rawAPIRequest(`/api/v1/courses/${i}/quizzes`,{params:{search_term:s,per_page:100}}),function(){var p=(0,b.Z)(function*(g){return yield o.paginatedRequestHandler(g)});return function(g){return p.apply(this,arguments)}}(),p=>p.map(g=>Vm.deserialize(g)));let l;var d,u=!1,c=!1;try{for(var h,f=yr(a);u=!(h=yield f.next()).done;u=!1){const p=h.value;if(p.title==s){if(null!=l)throw new Error("Multiple quizzes found");l=p.id}}}catch(p){c=!0,d=p}finally{try{u&&null!=f.return&&(yield f.return())}finally{if(c)throw d}}if(!l)throw new Error("Quiz not found");return l})()}getAssignmentIdByName(i,s){var o=this;return(0,b.Z)(function*(){const a=new Ar(yield o.rawAPIRequest(`/api/v1/courses/${i}/assignments`,{params:{search_term:s,per_page:100}}),function(){var p=(0,b.Z)(function*(g){return yield o.paginatedRequestHandler(g)});return function(g){return p.apply(this,arguments)}}(),p=>p.map(g=>xw.deserialize(g)));let l;var d,u=!1,c=!1;try{for(var h,f=yr(a);u=!(h=yield f.next()).done;u=!1){const p=h.value;if(p.name==s){if(null!=l)throw new Error("Multiple assignments found");l=p.id}}}catch(p){c=!0,d=p}finally{try{u&&null!=f.return&&(yield f.return())}finally{if(c)throw d}}if(!l)throw new Error("Assignment not found");return l})()}getStudentByEmail(i,s){var o=this;return(0,b.Z)(function*(){const a=new Ar(yield o.rawAPIRequest(`/api/v1/courses/${i}/users`,{params:{enrollment_type:["student"],enrollment_state:["active"],per_page:100,search_term:s}}),function(){var p=(0,b.Z)(function*(g){return yield o.paginatedRequestHandler(g)});return function(g){return p.apply(this,arguments)}}(),p=>p.map(g=>df.deserialize(g)));let l;var d,u=!1,c=!1;try{for(var h,f=yr(a);u=!(h=yield f.next()).done;u=!1){const p=h.value;if(p.email==s){if(l)throw new Error("Multiple students found with the same email!");l=p}}}catch(p){c=!0,d=p}finally{try{u&&null!=f.return&&(yield f.return())}finally{if(c)throw d}}return l})()}modifyAssignmentDescription(i,s,o){var a=this;return(0,b.Z)(function*(){yield a.safeGuardForAssignment(i,s),yield a.apiRequest(`/api/v1/courses/${i}/assignments/${s}`,{method:"put",data:{assignment:{description:o}}})})()}modifyModuleName(i,s,o){var a=this;return(0,b.Z)(function*(){yield a.safeGuardForModule(i,s),yield a.apiRequest(`/api/v1/courses/${i}/modules/${s}`,{method:"put",data:{module:{name:o}}})})()}modifyAssignmentGroupName(i,s,o){var a=this;return(0,b.Z)(function*(){yield a.safeGuardForAssignmentGroup(i,s),yield a.apiRequest(`/api/v1/courses/${i}/assignment_groups/${s}`,{method:"put",data:{name:o}})})()}getSections(i){var s=this;return(0,b.Z)(function*(){return new Ar(yield s.rawAPIRequest(`/api/v1/courses/${i}/sections`),function(){var o=(0,b.Z)(function*(a){return yield s.paginatedRequestHandler(a)});return function(a){return o.apply(this,arguments)}}(),o=>o.map(a=>Lw.deserialize(a)))})()}getStudentSectionEnrollments(i,s){var o=this;return(0,b.Z)(function*(){return new Ar(yield o.rawAPIRequest(`/api/v1/courses/${i}/enrollments`,{params:{type:["StudentEnrollment"],state:["active"],user_id:s}}),function(){var a=(0,b.Z)(function*(l){return yield o.paginatedRequestHandler(l)});return function(l){return a.apply(this,arguments)}}(),a=>a.map(l=>l.course_section_id))})()}}return t.ASSIGNMENT_OVERRIDE_MAX_SIZE=35,t.\u0275fac=function(i){return new(i||t)(J(Ew))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function UO(e,n,t){if(!n.has(e))throw new TypeError("attempted to get private field on non-instance");return t}const Xq="function"==typeof atob,eG="function"==typeof btoa,cc="function"==typeof Buffer,zO="function"==typeof TextDecoder?new TextDecoder:void 0,WO="function"==typeof TextEncoder?new TextEncoder:void 0,yf=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),Hm=(e=>{let n={};return e.forEach((t,r)=>n[t]=r),n})(yf),nG=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,$r=String.fromCharCode.bind(String),qO="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),GO=e=>e.replace(/=/g,"").replace(/[+\/]/g,n=>"+"==n?"-":"_"),ZO=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),Pw=eG?e=>btoa(e):cc?e=>Buffer.from(e,"binary").toString("base64"):e=>{let n,t,r,i,s="";const o=e.length%3;for(let a=0;a<e.length;){if((t=e.charCodeAt(a++))>255||(r=e.charCodeAt(a++))>255||(i=e.charCodeAt(a++))>255)throw new TypeError("invalid character found");n=t<<16|r<<8|i,s+=yf[n>>18&63]+yf[n>>12&63]+yf[n>>6&63]+yf[63&n]}return o?s.slice(0,o-3)+"===".substring(o):s},Nw=cc?e=>Buffer.from(e).toString("base64"):e=>{let t=[];for(let r=0,i=e.length;r<i;r+=4096)t.push($r.apply(null,e.subarray(r,r+4096)));return Pw(t.join(""))},rG=e=>{if(e.length<2)return(n=e.charCodeAt(0))<128?e:n<2048?$r(192|n>>>6)+$r(128|63&n):$r(224|n>>>12&15)+$r(128|n>>>6&63)+$r(128|63&n);var n=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return $r(240|n>>>18&7)+$r(128|n>>>12&63)+$r(128|n>>>6&63)+$r(128|63&n)},iG=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,JO=cc?e=>Buffer.from(e,"utf8").toString("base64"):WO?e=>Nw(WO.encode(e)):e=>Pw((e=>e.replace(iG,rG))(e)),sG=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,oG=e=>{switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return $r(55296+(t>>>10))+$r(56320+(1023&t));case 3:return $r((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return $r((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},Fw=Xq?e=>atob(ZO(e)):cc?e=>Buffer.from(e,"base64").toString("binary"):e=>{if(e=e.replace(/\s+/g,""),!nG.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(3&e.length));let n,r,i,t="";for(let s=0;s<e.length;)n=Hm[e.charAt(s++)]<<18|Hm[e.charAt(s++)]<<12|(r=Hm[e.charAt(s++)])<<6|(i=Hm[e.charAt(s++)]),t+=64===r?$r(n>>16&255):64===i?$r(n>>16&255,n>>8&255):$r(n>>16&255,n>>8&255,255&n);return t},nx=cc?e=>qO(Buffer.from(e,"base64")):e=>qO(Fw(e).split("").map(n=>n.charCodeAt(0))),aG=cc?e=>Buffer.from(e,"base64").toString("utf8"):zO?e=>zO.decode(nx(e)):e=>(e=>e.replace(sG,oG))(Fw(e)),ix=e=>ZO(e.replace(/[-_]/g,n=>"-"==n?"+":"/")),ni_encode=(e,n=!1)=>n?GO(JO(e)):JO(e),ni_decode=e=>aG(ix(e)),ni_fromUint8Array=(e,n=!1)=>n?GO(Nw(e)):Nw(e),ni_toUint8Array=e=>nx(ix(e));var jm=ce(395);class lx extends Map{constructor(n={}){if(super(),!(n.maxSize&&n.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");if("number"==typeof n.maxAge&&0===n.maxAge)throw new TypeError("`maxAge` must be a number greater than 0");this.maxSize=n.maxSize,this.maxAge=n.maxAge||Number.POSITIVE_INFINITY,this.onEviction=n.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_emitEvictions(n){if("function"==typeof this.onEviction)for(const[t,r]of n)this.onEviction(t,r.value)}_deleteIfExpired(n,t){return"number"==typeof t.expiry&&t.expiry<=Date.now()&&("function"==typeof this.onEviction&&this.onEviction(n,t.value),this.delete(n))}_getOrDeleteIfExpired(n,t){if(!1===this._deleteIfExpired(n,t))return t.value}_getItemValue(n,t){return t.expiry?this._getOrDeleteIfExpired(n,t):t.value}_peek(n,t){const r=t.get(n);return this._getItemValue(n,r)}_set(n,t){this.cache.set(n,t),this._size++,this._size>=this.maxSize&&(this._size=0,this._emitEvictions(this.oldCache),this.oldCache=this.cache,this.cache=new Map)}_moveToRecent(n,t){this.oldCache.delete(n),this._set(n,t)}*_entriesAscending(){for(const n of this.oldCache){const[t,r]=n;this.cache.has(t)||!1===this._deleteIfExpired(t,r)&&(yield n)}for(const n of this.cache){const[t,r]=n;!1===this._deleteIfExpired(t,r)&&(yield n)}}get(n){if(this.cache.has(n)){const t=this.cache.get(n);return this._getItemValue(n,t)}if(this.oldCache.has(n)){const t=this.oldCache.get(n);if(!1===this._deleteIfExpired(n,t))return this._moveToRecent(n,t),t.value}}set(n,t,{maxAge:r=this.maxAge}={}){const i="number"==typeof r&&r!==Number.POSITIVE_INFINITY?Date.now()+r:void 0;this.cache.has(n)?this.cache.set(n,{value:t,expiry:i}):this._set(n,{value:t,expiry:i})}has(n){return this.cache.has(n)?!this._deleteIfExpired(n,this.cache.get(n)):!!this.oldCache.has(n)&&!this._deleteIfExpired(n,this.oldCache.get(n))}peek(n){return this.cache.has(n)?this._peek(n,this.cache):this.oldCache.has(n)?this._peek(n,this.oldCache):void 0}delete(n){const t=this.cache.delete(n);return t&&this._size--,this.oldCache.delete(n)||t}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}resize(n){if(!(n&&n>0))throw new TypeError("`maxSize` must be a number greater than 0");const t=[...this._entriesAscending()],r=t.length-n;r<0?(this.cache=new Map(t),this.oldCache=new Map,this._size=t.length):(r>0&&this._emitEvictions(t.slice(0,r)),this.oldCache=new Map(t.slice(r)),this.cache=new Map,this._size=0),this.maxSize=n}*keys(){for(const[n]of this)yield n}*values(){for(const[,n]of this)yield n}*[Symbol.iterator](){for(const n of this.cache){const[t,r]=n;!1===this._deleteIfExpired(t,r)&&(yield[t,r.value])}for(const n of this.oldCache){const[t,r]=n;this.cache.has(t)||!1===this._deleteIfExpired(t,r)&&(yield[t,r.value])}}*entriesDescending(){let n=[...this.cache];for(let t=n.length-1;t>=0;--t){const r=n[t],[i,s]=r;!1===this._deleteIfExpired(i,s)&&(yield[i,s.value])}n=[...this.oldCache];for(let t=n.length-1;t>=0;--t){const r=n[t],[i,s]=r;this.cache.has(i)||!1===this._deleteIfExpired(i,s)&&(yield[i,s.value])}}*entriesAscending(){for(const[n,t]of this._entriesAscending())yield[n,t.value]}get size(){if(!this._size)return this.oldCache.size;let n=0;for(const t of this.oldCache.keys())this.cache.has(t)||n++;return Math.min(this._size+n,this.maxSize)}entries(){return this.entriesAscending()}forEach(n,t=this){for(const[r,i]of this.entriesAscending())n.call(t,i,r,this)}get[Symbol.toStringTag](){return JSON.stringify([...this.entriesAscending()])}}const Bw=new lx({maxSize:1e5}),ux=e=>!("object"!=typeof e||null===e||e instanceof RegExp||e instanceof Error||e instanceof Date),cx=(e,n={})=>{if(!ux(e))return e;const{separator:t="_",exclude:r,deep:i=!1}=n,s=o=>(a,l)=>{if(i&&ux(l)&&(l=jm(l,s(void 0===o?a:`${o}.${a}`))),!r||!((e,n)=>e.some(t=>"string"==typeof t?t===n:(t.lastIndex=0,t.test(n))))(r,a)){const u=`${t}${a}`;if(Bw.has(u))a=Bw.get(u);else{const c=function cG(e,{separator:n="_",preserveConsecutiveUppercase:t=!1}={}){if("string"!=typeof e||"string"!=typeof n)throw new TypeError("The `text` and `separator` arguments should be of type `string`");if(e.length<2)return t?e:e.toLowerCase();const r=`$1${n}$2`,i=e.replace(/([\p{Lowercase_Letter}\d])(\p{Uppercase_Letter})/gu,r);return t?((e,n)=>(e=e.replace(new RegExp("((?<![\\p{Uppercase_Letter}\\d])[\\p{Uppercase_Letter}\\d](?![\\p{Uppercase_Letter}\\d]))","gu"),t=>t.toLowerCase())).replace(/(\p{Uppercase_Letter}+)(\p{Uppercase_Letter}\p{Lowercase_Letter}+)/gu,(t,r,i)=>r+n+i.toLowerCase()))(i,n):i.replace(/(\p{Uppercase_Letter})(\p{Uppercase_Letter}\p{Lowercase_Letter}+)/gu,r).toLowerCase()}(a,{separator:t});a.length<100&&Bw.set(u,c),a=c}}return[a,l]};return jm(e,s(void 0))};class br{constructor(n,t,r,i,s,o,a){this._configuration=n,this._name=t,this._id=r,this._quizId=i,this._description=s,this._isPublished=o,this._tokenOptions=a}get configuration(){return this._configuration}get name(){return this._name}set name(n){this._name=n}get id(){return this._id}get quizId(){return this._quizId}set quizId(n){this._quizId=n}get description(){return this._description}set description(n){this._description=n}get isPublished(){return this._isPublished}set isPublished(n){this._isPublished=n}get tokenOptions(){return this._tokenOptions}set tokenOptions(n){this._tokenOptions=n}get availableTokenOptions(){return this.tokenOptions.filter(n=>!n.isMigrating)}addTokenOption(n,t){this.configuration.updateNextFreeTokenOptionId(n.id),null==t?this._tokenOptions.push(n):this._tokenOptions.splice(t,0,n)}deleteTokenOption(n){const t=this._tokenOptions.indexOf(n);if(-1==t)throw new Error("Token option does not exist");this._tokenOptions.splice(t,1)}toJSON(){return{name:this.name,id:this.id,quiz_id:this.quizId,description:ni_encode(this.description),is_published:this.isPublished,token_options:this.tokenOptions.map(n=>function fG(e,n){return Array.isArray(e)?Object.keys(e).map(t=>cx(e[t],n)):cx(e,n)}(n.toJSON(),{deep:!0}))}}static deserialize(n,t){if("string"!=typeof t.name||"number"!=typeof t.id||"string"!=typeof t.quiz_id||typeof t.description<"u"&&"string"!=typeof t.description||"boolean"!=typeof t.is_published||"object"!=typeof t.token_options||!Array.isArray(t.token_options))throw new Error("Invalid data");const r=new br(n,t.name,t.id,t.quiz_id,t.description?ni_decode(t.description):"",t.is_published,[]);return r.tokenOptions=t.token_options.map(i=>n.tokenOptionResolver(r,i)),r}}let Ba=(()=>{class e{static deriveAESKey(t,r){return(0,b.Z)(function*(){const i=yield window.crypto.subtle.importKey("raw",(new TextEncoder).encode(t),"PBKDF2",!1,["deriveBits","deriveKey"]);return yield window.crypto.subtle.deriveKey({name:"PBKDF2",hash:"SHA-512",salt:r,iterations:1e5},i,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])})()}static encryptAES(t,r,i){return(0,b.Z)(function*(){null==i&&(i=window.crypto.getRandomValues(new Uint8Array(e.AES_IV_LENGTH)));const s=yield window.crypto.subtle.encrypt({name:"AES-GCM",iv:i},t,(new TextEncoder).encode(r));return[i,new Uint8Array(s)]})()}static decryptAES(t,r,i){return(0,b.Z)(function*(){return(new TextDecoder).decode(yield window.crypto.subtle.decrypt({name:"AES-GCM",iv:i},t,r))})()}}return e.AES_IV_LENGTH=12,e})();class dx{static contactUint8Array(n,t){const r=new Uint8Array(n.length+t.length);return r.set(n),r.set(t,n.length),r}static splitUint8Array(n,t){return[n.subarray(0,t),n.subarray(t)]}}var fx=ce(667);function Um(e){return[...Array(e)].map(()=>Math.random().toString(36)[2]??"0").join("")}var vf=new WeakMap,bf=new WeakMap,Xo=new WeakMap,Hw=new WeakSet;class wf{constructor(n,t,r,i,s,o,a,l,u,c,d){(function Kq(e,n){tO(e,n),n.add(e)})(this,Hw),so(this,vf,{writable:!0,value:void 0}),so(this,bf,{writable:!0,value:void 0}),so(this,Xo,{writable:!0,value:void 0}),this._course=n,this._logAssignmentId=t,this._uid=r,this._suffix=i,this._description=s,this._nextFreeTokenOptionGroupId=o,this._nextFreeTokenOptionId=a,this._tokenOptionGroups=l,this._tokenOptionResolver=u,tr(this,vf,c),tr(this,bf,d)}get course(){return this._course}get logAssignmentId(){return this._logAssignmentId}set logAssignmentId(n){this._logAssignmentId=n}get uid(){return this._uid}set uid(n){this._uid=n}get suffix(){return this._suffix}set suffix(n){this._suffix=n}get description(){return this._description}set description(n){this._description=n}get tokenOptionGroups(){return this._tokenOptionGroups}set tokenOptionGroups(n){this._tokenOptionGroups=n}get tokenOptionResolver(){return this._tokenOptionResolver}getTokenOptionGroupById(n){for(const t of this.tokenOptionGroups)if(t.id==n)return t}getTokenOptionById(n){for(const t of this.tokenOptionGroups)for(const r of t.tokenOptions)if(r.id==n)return r}addTokenOptionGroup(n){this._nextFreeTokenOptionGroupId=Math.max(this._nextFreeTokenOptionGroupId,n.id)+1,this._tokenOptionGroups.push(n)}updateNextFreeTokenOptionId(n){this._nextFreeTokenOptionId=Math.max(this._nextFreeTokenOptionId,n)+1}deleteTokenOptionGroup(n){const t=this._tokenOptionGroups.indexOf(n);if(-1==t)throw new Error("Token option group does not exist");this._tokenOptionGroups.splice(t,1)}get nextFreeTokenOptionGroupId(){return this._nextFreeTokenOptionGroupId}get nextFreeTokenOptionId(){return this._nextFreeTokenOptionId}toJSON(){return{log_assignment_id:this.logAssignmentId,uid:this.uid,suffix:this.suffix,description:ni_encode(this.description),next_free_token_option_group_id:this.nextFreeTokenOptionGroupId,next_free_token_option_id:this.nextFreeTokenOptionId,token_option_groups:this.tokenOptionGroups.map(n=>n.toJSON())}}getSecureConfig(){return{password:sn(this,vf),salt:ni_fromUint8Array(sn(this,bf))}}regenerateSecureConfig(){tr(this,Xo,void 0),tr(this,vf,Um(32)),tr(this,bf,window.crypto.getRandomValues(new Uint8Array(32)))}encryptStudentRecord(n){var t=this;return(0,b.Z)(function*(){if(null==sn(t,Xo)&&(yield UO(t,Hw,hx).call(t)),null==sn(t,Xo))throw new Error("AES encryption key generation failed");const r=JSON.parse(JSON.stringify(n));return ni_fromUint8Array(dx.contactUint8Array(...yield Ba.encryptAES(sn(t,Xo),JSON.stringify((0,fx.nN)(r)))))})()}decryptStudentRecord(n){var t=this;return(0,b.Z)(function*(){if(null==sn(t,Xo)&&(yield UO(t,Hw,hx).call(t)),null==sn(t,Xo))throw new Error("AES encryption key generation failed");const[r,i]=dx.splitUint8Array(ni_toUint8Array(n),Ba.AES_IV_LENGTH);return(0,fx.Lj)(JSON.parse(yield Ba.decryptAES(sn(t,Xo),i,r)))})()}static deserialize(n,t,r,i){if("string"!=typeof t.log_assignment_id||"string"!=typeof t.uid||typeof t.suffix<"u"&&"string"!=typeof t.suffix||typeof t.description<"u"&&"string"!=typeof t.description||"number"!=typeof t.next_free_token_option_group_id||"number"!=typeof t.next_free_token_option_id||"object"!=typeof t.token_option_groups||!Array.isArray(t.token_option_groups)||"string"!=typeof r.password||"string"!=typeof r.salt)throw new Error("Invalid data");const s=new wf(n,t.log_assignment_id,t.uid,t.suffix??"",t.description?ni_decode(t.description):"",t.next_free_token_option_group_id,t.next_free_token_option_id,[],i,r.password,ni_toUint8Array(r.salt));return s.tokenOptionGroups=t.token_option_groups.map(o=>br.deserialize(s,o)),s}}function hx(){return $w.apply(this,arguments)}function $w(){return($w=(0,b.Z)(function*(){tr(this,Xo,yield Ba.deriveAESKey(sn(this,vf),sn(this,bf)))})).apply(this,arguments)}class fc{hasValidTokenOption(n){if(0==n.length)return!1;for(const t of n)if(null!=this.validate(t))return!0;return!1}}class hG extends fc{get infoDescription(){return"Description"}process(n){return n.map(t=>this.validate(t)?.description??"")}validate(n){return null==n.description?void 0:n}}function jw(e){if(Dn(1,arguments),!function pG(e){return Dn(1,arguments),e instanceof Date||"object"===pf(e)&&"[object Date]"===Object.prototype.toString.call(e)}(e)&&"number"!=typeof e)return!1;var n=ar(e);return!isNaN(Number(n))}var _G=864e5;function Ym(e){Dn(1,arguments);var t=ar(e),r=t.getUTCDay(),i=(r<1?7:0)+r-1;return t.setUTCDate(t.getUTCDate()-i),t.setUTCHours(0,0,0,0),t}function px(e){Dn(1,arguments);var n=ar(e),t=n.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(t+1,0,4),r.setUTCHours(0,0,0,0);var i=Ym(r),s=new Date(0);s.setUTCFullYear(t,0,4),s.setUTCHours(0,0,0,0);var o=Ym(s);return n.getTime()>=i.getTime()?t+1:n.getTime()>=o.getTime()?t:t-1}var bG=6048e5;var mx={};function zm(){return mx}function Wm(e,n){var t,r,i,s,o,a,l,u;Dn(1,arguments);var c=zm(),d=yi(null!==(t=null!==(r=null!==(i=null!==(s=n?.weekStartsOn)&&void 0!==s?s:null==n||null===(o=n.locale)||void 0===o||null===(a=o.options)||void 0===a?void 0:a.weekStartsOn)&&void 0!==i?i:c.weekStartsOn)&&void 0!==r?r:null===(l=c.locale)||void 0===l||null===(u=l.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==t?t:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=ar(e),h=f.getUTCDay(),p=(h<d?7:0)+h-d;return f.setUTCDate(f.getUTCDate()-p),f.setUTCHours(0,0,0,0),f}function gx(e,n){var t,r,i,s,o,a,l,u;Dn(1,arguments);var c=ar(e),d=c.getUTCFullYear(),f=zm(),h=yi(null!==(t=null!==(r=null!==(i=null!==(s=n?.firstWeekContainsDate)&&void 0!==s?s:null==n||null===(o=n.locale)||void 0===o||null===(a=o.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==i?i:f.firstWeekContainsDate)&&void 0!==r?r:null===(l=f.locale)||void 0===l||null===(u=l.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==t?t:1);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(d+1,0,h),p.setUTCHours(0,0,0,0);var g=Wm(p,n),M=new Date(0);M.setUTCFullYear(d,0,h),M.setUTCHours(0,0,0,0);var O=Wm(M,n);return c.getTime()>=g.getTime()?d+1:c.getTime()>=O.getTime()?d:d-1}var CG=6048e5;const Ha_y=function(n,t){var r=n.getUTCFullYear(),i=r>0?r:1-r;return Ct("yy"===t?i%100:i,t.length)},Ha_M=function(n,t){var r=n.getUTCMonth();return"M"===t?String(r+1):Ct(r+1,2)},Ha_d=function(n,t){return Ct(n.getUTCDate(),t.length)},Ha_h=function(n,t){return Ct(n.getUTCHours()%12||12,t.length)},Ha_H=function(n,t){return Ct(n.getUTCHours(),t.length)},Ha_m=function(n,t){return Ct(n.getUTCMinutes(),t.length)},Ha_s=function(n,t){return Ct(n.getUTCSeconds(),t.length)},Ha_S=function(n,t){var r=t.length,i=n.getUTCMilliseconds();return Ct(Math.floor(i*Math.pow(10,r-3)),t.length)};var SG={G:function(n,t,r){var i=n.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});default:return r.era(i,{width:"wide"})}},y:function(n,t,r){if("yo"===t){var i=n.getUTCFullYear();return r.ordinalNumber(i>0?i:1-i,{unit:"year"})}return Ha_y(n,t)},Y:function(n,t,r,i){var s=gx(n,i),o=s>0?s:1-s;return"YY"===t?Ct(o%100,2):"Yo"===t?r.ordinalNumber(o,{unit:"year"}):Ct(o,t.length)},R:function(n,t){return Ct(px(n),t.length)},u:function(n,t){return Ct(n.getUTCFullYear(),t.length)},Q:function(n,t,r){var i=Math.ceil((n.getUTCMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return Ct(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(n,t,r){var i=Math.ceil((n.getUTCMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return Ct(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(n,t,r){var i=n.getUTCMonth();switch(t){case"M":case"MM":return Ha_M(n,t);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(n,t,r){var i=n.getUTCMonth();switch(t){case"L":return String(i+1);case"LL":return Ct(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(n,t,r,i){var s=function TG(e,n){Dn(1,arguments);var t=ar(e),r=Wm(t,n).getTime()-function DG(e,n){var t,r,i,s,o,a,l,u;Dn(1,arguments);var c=zm(),d=yi(null!==(t=null!==(r=null!==(i=null!==(s=n?.firstWeekContainsDate)&&void 0!==s?s:null==n||null===(o=n.locale)||void 0===o||null===(a=o.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==i?i:c.firstWeekContainsDate)&&void 0!==r?r:null===(l=c.locale)||void 0===l||null===(u=l.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==t?t:1),f=gx(e,n),h=new Date(0);return h.setUTCFullYear(f,0,d),h.setUTCHours(0,0,0,0),Wm(h,n)}(t,n).getTime();return Math.round(r/CG)+1}(n,i);return"wo"===t?r.ordinalNumber(s,{unit:"week"}):Ct(s,t.length)},I:function(n,t,r){var i=function wG(e){Dn(1,arguments);var n=ar(e),t=Ym(n).getTime()-function vG(e){Dn(1,arguments);var n=px(e),t=new Date(0);return t.setUTCFullYear(n,0,4),t.setUTCHours(0,0,0,0),Ym(t)}(n).getTime();return Math.round(t/bG)+1}(n);return"Io"===t?r.ordinalNumber(i,{unit:"week"}):Ct(i,t.length)},d:function(n,t,r){return"do"===t?r.ordinalNumber(n.getUTCDate(),{unit:"date"}):Ha_d(n,t)},D:function(n,t,r){var i=function yG(e){Dn(1,arguments);var n=ar(e),t=n.getTime();n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0);var r=n.getTime();return Math.floor((t-r)/_G)+1}(n);return"Do"===t?r.ordinalNumber(i,{unit:"dayOfYear"}):Ct(i,t.length)},E:function(n,t,r){var i=n.getUTCDay();switch(t){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(n,t,r,i){var s=n.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Ct(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(n,t,r,i){var s=n.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Ct(o,t.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(n,t,r){var i=n.getUTCDay(),s=0===i?7:i;switch(t){case"i":return String(s);case"ii":return Ct(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(n,t,r){var s=n.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(n,t,r){var s,i=n.getUTCHours();switch(s=12===i?"noon":0===i?"midnight":i/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(n,t,r){var s,i=n.getUTCHours();switch(s=i>=17?"evening":i>=12?"afternoon":i>=4?"morning":"night",t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(n,t,r){if("ho"===t){var i=n.getUTCHours()%12;return 0===i&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return Ha_h(n,t)},H:function(n,t,r){return"Ho"===t?r.ordinalNumber(n.getUTCHours(),{unit:"hour"}):Ha_H(n,t)},K:function(n,t,r){var i=n.getUTCHours()%12;return"Ko"===t?r.ordinalNumber(i,{unit:"hour"}):Ct(i,t.length)},k:function(n,t,r){var i=n.getUTCHours();return 0===i&&(i=24),"ko"===t?r.ordinalNumber(i,{unit:"hour"}):Ct(i,t.length)},m:function(n,t,r){return"mo"===t?r.ordinalNumber(n.getUTCMinutes(),{unit:"minute"}):Ha_m(n,t)},s:function(n,t,r){return"so"===t?r.ordinalNumber(n.getUTCSeconds(),{unit:"second"}):Ha_s(n,t)},S:function(n,t){return Ha_S(n,t)},X:function(n,t,r,i){var o=(i._originalDate||n).getTimezoneOffset();if(0===o)return"Z";switch(t){case"X":return yx(o);case"XXXX":case"XX":return Dl(o);default:return Dl(o,":")}},x:function(n,t,r,i){var o=(i._originalDate||n).getTimezoneOffset();switch(t){case"x":return yx(o);case"xxxx":case"xx":return Dl(o);default:return Dl(o,":")}},O:function(n,t,r,i){var o=(i._originalDate||n).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+_x(o,":");default:return"GMT"+Dl(o,":")}},z:function(n,t,r,i){var o=(i._originalDate||n).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+_x(o,":");default:return"GMT"+Dl(o,":")}},t:function(n,t,r,i){return Ct(Math.floor((i._originalDate||n).getTime()/1e3),t.length)},T:function(n,t,r,i){return Ct((i._originalDate||n).getTime(),t.length)}};function _x(e,n){var t=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),s=r%60;if(0===s)return t+String(i);var o=n||"";return t+String(i)+o+Ct(s,2)}function yx(e,n){return e%60==0?(e>0?"-":"+")+Ct(Math.abs(e)/60,2):Dl(e,n)}function Dl(e,n){var t=n||"",r=e>0?"-":"+",i=Math.abs(e);return r+Ct(Math.floor(i/60),2)+t+Ct(i%60,2)}const kG=SG;var vx=function(n,t){switch(n){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},bx=function(n,t){switch(n){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}};const IG={p:bx,P:function(n,t){var o,r=n.match(/(P+)(p+)?/)||[],i=r[1],s=r[2];if(!s)return vx(n,t);switch(i){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;default:o=t.dateTime({width:"full"})}return o.replace("{{date}}",vx(i,t)).replace("{{time}}",bx(s,t))}};var xG=["D","DD"],RG=["YY","YYYY"];function wx(e,n,t){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(n,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(n,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(n,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(n,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var NG={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function Uw(e){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.width?String(n.width):e.defaultWidth;return e.formats[t]||e.formats[e.defaultWidth]}}const UG={date:Uw({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:Uw({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:Uw({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var YG={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function Df(e){return function(n,t){var i;if("formatting"===(null!=t&&t.context?String(t.context):"standalone")&&e.formattingValues){var s=e.defaultFormattingWidth||e.defaultWidth,o=null!=t&&t.width?String(t.width):s;i=e.formattingValues[o]||e.formattingValues[s]}else{var a=e.defaultWidth,l=null!=t&&t.width?String(t.width):e.defaultWidth;i=e.values[l]||e.values[a]}return i[e.argumentCallback?e.argumentCallback(n):n]}}const t8={ordinalNumber:function(n,t){var r=Number(n),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},era:Df({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Df({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(n){return n-1}}),month:Df({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Df({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Df({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function Cf(e){return function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.width,s=n.match(r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth]);if(!s)return null;var u,o=s[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(a)?function r8(e,n){for(var t=0;t<e.length;t++)if(n(e[t]))return t}(a,function(d){return d.test(o)}):function n8(e,n){for(var t in e)if(e.hasOwnProperty(t)&&n(e[t]))return t}(a,function(d){return d.test(o)});return u=e.valueCallback?e.valueCallback(l):l,{value:u=t.valueCallback?t.valueCallback(u):u,rest:n.slice(o.length)}}}var _8={ordinalNumber:function i8(e){return function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.match(e.matchPattern);if(!r)return null;var i=r[0],s=n.match(e.parsePattern);if(!s)return null;var o=e.valueCallback?e.valueCallback(s[0]):s[0];return{value:o=t.valueCallback?t.valueCallback(o):o,rest:n.slice(i.length)}}}({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(n){return parseInt(n,10)}}),era:Cf({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Cf({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(n){return n+1}}),month:Cf({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Cf({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Cf({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};const v8={code:"en-US",formatDistance:function(n,t,r){var i,s=NG[n];return i="string"==typeof s?s:1===t?s.one:s.other.replace("{{count}}",t.toString()),null!=r&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i},formatLong:UG,formatRelative:function(n,t,r,i){return YG[n]},localize:t8,match:_8,options:{weekStartsOn:0,firstWeekContainsDate:1}};var b8=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,w8=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,D8=/^'([^]*?)'?$/,C8=/''/g,T8=/[a-zA-Z]/;function ls(e,n,t){var r,i,s,o,a,l,u,c,d,f,h,p,g,M,O,Y,B,ue;Dn(2,arguments);var nt=String(n),it=zm(),fn=null!==(r=null!==(i=t?.locale)&&void 0!==i?i:it.locale)&&void 0!==r?r:v8,ai=yi(null!==(s=null!==(o=null!==(a=null!==(l=t?.firstWeekContainsDate)&&void 0!==l?l:null==t||null===(u=t.locale)||void 0===u||null===(c=u.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==a?a:it.firstWeekContainsDate)&&void 0!==o?o:null===(d=it.locale)||void 0===d||null===(f=d.options)||void 0===f?void 0:f.firstWeekContainsDate)&&void 0!==s?s:1);if(!(ai>=1&&ai<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var Ur=yi(null!==(h=null!==(p=null!==(g=null!==(M=t?.weekStartsOn)&&void 0!==M?M:null==t||null===(O=t.locale)||void 0===O||null===(Y=O.options)||void 0===Y?void 0:Y.weekStartsOn)&&void 0!==g?g:it.weekStartsOn)&&void 0!==p?p:null===(B=it.locale)||void 0===B||null===(ue=B.options)||void 0===ue?void 0:ue.weekStartsOn)&&void 0!==h?h:0);if(!(Ur>=0&&Ur<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!fn.localize)throw new RangeError("locale must contain localize property");if(!fn.formatLong)throw new RangeError("locale must contain formatLong property");var Yr=ar(e);if(!jw(Yr))throw new RangeError("Invalid time value");var Vn=function OG(e){var n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),e.getTime()-n.getTime()}(Yr),xr=function gG(e,n){return Dn(2,arguments),function mG(e,n){Dn(2,arguments);var t=ar(e).getTime(),r=yi(n);return new Date(t+r)}(e,-yi(n))}(Yr,Vn),zr={firstWeekContainsDate:ai,weekStartsOn:Ur,locale:fn,_originalDate:Yr},Oo=nt.match(w8).map(function(li){var ye=li[0];return"p"===ye||"P"===ye?(0,IG[ye])(li,fn.formatLong):li}).join("").match(b8).map(function(li){if("''"===li)return"'";var ye=li[0];if("'"===ye)return function M8(e){var n=e.match(D8);return n?n[1].replace(C8,"'"):e}(li);var Ne=kG[ye];if(Ne)return!(null!=t&&t.useAdditionalWeekYearTokens)&&function PG(e){return-1!==RG.indexOf(e)}(li)&&wx(li,n,String(e)),!(null!=t&&t.useAdditionalDayOfYearTokens)&&function LG(e){return-1!==xG.indexOf(e)}(li)&&wx(li,n,String(e)),Ne(xr,li,fn.localize,zr);if(ye.match(T8))throw new RangeError("Format string contains an unescaped latin alphabet character `"+ye+"`");return li}).join("");return Oo}function Tf(e){return Dn(1,arguments),Math.floor(function S8(e){return Dn(1,arguments),ar(e).getTime()}(e)/1e3)}function pc(e){return Dn(1,arguments),ar(1e3*yi(e))}var E8=function(e,n,t){if(t||2===arguments.length)for(var s,r=0,i=n.length;r<i;r++)(s||!(r in n))&&(s||(s=Array.prototype.slice.call(n,0,r)),s[r]=n[r]);return e.concat(s||Array.prototype.slice.call(n))};function ao(e,n,t,r,i,s,o,a,l){switch(arguments.length){case 1:return e;case 2:return n(e);case 3:return t(n(e));case 4:return r(t(n(e)));case 5:return i(r(t(n(e))));case 6:return s(i(r(t(n(e)))));case 7:return o(s(i(r(t(n(e))))));case 8:return a(o(s(i(r(t(n(e)))))));case 9:return l(a(o(s(i(r(t(n(e))))))));default:for(var u=arguments[0],c=1;c<arguments.length;c++)u=arguments[c](u);return u}}var Yw=function(e,n){var t="number"==typeof e?function(r){return r.length>=e}:e;return function(){var r=Array.from(arguments);return t(arguments)?n.apply(this,r):function(i){return n.apply(void 0,E8([i],r,!1))}}};function Tx(e){return function(n,t){return e.map(n,function(){return t})}}var vi=function(e){return{_tag:"Left",left:e}},_n=function(e){return{_tag:"Right",right:e}},ea=Yw(2,function(e,n){return $e(e)?e:n(e.right)}),ri=function(e,n){return ao(e,z8(n))},z8=function(e){return function(n){return $e(n)?n:_n(e(n.right))}},Jw={URI:"Either",map:ri},q8=(Yw(2,Tx(Jw)),function L8(e){var n=Tx(e)}(Jw),function(e){return function(n){return $e(n)?n:$e(e)?e:_n(n.right(e.right))}}),$e=function(e){return"Left"===e._tag},l7=function(e,n){return function(t){return $e(t)?e(t.left):n(t.right)}};!function Dx(e){return function(n,t){return e.chain(n,function(r){return e.map(t(r),function(){return r})})}}({URI:"Either",map:ri,ap:function(e,n){return ao(e,q8(n))},chain:ea});var Zm=ea,tn=function(){var e=function(n,t){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])})(n,t)};return function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),mc=function(){return mc=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},mc.apply(this,arguments)},na=vi,wr=function(e,n,t){return na([{value:e,context:n,message:t}])},jt=_n,Ot=function(){function e(n,t,r,i){this.name=n,this.is=t,this.validate=r,this.encode=i,this.decode=this.decode.bind(this)}return e.prototype.pipe=function(n,t){var r=this;return void 0===t&&(t="pipe(".concat(this.name,", ").concat(n.name,")")),new e(t,n.is,function(i,s){var o=r.validate(i,s);return $e(o)?o:n.validate(o.right,s)},this.encode===Ft&&n.encode===Ft?Ft:function(i){return r.encode(n.encode(i))})},e.prototype.asDecoder=function(){return this},e.prototype.asEncoder=function(){return this},e.prototype.decode=function(n){return this.validate(n,[{key:"",type:this,actual:n}])},e}(),Ft=function(e){return e};function Ax(e){return e.displayName||e.name||"<function".concat(e.length,">")}function lo(e,n,t,r){for(var i=e.length,s=Array(i+1),o=0;o<i;o++)s[o]=e[o];return s[i]={key:n,type:t,actual:r},s}function ra(e,n){for(var t=n.length,r=0;r<t;r++)e.push(n[r])}var Tl=Object.prototype.hasOwnProperty;function tD(e){return Object.keys(e).map(function(n){return"".concat(n,": ").concat(e[n].name)}).join(", ")}function Ef(e){for(var n=0;n<e.length;n++)if(e[n].encode!==Ft)return!1;return!0}function Lx(e,n){for(var t=!0,r=!0,i=!zi.is(e),s=0,o=n;s<o.length;s++)(a=o[s])!==e&&(t=!1),zi.is(a)&&(r=!1);if(t)return e;if(r)return n[n.length-1];for(var l={},u=0,c=n;u<c.length;u++){var a=c[u];for(var d in a)(!Tl.call(l,d)||i||a[d]!==e[d])&&(l[d]=a[d])}return l}function nD(e){switch(e._tag){case"RefinementType":case"ReadonlyType":return nD(e.type);case"InterfaceType":case"StrictType":case"PartialType":return e.props;case"IntersectionType":return e.types.reduce(function(n,t){return Object.assign(n,nD(t))},{})}}function Px(e,n){for(var t=Object.getOwnPropertyNames(e),r=!1,i={},s=0;s<t.length;s++){var o=t[s];Tl.call(n,o)?i[o]=e[o]:r=!0}return r?i:e}function v7(e){return e.length>0}var Yi={};function Nx(e,n){for(var t=[],r=0,i=e;r<i.length;r++){var s=i[r];-1!==n.indexOf(s)&&t.push(s)}return t}function Vx(e){return"LiteralType"===e._tag}function Bx(e){return"InterfaceType"===e._tag}var rD=[];function Ml(e){if(-1!==rD.indexOf(e))return Yi;if(Bx(e)||function T7(e){return"StrictType"===e._tag}(e)){var n=Yi;for(var t in e.props){var r=e.props[t];Vx(r)&&(n===Yi&&(n={}),n[t]=[r.value])}return n}if(function M7(e){return"ExactType"===e._tag}(e)||function S7(e){return"RefinementType"===e._tag}(e))return Ml(e.type);if(function k7(e){return"IntersectionType"===e._tag}(e))return e.types.reduce(function(s,o){return function b7(e,n){if(e===Yi)return n;if(n===Yi)return e;var t=Object.assign({},e);for(var r in n)if(Tl.call(e,r)){var i=Nx(e[r],n[r]);if(!v7(i)){t=Yi;break}t[r]=i}else t[r]=n[r];return t}(s,Ml(o))},Yi);if(function Hx(e){return"UnionType"===e._tag}(e))return e.types.slice(1).reduce(function(s,o){return function w7(e,n){if(e===Yi||n===Yi)return Yi;var t=Yi;for(var r in e)Tl.call(n,r)&&0===Nx(e[r],n[r]).length&&(t===Yi&&(t={}),t[r]=e[r].concat(n[r]));return t}(s,Ml(o))},Ml(e.types[0]));if(function E7(e){return"RecursiveType"===e._tag}(e)){rD.push(e);var i=Ml(e.type);return rD.pop(),i}return Yi}var I7=function(e){function n(){var t=e.call(this,"null",function(r){return null===r},function(r,i){return t.is(r)?jt(r):wr(r,i)},Ft)||this;return t._tag="NullType",t}return tn(n,e),n}(Ot),O7=(new I7,function(e){function n(){var t=e.call(this,"undefined",function(r){return void 0===r},function(r,i){return t.is(r)?jt(r):wr(r,i)},Ft)||this;return t._tag="UndefinedType",t}return tn(n,e),n}(Ot)),Af=new O7,x7=function(e){function n(){var t=e.call(this,"void",Af.is,Af.validate,Ft)||this;return t._tag="VoidType",t}return tn(n,e),n}(Ot),R7=(new x7,function(e){function n(){var t=e.call(this,"unknown",function(r){return!0},jt,Ft)||this;return t._tag="UnknownType",t}return tn(n,e),n}(Ot)),L7=(new R7,function(e){function n(){var t=e.call(this,"string",function(r){return"string"==typeof r},function(r,i){return t.is(r)?jt(r):wr(r,i)},Ft)||this;return t._tag="StringType",t}return tn(n,e),n}(Ot)),bi=new L7,P7=function(e){function n(){var t=e.call(this,"number",function(r){return"number"==typeof r},function(r,i){return t.is(r)?jt(r):wr(r,i)},Ft)||this;return t._tag="NumberType",t}return tn(n,e),n}(Ot),$a=new P7,N7=function(e){function n(){var t=e.call(this,"bigint",function(r){return"bigint"==typeof r},function(r,i){return t.is(r)?jt(r):wr(r,i)},Ft)||this;return t._tag="BigIntType",t}return tn(n,e),n}(Ot),F7=(new N7,function(e){function n(){var t=e.call(this,"boolean",function(r){return"boolean"==typeof r},function(r,i){return t.is(r)?jt(r):wr(r,i)},Ft)||this;return t._tag="BooleanType",t}return tn(n,e),n}(Ot)),V7=new F7,B7=function(e){function n(){var t=e.call(this,"UnknownArray",Array.isArray,function(r,i){return t.is(r)?jt(r):wr(r,i)},Ft)||this;return t._tag="AnyArrayType",t}return tn(n,e),n}(Ot),Qm=new B7,H7=function(e){function n(){var t=e.call(this,"UnknownRecord",function(r){return null!==r&&"object"==typeof r&&!Array.isArray(r)},function(r,i){return t.is(r)?jt(r):wr(r,i)},Ft)||this;return t._tag="AnyDictionaryType",t}return tn(n,e),n}(Ot),zi=new H7;!function(e){tn(function n(t,r,i,s,o){var a=e.call(this,t,r,i,s)||this;return a.value=o,a._tag="LiteralType",a},e)}(Ot),function(e){tn(function n(t,r,i,s,o){var a=e.call(this,t,r,i,s)||this;return a.keys=o,a._tag="KeyofType",a},e)}(Ot);var U7=function(e){function n(t,r,i,s,o,a){var l=e.call(this,t,r,i,s)||this;return l.type=o,l.predicate=a,l._tag="RefinementType",l}return tn(n,e),n}(Ot);!function Y7(e,n,t){Yx(e,n,t)}($a,function(e){return Number.isInteger(e)},"Int");var $x=function(e){function n(t,r,i,s,o){var a=e.call(this,t,r,i,s)||this;return a.runDefinition=o,a._tag="RecursiveType",a}return tn(n,e),n}(Ot);Object.defineProperty($x.prototype,"type",{get:function(){return this.runDefinition()},enumerable:!0,configurable:!0});var z7=function(e){function n(t,r,i,s,o){var a=e.call(this,t,r,i,s)||this;return a.type=o,a._tag="ArrayType",a}return tn(n,e),n}(Ot);function Km(e,n){return void 0===n&&(n="Array<".concat(e.name,">")),new z7(n,function(t){return Qm.is(t)&&t.every(e.is)},function(t,r){var i=Qm.validate(t,r);if($e(i))return i;for(var s=i.right,o=s.length,a=s,l=[],u=0;u<o;u++){var c=s[u],d=e.validate(c,lo(r,String(u),e,c));if($e(d))ra(l,d.left);else{var f=d.right;f!==c&&(a===s&&(a=s.slice()),a[u]=f)}}return l.length>0?na(l):jt(a)},e.encode===Ft?Ft:function(t){return t.map(e.encode)},e)}var W7=function(e){function n(t,r,i,s,o){var a=e.call(this,t,r,i,s)||this;return a.props=o,a._tag="InterfaceType",a}return tn(n,e),n}(Ot);!function(e){tn(function n(t,r,i,s,o){var a=e.call(this,t,r,i,s)||this;return a.props=o,a._tag="PartialType",a},e)}(Ot),function(e){tn(function n(t,r,i,s,o,a){var l=e.call(this,t,r,i,s)||this;return l.domain=o,l.codomain=a,l._tag="DictionaryType",l},e)}(Ot);var Ux=function(e){function n(t,r,i,s,o){var a=e.call(this,t,r,i,s)||this;return a.types=o,a._tag="UnionType",a}return tn(n,e),n}(Ot);function If(e,n){void 0===n&&(n=function Rx(e){return"("+e.map(function(n){return n.name}).join(" | ")+")"}(e));var t=function A7(e){for(var n=Ml(e[0]),t=Object.keys(n),r=e.length,i=function(u){for(var c=n[u].slice(),d=[n[u]],f=1;f<r;f++){var g=Ml(e[f])[u];if(void 0===g)return"continue-keys";if(g.some(function(M){return-1!==c.indexOf(M)}))return"continue-keys";c.push.apply(c,g),d.push(g)}return{value:[u,d]}},s=0,o=t;s<o.length;s++){var l=i(o[s]);if("object"==typeof l)return l.value}}(e);if(void 0!==t&&e.length>0){var r=t[0],i=t[1],s=i.length,o=function(a){for(var l=0;l<s;l++)if(-1!==i[l].indexOf(a))return l};return new iD(n,function(a){if(zi.is(a)){var l=o(a[r]);return void 0!==l&&e[l].is(a)}return!1},function(a,l){var u=zi.validate(a,l);if($e(u))return u;var c=u.right,d=o(c[r]);if(void 0===d)return wr(a,l);var f=e[d];return f.validate(c,lo(l,String(d),f,c))},Ef(e)?Ft:function(a){var l=o(a[r]);if(void 0===l)throw new Error("no codec found to encode value in union codec ".concat(n));return e[l].encode(a)},e,r)}return new Ux(n,function(a){return e.some(function(l){return l.is(a)})},function(a,l){for(var u=[],c=0;c<e.length;c++){var d=e[c],f=d.validate(a,lo(l,String(c),d,a));if(!$e(f))return jt(f.right);ra(u,f.left)}return na(u)},Ef(e)?Ft:function(a){for(var l=0,u=e;l<u.length;l++){var c=u[l];if(c.is(a))return c.encode(a)}throw new Error("no codec found to encode value in union type ".concat(n))},e)}var Z7=function(e){function n(t,r,i,s,o){var a=e.call(this,t,r,i,s)||this;return a.types=o,a._tag="IntersectionType",a}return tn(n,e),n}(Ot);function Bs(e,n){void 0===n&&(n="(".concat(e.map(function(r){return r.name}).join(" & "),")"));var t=e.length;return new Z7(n,function(r){return e.every(function(i){return i.is(r)})},0===e.length?jt:function(r,i){for(var s=[],o=[],a=0;a<t;a++){var l=e[a],u=l.validate(r,lo(i,String(a),l,r));$e(u)?ra(o,u.left):s.push(u.right)}return o.length>0?na(o):jt(Lx(r,s))},0===e.length?Ft:function(r){return Lx(r,e.map(function(i){return i.encode(r)}))},e)}var Q7=function(e){function n(t,r,i,s,o){var a=e.call(this,t,r,i,s)||this;return a.types=o,a._tag="TupleType",a}return tn(n,e),n}(Ot);!function(e){tn(function n(t,r,i,s,o){var a=e.call(this,t,r,i,s)||this;return a.type=o,a._tag="ReadonlyType",a},e)}(Ot),function(e){tn(function n(t,r,i,s,o){var a=e.call(this,t,r,i,s)||this;return a.type=o,a._tag="ReadonlyArrayType",a},e)}(Ot);var xi=function(e,n){return function t9(e,n){void 0===n&&(n=function y7(e){return Bx(e)?"{| ".concat(tD(e.props)," |}"):function C7(e){return"PartialType"===e._tag}(e)?function Ox(e){return"Partial<".concat(e,">")}("{| ".concat(tD(e.props)," |}")):"Exact<".concat(e.name,">")}(e));var t=nD(e);return new e9(n,e.is,function(r,i){var s=zi.validate(r,i);if($e(s))return s;var o=e.validate(r,i);return $e(o)?o:_n(Px(o.right,t))},function(r){return e.encode(Px(r,t))},e)}(function q7(e,n){void 0===n&&(n=function Ix(e){return"{ ".concat(tD(e)," }")}(e));var t=Object.keys(e),r=t.map(function(s){return e[s]}),i=t.length;return new W7(n,function(s){if(zi.is(s)){for(var o=0;o<i;o++){var a=t[o],l=s[a];if(void 0===l&&!Tl.call(s,a)||!r[o].is(l))return!1}return!0}return!1},function(s,o){var a=zi.validate(s,o);if($e(a))return a;for(var l=a.right,u=l,c=[],d=0;d<i;d++){var f=t[d],h=u[f],p=r[d],g=p.validate(h,lo(o,f,p,h));if($e(g))ra(c,g.left);else{var M=g.right;(M!==h||void 0===M&&!Tl.call(u,f))&&(u===l&&(u=mc({},l)),u[f]=M)}}return c.length>0?na(c):jt(u)},Ef(r)?Ft:function(s){for(var o=mc({},s),a=0;a<i;a++){var l=t[a],u=r[a].encode;u!==Ft&&(o[l]=u(s[l]))}return o},e)}(e),n)},e9=function(e){function n(t,r,i,s,o){var a=e.call(this,t,r,i,s)||this;return a.type=o,a._tag="ExactType",a}return tn(n,e),n}(Ot),n9=function(e){function n(){var t=e.call(this,"Function",function(r){return"function"==typeof r},function(r,i){return t.is(r)?jt(r):wr(r,i)},Ft)||this;return t._tag="FunctionType",t}return tn(n,e),n}(Ot),r9=(new n9,function(e){function n(){var t=e.call(this,"never",function(r){return!1},function(r,i){return wr(r,i)},function(){throw new Error("cannot encode never")})||this;return t._tag="NeverType",t}return tn(n,e),n}(Ot)),i9=(new r9,function(e){function n(){var t=e.call(this,"any",function(r){return!0},jt,Ft)||this;return t._tag="AnyType",t}return tn(n,e),n}(Ot));function Yx(e,n,t){return void 0===t&&(t="(".concat(e.name," | ").concat(Ax(n),")")),new U7(t,function(r){return e.is(r)&&n(r)},function(r,i){var s=e.validate(r,i);if($e(s))return s;var o=s.right;return n(o)?jt(o):wr(o,i)},e.encode,e,n)}new i9,Yx($a,Number.isInteger,"Integer");var iD=function(e){function n(t,r,i,s,o,a){var l=e.call(this,t,r,i,s,o)||this;return l.tag=a,l}return tn(n,e),n}(Ux),s9=function(e){function n(){var t=e.call(this,"object",function(r){return null!==r&&"object"==typeof r},function(r,i){return t.is(r)?jt(r):wr(r,i)},Ft)||this;return t._tag="ObjectType",t}return tn(n,e),n}(Ot);new s9,function(e){tn(function n(t,r,i,s,o){var a=e.call(this,t,r,i,s)||this;return a.props=o,a._tag="StrictType",a},e)}(Ot);const Sl=new Ot("UnixTimeDate",e=>e instanceof Date,(e,n)=>Zm(t=>{const r=pc(t);return isNaN(r.getTime())?wr(e,n):jt(r)})($a.validate(e,n)),e=>Tf(e));function l9(e){return void 0!==e.message?e.message:"Invalid value ".concat(function o9(e){return"function"==typeof e?Ax(e):"number"!=typeof e||isFinite(e)?JSON.stringify(e):isNaN(e)?"NaN":e>0?"Infinity":"-Infinity"}(e.value)," supplied to ").concat(function a9(e){return e.map(function(n){var r=n.type;return"".concat(n.key,": ").concat(r.name)}).join("/")}(e.context))}var d9={report:l7(function u9(e){return e.map(l9)},function c9(){return["No errors!"]})};function zx(e,n="Invalid data"){if($e(e))throw new Error(n+": "+d9.report(e).join("\n"));return e.right}function uo(e,n="Invalid data"){return(...t)=>zx(e(...t),n)}const sD=xi({sections:Km(function K7(e,n){void 0===n&&(n="[".concat(e.map(function(r){return r.name}).join(", "),"]"));var t=e.length;return new Q7(n,function(r){return Qm.is(r)&&r.length===t&&e.every(function(i,s){return i.is(r[s])})},function(r,i){var s=Qm.validate(r,i);if($e(s))return s;for(var o=s.right,a=o.length>t?o.slice(0,t):o,l=[],u=0;u<t;u++){var c=o[u],d=e[u],f=d.validate(c,lo(i,String(u),d,c));if($e(f))ra(l,f.left);else{var h=f.right;h!==c&&(a===o&&(a=o.slice()),a[u]=h)}}return l.length>0?na(l):jt(a)},Ef(e)?Ft:function(r){return e.map(function(i,s){return i.encode(r[s])})},e)}([bi,bi])),name:bi,date:Sl}),Wx=xi({defaultDate:Sl,overrides:If([Km(sD),Af])});class ja{constructor(n,t=[]){this._defaultDate=n,this._overrides=t}get defaultDate(){return this._defaultDate}get overrides(){return this._overrides}match(n){for(const t of this.overrides){const r=new Set(t.sections.map(i=>i[1]));for(const i of n)if(r.has(i))return t.date}return this.defaultDate}toJSON(){return{default_date:Tf(this.defaultDate),overrides:this.overrides.map(sD.encode)}}static deserialize(n){if("number"!=typeof n.default_date||typeof n.overrides<"u"&&"object"!=typeof n.overrides)throw new Error("Invalid data");const t=pc(n.default_date),r=[];if(typeof n.overrides<"u"){if(!Array.isArray(n.overrides))throw new Error("Invalid data");for(const i of n.overrides){const s=zx(sD.decode(i));r.push(s)}}return new ja(t,r)}}const qx=new Ot("MultipleSectionDateMatcher",e=>e instanceof ja,(e,n)=>Zm(t=>jt(new ja(t.defaultDate,t.overrides)))(Wx.validate(e,n)),e=>Wx.encode({defaultDate:e.defaultDate,overrides:e.overrides}));class f9 extends fc{get infoDescription(){return"End At"}process(n){return n.map(t=>{const r=this.validate(t);if(null==r)return"";const i=r.endTime;return i instanceof Date?ls(i,"MMM dd, yyyy kk:mm:ss"):['<table style="border-collapse: collapse; width: 100%;">',"<tbody>",...i.overrides.map(s=>["<tr>",`<td style="text-align: end; text-wrap: nowrap">${s.name}:</td>`,`<td style="text-align: start; text-wrap: nowrap">${ls(s.date,"MMM dd, yyyy kk:mm:ss")}</td>`,"</tr>"].join("")),"<tr>",'<td style="text-align: end; text-wrap: nowrap">Default:</td>',`<td style="text-align: start; text-wrap: nowrap">${ls(i.defaultDate,"MMM dd, yyyy kk:mm:ss")}</td>`,"</tr>","</tbody>","</table>"].join("")})}validate(n){const t=n.endTime;return null!=t&&(t instanceof Date||t instanceof ja)?n:void 0}}class h9{}class p9 extends h9{constructor(n){super(),this.transformers=n}process(n){const t=[];for(const i of this.transformers)i.hasValidTokenOption(n)&&t.push([i.infoDescription,i.process(n)]);if(0==t.length)return"";const r=[];for(let i=0;i<n.length;i++){const s=[];for(let o=0;o<t.length;o++){const a=t[o]?.[1]?.[i];null!=a&&s.push(a)}r.push(s)}return['<table style="border: 1px solid black; border-collapse: collapse;">',"<thead>","<tr>",...t.map(i=>`<th style="text-align: center; margin-left: 1rem; margin-right: 1rem; border: 1px solid black;">${i[0]}</th>`),"</tr>","</thead>","<tbody>",...r.map(i=>`<tr>${i.map(s=>`<td style="text-align: center; margin-left: 1rem; margin-right: 1rem; border: 1px solid black;">${s}</td>`).join("")}</tr>`),"</tbody>","</table>"].join("")}}class m9 extends fc{get infoDescription(){return"Token Option"}process(n){return n.map(t=>this.validate(t)?.name??"")}validate(n){return null==n.name?void 0:n}}class g9 extends fc{get infoDescription(){return"Start At"}process(n){return n.map(t=>{const r=this.validate(t);return null==r?"":ls(r.startTime,"MMM dd, yyyy kk:mm:ss")})}validate(n){const t=n.startTime;return null!=t&&jw(t)?n:void 0}}class _9 extends fc{get infoDescription(){return"Token Balance Change"}process(n){return n.map(t=>this.validate(t)?.tokenBalanceChange?.toString()??"")}validate(n){return null==n.tokenBalanceChange?void 0:n}}class y9{constructor(n="Question",t="",r=0){this._name=n,this._text=t,this._pointsPossible=r}get name(){return this._name}get text(){return this._text}get pointsPossible(){return this._pointsPossible}toJSON(){return{question_name:this.name,question_text:this.text,question_type:this.questionType,points_possible:this.pointsPossible}}}class v9 extends y9{constructor(n="Question",t="",r=0,i=[]){super(n,t,r),this._options=i}get options(){return this._options}get questionType(){return"multiple_choice_question"}toJSON(){const n=this.options.map(t=>({answer_text:t}));return{...super.toJSON(),answers:n}}}const{stringify:Zx}=JSON,Of=String,Qx="string",Jm="object",Jx=(e,n)=>n,eR=(e,n,t)=>{const r=Of(n.push(t)-1);return e.set(t,r),r},tR=(e,n,t)=>{const r=n&&typeof n===Jm?(c,d)=>""===c||-1<n.indexOf(c)?d:void 0:n||Jx,i=new Map,s=[],o=[];let a=+eR(i,s,r.call({"":e},"",e)),l=!a;for(;a<s.length;)l=!0,o[a]=Zx(s[a++],u,t);return"["+o.join(",")+"]";function u(c,d){if(l)return l=!l,d;const f=r.call(this,c,d);switch(typeof f){case Jm:if(null===f)return f;case Qx:return i.get(f)||eR(i,s,f)}return f}};class co{static serailize(n){let t="\ntoString() result: \n"+n.toString();return t+="\nJSON result: \n"+tR(n),t}}const T9=new Ot("TokenOptionDescription",e=>"string"==typeof e,(e,n)=>null==e?jt(""):Zm(t=>{try{const r=ni_decode(t);return jt(r)}catch(r){return wr(t,n,co.serailize(r))}})(bi.validate(e,n)),e=>ni_encode(e)),fo=xi({type:bi,id:$a,name:bi,description:T9,tokenBalanceChange:$a,isMigrating:If([V7,Af])});class ho extends(function S9(e){return class extends e{constructor(){super(...arguments),this.type="",this.id=-1,this.name="",this.description="",this.tokenBalanceChange=0,this.isMigrating=void 0,this._group=void 0}set group(n){this._group=n}get group(){if(!this._group)throw new Error("Token option group is not set yet!");return this._group}get prompt(){return"Request for "+this.name}}}(Object)){}function po(e,n){return class extends e{toJSON(){return n(this)}}}function mo(e,n,t,r){return class extends e{fromRawData(i){return this._initFromData(n(i))}fromData(i,s){if(!s&&!t(i))throw new Error("Invalid data");return this._initFromData(i)}validateData(i){return t(i)}_initFromData(i){return Object.assign(this,i),r?.(this),this}}}const Xm=fo;class k9 extends(mo(po(ho,Xm.encode),uo(Xm.decode),Xm.is)){}const nR=xi({quizName:bi,quizId:bi});function rR(e){return class extends e{constructor(){super(...arguments),this.quizName="",this.quizId=""}}}const xf=xi({startTime:Sl});function Rf(e){return class extends e{constructor(){super(...arguments),this.startTime=new Date}}}const iR=xi({gradeThreshold:$a});function sR(e){return class extends e{constructor(){super(...arguments),this.gradeThreshold=1}}}const eg=Bs([fo,nR,xf,iR]);class E9 extends(mo(po(sR(Rf(rR(ho))),eg.encode),uo(eg.decode),eg.is)){}const tg=Bs([fo,xi({moduleName:bi,moduleId:bi}),xf,iR]);class O9 extends(mo(po(sR(Rf(function I9(e){return class extends e{constructor(){super(...arguments),this.moduleName="",this.moduleId=""}}}(ho))),tg.encode),uo(tg.decode),tg.is)){}const x9=new Ot("Survey ID",e=>"string"==typeof e.surveyId,(e,n)=>{const t=e.surveyId,r=e.quizId;return null!=t||null!=r?jt({surveyId:t??r}):wr(e,n)},e=>({quizId:e.surveyId})),R9=Bs([x9,xi({fieldName:bi})]),oR=xi({endTime:Sl});function aR(e){return class extends e{constructor(){super(...arguments),this.endTime=new Date}}}const ng=Bs([fo,R9,xf,oR]);class P9 extends(mo(po(aR(Rf(function L9(e){return class extends e{constructor(){super(...arguments),this.surveyId="",this.fieldName=""}}}(ho))),ng.encode),uo(ng.decode),ng.is)){}const N9=xi({newDueTime:Sl}),oD=Km($a),V9=new Ot("ExcludeTokenOptionIds",oD.is,(e,n)=>null==e?jt([]):oD.validate(e,n),e=>0==e.length?void 0:oD.encode(e)),lR=xi({excludeTokenOptionIds:V9});function uR(e){return class extends e{constructor(){super(...arguments),this.excludeTokenOptionIds=[]}}}const rg=Bs([Bs([fo,nR,xf,oR,N9]),lR]);class aD extends(mo(po(uR(function F9(e){return class extends e{constructor(){super(...arguments),this.newDueTime=new Date}}}(aR(Rf(rR(ho))))),rg.encode),uo(rg.decode),rg.is)){}const ig=Bs([fo,xi({assignmentName:bi,assignmentId:bi}),xf,xi({endTime:If([Sl,qx])}),xi({newDueTime:If([Sl,qx])})]);class lD extends(mo(po(function Y9(e){return class extends e{constructor(){super(...arguments),this.newDueTime=new Date}}}(function j9(e){return class extends e{constructor(){super(...arguments),this.endTime=new Date}}}(Rf(function H9(e){return class extends e{constructor(){super(...arguments),this.assignmentName="",this.assignmentId=""}}}(ho)))),ig.encode),uo(ig.decode),ig.is)){}const sg=Bs([fo,lR]);class uD extends(mo(po(uR(ho),sg.encode),uo(sg.decode),sg.is)){}const gc=function z9(e,n){return new Ot("GetterWrapper"+n.name,t=>n.is(t[e]),(t,r)=>Zm(i=>jt({[e]:i}))(n.validate(t[e],r)),t=>({[e]:n.encode(t[e])}))}("withdrawTokenOptionId",$a);function cD(e,n){return class extends e{constructor(){super(...arguments),this._withdrawTokenOptionId=-1,this._isCachedWithdrawTokenOptionInitialized=!1}get withdrawTokenOptionId(){return this._withdrawTokenOptionId}set withdrawTokenOptionId(t){this._cachedWithdrawTokenOption=void 0,this._isCachedWithdrawTokenOptionInitialized=!1,this._withdrawTokenOptionId=t}initalizeWithdrawTokenOption(){if(this._isCachedWithdrawTokenOptionInitialized)return;this._isCachedWithdrawTokenOptionInitialized=!0;const t=this.group.configuration.getTokenOptionById(this._withdrawTokenOptionId);if(null!=t){if(!n(t))throw new Error("Invalid Token Option Type for Withdraw Token Option ID");this._cachedWithdrawTokenOption=t}else this._cachedWithdrawTokenOption=void 0}get hasWithdrawTokenOption(){return this.initalizeWithdrawTokenOption(),null!=this._cachedWithdrawTokenOption}get withdrawTokenOption(){return this.initalizeWithdrawTokenOption(),this._cachedWithdrawTokenOption}}}function cR(e){return class extends e{set startTime(n){throw new Error("Cannot set Start Time for Withdraw Token Option")}get startTime(){return this.withdrawTokenOption?this.withdrawTokenOption.startTime:void 0}}}const _c=Bs([fo,gc]);class dR extends(mo(po(function W9(e){return class extends e{set endTime(n){throw new Error("Cannot set End Time for Withdraw Token Option")}get endTime(){return this.withdrawTokenOption?this.withdrawTokenOption.endTime:void 0}}}(cR(cD(ho,n=>n instanceof lD))),_c.encode),uo(_c.decode),_c.is)){}const og=Bs([fo,gc]);class G9 extends(mo(po(function q9(e){return class extends e{set endTime(n){throw new Error("Cannot set End Time for Withdraw Token Option")}get endTime(){return this.withdrawTokenOption?this.withdrawTokenOption.endTime:void 0}}}(cR(cD(ho,n=>n instanceof aD))),og.encode),uo(og.decode),og.is)){}const ag=Bs([fo,gc]);class fR extends(mo(po(cD(ho,n=>n instanceof uD),ag.encode),uo(ag.decode),ag.is)){}const Z9=/[\p{Lu}]/u,Q9=/[\p{Ll}]/u,hR=/^[\p{Lu}](?![\p{Lu}])/gu,pR=/([\p{Alpha}\p{N}_]|$)/u,dD=/[_.\- ]+/,K9=new RegExp("^"+dD.source),mR=new RegExp(dD.source+pR.source,"gu"),gR=new RegExp("\\d+"+pR.source,"gu"),fD=new lx({maxSize:1e5}),_R=e=>!("object"!=typeof e||null===e||e instanceof RegExp||e instanceof Error||e instanceof Date),yR=(e,n)=>{if(!_R(e))return e;n={deep:!1,pascalCase:!1,...n};const{exclude:t,pascalCase:r,stopPaths:i,deep:s}=n,o=new Set(i),a=l=>(u,c)=>{if(s&&_R(c)){const d=void 0===l?u:`${l}.${u}`;o.has(d)||(c=jm(c,a(d)))}if(!t||!((e,n)=>e.some(t=>"string"==typeof t?t===n:(t.lastIndex=0,t.test(n))))(t,u)){const d=r?`${u}_`:u;if(fD.has(d))u=fD.get(d);else{const f=function tZ(e,n){if("string"!=typeof e&&!Array.isArray(e))throw new TypeError("Expected the input to be `string | string[]`");if(n={pascalCase:!1,preserveConsecutiveUppercase:!1,...n},0===(e=Array.isArray(e)?e.map(s=>s.trim()).filter(s=>s.length).join("-"):e.trim()).length)return"";const t=!1===n.locale?s=>s.toLowerCase():s=>s.toLocaleLowerCase(n.locale),r=!1===n.locale?s=>s.toUpperCase():s=>s.toLocaleUpperCase(n.locale);return 1===e.length?dD.test(e)?"":n.pascalCase?r(e):t(e):(e!==t(e)&&(e=((e,n,t,r)=>{let i=!1,s=!1,o=!1,a=!1;for(let l=0;l<e.length;l++){const u=e[l];a=!(l>2)||"-"===e[l-3],i&&Z9.test(u)?(e=e.slice(0,l)+"-"+e.slice(l),i=!1,o=s,s=!0,l++):s&&o&&Q9.test(u)&&(!a||r)?(e=e.slice(0,l-1)+"-"+e.slice(l-1),o=s,s=!1,i=!0):(i=n(u)===u&&t(u)!==u,o=s,s=t(u)===u&&n(u)!==u)}return e})(e,t,r,n.preserveConsecutiveUppercase)),e=e.replace(K9,""),e=n.preserveConsecutiveUppercase?((e,n)=>(hR.lastIndex=0,e.replace(hR,t=>n(t))))(e,t):t(e),n.pascalCase&&(e=r(e.charAt(0))+e.slice(1)),((e,n)=>(mR.lastIndex=0,gR.lastIndex=0,e.replace(mR,(t,r)=>n(r)).replace(gR,t=>n(t))))(e,r))}(u,{pascalCase:r,locale:!1});u.length<100&&fD.set(d,f),u=f}}return[u,c]};return jm(e,a(void 0))},iZ=[],vR=new Le("TOKEN_OPTION_RESOLVERS"),sZ={basic:k9,"earn-by-quiz":E9,"earn-by-module":O9,"earn-by-survey":P9,"spend-for-assignment-resubmission":lD,"spend-for-lab-data":aD,"spend-for-lab-switch":uD,"withdraw-assignment-resubmission":dR,"withdraw-lab-data":G9,"withdraw-lab-switch":fR};let lg=(()=>{class e{constructor(t){this._tokenOptionResolversMap=new Map,t&&t.forEach(r=>{this._tokenOptionResolversMap.set(r.type,r)}),this._defaultTokenOptionResolversMap=new Map(Object.entries(sZ))}getTokenOptionResolver(t){const r=this._tokenOptionResolversMap.get(t);if(!r)throw new Error("Unsupported token option type");return r}resolveTokenOption(t,r){const i=r.type;if("string"!=typeof i)throw new Error("Invalid data");if(r=function rZ(e,n){return Array.isArray(e)?Object.keys(e).map(t=>yR(e[t],n)):yR(e,n)}(r,{deep:!0}),this._defaultTokenOptionResolversMap.has(i)){const s=this._defaultTokenOptionResolversMap.get(i);if(!s)throw new Error("Invalid Map");const o=(new s).fromRawData(r);return o.group=t,o}return this.getTokenOptionResolver(r.type).resolve(t,r)}constructTokenOption(t,r,i=!1){const s=r.type;if("string"!=typeof s)throw new Error("Invalid data");if(this._defaultTokenOptionResolversMap.has(s)){const o=this._defaultTokenOptionResolversMap.get(s);if(!o)throw new Error("Invalid Map");const a=(new o).fromData(r,i);return a.group=t,a}return this.getTokenOptionResolver(r.type).construct(t,r)}}return e.\u0275fac=function(t){return new(t||e)(J(vR,8))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var oZ=ce(191),lZ=ce(867).e,uZ=/<(![a-zA-Z\s]+)>/;class dZ extends fc{get infoDescription(){return"Extend Assignment/Quiz Lock Date To"}process(n){return n.map(t=>{const r=this.validate(t);if(null==r)return"";const i=r.newDueTime;return i instanceof Date?ls(i,"MMM dd, yyyy kk:mm:ss"):['<table style="border-collapse: collapse; width: 100%;">',"<tbody>",...i.overrides.map(s=>["<tr>",`<td style="text-align: end; text-wrap: nowrap">${s.name}:</td>`,`<td style="text-align: start; text-wrap: nowrap">${ls(s.date,"MMM dd, yyyy kk:mm:ss")}</td>`,"</tr>"].join("")),"<tr>",'<td style="text-align: end; text-wrap: nowrap">Default:</td>',`<td style="text-align: start; text-wrap: nowrap">${ls(i.defaultDate,"MMM dd, yyyy kk:mm:ss")}</td>`,"</tr>","</tbody>","</table>"].join("")})}validate(n){const t=n.newDueTime;return null!=t&&(t instanceof Date||t instanceof ja)?n:void 0}}let hD,Wi=(()=>{class e{constructor(t,r){this.canvasService=t,this.tokenOptionResolverRegistry=r}resolvePageContent(t){const r=function cZ(e){if("string"!=typeof e)throw new TypeError("First argument must be a string");if(""===e)return[];var t,n=e.match(uZ);return n&&n[1]&&(t=n[1]),lZ(oZ(e),null,t)}(t);for(const i of r)if("tag"==i.type&&"p"==i.name&&"text"==i.children[0]?.type&&"string"==typeof i.children[0]?.data)return i.children[0]?.data;throw new Error("Page resolve failed")}readConfigurationFromPage(t,r){var i=this;return(0,b.Z)(function*(){let s=yield i.canvasService.getPageContentByName(t.id,r);return s=i.resolvePageContent(s),s})()}writeConfigurationToPage(t,r,i){var s=this;return(0,b.Z)(function*(){yield s.canvasService.modifyPage(t.id,r,`<p>${i}</p>`)})()}saveConfiguration(t){var r=this;return(0,b.Z)(function*(){const i=yield r.canvasService.getPageIdByName(t.course.id,e.TOKEN_ATM_CONFIGURATION_PAGE_NAME);yield r.writeConfigurationToPage(t.course,i,JSON.stringify(t))})()}getTokenATMAssignmentGroupId(t){var r=this;return(0,b.Z)(function*(){return yield r.canvasService.getAssignmentGroupIdByName(t.course.id,e.TOKEN_ATM_ASSIGNMENT_GROUP_PREFIX+` - ${t.uid} - ${t.suffix}`)})()}getTokenATMModuleId(t){var r=this;return(0,b.Z)(function*(){return yield r.canvasService.getModuleIdByName(t.course.id,e.TOKEN_ATM_MODULE_PREFIX+` - ${t.uid} - ${t.suffix}`)})()}getTokenATMConfiguration(t){var r=this;return(0,b.Z)(function*(){const i=yield r.readConfigurationFromPage(t,e.TOKEN_ATM_CONFIGURATION_PAGE_NAME),s=yield r.readConfigurationFromPage(t,e.TOKEN_ATM_SECURE_CONFIGURATION_PAGE_NAME),o=JSON.parse(i),a=JSON.parse(s);return wf.deserialize(t,o,a,(l,u)=>r.tokenOptionResolverRegistry.resolveTokenOption(l,u))})()}updateTokenOptionGroupMetadata(t){var r=this;return(0,b.Z)(function*(){const i=t.configuration.course.id,s=t.quizId;yield r.canvasService.modifyQuiz(i,s,e.TOKEN_ATM_QUIZ_PREFIX+t.name,t.description),yield r.saveConfiguration(t.configuration)})()}updateTokenOptionGroup(t){var r=this;return(0,b.Z)(function*(){const i=t.configuration.course.id,s=t.quizId;let o=!1;t.isPublished&&(o=yield r.canvasService.canQuizUnpublished(i,s)),t.isPublished&&o&&(o=yield r.canvasService.changeQuizPublishState(i,s,!1)),yield r.canvasService.modifyQuiz(i,s,e.TOKEN_ATM_QUIZ_PREFIX+t.name,t.description);const a=new v9("Choose a token option",new p9([new m9,new g9,new f9,new dZ,new _9,new hG]).process(t.availableTokenOptions),0,t.availableTokenOptions.map(l=>l.prompt));return yield r.canvasService.replaceQuizQuestions(i,s,[a]),yield r.saveConfiguration(t.configuration),t.isPublished&&o&&(yield r.canvasService.changeQuizPublishState(i,s,!0)),!t.isPublished||o})()}addNewTokenOptionGroup(t,r,i,s=!0){var o=this;return(0,b.Z)(function*(){s&&t.configuration.addTokenOptionGroup(t);const a=t.configuration.course.id;null==r&&(r=yield o.getTokenATMAssignmentGroupId(t.configuration));const l=e.TOKEN_ATM_QUIZ_PREFIX+t.name,u=yield o.canvasService.createQuiz(a,r,l,t.description);t.quizId=u,null==i&&(i=yield o.getTokenATMModuleId(t.configuration)),yield o.canvasService.addModuleItem(a,i,"Quiz",u),yield o.updateTokenOptionGroup(t),t.isPublished&&(yield o.canvasService.changeQuizPublishState(a,u,!0))})()}deleteTokenOptionGroup(t,r=!0){var i=this;return(0,b.Z)(function*(){r&&t.configuration.deleteTokenOptionGroup(t),yield i.canvasService.deleteQuiz(t.configuration.course.id,t.quizId),r&&(yield i.saveConfiguration(t.configuration))})()}publishTokenOptionGroup(t){var r=this;return(0,b.Z)(function*(){t.isPublished||(yield r.canvasService.changeQuizPublishState(t.configuration.course.id,t.quizId,!0),t.isPublished=!0,yield r.saveConfiguration(t.configuration))})()}unpublishTokenOptionGroup(t){var r=this;return(0,b.Z)(function*(){return!(!t.isPublished&&!(yield r.canvasService.canQuizUnpublished(t.configuration.course.id,t.quizId))||!(yield r.canvasService.changeQuizPublishState(t.configuration.course.id,t.quizId,!1))||(t.isPublished=!1,yield r.saveConfiguration(t.configuration),0))})()}updateTokenATMMetadata(t,{suffix:r,description:i}={}){var s=this;return(0,b.Z)(function*(){let o=!1;null!=r&&r!=t.suffix&&(yield s.canvasService.modifyModuleName(t.course.id,yield s.getTokenATMModuleId(t),e.TOKEN_ATM_MODULE_PREFIX+` - ${t.uid} - ${r}`),yield s.canvasService.modifyAssignmentGroupName(t.course.id,yield s.getTokenATMAssignmentGroupId(t),e.TOKEN_ATM_ASSIGNMENT_GROUP_PREFIX+` - ${t.uid} - ${r}`),t.suffix=r,o=!0),null!=i&&i!=t.description&&(yield s.canvasService.modifyAssignmentDescription(t.course.id,t.logAssignmentId,i),t.description=i,o=!0),o&&(yield s.saveConfiguration(t))})()}deleteGeneratedContent(t){var r=this;return(0,b.Z)(function*(){yield r.canvasService.deleteAssignmentGroup(t.course.id,yield r.getTokenATMAssignmentGroupId(t)),yield r.canvasService.deleteModule(t.course.id,yield r.getTokenATMModuleId(t)),yield r.canvasService.deletePage(t.course.id,yield r.canvasService.getPageIdByName(t.course.id,e.TOKEN_ATM_SECURE_CONFIGURATION_PAGE_NAME))})()}generateContent(t){var r=this;return(0,b.Z)(function*(){const i=t.course.id;yield r.canvasService.createPage(i,e.TOKEN_ATM_SECURE_CONFIGURATION_PAGE_NAME,`<p>${JSON.stringify(t.getSecureConfig())}</p>`);const s=yield r.canvasService.createAssignmentGroup(i,e.TOKEN_ATM_ASSIGNMENT_GROUP_PREFIX+` - ${t.uid} - ${t.suffix}`),o=yield r.canvasService.createModule(i,e.TOKEN_ATM_MODULE_PREFIX+` - ${t.uid} - ${t.suffix}`);yield r.canvasService.publishModule(i,o);const a=yield r.canvasService.createAssignment(i,s,e.TOKEN_ATM_LOG_ASSIGNMENT_NAME,t.description);yield r.canvasService.addModuleItem(i,o,"Assignment",a),t.logAssignmentId=a;for(const l of t.tokenOptionGroups)yield r.addNewTokenOptionGroup(l,s,o,!1);yield r.saveConfiguration(t)})()}deleteAll(t){var r=this;return(0,b.Z)(function*(){yield r.deleteGeneratedContent(t),yield r.canvasService.deletePage(t.course.id,yield r.canvasService.getPageIdByName(t.course.id,e.TOKEN_ATM_CONFIGURATION_PAGE_NAME))})()}createTokenATMConfiguration(t,r="",i=""){var s=this;return(0,b.Z)(function*(){const o=new wf(t,"",Um(8).toUpperCase(),r,i,1,1,[],(a,l)=>s.tokenOptionResolverRegistry.resolveTokenOption(a,l),Um(32),window.crypto.getRandomValues(new Uint8Array(32)));return yield s.canvasService.createPage(t.id,e.TOKEN_ATM_CONFIGURATION_PAGE_NAME,`<p>${JSON.stringify(o)}</p>`),yield s.generateContent(o),o})()}regenerateContent(t,r=!1){var i=this;return(0,b.Z)(function*(){if(yield i.deleteGeneratedContent(t),t.uid=Um(8).toUpperCase(),t.regenerateSecureConfig(),r)for(const s of t.tokenOptionGroups){s.isPublished=!1;for(const o of s.tokenOptions)o.isMigrating=!0}yield i.generateContent(t)})()}}return e.TOKEN_ATM_CONFIGURATION_PAGE_NAME="Token ATM Configuration",e.TOKEN_ATM_SECURE_CONFIGURATION_PAGE_NAME="Token ATM Encryption Key (PLEASE DO NOT PUBLISH IT)",e.TOKEN_ATM_ASSIGNMENT_GROUP_PREFIX="Token ATM",e.TOKEN_ATM_MODULE_PREFIX="Token ATM",e.TOKEN_ATM_QUIZ_PREFIX="Token ATM Request Submission - ",e.TOKEN_ATM_LOG_ASSIGNMENT_NAME="Token ATM Log",e.\u0275fac=function(t){return new(t||e)(J(In),J(lg))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),fZ=(()=>{class e{constructor(){this._focusTrapStack=[]}register(t){this._focusTrapStack=this._focusTrapStack.filter(i=>i!==t);let r=this._focusTrapStack;r.length&&r[r.length-1]._disable(),r.push(t),t._enable()}deregister(t){t._disable();const r=this._focusTrapStack,i=r.indexOf(t);-1!==i&&(r.splice(i,1),r.length&&r[r.length-1]._enable())}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();try{hD=typeof Intl<"u"&&Intl.v8BreakIterator}catch{hD=!1}let bR=(()=>{class e{constructor(t){this._platformId=t,this.isBrowser=this._platformId?cE(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!hD)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return e.\u0275fac=function(t){return new(t||e)(J(yp))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),wR=(()=>{class e{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function pZ(e){return!!(e.offsetWidth||e.offsetHeight||"function"==typeof e.getClientRects&&e.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function hZ(e){try{return e.frameElement}catch{return null}}(function DZ(e){return e.ownerDocument&&e.ownerDocument.defaultView||window}(t));if(r&&(-1===CR(r)||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),s=CR(t);return t.hasAttribute("contenteditable")?-1!==s:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function bZ(e){let n=e.nodeName.toLowerCase(),t="input"===n&&e.type;return"text"===t||"password"===t||"select"===n||"textarea"===n}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==s:"video"===i?-1!==s&&(null!==s||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function wZ(e){return!function gZ(e){return function yZ(e){return"input"==e.nodeName.toLowerCase()}(e)&&"hidden"==e.type}(e)&&(function mZ(e){let n=e.nodeName.toLowerCase();return"input"===n||"select"===n||"button"===n||"textarea"===n}(e)||function _Z(e){return function vZ(e){return"a"==e.nodeName.toLowerCase()}(e)&&e.hasAttribute("href")}(e)||e.hasAttribute("contenteditable")||DR(e))}(t)&&!this.isDisabled(t)&&(r?.ignoreVisibility||this.isVisible(t))}}return e.\u0275fac=function(t){return new(t||e)(J(bR))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function DR(e){if(!e.hasAttribute("tabindex")||void 0===e.tabIndex)return!1;let n=e.getAttribute("tabindex");return"-32768"!=n&&!(!n||isNaN(parseInt(n,10)))}function CR(e){if(!DR(e))return null;const n=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(n)?-1:n}function TR(e){return null!=e&&"false"!=`${e}`}class CZ{constructor(n,t,r,i,s=!1){this._element=n,this._checker=t,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(n){this._enabled=n,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}destroy(){const n=this._startAnchor,t=this._endAnchor;n&&(n.removeEventListener("focus",this.startAnchorListener),n.parentNode&&n.parentNode.removeChild(n)),t&&(t.removeEventListener("focus",this.endAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(n=>{this._executeOnStable(()=>n(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(n=>{this._executeOnStable(()=>n(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(n=>{this._executeOnStable(()=>n(this.focusLastTabbableElement()))})}_getRegionBoundary(n){let t=this._element.querySelectorAll(`[cdk-focus-region-${n}], [cdkFocusRegion${n}], [cdk-focus-${n}]`);for(let r=0;r<t.length;r++)t[r].hasAttribute(`cdk-focus-${n}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${n}', use 'cdkFocusRegion${n}' instead. The deprecated attribute will be removed in 8.0.0.`,t[r]):t[r].hasAttribute(`cdk-focus-region-${n}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${n}', use 'cdkFocusRegion${n}' instead. The deprecated attribute will be removed in 8.0.0.`,t[r]);return"start"==n?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const n=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(n){if(n.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",n),!this._checker.isFocusable(n)){const t=this._getFirstTabbableElement(n);return t?.focus(),!!t}return n.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){const n=this._getRegionBoundary("start");return n&&n.focus(),!!n}focusLastTabbableElement(){const n=this._getRegionBoundary("end");return n&&n.focus(),!!n}hasAttached(){return this._hasAttached}_getFirstTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;let t=n.children||n.childNodes;for(let r=0;r<t.length;r++){let i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;let t=n.children||n.childNodes;for(let r=t.length-1;r>=0;r--){let i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){const n=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,n),n.classList.add("cdk-visually-hidden"),n.classList.add("cdk-focus-trap-anchor"),n.setAttribute("aria-hidden","true"),n}_toggleAnchorTabIndex(n,t){n?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(n){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}_executeOnStable(n){this._ngZone.isStable?n():this._ngZone.onStable.pipe(Zo(1)).subscribe(n)}}let TZ=(()=>{class e{constructor(t,r,i){this._checker=t,this._ngZone=r,this._document=i}create(t,r=!1){return new CZ(t,this._checker,this._ngZone,this._document,r)}}return e.\u0275fac=function(t){return new(t||e)(J(wR),J(mn),J(Jn))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),MZ=(()=>{class e{constructor(t,r,i){this._elementRef=t,this._focusTrapFactory=r,this._previouslyFocusedElement=null,this._autoCapture=!1,this._document=i,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(t){this.focusTrap.enabled=TR(t)}get autoCapture(){return this._autoCapture}set autoCapture(t){this._autoCapture=TR(t)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(t){const r=t.autoCapture;r&&!r.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady()}}return e.\u0275fac=function(t){return new(t||e)(D(qt),D(TZ),D(Jn))},e.\u0275dir=Pe({type:e,selectors:[["","focusTrap",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["focusTrap"],features:[Qr]}),e})(),MR=(()=>{class e{static forRoot(){return{ngModule:e,providers:[fZ,bR,wR]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Sr({type:e}),e.\u0275inj=pr({imports:[qu]}),e})();class SZ{constructor(n,t){this.open=n,this.close=t||n}isManual(){return"manual"===this.open||"manual"===this.close}}const kZ={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};function pD(e,n=kZ){const t=(e||"").trim();if(0===t.length)return[];const r=t.split(/\s+/).map(s=>s.split(":")).map(s=>{const o=n[s[0]]||s;return new SZ(o[0],o[1])}),i=r.filter(s=>s.isManual());if(i.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===i.length&&r.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return r}const Dr=typeof window<"u"&&window||{};var ug=(()=>(function(e){e.isBs4="bs4",e.isBs5="bs5"}(ug||(ug={})),ug))();let ia;function SR(){const e=Dr.document.createElement("span");e.innerText="testing bs version",e.classList.add("d-none"),e.classList.add("pl-1"),Dr.document.head.appendChild(e);const n=Dr.getComputedStyle(e).paddingLeft;return n&&parseFloat(n)?(Dr.document.head.removeChild(e),"bs4"):(Dr.document.head.removeChild(e),"bs5")}function yc(){return{isBs4:(ia||(ia=SR()),"bs4"===ia),isBs5:(ia||(ia=SR()),"bs5"===ia)}}function LZ(){const e="Change";return function(t,r){const i=` __${r}Value`;Object.defineProperty(t,r,{get(){return this[i]},set(s){const o=this[i];this[i]=s,o!==s&&this[r+e]&&this[r+e].emit(s)}})}}class PZ{static reflow(n){}static getStyles(n){let t=n.ownerDocument.defaultView;return(!t||!t.opener)&&(t=Dr),t.getComputedStyle(n)}static stackOverflowConfig(){const n=function RZ(){const e=yc(),n=Object.keys(e).find(t=>e[t]);return ug[n]}();return{crossorigin:"anonymous",integrity:"bs5"===n?"sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We":"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2",cdnLink:"bs5"===n?"https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css":"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"}}}typeof console>"u"||console;const FZ=["addListener","removeListener"],VZ=["addEventListener","removeEventListener"],BZ=["on","off"];function cg(e,n,t,r){if(Z(t)&&(r=t,t=void 0),r)return cg(e,n,t).pipe(pb(r));const[i,s]=function jZ(e){return Z(e.addEventListener)&&Z(e.removeEventListener)}(e)?VZ.map(o=>a=>e[o](n,a,t)):function HZ(e){return Z(e.addListener)&&Z(e.removeListener)}(e)?FZ.map(ER(e,n)):function $Z(e){return Z(e.on)&&Z(e.off)}(e)?BZ.map(ER(e,n)):[];if(!i&&$c(e))return It(o=>cg(o,n,t))(L(e));if(!i)throw new TypeError("Invalid event target");return new We(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return i(a),()=>s(a)})}function ER(e,n){return t=>r=>e[t](n,r)}class UZ extends de{constructor(n,t){super()}schedule(n,t=0){return this}}const dg={setInterval(e,n,...t){const{delegate:r}=dg;return r?.setInterval?r.setInterval(e,n,...t):setInterval(e,n,...t)},clearInterval(e){const{delegate:n}=dg;return(n?.clearInterval||clearInterval)(e)},delegate:void 0};class mD extends UZ{constructor(n,t){super(n,t),this.scheduler=n,this.work=t,this.pending=!1}schedule(n,t=0){var r;if(this.closed)return this;this.state=n;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(n,t,r=0){return dg.setInterval(n.flush.bind(n,this),r)}recycleAsyncId(n,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&dg.clearInterval(t)}execute(n,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(n,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,t){let i,r=!1;try{this.work(n)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:n,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,he(r,this),null!=n&&(this.id=this.recycleAsyncId(t,n,null)),this.delay=null,super.unsubscribe()}}}const Lf={schedule(e){let n=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=Lf;r&&(n=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=n(s=>{t=void 0,e(s)});return new de(()=>t?.(i))},requestAnimationFrame(...e){const{delegate:n}=Lf;return(n?.requestAnimationFrame||requestAnimationFrame)(...e)},cancelAnimationFrame(...e){const{delegate:n}=Lf;return(n?.cancelAnimationFrame||cancelAnimationFrame)(...e)},delegate:void 0},AR={now:()=>(AR.delegate||Date).now(),delegate:void 0};class Pf{constructor(n,t=Pf.now){this.schedulerActionCtor=n,this.now=t}schedule(n,t=0,r){return new this.schedulerActionCtor(this,n).schedule(r,t)}}Pf.now=AR.now;class gD extends Pf{constructor(n,t=Pf.now){super(n,t),this.actions=[],this._active=!1}flush(n){const{actions:t}=this;if(this._active)return void t.push(n);let r;this._active=!0;do{if(r=n.execute(n.state,n.delay))break}while(n=t.shift());if(this._active=!1,r){for(;n=t.shift();)n.unsubscribe();throw r}}}const WZ=new class zZ extends gD{flush(n){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;n=n||r.shift();do{if(i=n.execute(n.state,n.delay))break}while((n=r[0])&&n.id===t&&r.shift());if(this._active=!1,i){for(;(n=r[0])&&n.id===t&&r.shift();)n.unsubscribe();throw i}}}(class YZ extends mD{constructor(n,t){super(n,t),this.scheduler=n,this.work=t}requestAsyncId(n,t,r=0){return null!==r&&r>0?super.requestAsyncId(n,t,r):(n.actions.push(this),n._scheduled||(n._scheduled=Lf.requestAnimationFrame(()=>n.flush(void 0))))}recycleAsyncId(n,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(n,t,r);const{actions:s}=n;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(Lf.cancelAnimationFrame(t),n._scheduled=void 0)}});var fg=(()=>(function(e){e.top="top",e.bottom="bottom",e.left="left",e.right="right",e.auto="auto",e.end="right",e.start="left",e["top left"]="top left",e["top right"]="top right",e["right top"]="right top",e["right bottom"]="right bottom",e["bottom right"]="bottom right",e["bottom left"]="bottom left",e["left bottom"]="left bottom",e["left top"]="left top",e["top start"]="top left",e["top end"]="top right",e["end top"]="right top",e["end bottom"]="right bottom",e["bottom end"]="bottom right",e["bottom start"]="bottom left",e["start bottom"]="start bottom",e["start top"]="left top"}(fg||(fg={})),fg))(),vc=(()=>(function(e){e.top="top",e.bottom="bottom",e.left="start",e.right="end",e.auto="auto",e.end="end",e.start="start",e["top left"]="top start",e["top right"]="top end",e["right top"]="end top",e["right bottom"]="end bottom",e["bottom right"]="bottom end",e["bottom left"]="bottom start",e["left bottom"]="start bottom",e["left top"]="start top",e["top start"]="top start",e["top end"]="top end",e["end top"]="end top",e["end bottom"]="end bottom",e["bottom end"]="bottom end",e["bottom start"]="bottom start",e["start bottom"]="start bottom",e["start top"]="start top"}(vc||(vc={})),vc))();function kl(e,n){if(1!==e.nodeType)return[];const r=e.ownerDocument.defaultView?.getComputedStyle(e,null);return n?r&&r[n]:r}function _D(e){if(!e)return document.documentElement;let r,t=e?.offsetParent;for(;null===t&&e.nextElementSibling&&r!==e.nextElementSibling;)r=e.nextElementSibling,t=r.offsetParent;const i=t&&t.nodeName;return i&&"BODY"!==i&&"HTML"!==i?t&&-1!==["TH","TD","TABLE"].indexOf(t.nodeName)&&"static"===kl(t,"position")?_D(t):t:r?r.ownerDocument.documentElement:document.documentElement}function yD(e){return null!==e.parentNode?yD(e.parentNode):e}function hg(e,n){if(!(e&&e.nodeType&&n&&n.nodeType))return document.documentElement;const t=e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_FOLLOWING,r=t?e:n,i=t?n:e,s=document.createRange();s.setStart(r,0),s.setEnd(i,0);const o=s.commonAncestorContainer;if(e!==o&&n!==o||r.contains(i))return function qZ(e){const{nodeName:n}=e;return"BODY"!==n&&("HTML"===n||_D(e.firstElementChild)===e)}(o)?o:_D(o);const a=yD(e);return a.host?hg(a.host,n):hg(e,yD(n).host)}function IR(e){if(!e||!e.parentElement)return document.documentElement;let n=e.parentElement;for(;n?.parentElement&&"none"===kl(n,"transform");)n=n.parentElement;return n||document.documentElement}function OR(e,n){const t="x"===n?"Left":"Top",r="Left"===t?"Right":"Bottom";return parseFloat(e[`border${t}Width`])+parseFloat(e[`border${r}Width`])}function xR(e,n,t,r){return Math.max(n[`offset${e}`],n[`scroll${e}`],t[`client${e}`],t[`offset${e}`],t[`scroll${e}`],0)}function RR(e){const n=e.body,t=e.documentElement;return{height:xR("Height",n,t),width:xR("Width",n,t)}}function Nf(e){return{...e,right:(e.left||0)+e.width,bottom:(e.top||0)+e.height}}function On(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function LR(e){const n=e.getBoundingClientRect();if(!(n&&On(n.top)&&On(n.left)&&On(n.bottom)&&On(n.right)))return n;const t={left:n.left,top:n.top,width:n.right-n.left,height:n.bottom-n.top},r="HTML"===e.nodeName?RR(e.ownerDocument):void 0,i=r?.width||e.clientWidth||On(n.right)&&On(t.left)&&n.right-t.left||0,s=r?.height||e.clientHeight||On(n.bottom)&&On(t.top)&&n.bottom-t.top||0;let o=e.offsetWidth-i,a=e.offsetHeight-s;if(o||a){const l=kl(e);o-=OR(l,"x"),a-=OR(l,"y"),t.width-=o,t.height-=a}return Nf(t)}function vD(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function bD(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}const{overflow:n,overflowX:t,overflowY:r}=kl(e);return/(auto|scroll|overlay)/.test(String(n)+String(r)+String(t))?e:bD(vD(e))}function wD(e,n,t=!1){const r="HTML"===n.nodeName,i=LR(e),s=LR(n),a=(bD(e),kl(n)),l=parseFloat(a.borderTopWidth),u=parseFloat(a.borderLeftWidth);t&&r&&(s.top=Math.max(s.top??0,0),s.left=Math.max(s.left??0,0));const c=Nf({top:(i.top??0)-(s.top??0)-l,left:(i.left??0)-(s.left??0)-u,width:i.width,height:i.height});if(c.marginTop=0,c.marginLeft=0,r){const d=parseFloat(a.marginTop),f=parseFloat(a.marginLeft);On(c.top)&&(c.top-=l-d),On(c.bottom)&&(c.bottom-=l-d),On(c.left)&&(c.left-=u-f),On(c.right)&&(c.right-=u-f),c.marginTop=d,c.marginLeft=f}return c}function PR(e,n="top"){const t="top"===n?"scrollTop":"scrollLeft",r=e.nodeName;return"BODY"===r||"HTML"===r?(e.ownerDocument.scrollingElement||e.ownerDocument.documentElement)[t]:e[t]}function NR(e){const n=e.nodeName;return"BODY"!==n&&"HTML"!==n&&("fixed"===kl(e,"position")||NR(vD(e)))}function DD(e,n,t=0,r,i=!1){let s={top:0,left:0};const o=i?IR(e):hg(e,n);if("viewport"===r)s=function ZZ(e,n=!1){const t=e.ownerDocument.documentElement,r=wD(e,t),i=Math.max(t.clientWidth,window.innerWidth||0),s=Math.max(t.clientHeight,window.innerHeight||0),o=n?0:PR(t),a=n?0:PR(t,"left");return Nf({top:o-Number(r?.top)+Number(r?.marginTop),left:a-Number(r?.left)+Number(r?.marginLeft),width:i,height:s})}(o,i);else{let a;"scrollParent"===r?(a=bD(vD(n)),"BODY"===a.nodeName&&(a=e.ownerDocument.documentElement)):a="window"===r?e.ownerDocument.documentElement:r;const l=wD(a,o,i);if(l&&"HTML"===a.nodeName&&!NR(o)){const{height:u,width:c}=RR(e.ownerDocument);On(s.top)&&On(l.top)&&On(l.marginTop)&&(s.top+=l.top-l.marginTop),On(s.top)&&(s.bottom=Number(u)+Number(l.top)),On(s.left)&&On(l.left)&&On(l.marginLeft)&&(s.left+=l.left-l.marginLeft),On(s.top)&&(s.right=Number(c)+Number(l.left))}else l&&(s=l)}return On(s.left)&&(s.left+=t),On(s.top)&&(s.top+=t),On(s.right)&&(s.right-=t),On(s.bottom)&&(s.bottom-=t),s}function QZ({width:e,height:n}){return e*n}function FR(e,n,t,r,i=["top","bottom","right","left"],s="viewport",o=0){if(-1===e.indexOf("auto"))return e;const a=DD(t,r,o,s),l={top:{width:a?.width??0,height:(n?.top??0)-(a?.top??0)},right:{width:(a?.right??0)-(n?.right??0),height:a?.height??0},bottom:{width:a?.width??0,height:(a?.bottom??0)-(n?.bottom??0)},left:{width:(n.left??0)-(a?.left??0),height:a?.height??0}},u=Object.keys(l).map(h=>({position:h,...l[h],area:QZ(l[h])})).sort((h,p)=>p.area-h.area);let c=u.filter(({width:h,height:p})=>h>=t.clientWidth&&p>=t.clientHeight);c=c.filter(({position:h})=>i.some(p=>p===h));const d=c.length>0?c[0].position:u[0].position,f=e.split(" ")[1];return t.className=t.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${yc().isBs5?vc[d]:d}`),d+(f?`-${f}`:"")}const pg=(e,n=0)=>e?parseFloat(e):n;function VR(e){const t=e.ownerDocument.defaultView?.getComputedStyle(e),r=pg(t?.marginTop)+pg(t?.marginBottom),i=pg(t?.marginLeft)+pg(t?.marginRight);return{width:Number(e.offsetWidth)+i,height:Number(e.offsetHeight)+r}}function BR(e,n,t){return wD(n,t?IR(e):hg(e,n),t)}function CD(e,n,t){const r=t.split(" ")[0],i=VR(e),s={width:i.width,height:i.height},o=-1!==["right","left"].indexOf(r),a=o?"top":"left",l=o?"left":"top",u=o?"height":"width",c=o?"width":"height";return s[a]=(n[a]??0)+n[u]/2-i[u]/2,s[l]=r===l?(n[l]??0)-i[c]:n[function JZ(e){const n={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,t=>n[t])}(l)]??0,s}function HR(e,n){return!!e.modifiers[n]?.enabled}const eQ={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function mg(e,n){return!!yc().isBs5&&eQ[n].includes(e)}function $R(e,n,t){!e||!n||Object.keys(n).forEach(r=>{let i="";-1!==["width","height","top","right","bottom","left"].indexOf(r)&&function GZ(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(Number(e))}(n[r])&&(i="px"),t?t.setStyle(e,r,`${String(n[r])}${i}`):e.style[r]=String(n[r])+i})}function rQ(e){let n=e.offsets.target;const t=e.instance.target.querySelector(".arrow");if(!t)return e;const r=-1!==["left","right"].indexOf(e.placement.split(" ")[0]),i=r?"height":"width",s=r?"Top":"Left",o=s.toLowerCase(),a=r?"left":"top",l=r?"bottom":"right",u=VR(t)[i],c=e.placement.split(" ")[1];(e.offsets.host[l]??0)-u<(n[o]??0)&&(n[o]-=(n[o]??0)-((e.offsets.host[l]??0)-u)),Number(e.offsets.host[o])+Number(u)>(n[l]??0)&&(n[o]+=Number(e.offsets.host[o])+Number(u)-Number(n[l])),n=Nf(n);const d=kl(e.instance.target),f=parseFloat(d[`margin${s}`])||0,h=parseFloat(d[`border${s}Width`])||0;let p;if(c){const M=parseFloat(d.borderRadius)||0,O=Number(f+h+M);p=o===c?Number(e.offsets.host[o])+O:Number(e.offsets.host[o])+Number(e.offsets.host[i]-O)}else p=Number(e.offsets.host[o])+Number(e.offsets.host[i]/2-u/2);let g=p-(n[o]??0)-f-h;return g=Math.max(Math.min(n[i]-(u+5),g),0),e.offsets.arrow={[o]:Math.round(g),[a]:""},e.instance.arrow=t,e}function iQ(e){if(e.offsets.target=Nf(e.offsets.target),!HR(e.options,"flip"))return e.offsets.target={...e.offsets.target,...CD(e.instance.target,e.offsets.host,e.placement)},e;const n=DD(e.instance.target,e.instance.host,0,"viewport",!1);let t=e.placement.split(" ")[0],r=e.placement.split(" ")[1]||"";const a=FR("auto",e.offsets.host,e.instance.target,e.instance.host,e.options.allowedPositions),l=[t,a];return l.forEach((u,c)=>{if(t!==u||l.length===c+1)return;t=e.placement.split(" ")[0];const d="left"===t&&Math.floor(e.offsets.target.right??0)>Math.floor(e.offsets.host.left??0)||"right"===t&&Math.floor(e.offsets.target.left??0)<Math.floor(e.offsets.host.right??0)||"top"===t&&Math.floor(e.offsets.target.bottom??0)>Math.floor(e.offsets.host.top??0)||"bottom"===t&&Math.floor(e.offsets.target.top??0)<Math.floor(e.offsets.host.bottom??0),f=Math.floor(e.offsets.target.left??0)<Math.floor(n.left??0),h=Math.floor(e.offsets.target.right??0)>Math.floor(n.right??0),p=Math.floor(e.offsets.target.top??0)<Math.floor(n.top??0),g=Math.floor(e.offsets.target.bottom??0)>Math.floor(n.bottom??0),M="left"===t&&f||"right"===t&&h||"top"===t&&p||"bottom"===t&&g,O=-1!==["top","bottom"].indexOf(t),Y=O&&"left"===r&&f||O&&"right"===r&&h||!O&&"left"===r&&p||!O&&"right"===r&&g;(d||M||Y)&&((d||M)&&(t=l[c+1]),Y&&(r=function XZ(e){return"right"===e?"left":"left"===e?"right":e}(r)),e.placement=t+(r?` ${r}`:""),e.offsets.target={...e.offsets.target,...CD(e.instance.target,e.offsets.host,e.placement)})}),e}function oQ(e){if(!HR(e.options,"preventOverflow"))return e;const n="transform",t=e.instance.target.style,{top:r,left:i,[n]:s}=t;t.top="",t.left="",t[n]="";const o=DD(e.instance.target,e.instance.host,0,e.options.modifiers.preventOverflow?.boundariesElement||"scrollParent",!1);t.top=r,t.left=i,t[n]=s;const l={primary(u){let c=e.offsets.target[u];return(e.offsets.target[u]??0)<(o[u]??0)&&(c=Math.max(e.offsets.target[u]??0,o[u]??0)),{[u]:c}},secondary(u){const c="right"===u,d=c?"left":"top";let h=e.offsets.target[d];return(e.offsets.target[u]??0)>(o[u]??0)&&(h=Math.min(e.offsets.target[d]??0,(o[u]??0)-e.offsets.target[c?"width":"height"])),{[d]:h}}};return["left","right","top","bottom"].forEach(u=>{const c=-1!==["left","top","start"].indexOf(u)?l.primary:l.secondary;e.offsets.target={...e.offsets.target,...c(u)}}),e}function aQ(e){const n=e.placement,t=n.split(" ")[0],r=n.split(" ")[1];if(r){const{host:i,target:s}=e.offsets,o=-1!==["bottom","top"].indexOf(t),a=o?"left":"top",l=o?"width":"height",u={start:{[a]:i[a]},end:{[a]:(i[a]??0)+i[l]-s[l]}};e.offsets.target={...s,[a]:a===r?u.start[a]:u.end[a]}}return e}const uQ=new class lQ{position(n,t){return this.offset(n,t)}offset(n,t){return BR(t,n)}positionElements(n,t,r,i,s){const o=[iQ,aQ,oQ,rQ],l=function sQ(e,n,t,r){if(!e||!n)return;const i=BR(e,n);!t.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)&&!t.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)&&(t="auto");const s=!!t.match(/auto/g);let o=t.match(/auto\s(left|right|top|bottom|start|end)/)?t.split(" ")[1]||"auto":t;const a=o.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);return a&&(o=a[1]+(a[2]?` ${a[2]}`:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(o)&&(o="auto"),o=FR(o,i,e,n,r?r.allowedPositions:void 0),{options:r||{modifiers:{}},instance:{target:e,host:n,arrow:void 0},offsets:{target:CD(e,i,o),host:i,arrow:void 0},positionFixed:!1,placement:o,placementAuto:s}}(t,n,fg[r],s);if(l)return o.reduce((u,c)=>c(u),l)}};function cQ(e,n,t,r,i,s){const o=uQ.positionElements(e,n,t,r,i);if(!o)return;const a=function KZ(e){return{width:e.offsets.target.width,height:e.offsets.target.height,left:Math.floor(e.offsets.target.left??0),top:Math.round(e.offsets.target.top??0),bottom:Math.round(e.offsets.target.bottom??0),right:Math.floor(e.offsets.target.right??0)}}(o);$R(n,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${a.left}px, ${a.top}px, 0px)`},s),o.instance.arrow&&$R(o.instance.arrow,o.offsets.arrow,s),function nQ(e,n){const t=e.instance.target;let r=t.className;const i=yc().isBs5?vc[e.placement]:e.placement;e.placementAuto&&(r=r.replace(/bs-popover-auto/g,`bs-popover-${i}`),r=r.replace(/ms-2|me-2|mb-2|mt-2/g,""),r=r.replace(/bs-tooltip-auto/g,`bs-tooltip-${i}`),r=r.replace(/\sauto/g,` ${i}`),-1!==r.indexOf("popover")&&(r=r+" "+function tQ(e){return yc().isBs5?mg(e,"end")?"ms-2":mg(e,"start")?"me-2":mg(e,"top")?"mb-2":mg(e,"bottom")?"mt-2":"":""}(i)),-1!==r.indexOf("popover")&&-1===r.indexOf("popover-auto")&&(r+=" popover-auto"),-1!==r.indexOf("tooltip")&&-1===r.indexOf("tooltip-auto")&&(r+=" tooltip-auto")),r=r.replace(/left|right|top|bottom|end|start/g,`${i.split(" ")[0]}`),n?n.setAttribute(t,"class",r):t.className=r}(o,s)}let sa=(()=>{class e{constructor(t,r,i){this.update$$=new kt,this.positionElements=new Map,this.isDisabled=!1,cE(i)&&t.runOutsideAngular(()=>{this.triggerEvent$=nu(cg(window,"scroll",{passive:!0}),cg(window,"resize",{passive:!0}),Ye(0,WZ),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(s=>{cQ(gg(s.target),gg(s.element),s.attachment,s.appendToBody,this.options,r.createRenderer(null,null))})})})}position(t){this.addPositionElement(t)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(t){this.positionElements.set(gg(t.element),t)}calcPosition(){this.update$$.next(null)}deletePositionElement(t){this.positionElements.delete(gg(t))}setOptions(t){this.options=t}}return e.\u0275fac=function(t){return new(t||e)(J(mn),J(ul),J(yp))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function gg(e){return"string"==typeof e?document.querySelector(e):e instanceof qt?e.nativeElement:e??null}class Ff{constructor(n,t,r){this.nodes=n,this.viewRef=t,this.componentRef=r}}class dQ{constructor(n,t,r,i,s,o,a,l,u){this._viewContainerRef=n,this._renderer=t,this._elementRef=r,this._injector=i,this._componentFactoryResolver=s,this._ngZone=o,this._applicationRef=a,this._posService=l,this._document=u,this.onBeforeShow=new Me,this.onShown=new Me,this.onBeforeHide=new Me,this.onHidden=new Me,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(n){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(n),this}to(n){return this.container=n||this.container,this}position(n){return n?(this.attachment=n.attachment||this.attachment,this._elementRef=n.target||this._elementRef,this):this}provide(n){return this._providers.push(n),this}show(n={}){if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(n.content,n.context,n.initialState);const t=ki.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(t,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,n),this.container instanceof qt&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&typeof this._document<"u"){const r=this._document.querySelector(this.container)||this._document.querySelector(this.containerDefaultSelector);if(!r)return;r.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(n.id?{id:n.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(n){if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const t=this._componentRef.location.nativeElement;return t.parentNode?.removeChild(t),this._contentRef?.componentRef?.destroy(),this._viewContainerRef&&this._contentRef?.viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef?.viewRef?.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(n?{id:n}:null),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(n){this.triggers=n.triggers||this.triggers,this._listenOpts.outsideClick=n.outsideClick,this._listenOpts.outsideEsc=n.outsideEsc,n.target=n.target||this._elementRef?.nativeElement;const t=this._listenOpts.hide=()=>n.hide?n.hide():void this.hide(),r=this._listenOpts.show=s=>{n.show?n.show(s):this.show(s),s()};return this._renderer&&(this._unregisterListenersFn=function EZ(e,n){const t=pD(n.triggers),r=n.target;if(1===t.length&&t[0].isManual())return Function.prototype;const i=[],s=[],o=()=>{s.forEach(a=>i.push(a())),s.length=0};return t.forEach(a=>{const l=a.open===a.close,u=l?n.toggle:n.show;if(!l&&a.close&&n.hide){const c=e.listen(r,a.close,n.hide);s.push(()=>c)}u&&i.push(e.listen(r,a.open,()=>u(o)))}),()=>{i.forEach(a=>a())}}(this._renderer,{target:n.target,triggers:n.triggers,show:r,hide:t,toggle:s=>{this.isShown?t():r(s)}})),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype)}attachInline(n,t){return n&&t&&(this._inlineViewRef=n.createEmbeddedView(t)),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const n=this._componentRef.location.nativeElement;setTimeout(()=>{this._renderer&&this._elementRef&&(this._globalListener=function AZ(e,n){return n.outsideClick?e.listen("document","click",t=>{n.target&&n.target.contains(t.target)||n.targets&&n.targets.some(r=>r.contains(t.target))||n.hide&&n.hide()}):Function.prototype}(this._renderer,{targets:[n,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))})}this._listenOpts.outsideEsc&&this._renderer&&this._elementRef&&(this._globalListener=function IZ(e,n){return n.outsideEsc?e.listen("document","keyup.esc",t=>{n.target&&n.target.contains(t.target)||n.targets&&n.targets.some(r=>r.contains(t.target))||n.hide&&n.hide()}):Function.prototype}(this._renderer,{targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){this._zoneSubscription||!this.attachment||(this.onShown.subscribe(()=>{this._posService.position({element:this._componentRef?.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{this._componentRef&&this._posService.calcPosition()}))}_unsubscribePositioning(){this._zoneSubscription&&(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0)}_getContentRef(n,t,r){if(!n)return new Ff([]);if(n instanceof Ps){if(this._viewContainerRef){const o=this._viewContainerRef.createEmbeddedView(n,t);return o.markForCheck(),new Ff([o.rootNodes],o)}const s=n.createEmbeddedView({});return this._applicationRef.attachView(s),new Ff([s.rootNodes],s)}if("function"==typeof n){const s=this._componentFactoryResolver.resolveComponentFactory(n),o=ki.create({providers:this._providers,parent:this._injector}),a=s.create(o);return Object.assign(a.instance,r),this._applicationRef.attachView(a.hostView),new Ff([[a.location.nativeElement]],a.hostView,a)}const i=this._renderer?[this._renderer.createText(`${n}`)]:[];return new Ff([i])}}let go=(()=>{class e{constructor(t,r,i,s,o,a){this._componentFactoryResolver=t,this._ngZone=r,this._injector=i,this._posService=s,this._applicationRef=o,this._document=a}createLoader(t,r,i){return new dQ(r,i,t,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService,this._document)}}return e.\u0275fac=function(t){return new(t||e)(J(Cu),J(mn),J(ki),J(sa),J(Yu),J(Jn))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const fQ=["*"];let jR=(()=>{class e{constructor(){this.hide=()=>{},this.setClass=()=>{}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})(),UR=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const _g={backdrop:!0,keyboard:!0,focus:!0,show:!1,ignoreBackdropClick:!1,class:"",animated:!0,initialState:{},closeInterceptor:void 0},hQ=new Le("override-default-config");let pQ=(()=>{class e{constructor(t,r,i){this._element=r,this._renderer=i,this.isShown=!1,this.isAnimated=!1,this.isModalHiding=!1,this.clickStartedInContent=!1,this.config=Object.assign({},t)}ngOnInit(){this.isAnimated&&this._renderer.addClass(this._element.nativeElement,"fade"),this._renderer.setStyle(this._element.nativeElement,"display","block"),setTimeout(()=>{this.isShown=!0,this._renderer.addClass(this._element.nativeElement,"show")},this.isAnimated?150:0),document&&document.body&&(this.bsModalService&&1===this.bsModalService.getModalsCount()&&(this.bsModalService.checkScrollbar(),this.bsModalService.setScrollbar()),this._renderer.addClass(document.body,"modal-open"),this._renderer.setStyle(document.body,"overflow-y","hidden")),this._element.nativeElement&&this._element.nativeElement.focus()}onClickStarted(t){this.clickStartedInContent=t.target!==this._element.nativeElement}onClickStop(t){this.config.ignoreBackdropClick||"static"===this.config.backdrop||t.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(this.bsModalService?.setDismissReason("backdrop-click"),this.hide())}onPopState(){this.bsModalService?.setDismissReason("browser-back-navigation-clicked"),this.hide()}onEsc(t){this.isShown&&((27===t.keyCode||"Escape"===t.key)&&t.preventDefault(),this.config.keyboard&&this.level===this.bsModalService?.getModalsCount()&&(this.bsModalService?.setDismissReason("esc"),this.hide()))}ngOnDestroy(){this.isShown&&this._hide()}hide(){if(!this.isModalHiding){if(this.config.closeInterceptor)return void this.config.closeInterceptor().then(()=>this._hide(),()=>{});this._hide()}}_hide(){this.isModalHiding=!0,this._renderer.removeClass(this._element.nativeElement,"show"),setTimeout(()=>{this.isShown=!1,document&&document.body&&1===this.bsModalService?.getModalsCount()&&(this._renderer.removeClass(document.body,"modal-open"),this._renderer.setStyle(document.body,"overflow-y","")),this.bsModalService?.hide(this.config.id),this.isModalHiding=!1},this.isAnimated?300:0)}}return e.\u0275fac=function(t){return new(t||e)(D(UR),D(qt),D(En))},e.\u0275cmp=qe({type:e,selectors:[["modal-container"]],hostAttrs:["role","dialog","tabindex","-1",1,"modal"],hostVars:3,hostBindings:function(t,r){1&t&&P("mousedown",function(s){return r.onClickStarted(s)})("click",function(s){return r.onClickStop(s)})("popstate",function(){return r.onPopState()},!1,Oy)("keydown.esc",function(s){return r.onEsc(s)},!1,Oy),2&t&&Kn("aria-modal",!0)("aria-labelledby",r.config.ariaLabelledBy)("aria-describedby",r.config.ariaDescribedby)},ngContentSelectors:fQ,decls:3,vars:2,consts:[["role","document","focusTrap",""],[1,"modal-content"]],template:function(t,r){1&t&&(wd(),m(0,"div",0)(1,"div",1),Fu(2),y()()),2&t&&rv("modal-dialog"+(r.config.class?" "+r.config.class:""))},dependencies:[MZ],encapsulation:2}),e})(),mQ=(()=>{class e{constructor(t,r){this._isAnimated=!1,this._isShown=!1,this.element=t,this.renderer=r}get isAnimated(){return this._isAnimated}set isAnimated(t){this._isAnimated=t}get isShown(){return this._isShown}set isShown(t){this._isShown=t,t?this.renderer.addClass(this.element.nativeElement,"show"):this.renderer.removeClass(this.element.nativeElement,"show")}ngOnInit(){this.isAnimated&&(this.renderer.addClass(this.element.nativeElement,"fade"),PZ.reflow(this.element.nativeElement)),this.isShown=!0}}return e.\u0275fac=function(t){return new(t||e)(D(qt),D(En))},e.\u0275cmp=qe({type:e,selectors:[["bs-modal-backdrop"]],hostAttrs:[1,"modal-backdrop"],decls:0,vars:0,template:function(t,r){},encapsulation:2}),e})(),gQ=1,us=(()=>{class e{constructor(t,r,i){this.clf=r,this.modalDefaultOption=i,this.onShow=new Me,this.onShown=new Me,this.onHide=new Me,this.onHidden=new Me,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.modalsCount=0,this.loaders=[],this._backdropLoader=this.clf.createLoader(),this._renderer=t.createRenderer(null,null),this.config=i?Object.assign({},_g,i):_g}show(t,r){this.modalsCount++,this._createLoaders();const i=r?.id||gQ++;return this.config=this.modalDefaultOption?Object.assign({},_g,this.modalDefaultOption,r):Object.assign({},_g,r),this.config.id=i,this._showBackdrop(),this.lastDismissReason=void 0,this._showModal(t)}hide(t){(1===this.modalsCount||null==t)&&(this._hideBackdrop(),this.resetScrollbar()),this.modalsCount=this.modalsCount>=1&&null!=t?this.modalsCount-1:0,setTimeout(()=>{this._hideModal(t),this.removeLoaders(t)},this.config.animated?150:0)}_showBackdrop(){const t=!0===this.config.backdrop||"static"===this.config.backdrop,r=!this.backdropRef||!this.backdropRef.instance.isShown;1===this.modalsCount&&(this.removeBackdrop(),t&&r&&(this._backdropLoader.attach(mQ).to("body").show({isAnimated:this.config.animated}),this.backdropRef=this._backdropLoader._componentRef))}_hideBackdrop(){this.backdropRef&&(this.backdropRef.instance.isShown=!1,setTimeout(()=>this.removeBackdrop(),this.config.animated?150:0))}_showModal(t){const r=this.loaders[this.loaders.length-1];if(this.config&&this.config.providers)for(const o of this.config.providers)r.provide(o);const i=new jR,s=r.provide({provide:UR,useValue:this.config}).provide({provide:jR,useValue:i}).attach(pQ).to("body");return i.hide=()=>this.hide(i.id),i.setClass=o=>{s.instance&&(s.instance.config.class=o)},i.onHidden=new Me,i.onHide=new Me,this.copyEvent(r.onBeforeHide,i.onHide),this.copyEvent(r.onHidden,i.onHidden),s.show({content:t,isAnimated:this.config.animated,initialState:this.config.initialState,bsModalService:this,id:this.config.id}),s.instance&&(s.instance.level=this.getModalsCount(),i.content=r.getInnerComponent(),i.id=s.instance.config?.id),i}_hideModal(t){if(null!=t){const r=this.loaders.findIndex(s=>s.instance?.config.id===t),i=this.loaders[r];i&&i.hide(t)}else this.loaders.forEach(r=>{r.instance&&r.hide(r.instance.config.id)})}getModalsCount(){return this.modalsCount}setDismissReason(t){this.lastDismissReason=t}removeBackdrop(){this._renderer.removeClass(document.body,"modal-open"),this._renderer.setStyle(document.body,"overflow-y",""),this._backdropLoader.hide(),this.backdropRef=void 0}checkScrollbar(){this.isBodyOverflowing=document.body.clientWidth<window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){document&&(this.originalBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")||"0",10),this.isBodyOverflowing&&(document.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`))}resetScrollbar(){document.body.style.paddingRight=`${this.originalBodyPadding}px`}getScrollbarWidth(){const t=this._renderer.createElement("div");this._renderer.addClass(t,"modal-scrollbar-measure"),this._renderer.appendChild(document.body,t);const r=t.offsetWidth-t.clientWidth;return this._renderer.removeChild(document.body,t),r}_createLoaders(){const t=this.clf.createLoader();this.copyEvent(t.onBeforeShow,this.onShow),this.copyEvent(t.onShown,this.onShown),this.copyEvent(t.onBeforeHide,this.onHide),this.copyEvent(t.onHidden,this.onHidden),this.loaders.push(t)}removeLoaders(t){if(null!=t){const r=this.loaders.findIndex(i=>i.instance?.config.id===t);r>=0&&(this.loaders.splice(r,1),this.loaders.forEach((i,s)=>{i.instance&&(i.instance.level=s+1)}))}else this.loaders.splice(0,this.loaders.length)}copyEvent(t,r){t.subscribe(i=>{r.emit(this.lastDismissReason||i)})}}return e.\u0275fac=function(t){return new(t||e)(J(ul),J(go),J(hQ,8))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();MR.forRoot();let _Q=(()=>{class e{static forRoot(){return{ngModule:e,providers:[us,go,sa]}}static forChild(){return{ngModule:e,providers:[us,go,sa]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Sr({type:e}),e.\u0275inj=pr({imports:[MR]}),e})();class YR{constructor(){this._label="",this._isReadOnly=!1,this._validator=(0,b.Z)(function*(){return!0})}set label(n){this._label=n}get label(){return this._label}set errorMessage(n){this._errorMessage=n}get errorMessage(){return this._errorMessage}set isReadOnly(n){this._isReadOnly=n}get isReadOnly(){return this._isReadOnly}set validator(n){this._validator=n}get validator(){return this._validator}validate(){return Promise.resolve(!0)}}class bc extends YR{set srcValue(n){this.value=n}get destValue(){return Promise.resolve(this.value)}}const zR={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let vg;const yQ=new Uint8Array(16);function vQ(){if(!vg&&(vg=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!vg))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return vg(yQ)}const jr=[];for(let e=0;e<256;++e)jr.push((e+256).toString(16).slice(1));const wc=function bQ(e,n,t){if(zR.randomUUID&&!n&&!e)return zR.randomUUID();const r=(e=e||{}).random||(e.rng||vQ)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,n){t=t||0;for(let i=0;i<16;++i)n[t+i]=r[i];return n}return function WR(e,n=0){return(jr[e[n+0]]+jr[e[n+1]]+jr[e[n+2]]+jr[e[n+3]]+"-"+jr[e[n+4]]+jr[e[n+5]]+"-"+jr[e[n+6]]+jr[e[n+7]]+"-"+jr[e[n+8]]+jr[e[n+9]]+"-"+jr[e[n+10]]+jr[e[n+11]]+jr[e[n+12]]+jr[e[n+13]]+jr[e[n+14]]+jr[e[n+15]]).toLowerCase()}(r)};function wQ(e,n){if(1&e&&(m(0,"p",4),E(1),y()),2&e){const t=C();v(1),et(t.errorMessage)}}let cs=(()=>{class e extends bc{constructor(){super(...arguments),this.fieldId=wc()}validate(){var t=this;return(0,b.Z)(function*(){return yield t._validator([t,yield t.destValue])})()}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=gt(e)))(r||e)}}(),e.\u0275cmp=qe({type:e,selectors:[["app-string-input-field"]],features:[Et],decls:5,vars:6,consts:[[1,"m-3"],[1,"form-label",3,"for"],["type","string","id","'input' + fieldId",1,"form-control",3,"ngModel","readonly","disabled","ngModelChange"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(t,r){1&t&&(m(0,"div",0)(1,"label",1),E(2),y(),m(3,"input",2),P("ngModelChange",function(s){return r.value=s}),y(),V(4,wQ,2,1,"p",3),y()),2&t&&(v(1),w("for","input"+r.fieldId),v(1),et(r.label),v(1),w("ngModel",r.value)("readonly",r.isReadOnly)("disabled",r.isReadOnly),v(1),w("ngIf",r.errorMessage))},dependencies:[Zt,eo,Oi,_i]}),e})();function DQ(e,n){if(1&e&&(m(0,"p",4),E(1),y()),2&e){const t=C();v(1),et(t.errorMessage)}}let bg=(()=>{class e extends bc{constructor(){super(...arguments),this.fieldId=wc(),this.rows=3}validate(){var t=this;return(0,b.Z)(function*(){return yield t.validator([t,yield t.destValue])})()}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=gt(e)))(r||e)}}(),e.\u0275cmp=qe({type:e,selectors:[["app-string-textarea-field"]],inputs:{rows:"rows"},features:[Et],decls:5,vars:7,consts:[[1,"m-3"],[1,"form-label",3,"for"],["id","'textarea' + fieldId",1,"form-control",3,"ngModel","rows","readonly","disabled","ngModelChange"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(t,r){1&t&&(m(0,"div",0)(1,"label",1),E(2),y(),m(3,"textarea",2),P("ngModelChange",function(s){return r.value=s}),y(),V(4,DQ,2,1,"p",3),y()),2&t&&(v(1),w("for","textarea"+r.fieldId),v(1),et(r.label),v(1),w("ngModel",r.value)("rows",r.rows)("readonly",r.isReadOnly)("disabled",r.isReadOnly),v(1),w("ngIf",r.errorMessage))},dependencies:[Zt,eo,Oi,_i]}),e})();function qR(e){return ft((n,t)=>{L(e).subscribe(Xe(t,()=>t.complete(),H)),!t.closed&&n.subscribe(t)})}function MD(e,n=ke){return e=e??CQ,ft((t,r)=>{let i,s=!0;t.subscribe(Xe(r,o=>{const a=n(o);(s||!e(i,a))&&(s=!1,i=a,r.next(o))}))})}function CQ(e,n){return e===n}function El(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function wi(e){return"string"==typeof e}function wg(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function Ua(e){return e&&e.getTime&&!isNaN(e.getTime())}function Al(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function Il(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function xn(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function ii(e,n){return Object.prototype.hasOwnProperty.call(e,n)}function Ol(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function GR(e){return void 0===e}function Tt(e){const n=+e;let t=0;return 0!==n&&isFinite(n)&&(t=El(n)),t}const Vf={},ZR={date:"day",hour:"hours",minute:"minutes",second:"seconds",millisecond:"milliseconds"};function si(e,n){const t=e.toLowerCase();let r=e;t in ZR&&(r=ZR[t]),Vf[t]=Vf[`${t}s`]=Vf[n]=r}function QR(e){return wi(e)?Vf[e]||Vf[e.toLowerCase()]:void 0}const Hs=0,oa=1,yo=2,Cr=3,$s=4,aa=5,xl=6,kQ=7,EQ=8;function la(e,n,t){const r=`${Math.abs(e)}`;return(e>=0?t?"+":"":"-")+Math.pow(10,Math.max(0,n-r.length)).toString().substr(1)+r}const SD={},Dc={},KR=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;function ot(e,n,t,r){e&&(Dc[e]=r),n&&(Dc[n[0]]=function(){return la(r.apply(null,arguments),n[1],n[2])}),t&&(Dc[t]=function(i,s){return s.locale.ordinal(r.apply(null,arguments),e)})}function IQ(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function Dg(e,n,t){const r=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(r.getUTCFullYear())&&r.setUTCFullYear(e),r}function Cg(e,n=0,t=1,r=0,i=0,s=0,o=0){const a=new Date(e,n,t,r,i,s,o);return e<100&&e>=0&&isFinite(a.getFullYear())&&a.setFullYear(e),a}function Mt(e,n=!1){return n?e.getUTCHours():e.getHours()}function Cc(e,n=!1){return n?e.getUTCMinutes():e.getMinutes()}function kD(e,n=!1){return n?e.getUTCSeconds():e.getSeconds()}function ua(e,n=!1){return n?e.getUTCMilliseconds():e.getMilliseconds()}function vo(e,n=!1){return n?e.getUTCDay():e.getDay()}function Rl(e,n=!1){return n?e.getUTCDate():e.getDate()}function St(e,n=!1){return n?e.getUTCMonth():e.getMonth()}function Fn(e,n=!1){return n?e.getUTCFullYear():e.getFullYear()}function Tc(e,n){return!(!e||!n)&&Mc(e,n)&&St(e)===St(n)}function Mc(e,n){return!(!e||!n)&&Fn(e)===Fn(n)}function Ya(e,n){return!(!e||!n)&&Mc(e,n)&&Tc(e,n)&&Rl(e)===Rl(n)}const JR=/\d/,Gi=/\d\d/,XR=/\d{3}/,ED=/\d{4}/,Tg=/[+-]?\d{6}/,Cn=/\d\d?/,eL=/\d\d\d\d?/,tL=/\d\d\d\d\d\d?/,Mg=/\d{1,3}/,AD=/\d{1,4}/,Sg=/[+-]?\d{1,6}/,NQ=/\d+/,kg=/[+-]?\d+/,Eg=/Z|[+-]\d\d(?::?\d\d)?/gi,VQ=/[+-]?\d+(\.\d{1,3})?/,Bf=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Ag={};function Fe(e,n,t){Ag[e]=Al(n)?n:function(r,i){return r&&t?t:n}}function BQ(e,n){return ii(Ag,e)?Ag[e](!1,n):new RegExp(function HQ(e){return Ll(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(n,t,r,i,s)=>t||r||i||s))}(e))}function Ll(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}const ID={};function Tn(e,n){const t=wi(e)?[e]:e;let r=n;if(Il(n)&&(r=function(i,s,o){return s[n]=Tt(i),o}),xn(t)&&Al(r)){let i;for(i=0;i<t.length;i++)ID[t[i]]=r}}function Hf(e,n){Tn(e,function(t,r,i,s){return i._w=i._w||{},n(t,i._w,i,s)})}function $Q(e,n,t){return null!=n&&ii(ID,e)&&ID[e](n,t._a,t,e),t}const jQ={};function oi(e,n){jQ[e]=n}function Vt(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function OD(e,n){return n.locale.getFullYear?n.locale.getFullYear(e,n.isUTC).toString():Fn(e,n.isUTC).toString()}function xD(e){return Tt(e)+(Tt(e)>68?1900:2e3)}function $f(e){return RD(e)?366:365}function RD(e){return e%4==0&&e%100!=0||e%400==0}function Ig(e,n){if(isNaN(e)||isNaN(n))return NaN;const t=function TQ(e,n){return(e%n+n)%n}(n,12);return 1===t?RD(e+(n-t)/12)?29:28:31-t%7%2}const qQ={year:0,month:0,day:0,hour:0,minute:0,seconds:0};function Ir(e,n){const t=Object.assign({},qQ,n),r=e.getFullYear()+(t.year||0),i=e.getMonth()+(t.month||0);let s=e.getDate()+(t.day||0);return t.month&&!t.day&&(s=Math.min(s,Ig(r,i))),Cg(r,i,s,e.getHours()+(t.hour||0),e.getMinutes()+(t.minute||0),e.getSeconds()+(t.seconds||0))}function Sc(e,n){return Il(n)?n:e}function Pl(e,n,t){const r=Math.min(Rl(e),Ig(Fn(e),n));return t?e.setUTCMonth(n,r):e.setMonth(n,r),e}function LD(e,n,t){return t?e.setUTCDate(n):e.setDate(n),e}function ca(e){return new Date(e.getTime())}function da(e,n,t){const r=ca(e);switch(n){case"year":Pl(r,0,t);case"quarter":case"month":LD(r,1,t);case"week":case"isoWeek":case"day":case"date":!function QQ(e,n,t){t?e.setUTCHours(n):e.setHours(n)}(r,0,t);case"hours":!function KQ(e,n,t){t?e.setUTCMinutes(n):e.setMinutes(n)}(r,0,t);case"minutes":!function JQ(e,n,t){t?e.setUTCSeconds(n):e.setSeconds(n)}(r,0,t);case"seconds":!function XQ(e,n,t){t?e.setUTCMilliseconds(n):e.setMilliseconds(n)}(r,0,t)}return"week"===n&&function fJ(e,n,t={}){Do(e,n-qD(e,t.locale,t.isUTC),"day")}(r,0,{isUTC:t}),"isoWeek"===n&&function hJ(e,n,t={}){const r=function dJ(e,n=Tr()){return wi(e)?n.weekdaysParse(e)%7||7:Il(e)&&isNaN(e)?null:e}(n,t.locale);Wf(e,function lr(e,n){return vo(e,n)}(e)%7?r:r-7)}(r,1),"quarter"===n&&Pl(r,3*Math.floor(St(r,t)/3),t),r}function Og(e,n,t){let r=n;return"date"===r&&(r="day"),function lJ(e,n,t,r){return EL(e,WD(n,t),-1,r)}(Do(da(e,r,t),1,"isoWeek"===r?"week":r,t),1,"milliseconds",t)}function PD(e,n){const t=+da(e,"day",n),r=+da(e,"year",n);return Math.round((t-r)/864e5)+1}function xg(e,n,t){const r=n-t+7;return-(Dg(e,0,r).getUTCDay()-n+7)%7+r-1}function kc(e,n,t,r){const i=xg(Fn(e,r),n,t),s=Math.floor((PD(e,r)-i-1)/7)+1;let o,a;return s<1?(a=Fn(e,r)-1,o=s+Nl(a,n,t)):s>Nl(Fn(e,r),n,t)?(o=s-Nl(Fn(e,r),n,t),a=Fn(e,r)+1):(a=Fn(e,r),o=s),{week:o,year:a}}function Nl(e,n,t){const r=xg(e,n,t),i=xg(e+1,n,t);return($f(e)-r+i)/7}const rL=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,nK="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),iL="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),rK="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),sL="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),iK="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),oL={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},aK=Bf,lK=Bf;class aL{constructor(n){n&&this.set(n)}set(n){let t;for(t in n){if(!n.hasOwnProperty(t))continue;const r=n[t];this[Al(r)?t:`_${t}`]=r}this._config=n}calendar(n,t,r){const i=this._calendar[n]||this._calendar.sameElse;return Al(i)?i.call(null,t,r):i}longDateFormat(n){const t=this._longDateFormat[n],r=this._longDateFormat[n.toUpperCase()];return t||!r?t:(this._longDateFormat[n]=r.replace(/MMMM|MM|DD|dddd/g,function(i){return i.slice(1)}),this._longDateFormat[n])}get invalidDate(){return this._invalidDate}set invalidDate(n){this._invalidDate=n}ordinal(n,t){return this._ordinal.replace("%d",n.toString(10))}preparse(n,t){return n}getFullYear(n,t=!1){return Fn(n,t)}postformat(n){return n}relativeTime(n,t,r,i){const s=this._relativeTime[r];return Al(s)?s(n,t,r,i):s.replace(/%d/i,n.toString(10))}pastFuture(n,t){const r=this._relativeTime[n>0?"future":"past"];return Al(r)?r(t):r.replace(/%s/i,t)}months(n,t,r=!1){if(!n)return xn(this._months)?this._months:this._months.standalone;if(xn(this._months))return this._months[St(n,r)];const i=(this._months.isFormat||rL).test(t)?"format":"standalone";return this._months[i][St(n,r)]}monthsShort(n,t,r=!1){if(!n)return xn(this._monthsShort)?this._monthsShort:this._monthsShort.standalone;if(xn(this._monthsShort))return this._monthsShort[St(n,r)];const i=rL.test(t)?"format":"standalone";return this._monthsShort[i][St(n,r)]}monthsParse(n,t,r){let i,s,o;if(this._monthsParseExact)return this.handleMonthStrictParse(n,t,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),o=0;o<12;o++){if(i=new Date(Date.UTC(2e3,o)),r&&!this._longMonthsParse[o]){const a=this.months(i,"",!0).replace(".",""),l=this.monthsShort(i,"",!0).replace(".","");this._longMonthsParse[o]=new RegExp(`^${a}$`,"i"),this._shortMonthsParse[o]=new RegExp(`^${l}$`,"i")}if(!r&&!this._monthsParse[o]&&(s=`^${this.months(i,"",!0)}|^${this.monthsShort(i,"",!0)}`,this._monthsParse[o]=new RegExp(s.replace(".",""),"i")),r&&"MMMM"===t&&this._longMonthsParse[o].test(n)||r&&"MMM"===t&&this._shortMonthsParse[o].test(n)||!r&&this._monthsParse[o].test(n))return o}}monthsRegex(n){return this._monthsParseExact?(ii(this,"_monthsRegex")||this.computeMonthsParse(),n?this._monthsStrictRegex:this._monthsRegex):(ii(this,"_monthsRegex")||(this._monthsRegex=lK),this._monthsStrictRegex&&n?this._monthsStrictRegex:this._monthsRegex)}monthsShortRegex(n){return this._monthsParseExact?(ii(this,"_monthsRegex")||this.computeMonthsParse(),n?this._monthsShortStrictRegex:this._monthsShortRegex):(ii(this,"_monthsShortRegex")||(this._monthsShortRegex=aK),this._monthsShortStrictRegex&&n?this._monthsShortStrictRegex:this._monthsShortRegex)}week(n,t){return kc(n,this._week.dow,this._week.doy,t).week}firstDayOfWeek(){return this._week.dow}firstDayOfYear(){return this._week.doy}weekdays(n,t,r){if(!n)return xn(this._weekdays)?this._weekdays:this._weekdays.standalone;if(xn(this._weekdays))return this._weekdays[vo(n,r)];const i=this._weekdays.isFormat.test(t)?"format":"standalone";return this._weekdays[i][vo(n,r)]}weekdaysMin(n,t,r){return n?this._weekdaysMin[vo(n,r)]:this._weekdaysMin}weekdaysShort(n,t,r){return n?this._weekdaysShort[vo(n,r)]:this._weekdaysShort}weekdaysParse(n,t,r){let i,s;if(this._weekdaysParseExact)return this.handleWeekStrictParse(n,t,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){const o=Wf(new Date(Date.UTC(2e3,1)),i,null,!0);if(r&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp(`^${this.weekdays(o,"",!0).replace(".",".?")}$`,"i"),this._shortWeekdaysParse[i]=new RegExp(`^${this.weekdaysShort(o,"",!0).replace(".",".?")}$`,"i"),this._minWeekdaysParse[i]=new RegExp(`^${this.weekdaysMin(o,"",!0).replace(".",".?")}$`,"i")),this._weekdaysParse[i]||(s=`^${this.weekdays(o,"",!0)}|^${this.weekdaysShort(o,"",!0)}|^${this.weekdaysMin(o,"",!0)}`,this._weekdaysParse[i]=new RegExp(s.replace(".",""),"i")),!(xn(this._fullWeekdaysParse)&&xn(this._shortWeekdaysParse)&&xn(this._minWeekdaysParse)&&xn(this._weekdaysParse)))return;if(r&&"dddd"===t&&this._fullWeekdaysParse[i].test(n))return i;if(r&&"ddd"===t&&this._shortWeekdaysParse[i].test(n))return i;if(r&&"dd"===t&&this._minWeekdaysParse[i].test(n))return i;if(!r&&this._weekdaysParse[i].test(n))return i}}weekdaysRegex(n){return this._weekdaysParseExact?(ii(this,"_weekdaysRegex")||this.computeWeekdaysParse(),n?this._weekdaysStrictRegex:this._weekdaysRegex):(ii(this,"_weekdaysRegex")||(this._weekdaysRegex=Bf),this._weekdaysStrictRegex&&n?this._weekdaysStrictRegex:this._weekdaysRegex)}weekdaysShortRegex(n){return this._weekdaysParseExact?(ii(this,"_weekdaysRegex")||this.computeWeekdaysParse(),n?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(ii(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Bf),this._weekdaysShortStrictRegex&&n?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}weekdaysMinRegex(n){return this._weekdaysParseExact?(ii(this,"_weekdaysRegex")||this.computeWeekdaysParse(),n?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(ii(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Bf),this._weekdaysMinStrictRegex&&n?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}isPM(n){return"p"===n.toLowerCase().charAt(0)}meridiem(n,t,r){return n>11?r?"pm":"PM":r?"am":"AM"}formatLongDate(n){this._longDateFormat=this._longDateFormat?this._longDateFormat:oL;const t=this._longDateFormat[n],r=this._longDateFormat[n.toUpperCase()];return t||!r?t:(this._longDateFormat[n]=r.replace(/MMMM|MM|DD|dddd/g,i=>i.slice(1)),this._longDateFormat[n])}handleMonthStrictParse(n,t,r){const i=n.toLocaleLowerCase();let s,o,a;if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;s<12;++s)a=new Date(2e3,s),this._shortMonthsParse[s]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(a,"").toLocaleLowerCase();return r?"MMM"===t?(o=this._shortMonthsParse.indexOf(i),-1!==o?o:null):(o=this._longMonthsParse.indexOf(i),-1!==o?o:null):"MMM"===t?(o=this._shortMonthsParse.indexOf(i),-1!==o?o:(o=this._longMonthsParse.indexOf(i),-1!==o?o:null)):(o=this._longMonthsParse.indexOf(i),-1!==o?o:(o=this._shortMonthsParse.indexOf(i),-1!==o?o:null))}handleWeekStrictParse(n,t,r){let i;const s=n.toLocaleLowerCase();if(!this._weekdaysParse){let o;for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],o=0;o<7;++o){const a=Wf(new Date(Date.UTC(2e3,1)),o,null,!0);this._minWeekdaysParse[o]=this.weekdaysMin(a).toLocaleLowerCase(),this._shortWeekdaysParse[o]=this.weekdaysShort(a).toLocaleLowerCase(),this._weekdaysParse[o]=this.weekdays(a,"").toLocaleLowerCase()}}if(xn(this._weekdaysParse)&&xn(this._shortWeekdaysParse)&&xn(this._minWeekdaysParse))return r?"dddd"===t?(i=this._weekdaysParse.indexOf(s),-1!==i?i:null):"ddd"===t?(i=this._shortWeekdaysParse.indexOf(s),-1!==i?i:null):(i=this._minWeekdaysParse.indexOf(s),-1!==i?i:null):"dddd"===t?(i=this._weekdaysParse.indexOf(s),-1!==i||(i=this._shortWeekdaysParse.indexOf(s),-1!==i)?i:(i=this._minWeekdaysParse.indexOf(s),-1!==i?i:null)):"ddd"===t?(i=this._shortWeekdaysParse.indexOf(s),-1!==i||(i=this._weekdaysParse.indexOf(s),-1!==i)?i:(i=this._minWeekdaysParse.indexOf(s),-1!==i?i:null)):(i=this._minWeekdaysParse.indexOf(s),-1!==i||(i=this._weekdaysParse.indexOf(s),-1!==i)?i:(i=this._shortWeekdaysParse.indexOf(s),-1!==i?i:null))}computeMonthsParse(){const n=[],t=[],r=[];let i,s;for(s=0;s<12;s++)i=new Date(2e3,s),n.push(this.monthsShort(i,"")),t.push(this.months(i,"")),r.push(this.months(i,"")),r.push(this.monthsShort(i,""));for(n.sort(Fl),t.sort(Fl),r.sort(Fl),s=0;s<12;s++)n[s]=Ll(n[s]),t[s]=Ll(t[s]);for(s=0;s<24;s++)r[s]=Ll(r[s]);this._monthsRegex=new RegExp(`^(${r.join("|")})`,"i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp(`^(${t.join("|")})`,"i"),this._monthsShortStrictRegex=new RegExp(`^(${n.join("|")})`,"i")}computeWeekdaysParse(){const n=[],t=[],r=[],i=[];let s;for(s=0;s<7;s++){const o=Wf(new Date(Date.UTC(2e3,1)),s,null,!0),a=this.weekdaysMin(o),l=this.weekdaysShort(o),u=this.weekdays(o);n.push(a),t.push(l),r.push(u),i.push(a),i.push(l),i.push(u)}for(n.sort(Fl),t.sort(Fl),r.sort(Fl),i.sort(Fl),s=0;s<7;s++)t[s]=Ll(t[s]),r[s]=Ll(r[s]),i[s]=Ll(i[s]);this._weekdaysRegex=new RegExp(`^(${i.join("|")})`,"i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp(`^(${r.join("|")})`,"i"),this._weekdaysShortStrictRegex=new RegExp(`^(${t.join("|")})`,"i"),this._weekdaysMinStrictRegex=new RegExp(`^(${n.join("|")})`,"i")}}function Fl(e,n){return n.length-e.length}const lL={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:oL,invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:nK,monthsShort:iL,week:{dow:0,doy:6},weekdays:rK,weekdaysMin:iK,weekdaysShort:sL,meridiemParse:/[ap]\.?m?\.?/i};function uK(e,n,t){const r=Math.min(e.length,n.length),i=Math.abs(e.length-n.length);let o,s=0;for(o=0;o<r;o++)(t&&e[o]!==n[o]||!t&&Tt(e[o])!==Tt(n[o]))&&s++;return s+i}function Rg(e,n){ot(null,[e,e.length,!1],null,n)}function uL(e,n){return FD(e,n.locale).toString()}function cL(e){return dL(e).toString()}function FD(e,n=Tr(),t){return kc(e,n.firstDayOfWeek(),n.firstDayOfYear(),t).year}function dL(e,n){return kc(e,1,4,n).year}function hL(e,n){ot(e,null,null,function(t,r){let i=function Bl(e,n={}){return n._isUTC?n._offset||0:function pL(e){return 15*-Math.round(e.getTimezoneOffset()/15)}(e)}(t,{_isUTC:r.isUTC,_offset:r.offset}),s="+";return i<0&&(i=-i,s="-"),s+la(~~(i/60),2)+n+la(~~i%60,2)})}const vK=/([\+\-]|\d\d)/gi;const Or={},jf={};let Uf;function mL(e){return e&&e.toLowerCase().replace("_","-")}function _L(e){return Or[e]||console.error(`Khronos locale error: please load locale "${e}" before using it`),Or[e]}function BD(e,n){let t;return e&&(GR(n)?t=Tr(e):wi(e)&&(t=yL(e,n)),t&&(Uf=t)),Uf&&Uf._abbr}function yL(e,n){if(null===n)return delete Or[e],Uf=Tr("en"),null;if(!n)return;let t=lL;if(n.abbr=e,null!=n.parentLocale){if(null==Or[n.parentLocale])return jf[n.parentLocale]||(jf[n.parentLocale]=[]),jf[n.parentLocale].push({name:e,config:n}),null;t=Or[n.parentLocale]._config}return Or[e]=new aL(function gL(e,n){const t=Object.assign({},e);for(const r in n)ii(n,r)&&(Ol(e[r])&&Ol(n[r])?(t[r]={},Object.assign(t[r],e[r]),Object.assign(t[r],n[r])):null!=n[r]?t[r]=n[r]:delete t[r]);for(const r in e)ii(e,r)&&!ii(n,r)&&Ol(e[r])&&(t[r]=Object.assign({},t[r]));return t}(t,n)),jf[e]&&jf[e].forEach(function(r){yL(r.name,r.config)}),BD(e),Or[e]}function Tr(e){return function MK(){Or.en||(BD("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal(e){const n=e%10;return e+(1===Tt(e%100/10)?"th":1===n?"st":2===n?"nd":3===n?"rd":"th")}}),function cK(){ot("w",["ww",2,!1],"wo",function(e,n){return function Vl(e,n=Tr(),t){return n.week(e,t)}(e,n.locale).toString(10)}),ot("W",["WW",2,!1],"Wo",function(e){return function ND(e,n){return kc(e,1,4,n).week}(e).toString(10)}),si("week","w"),si("isoWeek","W"),oi("week",5),oi("isoWeek",5),Fe("w",Cn),Fe("ww",Cn,Gi),Fe("W",Cn),Fe("WW",Cn,Gi),Hf(["w","ww","W","WW"],function(e,n,t,r){return n[r.substr(0,1)]=Tt(e),t})}(),function dK(){ot(null,["gg",2,!1],null,function(e,n){return(FD(e,n.locale)%100).toString()}),ot(null,["GG",2,!1],null,function(e){return(dL(e)%100).toString()}),Rg("gggg",uL),Rg("ggggg",uL),Rg("GGGG",cL),Rg("GGGGG",cL),si("weekYear","gg"),si("isoWeekYear","GG"),oi("weekYear",1),oi("isoWeekYear",1),Fe("G",kg),Fe("g",kg),Fe("GG",Cn,Gi),Fe("gg",Cn,Gi),Fe("GGGG",AD,ED),Fe("gggg",AD,ED),Fe("GGGGG",Sg,Tg),Fe("ggggg",Sg,Tg),Hf(["gggg","ggggg","GGGG","GGGGG"],function(e,n,t,r){return n[r.substr(0,2)]=Tt(e),t}),Hf(["gg","GG"],function(e,n,t,r){return n[r]=xD(e),t})}(),function zQ(){ot("Y",null,null,function(e,n){const t=Fn(e,n.isUTC);return t<=9999?t.toString(10):`+${t}`}),ot(null,["YY",2,!1],null,function(e,n){return(Fn(e,n.isUTC)%100).toString(10)}),ot(null,["YYYY",4,!1],null,OD),ot(null,["YYYYY",5,!1],null,OD),ot(null,["YYYYYY",6,!0],null,OD),si("year","y"),oi("year",1),Fe("Y",kg),Fe("YY",Cn,Gi),Fe("YYYY",AD,ED),Fe("YYYYY",Sg,Tg),Fe("YYYYYY",Sg,Tg),Tn(["YYYYY","YYYYYY"],Hs),Tn("YYYY",function(e,n,t){return n[Hs]=2===e.length?xD(e):Tt(e),t}),Tn("YY",function(e,n,t){return n[Hs]=xD(e),t}),Tn("Y",function(e,n,t){return n[Hs]=parseInt(e,10),t})}(),function hK(){ot("z",null,null,function(e,n){return n.isUTC?"UTC":""}),ot("zz",null,null,function(e,n){return n.isUTC?"Coordinated Universal Time":""})}(),function pK(){ot("X",null,null,function(e){return function xQ(e){return Math.floor(e.valueOf()/1e3)}(e).toString(10)}),ot("x",null,null,function(e){return e.valueOf().toString(10)}),Fe("x",kg),Fe("X",VQ),Tn("X",function(e,n,t){return t._d=new Date(1e3*parseFloat(e)),t}),Tn("x",function(e,n,t){return t._d=new Date(Tt(e)),t})}(),function mK(){ot("s",["ss",2,!1],null,function(e,n){return kD(e,n.isUTC).toString(10)}),si("second","s"),oi("second",15),Fe("s",Cn),Fe("ss",Cn,Gi),Tn(["s","ss"],aa)}(),function gK(){ot("Q",null,"Qo",function(e,n){return function _K(e,n=!1){return Math.ceil((St(e,n)+1)/3)}(e,n.isUTC).toString(10)}),si("quarter","Q"),oi("quarter",7),Fe("Q",JR),Tn("Q",function(e,n,t){return n[oa]=3*(Tt(e)-1),t})}(),function yK(){hL("Z",":"),hL("ZZ",""),Fe("Z",Eg),Fe("ZZ",Eg),Tn(["Z","ZZ"],function(e,n,t){return t._useUTC=!0,t._tzm=function VD(e,n){const t=(n||"").match(e);if(null===t)return null;const i=t[t.length-1].match(vK)||["-","0","0"],s=60*parseInt(i[1],10)+Tt(i[2]);return 0===s?0:"+"===i[0]?s:-s}(Eg,e),t})}(),function WQ(){ot("M",["MM",2,!1],"Mo",function(e,n){return(St(e,n.isUTC)+1).toString(10)}),ot("MMM",null,null,function(e,n){return n.locale.monthsShort(e,n.format,n.isUTC)}),ot("MMMM",null,null,function(e,n){return n.locale.months(e,n.format,n.isUTC)}),si("month","M"),oi("month",8),Fe("M",Cn),Fe("MM",Cn,Gi),Fe("MMM",function(e,n){return n.monthsShortRegex(e)}),Fe("MMMM",function(e,n){return n.monthsRegex(e)}),Tn(["M","MM"],function(e,n,t){return n[oa]=Tt(e)-1,t}),Tn(["MMM","MMMM"],function(e,n,t,r){const i=t._locale.monthsParse(e,r,t._strict);return null!=i?n[oa]=i:Vt(t).invalidMonth=!!e,t})}(),function wK(){ot("m",["mm",2,!1],null,function(e,n){return Cc(e,n.isUTC).toString(10)}),si("minute","m"),oi("minute",14),Fe("m",Cn),Fe("mm",Cn,Gi),Tn(["m","mm"],$s)}(),function DK(){let e;for(ot("S",null,null,function(t,r){return(~~(ua(t,r.isUTC)/100)).toString(10)}),ot(null,["SS",2,!1],null,function(t,r){return(~~(ua(t,r.isUTC)/10)).toString(10)}),ot(null,["SSS",3,!1],null,function(t,r){return ua(t,r.isUTC).toString(10)}),ot(null,["SSSS",4,!1],null,function(t,r){return(10*ua(t,r.isUTC)).toString(10)}),ot(null,["SSSSS",5,!1],null,function(t,r){return(100*ua(t,r.isUTC)).toString(10)}),ot(null,["SSSSSS",6,!1],null,function(t,r){return(1e3*ua(t,r.isUTC)).toString(10)}),ot(null,["SSSSSSS",7,!1],null,function(t,r){return(1e4*ua(t,r.isUTC)).toString(10)}),ot(null,["SSSSSSSS",8,!1],null,function(t,r){return(1e5*ua(t,r.isUTC)).toString(10)}),ot(null,["SSSSSSSSS",9,!1],null,function(t,r){return(1e6*ua(t,r.isUTC)).toString(10)}),si("millisecond","ms"),oi("millisecond",16),Fe("S",Mg,JR),Fe("SS",Mg,Gi),Fe("SSS",Mg,XR),e="SSSS";e.length<=9;e+="S")Fe(e,NQ);function n(t,r,i){return r[xl]=Tt(1e3*parseFloat(`0.${t}`)),i}for(e="S";e.length<=9;e+="S")Tn(e,n)}(),function CK(){function e(i,s){return Mt(i,s)%12||12}function t(i,s){ot(i,null,null,function(o,a){return a.locale.meridiem(Mt(o,a.isUTC),Cc(o,a.isUTC),s)})}function r(i,s){return s._meridiemParse}ot("H",["HH",2,!1],null,function(i,s){return Mt(i,s.isUTC).toString(10)}),ot("h",["hh",2,!1],null,function(i,s){return e(i,s.isUTC).toString(10)}),ot("k",["kk",2,!1],null,function(i,s){return function n(i,s){return Mt(i,s)||24}(i,s.isUTC).toString(10)}),ot("hmm",null,null,function(i,s){return`${e(i,s.isUTC)}${la(Cc(i,s.isUTC),2)}`}),ot("hmmss",null,null,function(i,s){return`${e(i,s.isUTC)}${la(Cc(i,s.isUTC),2)}${la(kD(i,s.isUTC),2)}`}),ot("Hmm",null,null,function(i,s){return`${Mt(i,s.isUTC)}${la(Cc(i,s.isUTC),2)}`}),ot("Hmmss",null,null,function(i,s){return`${Mt(i,s.isUTC)}${la(Cc(i,s.isUTC),2)}${la(kD(i,s.isUTC),2)}`}),t("a",!0),t("A",!1),si("hour","h"),oi("hour",13),Fe("a",r),Fe("A",r),Fe("H",Cn),Fe("h",Cn),Fe("k",Cn),Fe("HH",Cn,Gi),Fe("hh",Cn,Gi),Fe("kk",Cn,Gi),Fe("hmm",eL),Fe("hmmss",tL),Fe("Hmm",eL),Fe("Hmmss",tL),Tn(["H","HH"],Cr),Tn(["k","kk"],function(i,s,o){const a=Tt(i);return s[Cr]=24===a?0:a,o}),Tn(["a","A"],function(i,s,o){return o._isPm=o._locale.isPM(i),o._meridiem=i,o}),Tn(["h","hh"],function(i,s,o){return s[Cr]=Tt(i),Vt(o).bigHour=!0,o}),Tn("hmm",function(i,s,o){const a=i.length-2;return s[Cr]=Tt(i.substr(0,a)),s[$s]=Tt(i.substr(a)),Vt(o).bigHour=!0,o}),Tn("hmmss",function(i,s,o){const a=i.length-4,l=i.length-2;return s[Cr]=Tt(i.substr(0,a)),s[$s]=Tt(i.substr(a,2)),s[aa]=Tt(i.substr(l)),Vt(o).bigHour=!0,o}),Tn("Hmm",function(i,s,o){const a=i.length-2;return s[Cr]=Tt(i.substr(0,a)),s[$s]=Tt(i.substr(a)),o}),Tn("Hmmss",function(i,s,o){const a=i.length-4,l=i.length-2;return s[Cr]=Tt(i.substr(0,a)),s[$s]=Tt(i.substr(a,2)),s[aa]=Tt(i.substr(l)),o})}(),function tK(){ot("DDD",["DDDD",3,!1],"DDDo",function(e){return PD(e).toString(10)}),si("dayOfYear","DDD"),oi("dayOfYear",4),Fe("DDD",Mg),Fe("DDDD",XR),Tn(["DDD","DDDD"],function(e,n,t){return t._dayOfYear=Tt(e),t})}(),function uJ(){ot("d",null,"do",function(e,n){return vo(e,n.isUTC).toString(10)}),ot("dd",null,null,function(e,n){return n.locale.weekdaysMin(e,n.format,n.isUTC)}),ot("ddd",null,null,function(e,n){return n.locale.weekdaysShort(e,n.format,n.isUTC)}),ot("dddd",null,null,function(e,n){return n.locale.weekdays(e,n.format,n.isUTC)}),ot("e",null,null,function(e,n){return qD(e,n.locale,n.isUTC).toString(10)}),ot("E",null,null,function(e,n){return function AL(e,n){return vo(e,n)||7}(e,n.isUTC).toString(10)}),si("day","d"),si("weekday","e"),si("isoWeekday","E"),oi("day",11),oi("weekday",11),oi("isoWeekday",11),Fe("d",Cn),Fe("e",Cn),Fe("E",Cn),Fe("dd",function(e,n){return n.weekdaysMinRegex(e)}),Fe("ddd",function(e,n){return n.weekdaysShortRegex(e)}),Fe("dddd",function(e,n){return n.weekdaysRegex(e)}),Hf(["dd","ddd","dddd"],function(e,n,t,r){const i=t._locale.weekdaysParse(e,r,t._strict);return null!=i?n.d=i:Vt(t).invalidWeekday=!!e,t}),Hf(["d","e","E"],function(e,n,t,r){return n[r]=Tt(e),t})}(),function UQ(){ot("D",["DD",2,!1],"Do",function(e,n){return Rl(e,n.isUTC).toString(10)}),si("date","D"),oi("date",9),Fe("D",Cn),Fe("DD",Cn,Gi),Fe("Do",function(e,n){return n._dayOfMonthOrdinalParse||n._ordinalParse}),Tn(["D","DD"],yo),Tn("Do",function(e,n,t){return n[yo]=Tt(e.match(Cn)[0]),t})}())}(),e?function TK(e){let n,t,r=0;for(;r<e.length;){const i=mL(e[r]).split("-");let s=i.length;for(n=mL(e[r+1]),n=n?n.split("-"):null;s>0;){if(t=_L(i.slice(0,s).join("-")),t)return t;if(n&&n.length>=s&&uK(i,n,!0)>=s-1)break;s--}r++}return null}(xn(e)?e:[e]):Uf}const Yf=["year","quarter","month","week","day","hours","minutes","seconds","milliseconds"],SK=Yf.reduce((e,n)=>(e[n]=!0,e),{});function vL(e){return e<0?Math.floor(e):Math.ceil(e)}function bL(e){return 4800*e/146097}function HD(e){return 146097*e/4800}let za=Math.round;const bo_ss=44,bo_s=45,bo_m=45,bo_h=22,bo_d=26,bo_M=11;function AK(e,n,t,r,i){return i.relativeTime(n||1,!!t,e,r)}class wL{constructor(n,t={}){this._data={},this._locale=Tr(),this._locale=t&&t._locale||Tr();const i=n.year||0,s=n.quarter||0,o=n.month||0,a=n.week||0,l=n.day||0,u=n.hours||0,c=n.minutes||0,d=n.seconds||0,f=n.milliseconds||0;return this._isValid=function kK(e){if(Object.keys(e).some(r=>r in SK&&null===e[r]||isNaN(e[r])))return!1;let t=!1;for(let r=0;r<Yf.length;++r)if(e[Yf[r]]){if(t)return!1;e[Yf[r]]!==Tt(e[Yf[r]])&&(t=!0)}return!0}(n),this._milliseconds=+f+1e3*d+60*c*1e3+1e3*u*60*60,this._days=+l+7*a,this._months=+o+3*s+12*i,function EK(e){let n=e._milliseconds,t=e._days,r=e._months;const i=e._data;n>=0&&t>=0&&r>=0||n<=0&&t<=0&&r<=0||(n+=864e5*vL(HD(r)+t),t=0,r=0),i.milliseconds=n%1e3;const s=El(n/1e3);i.seconds=s%60;const o=El(s/60);i.minutes=o%60;const a=El(o/60);i.hours=a%24,t+=El(a/24);const l=El(bL(t));r+=l,t-=vL(HD(l));const u=El(r/12);return r%=12,i.day=t,i.month=r,i.year=u,e}(this)}isValid(){return this._isValid}humanize(n){if(!this.isValid())return this.localeData().invalidDate;const t=this.localeData();let r=function IK(e,n,t){const r=WD(e).abs(),i=za(r.as("s")),s=za(r.as("m")),o=za(r.as("h")),a=za(r.as("d")),l=za(r.as("M")),u=za(r.as("y")),c=i<=bo_ss&&["s",i]||i<bo_s&&["ss",i]||s<=1&&["m"]||s<bo_m&&["mm",s]||o<=1&&["h"]||o<bo_h&&["hh",o]||a<=1&&["d"]||a<bo_d&&["dd",a]||l<=1&&["M"]||l<bo_M&&["MM",l]||u<=1&&["y"]||["yy",u];return AK.apply(null,[c[0],c[1],n,+e>0,t])}(this,!n,t);return n&&(r=t.pastFuture(+this,r)),t.postformat(r)}localeData(){return this._locale}locale(n){return n?(this._locale=Tr(n)||this._locale,this):this._locale._abbr}abs(){const n=Math.abs,t=this._data;return this._milliseconds=n(this._milliseconds),this._days=n(this._days),this._months=n(this._months),t.milliseconds=n(t.milliseconds),t.seconds=n(t.seconds),t.minutes=n(t.minutes),t.hours=n(t.hours),t.month=n(t.month),t.year=n(t.year),this}as(n){if(!this.isValid())return NaN;let t,r;const i=this._milliseconds,s=QR(n);if("month"===s||"year"===s)return t=this._days+i/864e5,r=this._months+bL(t),"month"===s?r:r/12;switch(t=this._days+Math.round(HD(this._months)),s){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hours":return 24*t+i/36e5;case"minutes":return 1440*t+i/6e4;case"seconds":return 86400*t+i/1e3;case"milliseconds":return Math.floor(864e5*t)+i;default:throw new Error(`Unknown unit ${s}`)}}valueOf(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*Tt(this._months/12):NaN}}function $D(e){if(null==e._isValid){const n=Vt(e),t=Array.prototype.some.call(n.parsedDateParts,function(i){return null!=i});let r=!isNaN(e._d&&e._d.getTime())&&n.overflow<0&&!n.empty&&!n.invalidMonth&&!n.invalidWeekday&&!n.weekdayMismatch&&!n.nullInput&&!n.invalidFormat&&!n.userInvalidated&&(!n.meridiem||n.meridiem&&t);if(e._strict&&(r=r&&0===n.charsLeftOver&&0===n.unusedTokens.length&&void 0===n.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return r;e._isValid=r}return e._isValid}function Pg(e,n){return e._d=new Date(NaN),Object.assign(Vt(e),n||{userInvalidated:!0}),e}const RK=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,LK=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,PK=/Z|[+-]\d\d(?::?\d\d)?/,Ng=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/,!0],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/,!0],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/,!0],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/,!0],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/,!0],["YYYYMMDD",/\d{8}/,!0],["GGGG[W]WWE",/\d{4}W\d{3}/,!0],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/,!0]],jD=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],NK=/^\/?Date\((\-?\d+)/i,FK={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480},VK=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function DL(e){if(!wi(e._i))return e;const n=e._i,t=RK.exec(n)||LK.exec(n);let r,i,s,o,a,l;if(!t)return e._isValid=!1,e;for(a=0,l=Ng.length;a<l;a++)if(Ng[a][1].exec(t[1])){i=Ng[a][0],r=!1!==Ng[a][2];break}if(null==i)return e._isValid=!1,e;if(t[3]){for(a=0,l=jD.length;a<l;a++)if(jD[a][1].exec(t[3])){s=(t[2]||" ")+jD[a][0];break}if(null==s)return e._isValid=!1,e}if(!r&&null!=s)return e._isValid=!1,e;if(t[4]){if(!PK.exec(t[4]))return e._isValid=!1,e;o="Z"}return e._f=i+(s||"")+(o||""),YD(e)}function HK(e){const n=parseInt(e,10);return n<=49?n+2e3:n}function CL(e){if(!wi(e._i))return e;const n=VK.exec(function $K(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(e._i));if(!n)return function xK(e){return e._isValid=!1,e}(e);const t=function BK(e,n,t,r,i,s){const o=[HK(e),iL.indexOf(n),parseInt(t,10),parseInt(r,10),parseInt(i,10)];return s&&o.push(parseInt(s,10)),o}(n[4],n[3],n[2],n[5],n[6],n[7]);return function jK(e,n,t){return!e||sL.indexOf(e)===new Date(n[0],n[1],n[2]).getDay()||(Vt(t).weekdayMismatch=!0,t._isValid=!1,!1)}(n[1],t,e)&&(e._a=t,e._tzm=function UK(e,n,t){if(e)return FK[e];if(n)return 0;{const r=parseInt(t,10),i=r%100;return(r-i)/100*60+i}}(n[8],n[9],n[10]),e._d=Dg.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),Vt(e).rfc2822=!0),e}function ds(e,n,t,r,i=0){const s=Tr(t||"en");if(!s)throw new Error(`Locale "${t}" is not defined, please add it with "defineLocale(...)"`);const a=function zK(e,n,t,r,i=0){if(!Ua(e))return t.invalidDate;const s=TL(n,t);return SD[s]=SD[s]||function AQ(e){const n=e.match(KR),t=n.length,r=new Array(t);for(let i=0;i<t;i++)r[i]=Dc[n[i]]?Dc[n[i]]:IQ(n[i]);return function(i,s,o,a=0){let l="";for(let u=0;u<t;u++)l+=Al(r[u])?r[u].call(null,i,{format:e,locale:s,isUTC:o,offset:a}):r[u];return l}}(s),SD[s](e,t,r,i)}(e,n||(r?"YYYY-MM-DDTHH:mm:ss[Z]":"YYYY-MM-DDTHH:mm:ssZ"),s,r,i);return a&&s.postformat(a)}function TL(e,n){let t=e,r=5;const i=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,s=o=>n.formatLongDate(o)||o;for(i.lastIndex=0;r>=0&&i.test(t);)t=t.replace(i,s),i.lastIndex=0,r-=1;return t}function Ec(e,n,t){return e??n??t}function UD(e){const n=[];let t,r,i;if(e._d)return e;const s=function WK(e){const n=new Date;return e._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}(e);for(e._w&&null==e._a[yo]&&null==e._a[oa]&&function qK(e){let n,t,r,i,s,o,a;const l=e._w;if(null!=l.GG||null!=l.W||null!=l.E)i=1,s=4,n=Ec(l.GG,e._a[Hs],kc(new Date,1,4).year),t=Ec(l.W,1),r=Ec(l.E,1),(r<1||r>7)&&(a=!0);else{i=e._locale._week.dow,s=e._locale._week.doy;const u=kc(new Date,i,s);n=Ec(l.gg,e._a[Hs],u.year),t=Ec(l.w,u.week),null!=l.d?(r=l.d,(r<0||r>6)&&(a=!0)):null!=l.e?(r=l.e+i,(l.e<0||l.e>6)&&(a=!0)):r=i}t<1||t>Nl(n,i,s)?Vt(e)._overflowWeeks=!0:null!=a?Vt(e)._overflowWeekday=!0:(o=function nL(e,n,t,r,i){const a=1+7*(n-1)+(7+t-r)%7+xg(e,r,i);let l,u;return a<=0?(l=e-1,u=$f(l)+a):a>$f(e)?(l=e+1,u=a-$f(e)):(l=e,u=a),{year:l,dayOfYear:u}}(n,t,r,i,s),e._a[Hs]=o.year,e._dayOfYear=o.dayOfYear)}(e),null!=e._dayOfYear&&(i=Ec(e._a[Hs],s[Hs]),(e._dayOfYear>$f(i)||0===e._dayOfYear)&&(Vt(e)._overflowDayOfYear=!0),r=new Date(Date.UTC(i,0,e._dayOfYear)),e._a[oa]=r.getUTCMonth(),e._a[yo]=r.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=n[t]=s[t];for(;t<7;t++)e._a[t]=n[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Cr]&&0===e._a[$s]&&0===e._a[aa]&&0===e._a[xl]&&(e._nextDay=!0,e._a[Cr]=0),e._d=(e._useUTC?Dg:Cg).apply(null,n);const o=e._useUTC?e._d.getUTCDay():e._d.getDay();return null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Cr]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==o&&(Vt(e).weekdayMismatch=!0),e}function ML(e){let n;const t=e._a;return t&&-2===Vt(e).overflow&&(n=t[oa]<0||t[oa]>11?oa:t[yo]<1||t[yo]>Ig(t[Hs],t[oa])?yo:t[Cr]<0||t[Cr]>24||24===t[Cr]&&(0!==t[$s]||0!==t[aa]||0!==t[xl])?Cr:t[$s]<0||t[$s]>59?$s:t[aa]<0||t[aa]>59?aa:t[xl]<0||t[xl]>999?xl:-1,Vt(e)._overflowDayOfYear&&(n<Hs||n>yo)&&(n=yo),Vt(e)._overflowWeeks&&-1===n&&(n=kQ),Vt(e)._overflowWeekday&&-1===n&&(n=EQ),Vt(e).overflow=n),e}const GK="ISO_8601",ZK="RFC_2822";function YD(e){if(e._f===GK)return DL(e);if(e._f===ZK)return CL(e);if(e._a=[],Vt(e).empty=!0,xn(e._f)||!e._i&&0!==e._i)return e;let n=e._i.toString(),t=0;const r=n.length,i=TL(e._f,e._locale).match(KR)||[];let s,o,a,l;for(s=0;s<i.length;s++)o=i[s],a=(n.match(BQ(o,e._locale))||[])[0],a&&(l=n.substr(0,n.indexOf(a)),l.length>0&&Vt(e).unusedInput.push(l),n=n.slice(n.indexOf(a)+a.length),t+=a.length),Dc[o]?(a?Vt(e).empty=!1:Vt(e).unusedTokens.push(o),$Q(o,a,e)):e._strict&&!a&&Vt(e).unusedTokens.push(o);return Vt(e).charsLeftOver=r-t,n.length>0&&Vt(e).unusedInput.push(n),e._a[Cr]<=12&&!0===Vt(e).bigHour&&e._a[Cr]>0&&(Vt(e).bigHour=void 0),Vt(e).parsedDateParts=e._a.slice(0),Vt(e).meridiem=e._meridiem,e._a[Cr]=function QK(e,n,t){let r=n;if(null==t)return r;if(null!=e.meridiemHour)return e.meridiemHour(r,t);if(null==e.isPM)return r;const i=e.isPM(t);return i&&r<12&&(r+=12),!i&&12===r&&(r=0),r}(e._locale,e._a[Cr],e._meridiem),UD(e),ML(e)}function XK(e){const n=ML(function eJ(e){let n=e._i;const t=e._f;return e._locale=e._locale||Tr(e._l),null===n||void 0===t&&""===n?Pg(e,{nullInput:!0}):(wi(n)&&(e._i=n=e._locale.preparse(n,t)),wg(n)?(e._d=ca(n),e):(xn(t)?function KK(e){let n,t,r,i,s;if(!e._f||0===e._f.length)return Vt(e).invalidFormat=!0,Pg(e);for(s=0;s<e._f.length;s++)i=0,n=Object.assign({},e),null!=e._useUTC&&(n._useUTC=e._useUTC),n._f=e._f[s],YD(n),$D(n)&&(i+=Vt(n).charsLeftOver,i+=10*Vt(n).unusedTokens.length,Vt(n).score=i,(null==r||i<r)&&(r=i,t=n));Object.assign(e,t||n)}(e):t?YD(e):function tJ(e){const n=e._i;if(GR(n))e._d=new Date;else if(wg(n))e._d=ca(n);else if(wi(n))!function YK(e){if(!wi(e._i))return e;const n=NK.exec(e._i);null!==n?e._d=new Date(+n[1]):(DL(e),!1!==e._isValid||(delete e._isValid,CL(e),!1!==e._isValid||(delete e._isValid,Pg(e))))}(e);else if(xn(n)&&n.length){const t=n.slice(0);e._a=t.map(r=>wi(r)?parseInt(r,10):r),UD(e)}else if(Ol(n))!function JK(e){if(e._d)return e;const n=e._i;if(Ol(n)){const t=function SQ(e){const n={};let t,r;for(r in e)ii(e,r)&&(t=QR(r),t&&(n[t]=e[r]));return n}(n);e._a=[t.year,t.month,t.day,t.hours,t.minutes,t.seconds,t.milliseconds].map(r=>wi(r)?parseInt(r,10):r)}return UD(e)}(e);else{if(!Il(n))return Pg(e);e._d=new Date(n)}}(e),$D(e)||(e._d=null),e))}(e));return n._d=new Date(null!=n._d?n._d.getTime():NaN),$D(Object.assign({},n,{_isValid:null}))||(n._d=new Date(NaN)),n}function zf(e,n,t,r,i){return wg(e)?e:function nJ(e,n,t,r,i){const s={};let o=e;return(Ol(o)&&function MQ(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;let n;for(n in e)if(e.hasOwnProperty(n))return!1;return!0}(o)||xn(o)&&0===o.length)&&(o=void 0),s._useUTC=s._isUTC=i,s._l=t,s._i=o,s._f=n,s._strict=r,XK(s)}(e,n,t,r,i)._d}function SL(e){return e instanceof Date?new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()):null}function zD(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function js(e,n,t="milliseconds"){return!(!e||!n)&&("milliseconds"===t?e.valueOf()>n.valueOf():n.valueOf()<da(e,t).valueOf())}function wo(e,n,t="milliseconds"){return!(!e||!n)&&("milliseconds"===t?e.valueOf()<n.valueOf():Og(e,t).valueOf()<n.valueOf())}function Ac(e,n,t="milliseconds"){if(!e||!n)return!1;if("milliseconds"===t)return e.valueOf()===n.valueOf();const r=n.valueOf();return da(e,t).valueOf()<=r&&r<=Og(e,t).valueOf()}const iJ=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,sJ=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function WD(e,n,t={}){const r=function oJ(e,n){if(null==e)return{};if(function OK(e){return e instanceof wL}(e))return{milliseconds:e._milliseconds,day:e._days,month:e._months};if(Il(e))return n?{[n]:e}:{milliseconds:e};if(wi(e)){let t=iJ.exec(e);if(t){const r="-"===t[1]?-1:1;return{year:0,day:Tt(t[yo])*r,hours:Tt(t[Cr])*r,minutes:Tt(t[$s])*r,seconds:Tt(t[aa])*r,milliseconds:Tt(zD(1e3*Tt(t[xl])))*r}}if(t=sJ.exec(e),t){const r="-"===t[1]?-1:1;return{year:Hl(t[2],r),month:Hl(t[3],r),week:Hl(t[4],r),day:Hl(t[5],r),hours:Hl(t[6],r),minutes:Hl(t[7],r),seconds:Hl(t[8],r)}}}if(Ol(e)&&("from"in e||"to"in e)){const t=function aJ(e,n){if(!Ua(e)||!Ua(n))return{milliseconds:0,months:0};let t;const r=function bK(e,n,t={}){if(!t._isUTC)return e;const r=ca(n),i=6e4*(t._offset||0),s=e.valueOf()-r.valueOf()+i;return r.setTime(r.valueOf()+s),r}(n,e,{_offset:e.getTimezoneOffset()});return wo(e,r)?t=kL(e,r):(t=kL(r,e),t.milliseconds=-t.milliseconds,t.months=-t.months),t}(zf(e.from),zf(e.to));return{milliseconds:t.milliseconds,month:t.months}}return e}(e,n);return new wL(r,t)}function Hl(e,n){const t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*n}function kL(e,n){const t={milliseconds:0,months:0};return t.months=St(n)-St(e)+12*(Fn(n)-Fn(e)),js(Do(ca(e),t.months,"month"),n)&&--t.months,t.milliseconds=+n-+Do(ca(e),t.months,"month"),t}function Do(e,n,t,r){return EL(e,WD(n,t),1,r)}function EL(e,n,t,r){const i=n._milliseconds,s=zD(n._days),o=zD(n._months);return o&&Pl(e,St(e,r)+o*t,r),s&&LD(e,Rl(e,r)+s*t,r),i&&function eK(e,n){e.setTime(n)}(e,function OQ(e){return e.getTime()}(e)+i*t),ca(e)}function Wf(e,n,t=Tr(),r){const i=vo(e,r),s=function cJ(e,n){if(!wi(e))return e;const t=parseInt(e,10);if(!isNaN(t))return t;const r=n.weekdaysParse(e);return Il(r)?r:null}(n,t);return Do(e,s-i,"day")}function qD(e,n=Tr(),t){return(vo(e,t)+7-n.firstDayOfWeek())%7}const IL=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},gJ={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},fs=function(e){return function(n,t){const r=IL(n);let i=gJ[e][IL(n)];return 2===r&&(i=i[t?0:1]),i.replace(/%d/i,n.toString())}};"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),fs("s"),fs("s"),fs("m"),fs("m"),fs("h"),fs("h"),fs("d"),fs("d"),fs("M"),fs("M"),fs("y"),fs("y"),"\u044f\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),"\u044f\u043d\u0440_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),"\u043d\u0435\u0434\u0435\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u044f\u0434\u0430_\u0447\u0435\u0442\u0432\u044a\u0440\u0442\u044a\u043a_\u043f\u0435\u0442\u044a\u043a_\u0441\u044a\u0431\u043e\u0442\u0430".split("_"),"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u044f_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u044a\u0431".split("_"),"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),"gen._feb._mar._abr._mai._jun._jul._ago._set._oct._nov._des.".split("_"),"ene_feb_mar_abr_mai_jun_jul_ago_set_oct_nov_des".split("_"),"gener_febrer_mar\xe7_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),"diu._dil._dim._dix._dij._div._dis.".split("_"),"dg_dl_dt_dc_dj_dv_ds".split("_");const ZD="leden_\xfanor_b\u0159ezen_duben_kv\u011bten_\u010derven_\u010dervenec_srpen_z\xe1\u0159\xed_\u0159\xedjen_listopad_prosinec".split("_"),QD="led_\xfano_b\u0159e_dub_kv\u011b_\u010dvn_\u010dvc_srp_z\xe1\u0159_\u0159\xedj_lis_pro".split("_");(function(e,n){let t,r=[];for(t=0;t<12;t++)r[t]=new RegExp("^"+e[t]+"$|^"+n[t]+"$","i")})(ZD,QD),function(e){let n,t=[];for(n=0;n<12;n++)t[n]=new RegExp("^"+e[n]+"$","i")}(QD),function(e){let n,t=[];for(n=0;n<12;n++)t[n]=new RegExp("^"+e[n]+"$","i")}(ZD),"ned\u011ble_pond\u011bl\xed_\xfater\xfd_st\u0159eda_\u010dtvrtek_p\xe1tek_sobota".split("_"),"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),"Januar_Februar_Marts_April_Maj_Juni_Juli_August_September_Oktober_November_December".split("_"),"Jan_Feb_Mar_Apr_Maj_Jun_Jul_Aug_Sep_Okt_Nov_Dec".split("_"),"S\xf8ndag_Mandag_Tirsdag_Onsdag_Torsdag_Fredag_L\xf8rdag".split("_"),"S\xf8n_Man_Tir_Ons_Tor_Fre_L\xf8r".split("_"),"S\xf8_Ma_Ti_On_To_Fr_L\xf8".split("_"),"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),"do_lu_ma_mi_ju_vi_s\xe1".split("_"),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),"do_lu_ma_mi_ju_vi_s\xe1".split("_"),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),"do_lu_ma_mi_ju_vi_s\xe1".split("_"),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),"do_lu_ma_mi_ju_vi_s\xe1".split("_"),"jaanuar_veebruar_m\xe4rts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),"jaan_veebr_m\xe4rts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),"p\xfchap\xe4ev_esmasp\xe4ev_teisip\xe4ev_kolmap\xe4ev_neljap\xe4ev_reede_laup\xe4ev".split("_"),"P_E_T_K_N_R_L".split("_"),"P_E_T_K_N_R_L".split("_"),"nolla yksi kaksi kolme nelj\xe4 viisi kuusi seitsem\xe4n kahdeksan yhdeks\xe4n".split(" "),"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kes\xe4kuu_hein\xe4kuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),"tammi_helmi_maalis_huhti_touko_kes\xe4_hein\xe4_elo_syys_loka_marras_joulu".split("_"),"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),"su_ma_ti_ke_to_pe_la".split("_"),"su_ma_ti_ke_to_pe_la".split("_"),"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),"dim._lun._mar._mer._jeu._ven._sam.".split("_"),"di_lu_ma_me_je_ve_sa".split("_"),"xan._feb._mar._abr._mai._xu\xf1._xul._ago._set._out._nov._dec.".split("_"),"xan_feb_mar_abr_mai_xu\xf1_xul_ago_set_out_nov_dec".split("_"),"xaneiro_febreiro_marzo_abril_maio_xu\xf1o_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),"domingo_luns_martes_m\xe9rcores_xoves_venres_s\xe1bado".split("_"),"dom._lun._mar._m\xe9r._xov._ven._s\xe1b.".split("_"),"do_lu_ma_m\xe9_xo_ve_s\xe1".split("_"),"\u05d9\u05e0\u05d5\u05d0\u05e8_\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05d9\u05dc_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8_\u05e1\u05e4\u05d8\u05de\u05d1\u05e8_\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8_\u05e0\u05d5\u05d1\u05de\u05d1\u05e8_\u05d3\u05e6\u05de\u05d1\u05e8".split("_"),"\u05d9\u05e0\u05d5\u05f3_\u05e4\u05d1\u05e8\u05f3_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05f3_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05f3_\u05e1\u05e4\u05d8\u05f3_\u05d0\u05d5\u05e7\u05f3_\u05e0\u05d5\u05d1\u05f3_\u05d3\u05e6\u05de\u05f3".split("_"),"\u05e8\u05d0\u05e9\u05d5\u05df_\u05e9\u05e0\u05d9_\u05e9\u05dc\u05d9\u05e9\u05d9_\u05e8\u05d1\u05d9\u05e2\u05d9_\u05d7\u05de\u05d9\u05e9\u05d9_\u05e9\u05d9\u05e9\u05d9_\u05e9\u05d1\u05ea".split("_"),"\u05d0\u05f3_\u05d1\u05f3_\u05d2\u05f3_\u05d3\u05f3_\u05d4\u05f3_\u05d5\u05f3_\u05e9\u05f3".split("_"),"\u05d0_\u05d1_\u05d2_\u05d3_\u05d4_\u05d5_\u05e9".split("_"),"\u091c\u0928\u0935\u0930\u0940_\u092b\u093c\u0930\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948\u0932_\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0938\u094d\u0924_\u0938\u093f\u0924\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u0942\u092c\u0930_\u0928\u0935\u092e\u094d\u092c\u0930_\u0926\u093f\u0938\u092e\u094d\u092c\u0930".split("_"),"\u091c\u0928._\u092b\u093c\u0930._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948._\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932._\u0905\u0917._\u0938\u093f\u0924._\u0905\u0915\u094d\u091f\u0942._\u0928\u0935._\u0926\u093f\u0938.".split("_"),"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0932\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0932_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),"vas\xe1rnap h\xe9tf\u0151n kedden szerd\xe1n cs\xfct\xf6rt\xf6k\xf6n p\xe9nteken szombaton".split(" "),"janu\xe1r_febru\xe1r_m\xe1rcius_\xe1prilis_m\xe1jus_j\xfanius_j\xfalius_augusztus_szeptember_okt\xf3ber_november_december".split("_"),"jan_feb_m\xe1rc_\xe1pr_m\xe1j_j\xfan_j\xfal_aug_szept_okt_nov_dec".split("_"),"vas\xe1rnap_h\xe9tf\u0151_kedd_szerda_cs\xfct\xf6rt\xf6k_p\xe9ntek_szombat".split("_"),"vas_h\xe9t_kedd_sze_cs\xfct_p\xe9n_szo".split("_"),"v_h_k_sze_cs_p_szo".split("_"),"Sije\u010danj_Velja\u010da_O\u017eujak_Travanj_Svibanj_Lipanj_Srpanj_Kolovoz_Rujan_Listopad_Studeni_Prosinac".split("_"),"Sij_Velj_O\u017eu_Tra_Svi_Lip_Srp_Kol_Ruj_Lis_Stu_Pro".split("_"),"Nedjelja_Ponedjeljak_Utorak_Srijeda_\u010cetvrtak_Petak_Subota".split("_"),"Ned_Pon_Uto_Sri_\u010cet_Pet_Sub".split("_"),"Ne_Po_Ut_Sr_\u010ce_Pe_Su".split("_"),"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nov_Des".split("_"),"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),"dom_lun_mar_mer_gio_ven_sab".split("_"),"do_lu_ma_me_gi_ve_sa".split("_"),"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),"\u65e5\u66dc\u65e5_\u6708\u66dc\u65e5_\u706b\u66dc\u65e5_\u6c34\u66dc\u65e5_\u6728\u66dc\u65e5_\u91d1\u66dc\u65e5_\u571f\u66dc\u65e5".split("_"),"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),"\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10e1_\u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10e1_\u10db\u10d0\u10e0\u10e2\u10e1_\u10d0\u10de\u10e0\u10d8\u10da\u10d8\u10e1_\u10db\u10d0\u10d8\u10e1\u10e1_\u10d8\u10d5\u10dc\u10d8\u10e1\u10e1_\u10d8\u10d5\u10da\u10d8\u10e1\u10e1_\u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10e1_\u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10e1_\u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10e1_\u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10e1_\u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10e1".split("_"),"\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10d8_\u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10d8_\u10db\u10d0\u10e0\u10e2\u10d8_\u10d0\u10de\u10e0\u10d8\u10da\u10d8_\u10db\u10d0\u10d8\u10e1\u10d8_\u10d8\u10d5\u10dc\u10d8\u10e1\u10d8_\u10d8\u10d5\u10da\u10d8\u10e1\u10d8_\u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10dd_\u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10d8_\u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10d8".split("_"),"\u10d8\u10d0\u10dc_\u10d7\u10d4\u10d1_\u10db\u10d0\u10e0_\u10d0\u10de\u10e0_\u10db\u10d0\u10d8_\u10d8\u10d5\u10dc_\u10d8\u10d5\u10da_\u10d0\u10d2\u10d5_\u10e1\u10d4\u10e5_\u10dd\u10e5\u10e2_\u10dc\u10dd\u10d4_\u10d3\u10d4\u10d9".split("_"),"\u10d9\u10d5\u10d8\u10e0\u10d0_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10d8_\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8".split("_"),"\u10d9\u10d5\u10d8\u10e0\u10d0\u10e1_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10e1_\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1".split("_"),"\u10d9\u10d5\u10d8_\u10dd\u10e0\u10e8_\u10e1\u10d0\u10db_\u10dd\u10d7\u10ee_\u10ee\u10e3\u10d7_\u10de\u10d0\u10e0_\u10e8\u10d0\u10d1".split("_"),"\u10d9\u10d5_\u10dd\u10e0_\u10e1\u10d0_\u10dd\u10d7_\u10ee\u10e3_\u10de\u10d0_\u10e8\u10d0".split("_"),"\u049b\u0430\u04a3\u0442\u0430\u0440_\u0430\u049b\u043f\u0430\u043d_\u043d\u0430\u0443\u0440\u044b\u0437_\u0441\u04d9\u0443\u0456\u0440_\u043c\u0430\u043c\u044b\u0440_\u043c\u0430\u0443\u0441\u044b\u043c_\u0448\u0456\u043b\u0434\u0435_\u0442\u0430\u043c\u044b\u0437_\u049b\u044b\u0440\u043a\u04af\u0439\u0435\u043a_\u049b\u0430\u0437\u0430\u043d_\u049b\u0430\u0440\u0430\u0448\u0430_\u0436\u0435\u043b\u0442\u043e\u049b\u0441\u0430\u043d".split("_"),"\u049b\u0430\u04a3_\u0430\u049b\u043f_\u043d\u0430\u0443_\u0441\u04d9\u0443_\u043c\u0430\u043c_\u043c\u0430\u0443_\u0448\u0456\u043b_\u0442\u0430\u043c_\u049b\u044b\u0440_\u049b\u0430\u0437_\u049b\u0430\u0440_\u0436\u0435\u043b".split("_"),"\u0436\u0435\u043a\u0441\u0435\u043d\u0431\u0456_\u0434\u04af\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u04d9\u0440\u0441\u0435\u043d\u0431\u0456_\u0431\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0436\u04b1\u043c\u0430_\u0441\u0435\u043d\u0431\u0456".split("_"),"\u0436\u0435\u043a_\u0434\u04af\u0439_\u0441\u0435\u0439_\u0441\u04d9\u0440_\u0431\u0435\u0439_\u0436\u04b1\u043c_\u0441\u0435\u043d".split("_"),"\u0436\u043a_\u0434\u0439_\u0441\u0439_\u0441\u0440_\u0431\u0439_\u0436\u043c_\u0441\u043d".split("_"),"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),"\uc77c\uc694\uc77c_\uc6d4\uc694\uc77c_\ud654\uc694\uc77c_\uc218\uc694\uc77c_\ubaa9\uc694\uc77c_\uae08\uc694\uc77c_\ud1a0\uc694\uc77c".split("_"),"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),"sausio_vasario_kovo_baland\u017eio_gegu\u017e\u0117s_bir\u017eelio_liepos_rugpj\u016b\u010dio_rugs\u0117jo_spalio_lapkri\u010dio_gruod\u017eio".split("_"),"sausis_vasaris_kovas_balandis_gegu\u017e\u0117_bir\u017eelis_liepa_rugpj\u016btis_rugs\u0117jis_spalis_lapkritis_gruodis".split("_"),"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),"sekmadien\u012f_pirmadien\u012f_antradien\u012f_tre\u010diadien\u012f_ketvirtadien\u012f_penktadien\u012f_\u0161e\u0161tadien\u012f".split("_"),"sekmadienis_pirmadienis_antradienis_tre\u010diadienis_ketvirtadienis_penktadienis_\u0161e\u0161tadienis".split("_"),"Sek_Pir_Ant_Tre_Ket_Pen_\u0160e\u0161".split("_"),"S_P_A_T_K_Pn_\u0160".split("_"),"Janv\u0101ris_Febru\u0101ris_Marts_Apr\u012blis_Maijs_J\u016bnijs_J\u016blijs_Augusts_Septembris_Oktobris_Novembris_Decembris".split("_"),"Jan_Feb_Mar_Apr_Mai_J\u016bn_J\u016bl_Aug_Sep_Okt_Nov_Dec".split("_"),"Sv\u0113tdiena_Pirmdiena_Otrdiena_Tre\u0161diena_Ceturtdiena_Piektdiena_Sestdiena".split("_"),"Sv\u0113td_Pirmd_Otrd_Tre\u0161d_Ceturtd_Piektd_Sestd".split("_"),"Sv_Pi_Ot_Tr_Ce_Pk_Se".split("_"),"\u041d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0425\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0413\u0443\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u04e9\u0440\u04e9\u0432\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0422\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0417\u0443\u0440\u0433\u0430\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u043e\u043b\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u041d\u0430\u0439\u043c\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0415\u0441\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u043d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u0445\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440".split("_"),"1 \u0441\u0430\u0440_2 \u0441\u0430\u0440_3 \u0441\u0430\u0440_4 \u0441\u0430\u0440_5 \u0441\u0430\u0440_6 \u0441\u0430\u0440_7 \u0441\u0430\u0440_8 \u0441\u0430\u0440_9 \u0441\u0430\u0440_10 \u0441\u0430\u0440_11 \u0441\u0430\u0440_12 \u0441\u0430\u0440".split("_"),"\u041d\u044f\u043c_\u0414\u0430\u0432\u0430\u0430_\u041c\u044f\u0433\u043c\u0430\u0440_\u041b\u0445\u0430\u0433\u0432\u0430_\u041f\u04af\u0440\u044d\u0432_\u0411\u0430\u0430\u0441\u0430\u043d_\u0411\u044f\u043c\u0431\u0430".split("_"),"\u041d\u044f\u043c_\u0414\u0430\u0432_\u041c\u044f\u0433_\u041b\u0445\u0430_\u041f\u04af\u0440_\u0411\u0430\u0430_\u0411\u044f\u043c".split("_"),"\u041d\u044f_\u0414\u0430_\u041c\u044f_\u041b\u0445_\u041f\u04af_\u0411\u0430_\u0411\u044f".split("_"),"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),"s\xf8._ma._ti._on._to._fr._l\xf8.".split("_"),"s\xf8_ma_ti_on_to_fr_l\xf8".split("_"),"jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),"jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),"zo._ma._di._wo._do._vr._za.".split("_"),"zo_ma_di_wo_do_vr_za".split("_"),"jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),"jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),"zo._ma._di._wo._do._vr._za.".split("_"),"zo_ma_di_wo_do_vr_za".split("_"),"stycze\u0144_luty_marzec_kwiecie\u0144_maj_czerwiec_lipiec_sierpie\u0144_wrzesie\u0144_pa\u017adziernik_listopad_grudzie\u0144".split("_"),"stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrze\u015bnia_pa\u017adziernika_listopada_grudnia".split("_"),"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa\u017a_lis_gru".split("_"),"niedziela_poniedzia\u0142ek_wtorek_\u015broda_czwartek_pi\u0105tek_sobota".split("_"),"ndz_pon_wt_\u015br_czw_pt_sob".split("_"),"Nd_Pn_Wt_\u015ar_Cz_Pt_So".split("_"),"Janeiro_Fevereiro_Mar\xe7o_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),"Domingo_Segunda-feira_Ter\xe7a-feira_Quarta-feira_Quinta-feira_Sexta-feira_S\xe1bado".split("_"),"Dom_Seg_Ter_Qua_Qui_Sex_S\xe1b".split("_"),"Do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_S\xe1".split("_"),"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),"duminic\u0103_luni_mar\u021bi_miercuri_joi_vineri_s\xe2mb\u0103t\u0103".split("_"),"Dum_Lun_Mar_Mie_Joi_Vin_S\xe2m".split("_"),"Du_Lu_Ma_Mi_Jo_Vi_S\xe2".split("_"),"\u044f\u043d\u0432\u0430\u0440\u044f_\u0444\u0435\u0432\u0440\u0430\u043b\u044f_\u043c\u0430\u0440\u0442\u0430_\u0430\u043f\u0440\u0435\u043b\u044f_\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433\u0443\u0441\u0442\u0430_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f_\u043e\u043a\u0442\u044f\u0431\u0440\u044f_\u043d\u043e\u044f\u0431\u0440\u044f_\u0434\u0435\u043a\u0430\u0431\u0440\u044f".split("_"),"\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_"),"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440\u0442_\u0430\u043f\u0440._\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0430_\u0441\u0443\u0431\u0431\u043e\u0442\u0430".split("_"),"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0443_\u0441\u0443\u0431\u0431\u043e\u0442\u0443".split("_"),"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),"janu\xe1r_febru\xe1r_marec_apr\xedl_m\xe1j_j\xfan_j\xfal_august_september_okt\xf3ber_november_december".split("_"),"jan_feb_mar_apr_m\xe1j_j\xfan_j\xfal_aug_sep_okt_nov_dec".split("_"),"nede\u013ea_pondelok_utorok_streda_\u0161tvrtok_piatok_sobota".split("_"),"ne_po_ut_st_\u0161t_pi_so".split("_"),"ne_po_ut_st_\u0161t_pi_so".split("_"),"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),"nedelja_ponedeljek_torek_sreda_\u010detrtek_petek_sobota".split("_"),"ned._pon._tor._sre._\u010det._pet._sob.".split("_"),"ne_po_to_sr_\u010de_pe_so".split("_"),"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_N\xebntor_Dhjetor".split("_"),"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_N\xebn_Dhj".split("_"),"E Diel\xeb_E H\xebn\xeb_E Mart\xeb_E M\xebrkur\xeb_E Enjte_E Premte_E Shtun\xeb".split("_"),"Die_H\xebn_Mar_M\xebr_Enj_Pre_Sht".split("_"),"Di_He_Ma_Me_En_Pr_Sh".split("_"),"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),"s\xf6ndag_m\xe5ndag_tisdag_onsdag_torsdag_fredag_l\xf6rdag".split("_"),"s\xf6n_m\xe5n_tis_ons_tor_fre_l\xf6r".split("_"),"s\xf6_m\xe5_ti_on_to_fr_l\xf6".split("_"),"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21_\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c_\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21_\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19_\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21_\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19_\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21_\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21_\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19_\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21_\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19_\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split("_"),"\u0e21.\u0e04._\u0e01.\u0e1e._\u0e21\u0e35.\u0e04._\u0e40\u0e21.\u0e22._\u0e1e.\u0e04._\u0e21\u0e34.\u0e22._\u0e01.\u0e04._\u0e2a.\u0e04._\u0e01.\u0e22._\u0e15.\u0e04._\u0e1e.\u0e22._\u0e18.\u0e04.".split("_"),"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_");const ZL={abbr:"th-be",months:"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21_\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c_\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21_\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19_\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21_\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19_\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21_\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21_\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19_\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21_\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19_\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split("_"),monthsShort:"\u0e21.\u0e04._\u0e01.\u0e1e._\u0e21\u0e35.\u0e04._\u0e40\u0e21.\u0e22._\u0e1e.\u0e04._\u0e21\u0e34.\u0e22._\u0e01.\u0e04._\u0e2a.\u0e04._\u0e01.\u0e22._\u0e15.\u0e04._\u0e1e.\u0e22._\u0e18.\u0e04.".split("_"),monthsParseExact:!0,weekdays:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysShort:"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),weekdaysMin:"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm",LLLL:"\u0e27\u0e31\u0e19dddd\u0e17\u0e35\u0e48 D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm"},meridiemParse:/\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07|\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07/,isPM:e=>"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"===e,meridiem:(e,n,t)=>e<12?"\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07":"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07",calendar:{sameDay:"[\u0e27\u0e31\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextDay:"[\u0e1e\u0e23\u0e38\u0e48\u0e07\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextWeek:"dddd[\u0e2b\u0e19\u0e49\u0e32 \u0e40\u0e27\u0e25\u0e32] LT",lastDay:"[\u0e40\u0e21\u0e37\u0e48\u0e2d\u0e27\u0e32\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",lastWeek:"[\u0e27\u0e31\u0e19]dddd[\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27 \u0e40\u0e27\u0e25\u0e32] LT",sameElse:"L"},relativeTime:{future:"\u0e2d\u0e35\u0e01 %s",past:"%s\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27",s:"\u0e44\u0e21\u0e48\u0e01\u0e35\u0e48\u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",ss:"%d \u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",m:"1 \u0e19\u0e32\u0e17\u0e35",mm:"%d \u0e19\u0e32\u0e17\u0e35",h:"1 \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",hh:"%d \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",d:"1 \u0e27\u0e31\u0e19",dd:"%d \u0e27\u0e31\u0e19",M:"1 \u0e40\u0e14\u0e37\u0e2d\u0e19",MM:"%d \u0e40\u0e14\u0e37\u0e2d\u0e19",y:"1 \u0e1b\u0e35",yy:"%d \u0e1b\u0e35"},preparse(e,n){const t=ZL.longDateFormat[n]?ZL.longDateFormat[n]:n;return-1!==t.indexOf("YYYY",t.length-4)?e.substr(0,e.length-4)+(parseInt(e.substr(e.length-4),10)-543):e},getFullYear:(e,n=!1)=>543+(n?e.getUTCFullYear():e.getFullYear())};function Pc(e){return function(n){return e+"\u043e"+(11===Mt(n)?"\u0431":"")+"] LT"}}"Ocak_\u015eubat_Mart_Nisan_May\u0131s_Haziran_Temmuz_A\u011fustos_Eyl\xfcl_Ekim_Kas\u0131m_Aral\u0131k".split("_"),"Oca_\u015eub_Mar_Nis_May_Haz_Tem_A\u011fu_Eyl_Eki_Kas_Ara".split("_"),"Pazar_Pazartesi_Sal\u0131_\xc7ar\u015famba_Per\u015fembe_Cuma_Cumartesi".split("_"),"Paz_Pts_Sal_\xc7ar_Per_Cum_Cts".split("_"),"Pz_Pt_Sa_\xc7a_Pe_Cu_Ct".split("_"),"\u0441\u0456\u0447\u043d\u044f_\u043b\u044e\u0442\u043e\u0433\u043e_\u0431\u0435\u0440\u0435\u0437\u043d\u044f_\u043a\u0432\u0456\u0442\u043d\u044f_\u0442\u0440\u0430\u0432\u043d\u044f_\u0447\u0435\u0440\u0432\u043d\u044f_\u043b\u0438\u043f\u043d\u044f_\u0441\u0435\u0440\u043f\u043d\u044f_\u0432\u0435\u0440\u0435\u0441\u043d\u044f_\u0436\u043e\u0432\u0442\u043d\u044f_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434\u0430_\u0433\u0440\u0443\u0434\u043d\u044f".split("_"),"\u0441\u0456\u0447\u0435\u043d\u044c_\u043b\u044e\u0442\u0438\u0439_\u0431\u0435\u0440\u0435\u0437\u0435\u043d\u044c_\u043a\u0432\u0456\u0442\u0435\u043d\u044c_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u0435\u0440\u0432\u0435\u043d\u044c_\u043b\u0438\u043f\u0435\u043d\u044c_\u0441\u0435\u0440\u043f\u0435\u043d\u044c_\u0432\u0435\u0440\u0435\u0441\u0435\u043d\u044c_\u0436\u043e\u0432\u0442\u0435\u043d\u044c_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434_\u0433\u0440\u0443\u0434\u0435\u043d\u044c".split("_"),"\u0441\u0456\u0447_\u043b\u044e\u0442_\u0431\u0435\u0440_\u043a\u0432\u0456\u0442_\u0442\u0440\u0430\u0432_\u0447\u0435\u0440\u0432_\u043b\u0438\u043f_\u0441\u0435\u0440\u043f_\u0432\u0435\u0440_\u0436\u043e\u0432\u0442_\u043b\u0438\u0441\u0442_\u0433\u0440\u0443\u0434".split("_"),"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),Pc("[\u0421\u044c\u043e\u0433\u043e\u0434\u043d\u0456 "),Pc("[\u0417\u0430\u0432\u0442\u0440\u0430 "),Pc("[\u0412\u0447\u043e\u0440\u0430 "),Pc("[\u0423] dddd ["),"th\xe1ng 1_th\xe1ng 2_th\xe1ng 3_th\xe1ng 4_th\xe1ng 5_th\xe1ng 6_th\xe1ng 7_th\xe1ng 8_th\xe1ng 9_th\xe1ng 10_th\xe1ng 11_th\xe1ng 12".split("_"),"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),"ch\u1ee7 nh\u1eadt_th\u1ee9 hai_th\u1ee9 ba_th\u1ee9 t\u01b0_th\u1ee9 n\u0103m_th\u1ee9 s\xe1u_th\u1ee9 b\u1ea3y".split("_"),"CN_T2_T3_T4_T5_T6_T7".split("_"),"CN_T2_T3_T4_T5_T6_T7".split("_"),"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),"\u5468\u65e5_\u5468\u4e00_\u5468\u4e8c_\u5468\u4e09_\u5468\u56db_\u5468\u4e94_\u5468\u516d".split("_"),"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_");const BJ=new class VJ extends gD{}(class FJ extends mD{constructor(n,t){super(n,t),this.scheduler=n,this.work=t}schedule(n,t=0){return t>0?super.schedule(n,t):(this.delay=t,this.state=n,this.scheduler.flush(this),this)}execute(n,t){return t>0||this.closed?super.execute(n,t):this._execute(n,t)}requestAsyncId(n,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(n,t,r):(n.flush(this),0)}});class QL extends Er{constructor(n,t,r){super(n),t.pipe(ci(BJ)).pipe(Nb((o,a)=>a?r(o,a):o,n)).subscribe(o=>this.next(o))}}class Vg extends We{constructor(n,t,r){super(),this._dispatcher=n,this._reducer=t,this.source=r}select(n){return(this.source?.pipe(Ae(n))||(new We).pipe(Ae(n))).pipe(MD())}lift(n){const t=new Vg(this._dispatcher,this._reducer,this);return t.operator=n,t}dispatch(n){this._dispatcher.next(n)}next(n){this._dispatcher.next(n)}error(n){this._dispatcher.error(n)}complete(){}}function HJ(e,n){1&e&&(m(0,"td"),E(1,"\xa0\xa0\xa0"),y())}function $J(e,n){if(1&e){const t=Oe();m(0,"td")(1,"a",1),P("click",function(){$(t);const i=C();return j(i.changeMinutes(i.minuteStep))}),He(2,"span",2),y()()}if(2&e){const t=C();v(1),st("disabled",!t.canIncrementMinutes||!t.isEditable)}}function jJ(e,n){1&e&&(m(0,"td"),E(1,"\xa0"),y())}function UJ(e,n){if(1&e){const t=Oe();m(0,"td")(1,"a",1),P("click",function(){$(t);const i=C();return j(i.changeSeconds(i.secondsStep))}),He(2,"span",2),y()()}if(2&e){const t=C();v(1),st("disabled",!t.canIncrementSeconds||!t.isEditable)}}function YJ(e,n){1&e&&(m(0,"td"),E(1,"\xa0\xa0\xa0"),y())}function zJ(e,n){1&e&&He(0,"td")}function WJ(e,n){1&e&&(m(0,"td"),E(1,"\xa0:\xa0"),y())}function qJ(e,n){if(1&e){const t=Oe();m(0,"td",4)(1,"input",5),P("wheel",function(i){$(t);const s=C();return s.prevDef(i),j(s.changeMinutes(s.minuteStep*s.wheelSign(i),"wheel"))})("keydown.ArrowUp",function(){$(t);const i=C();return j(i.changeMinutes(i.minuteStep,"key"))})("keydown.ArrowDown",function(){$(t);const i=C();return j(i.changeMinutes(-i.minuteStep,"key"))})("change",function(i){return $(t),j(C().updateMinutes(i.target))}),y()()}if(2&e){const t=C();st("has-error",t.invalidMinutes),v(1),st("is-invalid",t.invalidMinutes),w("placeholder",t.minutesPlaceholder)("readonly",t.readonlyInput)("disabled",t.disabled)("value",t.minutes),Kn("aria-label",t.labelMinutes)}}function GJ(e,n){1&e&&(m(0,"td"),E(1,"\xa0:\xa0"),y())}function ZJ(e,n){if(1&e){const t=Oe();m(0,"td",4)(1,"input",5),P("wheel",function(i){$(t);const s=C();return s.prevDef(i),j(s.changeSeconds(s.secondsStep*s.wheelSign(i),"wheel"))})("keydown.ArrowUp",function(){$(t);const i=C();return j(i.changeSeconds(i.secondsStep,"key"))})("keydown.ArrowDown",function(){$(t);const i=C();return j(i.changeSeconds(-i.secondsStep,"key"))})("change",function(i){return $(t),j(C().updateSeconds(i.target))}),y()()}if(2&e){const t=C();st("has-error",t.invalidSeconds),v(1),st("is-invalid",t.invalidSeconds),w("placeholder",t.secondsPlaceholder)("readonly",t.readonlyInput)("disabled",t.disabled)("value",t.seconds),Kn("aria-label",t.labelSeconds)}}function QJ(e,n){1&e&&(m(0,"td"),E(1,"\xa0\xa0\xa0"),y())}function KJ(e,n){if(1&e){const t=Oe();m(0,"td")(1,"button",8),P("click",function(){return $(t),j(C().toggleMeridian())}),E(2),y()()}if(2&e){const t=C();v(1),st("disabled",!t.isEditable||!t.canToggleMeridian),w("disabled",!t.isEditable||!t.canToggleMeridian),v(1),Gt("",t.meridian," ")}}function JJ(e,n){1&e&&(m(0,"td"),E(1,"\xa0\xa0\xa0"),y())}function XJ(e,n){if(1&e){const t=Oe();m(0,"td")(1,"a",1),P("click",function(){$(t);const i=C();return j(i.changeMinutes(-i.minuteStep))}),He(2,"span",7),y()()}if(2&e){const t=C();v(1),st("disabled",!t.canDecrementMinutes||!t.isEditable)}}function eX(e,n){1&e&&(m(0,"td"),E(1,"\xa0"),y())}function tX(e,n){if(1&e){const t=Oe();m(0,"td")(1,"a",1),P("click",function(){$(t);const i=C();return j(i.changeSeconds(-i.secondsStep))}),He(2,"span",7),y()()}if(2&e){const t=C();v(1),st("disabled",!t.canDecrementSeconds||!t.isEditable)}}function nX(e,n){1&e&&(m(0,"td"),E(1,"\xa0\xa0\xa0"),y())}function rX(e,n){1&e&&He(0,"td")}let fa=(()=>{class e{writeValue(t){return{type:e.WRITE_VALUE,payload:t}}changeHours(t){return{type:e.CHANGE_HOURS,payload:t}}changeMinutes(t){return{type:e.CHANGE_MINUTES,payload:t}}changeSeconds(t){return{type:e.CHANGE_SECONDS,payload:t}}setTime(t){return{type:e.SET_TIME_UNIT,payload:t}}updateControls(t){return{type:e.UPDATE_CONTROLS,payload:t}}}return e.WRITE_VALUE="[timepicker] write value from ng model",e.CHANGE_HOURS="[timepicker] change hours",e.CHANGE_MINUTES="[timepicker] change minutes",e.CHANGE_SECONDS="[timepicker] change seconds",e.SET_TIME_UNIT="[timepicker] set time unit",e.UPDATE_CONTROLS="[timepicker] update controls",e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const iX=10,sX=24,KL=12,oX=60,aX=60;function oC(e){return!(!e||e instanceof Date&&isNaN(e.getHours()))&&("string"!=typeof e||oC(new Date(e)))}function aC(e,n){return!(e.min&&n<e.min||e.max&&n>e.max)}function Yl(e){return typeof e>"u"?NaN:"number"==typeof e?e:parseInt(e,iX)}function JL(e,n=!1){const t=Yl(e);return isNaN(t)||t<0||t>(n?KL:sX)?NaN:t}function XL(e){const n=Yl(e);return isNaN(n)||n<0||n>oX?NaN:n}function eP(e){const n=Yl(e);return isNaN(n)||n<0||n>aX?NaN:n}function tP(e){return"string"==typeof e?new Date(e):e}function vs(e,n){if(!e)return vs(Bg(new Date,0,0,0),n);if(!n)return e;let t=e.getHours(),r=e.getMinutes(),i=e.getSeconds();return n.hour&&(t+=Yl(n.hour)),n.minute&&(r+=Yl(n.minute)),n.seconds&&(i+=Yl(n.seconds)),Bg(e,t,r,i)}function nP(e,n){let t=JL(n.hour);const r=XL(n.minute),i=eP(n.seconds)||0;return n.isPM&&12!==t&&(t+=KL),e?isNaN(t)||isNaN(r)?e:Bg(e,t,r,i):isNaN(t)||isNaN(r)?e:Bg(new Date,t,r,i)}function Bg(e,n,t,r){const i=new Date(e.getFullYear(),e.getMonth(),e.getDate(),n,t,r,e.getMilliseconds());return i.setFullYear(e.getFullYear()),i.setMonth(e.getMonth()),i.setDate(e.getDate()),i}function lC(e){const n=e.toString();return n.length>1?n:`0${n}`}function rP(e,n){return!isNaN(JL(e,n))}function iP(e){return!isNaN(XL(e))}function sP(e){return!isNaN(eP(e))}function oP(e,n="0",t="0",r){return rP(e,r)&&iP(n)&&sP(t)}function Hg(e,n){return!(e.readonlyInput||e.disabled||n&&("wheel"===n.source&&!e.mousewheel||"key"===n.source&&!e.arrowkeys))}function aP(e){const{hourStep:n,minuteStep:t,secondsStep:r,readonlyInput:i,disabled:s,mousewheel:o,arrowkeys:a,showSpinners:l,showMeridian:u,showSeconds:c,meridians:d,min:f,max:h}=e;return{hourStep:n,minuteStep:t,secondsStep:r,readonlyInput:i,disabled:s,mousewheel:o,arrowkeys:a,showSpinners:l,showMeridian:u,showSeconds:c,meridians:d,min:f,max:h}}let lP=(()=>{class e{constructor(){this.hourStep=1,this.minuteStep=5,this.secondsStep=10,this.showMeridian=!0,this.meridians=["AM","PM"],this.readonlyInput=!1,this.disabled=!1,this.allowEmptyTime=!1,this.mousewheel=!0,this.arrowkeys=!0,this.showSpinners=!0,this.showSeconds=!1,this.showMinutes=!0,this.hoursPlaceholder="HH",this.minutesPlaceholder="MM",this.secondsPlaceholder="SS",this.ariaLabelHours="hours",this.ariaLabelMinutes="minutes",this.ariaLabelSeconds="seconds"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const uP={value:void 0,config:new lP,controls:{canIncrementHours:!0,canIncrementMinutes:!0,canIncrementSeconds:!0,canDecrementHours:!0,canDecrementMinutes:!0,canDecrementSeconds:!0,canToggleMeridian:!0}};function cP(e=uP,n){switch(n.type){case fa.WRITE_VALUE:return Object.assign({},e,{value:n.payload});case fa.CHANGE_HOURS:{if(!Hg(e.config,n.payload)||!function cX(e,n){return!(!e.step||e.step>0&&!n.canIncrementHours||e.step<0&&!n.canDecrementHours)}(n.payload,e.controls))return e;const t=vs(e.value,{hour:n.payload.step});return!e.config.max&&!e.config.min||aC(e.config,t)?Object.assign({},e,{value:t}):e}case fa.CHANGE_MINUTES:{if(!Hg(e.config,n.payload)||!function dX(e,n){return!(!e.step||e.step>0&&!n.canIncrementMinutes||e.step<0&&!n.canDecrementMinutes)}(n.payload,e.controls))return e;const t=vs(e.value,{minute:n.payload.step});return!e.config.max&&!e.config.min||aC(e.config,t)?Object.assign({},e,{value:t}):e}case fa.CHANGE_SECONDS:{if(!Hg(e.config,n.payload)||!function fX(e,n){return!(!e.step||e.step>0&&!n.canIncrementSeconds||e.step<0&&!n.canDecrementSeconds)}(n.payload,e.controls))return e;const t=vs(e.value,{seconds:n.payload.step});return!e.config.max&&!e.config.min||aC(e.config,t)?Object.assign({},e,{value:t}):e}case fa.SET_TIME_UNIT:{if(!Hg(e.config))return e;const t=nP(e.value,n.payload);return Object.assign({},e,{value:t})}case fa.UPDATE_CONTROLS:{const t=function hX(e,n){const{min:i,max:s,hourStep:o,minuteStep:a,secondsStep:l,showSeconds:u}=n,c={canIncrementHours:!0,canIncrementMinutes:!0,canIncrementSeconds:!0,canDecrementHours:!0,canDecrementMinutes:!0,canDecrementSeconds:!0,canToggleMeridian:!0};if(!e)return c;if(s){const d=vs(e,{hour:o});if(c.canIncrementHours=s>d&&e.getHours()+o<24,!c.canIncrementHours){const f=vs(e,{minute:a});c.canIncrementMinutes=u?s>f:s>=f}if(!c.canIncrementMinutes){const f=vs(e,{seconds:l});c.canIncrementSeconds=s>=f}e.getHours()<12&&(c.canToggleMeridian=vs(e,{hour:12})<s)}if(i){const d=vs(e,{hour:-o});if(c.canDecrementHours=i<d,!c.canDecrementHours){const f=vs(e,{minute:-a});c.canDecrementMinutes=u?i<f:i<=f}if(!c.canDecrementMinutes){const f=vs(e,{seconds:-l});c.canDecrementSeconds=i<=f}e.getHours()>=12&&(c.canToggleMeridian=vs(e,{hour:-12})>i)}return c}(e.value,n.payload),r={value:e.value,config:n.payload,controls:t};return e.config.showMeridian!==r.config.showMeridian&&e.value&&(r.value=new Date(e.value)),Object.assign({},e,r)}default:return e}}let $g=(()=>{class e extends Vg{constructor(){const t=new Er({type:"[mini-ngrx] dispatcher init"});super(t,cP,new QL(uP,t,cP))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const pX={provide:ji,useExisting:zt(()=>jg),multi:!0};let jg=(()=>{class e{constructor(t,r,i,s){this._cd=r,this._store=i,this._timepickerActions=s,this.hourStep=1,this.minuteStep=5,this.secondsStep=10,this.readonlyInput=!1,this.disabled=!1,this.mousewheel=!0,this.arrowkeys=!0,this.showSpinners=!0,this.showMeridian=!0,this.showMinutes=!0,this.showSeconds=!1,this.meridians=["AM","PM"],this.hoursPlaceholder="HH",this.minutesPlaceholder="MM",this.secondsPlaceholder="SS",this.isValid=new Me,this.meridianChange=new Me,this.hours="",this.minutes="",this.seconds="",this.meridian="",this.invalidHours=!1,this.invalidMinutes=!1,this.invalidSeconds=!1,this.labelHours="hours",this.labelMinutes="minutes",this.labelSeconds="seconds",this.canIncrementHours=!0,this.canIncrementMinutes=!0,this.canIncrementSeconds=!0,this.canDecrementHours=!0,this.canDecrementMinutes=!0,this.canDecrementSeconds=!0,this.canToggleMeridian=!0,this.onChange=Function.prototype,this.onTouched=Function.prototype,this.config=t,Object.assign(this,this.config),this.timepickerSub=i.select(o=>o.value).subscribe(o=>{this._renderTime(o),this.onChange(o),this._store.dispatch(this._timepickerActions.updateControls(aP(this)))}),i.select(o=>o.controls).subscribe(o=>{const a=oP(this.hours,this.minutes,this.seconds,this.isPM()),l=this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||a;this.isValid.emit(l),Object.assign(this,o),r.markForCheck()})}get isSpinnersVisible(){return this.showSpinners&&!this.readonlyInput}get isEditable(){return!(this.readonlyInput||this.disabled)}resetValidation(){this.invalidHours=!1,this.invalidMinutes=!1,this.invalidSeconds=!1}isPM(){return this.showMeridian&&this.meridian===this.meridians[1]}prevDef(t){t.preventDefault()}wheelSign(t){return-1*Math.sign(t.deltaY||0)}ngOnChanges(){this._store.dispatch(this._timepickerActions.updateControls(aP(this)))}changeHours(t,r=""){this.resetValidation(),this._store.dispatch(this._timepickerActions.changeHours({step:t,source:r}))}changeMinutes(t,r=""){this.resetValidation(),this._store.dispatch(this._timepickerActions.changeMinutes({step:t,source:r}))}changeSeconds(t,r=""){this.resetValidation(),this._store.dispatch(this._timepickerActions.changeSeconds({step:t,source:r}))}updateHours(t){this.resetValidation(),this.hours=t.value;const r=rP(this.hours,this.isPM())&&this.isValidLimit();if(!(this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||r))return this.invalidHours=!0,this.isValid.emit(!1),void this.onChange(null);this._updateTime()}updateMinutes(t){this.resetValidation(),this.minutes=t.value;const r=iP(this.minutes)&&this.isValidLimit();if(!(this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||r))return this.invalidMinutes=!0,this.isValid.emit(!1),void this.onChange(null);this._updateTime()}updateSeconds(t){this.resetValidation(),this.seconds=t.value;const r=sP(this.seconds)&&this.isValidLimit();if(!(this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||r))return this.invalidSeconds=!0,this.isValid.emit(!1),void this.onChange(null);this._updateTime()}isValidLimit(){return function lX(e,n,t){const r=nP(new Date,e);return!(!r||n&&r>n||t&&r<t)}({hour:this.hours,minute:this.minutes,seconds:this.seconds,isPM:this.isPM()},this.max,this.min)}isOneOfDatesIsEmpty(){return function uX(e,n,t){return 0===e.length||0===n.length||0===t.length}(this.hours,this.minutes,this.seconds)}_updateTime(){const i=oP(this.hours,this.showMinutes?this.minutes:void 0,this.showSeconds?this.seconds:void 0,this.isPM());if(!(this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||i))return this.isValid.emit(!1),void this.onChange(null);this._store.dispatch(this._timepickerActions.setTime({hour:this.hours,minute:this.minutes,seconds:this.seconds,isPM:this.isPM()}))}toggleMeridian(){this.showMeridian&&this.isEditable&&this._store.dispatch(this._timepickerActions.changeHours({step:12,source:""}))}writeValue(t){oC(t)?(this.resetValidation(),this._store.dispatch(this._timepickerActions.writeValue(tP(t)))):null==t&&this._store.dispatch(this._timepickerActions.writeValue())}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t,this._cd.markForCheck()}ngOnDestroy(){this.timepickerSub?.unsubscribe()}_renderTime(t){if(!t||!oC(t))return this.hours="",this.minutes="",this.seconds="",this.meridian=this.meridians[0],void this.meridianChange.emit(this.meridian);const r=tP(t);if(!r)return;let s=r.getHours();this.showMeridian&&(this.meridian=this.meridians[s>=12?1:0],this.meridianChange.emit(this.meridian),s%=12,0===s&&(s=12)),this.hours=lC(s),this.minutes=lC(r.getMinutes()),this.seconds=lC(r.getUTCSeconds())}}return e.\u0275fac=function(t){return new(t||e)(D(lP),D(zo),D($g),D(fa))},e.\u0275cmp=qe({type:e,selectors:[["timepicker"]],inputs:{hourStep:"hourStep",minuteStep:"minuteStep",secondsStep:"secondsStep",readonlyInput:"readonlyInput",disabled:"disabled",mousewheel:"mousewheel",arrowkeys:"arrowkeys",showSpinners:"showSpinners",showMeridian:"showMeridian",showMinutes:"showMinutes",showSeconds:"showSeconds",meridians:"meridians",min:"min",max:"max",hoursPlaceholder:"hoursPlaceholder",minutesPlaceholder:"minutesPlaceholder",secondsPlaceholder:"secondsPlaceholder"},outputs:{isValid:"isValid",meridianChange:"meridianChange"},features:[en([pX,$g]),Qr],decls:31,vars:33,consts:[[1,"text-center",3,"hidden"],["href","javascript:void(0);",1,"btn","btn-link",3,"click"],[1,"bs-chevron","bs-chevron-up"],[4,"ngIf"],[1,"form-group","mb-3"],["type","text","maxlength","2",1,"form-control","text-center","bs-timepicker-field",3,"placeholder","readonly","disabled","value","wheel","keydown.ArrowUp","keydown.ArrowDown","change"],["class","form-group mb-3",3,"has-error",4,"ngIf"],[1,"bs-chevron","bs-chevron-down"],["type","button",1,"btn","btn-default","text-center",3,"disabled","click"]],template:function(t,r){1&t&&(m(0,"table")(1,"tbody")(2,"tr",0)(3,"td")(4,"a",1),P("click",function(){return r.changeHours(r.hourStep)}),He(5,"span",2),y()(),V(6,HJ,2,0,"td",3),V(7,$J,3,2,"td",3),V(8,jJ,2,0,"td",3),V(9,UJ,3,2,"td",3),V(10,YJ,2,0,"td",3),V(11,zJ,1,0,"td",3),y(),m(12,"tr")(13,"td",4)(14,"input",5),P("wheel",function(s){return r.prevDef(s),r.changeHours(r.hourStep*r.wheelSign(s),"wheel")})("keydown.ArrowUp",function(){return r.changeHours(r.hourStep,"key")})("keydown.ArrowDown",function(){return r.changeHours(-r.hourStep,"key")})("change",function(s){return r.updateHours(s.target)}),y()(),V(15,WJ,2,0,"td",3),V(16,qJ,2,9,"td",6),V(17,GJ,2,0,"td",3),V(18,ZJ,2,9,"td",6),V(19,QJ,2,0,"td",3),V(20,KJ,3,4,"td",3),y(),m(21,"tr",0)(22,"td")(23,"a",1),P("click",function(){return r.changeHours(-r.hourStep)}),He(24,"span",7),y()(),V(25,JJ,2,0,"td",3),V(26,XJ,3,2,"td",3),V(27,eX,2,0,"td",3),V(28,tX,3,2,"td",3),V(29,nX,2,0,"td",3),V(30,rX,1,0,"td",3),y()()()),2&t&&(v(2),w("hidden",!r.showSpinners),v(2),st("disabled",!r.canIncrementHours||!r.isEditable),v(2),w("ngIf",r.showMinutes),v(1),w("ngIf",r.showMinutes),v(1),w("ngIf",r.showSeconds),v(1),w("ngIf",r.showSeconds),v(1),w("ngIf",r.showMeridian),v(1),w("ngIf",r.showMeridian),v(2),st("has-error",r.invalidHours),v(1),st("is-invalid",r.invalidHours),w("placeholder",r.hoursPlaceholder)("readonly",r.readonlyInput)("disabled",r.disabled)("value",r.hours),Kn("aria-label",r.labelHours),v(1),w("ngIf",r.showMinutes),v(1),w("ngIf",r.showMinutes),v(1),w("ngIf",r.showSeconds),v(1),w("ngIf",r.showSeconds),v(1),w("ngIf",r.showMeridian),v(1),w("ngIf",r.showMeridian),v(1),w("hidden",!r.showSpinners),v(2),st("disabled",!r.canDecrementHours||!r.isEditable),v(2),w("ngIf",r.showMinutes),v(1),w("ngIf",r.showMinutes),v(1),w("ngIf",r.showSeconds),v(1),w("ngIf",r.showSeconds),v(1),w("ngIf",r.showMeridian),v(1),w("ngIf",r.showMeridian))},dependencies:[Zt],styles:[".bs-chevron{border-style:solid;display:block;width:9px;height:9px;position:relative;border-width:3px 0px 0 3px}.bs-chevron-up{transform:rotate(45deg);top:2px}.bs-chevron-down{transform:rotate(-135deg);top:-2px}.bs-timepicker-field{width:65px;padding:.375rem .55rem}\n"],encapsulation:2,changeDetection:0}),e})(),dP=(()=>{class e{static forRoot(){return{ngModule:e,providers:[fa,$g]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Sr({type:e}),e.\u0275inj=pr({providers:[$g],imports:[qu]}),e})();class Gf{}class mX{}const ha="*";function Nc(e,n=null){return{type:4,styles:n,timings:e}}function fP(e,n=null){return{type:2,steps:e,options:n}}function bs(e){return{type:6,styles:e,offset:null}}function hP(e,n,t){return{type:0,name:e,styles:n,options:t}}function uC(e,n,t=null){return{type:1,expr:e,animation:n,options:t}}function pP(e){Promise.resolve().then(e)}class Zf{constructor(n=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){pP(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){const t="start"==n?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class mP{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let t=0,r=0,i=0;const s=this.players.length;0==s?pP(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){const t=n*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const n=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=n?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){const t="start"==n?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const cC="!",_X=new gD(mD);const bX=["*"];let dC=(()=>{class e{constructor(){this.adaptivePosition=!0,this.placement="top",this.triggers="hover focus",this.delay=0}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),wX=(()=>{class e{constructor(t){Object.assign(this,t)}get _bsVersions(){return yc()}ngAfterViewInit(){this.classMap={in:!1,fade:!1},this.placement&&(this._bsVersions.isBs5&&(this.placement=vc[this.placement]),this.classMap[this.placement]=!0),this.classMap[`tooltip-${this.placement}`]=!0,this.classMap.in=!0,this.animation&&(this.classMap.fade=!0),this.containerClass&&(this.classMap[this.containerClass]=!0)}}return e.\u0275fac=function(t){return new(t||e)(D(dC))},e.\u0275cmp=qe({type:e,selectors:[["bs-tooltip-container"]],hostAttrs:["role","tooltip"],hostVars:3,hostBindings:function(t,r){2&t&&(Kn("id",r.id),rv("show tooltip in tooltip-"+r.placement+" bs-tooltip-"+r.placement+" "+r.placement+" "+r.containerClass))},ngContentSelectors:bX,decls:3,vars:0,consts:[[1,"tooltip-arrow","arrow"],[1,"tooltip-inner"]],template:function(t,r){1&t&&(wd(),He(0,"div",0),m(1,"div",1),Fu(2),y())},styles:[".tooltip[_nghost-%COMP%]{display:block;pointer-events:none}.bs3.tooltip.top[_nghost-%COMP%] > .arrow[_ngcontent-%COMP%]{margin-left:-2px}.bs3.tooltip.bottom[_nghost-%COMP%]{margin-top:0}.bs3.bs-tooltip-left[_nghost-%COMP%], .bs3.bs-tooltip-right[_nghost-%COMP%]{margin:0}.bs3.bs-tooltip-right[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs3.bs-tooltip-left[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%]{margin:.3rem 0}"],changeDetection:0}),e})(),DX=0,gP=(()=>{class e{constructor(t,r,i,s,o,a){this._elementRef=s,this._renderer=o,this._positionService=a,this.tooltipId=DX++,this.adaptivePosition=!0,this.tooltipChange=new Me,this.placement="top",this.triggers="hover focus",this.containerClass="",this.isDisabled=!1,this.delay=0,this.tooltipAnimation=!0,this.tooltipFadeDuration=150,this.tooltipStateChanged=new Me,this._tooltip=r.createLoader(this._elementRef,t,this._renderer).provide({provide:dC,useValue:i}),Object.assign(this,i),this.onShown=this._tooltip.onShown,this.onHidden=this._tooltip.onHidden}get isOpen(){return this._tooltip.isShown}set isOpen(t){t?this.show():this.hide()}set htmlContent(t){this.tooltip=t}set _placement(t){this.placement=t}set _isOpen(t){this.isOpen=t}get _isOpen(){return this.isOpen}set _enable(t){this.isDisabled=!t}get _enable(){return this.isDisabled}set _appendToBody(t){this.container=t?"body":this.container}get _appendToBody(){return"body"===this.container}set _popupClass(t){}set _tooltipContext(t){}set _tooltipPopupDelay(t){this.delay=t}get _tooltipTrigger(){return this.triggers}set _tooltipTrigger(t){this.triggers=(t||"").toString()}ngOnInit(){this._tooltip.listen({triggers:this.triggers,show:()=>this.show()}),this.tooltipChange.subscribe(t=>{t||this._tooltip.hide()}),this.onShown.subscribe(()=>{this.setAriaDescribedBy()}),this.onHidden.subscribe(()=>{this.setAriaDescribedBy()})}setAriaDescribedBy(){this._ariaDescribedby=this.isOpen?`tooltip-${this.tooltipId}`:void 0,this._ariaDescribedby?this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ariaDescribedby):this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby")}toggle(){if(this.isOpen)return this.hide();this.show()}show(){if(this._positionService.setOptions({modifiers:{flip:{enabled:this.adaptivePosition},preventOverflow:{enabled:this.adaptivePosition,boundariesElement:this.boundariesElement||"scrollParent"}}}),this.isOpen||this.isDisabled||this._delayTimeoutId||!this.tooltip)return;const t=()=>{this._delayTimeoutId&&(this._delayTimeoutId=void 0),this._tooltip.attach(wX).to(this.container).position({attachment:this.placement}).show({content:this.tooltip,placement:this.placement,containerClass:this.containerClass,id:`tooltip-${this.tooltipId}`})},r=()=>{this._tooltipCancelShowFn&&this._tooltipCancelShowFn()};this.delay?(this._delaySubscription&&this._delaySubscription.unsubscribe(),this._delaySubscription=function vX(e=0,n,t=_X){let r=-1;return null!=n&&(Ri(n)?t=n:r=n),new We(i=>{let s=function yX(e){return e instanceof Date&&!isNaN(e)}(e)?+e-t.now():e;s<0&&(s=0);let o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(this.delay).subscribe(()=>{t(),r()}),this.triggers&&pD(this.triggers).forEach(i=>{i.close&&(this._tooltipCancelShowFn=this._renderer.listen(this._elementRef.nativeElement,i.close,()=>{this._delaySubscription?.unsubscribe(),r()}))})):t()}hide(){this._delayTimeoutId&&(clearTimeout(this._delayTimeoutId),this._delayTimeoutId=void 0),this._tooltip.isShown&&(this._tooltip.instance?.classMap&&(this._tooltip.instance.classMap.in=!1),setTimeout(()=>{this._tooltip.hide()},this.tooltipFadeDuration))}ngOnDestroy(){this._tooltip.dispose(),this.tooltipChange.unsubscribe(),this._delaySubscription&&this._delaySubscription.unsubscribe(),this.onShown.unsubscribe(),this.onHidden.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(D(Pn),D(go),D(dC),D(qt),D(En),D(sa))},e.\u0275dir=Pe({type:e,selectors:[["","tooltip",""],["","tooltipHtml",""]],inputs:{adaptivePosition:"adaptivePosition",tooltip:"tooltip",placement:"placement",triggers:"triggers",container:"container",containerClass:"containerClass",boundariesElement:"boundariesElement",isOpen:"isOpen",isDisabled:"isDisabled",delay:"delay",htmlContent:["tooltipHtml","htmlContent"],_placement:["tooltipPlacement","_placement"],_isOpen:["tooltipIsOpen","_isOpen"],_enable:["tooltipEnable","_enable"],_appendToBody:["tooltipAppendToBody","_appendToBody"],tooltipAnimation:"tooltipAnimation",_popupClass:["tooltipClass","_popupClass"],_tooltipContext:["tooltipContext","_tooltipContext"],_tooltipPopupDelay:["tooltipPopupDelay","_tooltipPopupDelay"],tooltipFadeDuration:"tooltipFadeDuration",_tooltipTrigger:["tooltipTrigger","_tooltipTrigger"]},outputs:{tooltipChange:"tooltipChange",onShown:"onShown",onHidden:"onHidden",tooltipStateChanged:"tooltipStateChanged"},exportAs:["bs-tooltip"]}),function un(e,n,t,r){var o,i=arguments.length,s=i<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,n,t,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(n,t,s):o(n,t))||s);i>3&&s&&Object.defineProperty(n,t,s)}([LZ(),W("design:type",Object)],e.prototype,"tooltip",void 0),e})(),_P=(()=>{class e{static forRoot(){return{ngModule:e,providers:[go,sa]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Sr({type:e}),e.\u0275inj=pr({imports:[qu]}),e})();function CX(e,n){if(1&e){const t=Oe();m(0,"button",2),P("click",function(){const s=$(t).$implicit;return j(C().selectFromRanges(s))}),E(1),y()}if(2&e){const t=n.$implicit,r=C();st("selected",t.value===r.selectedRange),v(1),Gt(" ",t.label," ")}}function TX(e,n){1&e&&He(0,"bs-current-date",4)}function MX(e,n){1&e&&He(0,"bs-timepicker")}const SX=[[["bs-datepicker-navigation-view"]],"*"],kX=["bs-datepicker-navigation-view","*"],EX=["bsDatepickerDayDecorator",""];function AX(e,n){if(1&e){const t=Oe();Yn(0),E(1," \u200b "),m(2,"button",2),P("click",function(){return $(t),j(C().view("month"))}),m(3,"span"),E(4),y()(),zn()}if(2&e){const t=C();v(2),w("disabled",t.isDisabled),v(2),et(t.calendar.monthTitle)}}function IX(e,n){1&e&&He(0,"th")}function OX(e,n){if(1&e&&(m(0,"th",5),E(1),y()),2&e){const t=n.index,r=C();v(1),Gt("",r.calendar.weekdays[t]," ")}}function xX(e,n){if(1&e){const t=Oe();m(0,"span",11),P("click",function(){$(t);const i=C(2).$implicit;return j(C().selectWeek(i))}),E(1),y()}if(2&e){const t=C(2).index,r=C();v(1),et(r.calendar.weekNumbers[t])}}function RX(e,n){if(1&e){const t=Oe();m(0,"span",12),P("click",function(){$(t);const i=C(2).$implicit;return j(C().selectWeek(i))})("mouseenter",function(){$(t);const i=C(2).$implicit;return j(C().weekHoverHandler(i,!0))})("mouseleave",function(){$(t);const i=C(2).$implicit;return j(C().weekHoverHandler(i,!1))}),E(1),y()}if(2&e){const t=C(2).index,r=C();v(1),et(r.calendar.weekNumbers[t])}}function LX(e,n){if(1&e&&(m(0,"td",8),V(1,xX,2,1,"span",9),V(2,RX,2,1,"span",10),y()),2&e){const t=C(2);st("active-week",t.isWeekHovered),v(1),w("ngIf",t.isiOS),v(1),w("ngIf",!t.isiOS)}}function PX(e,n){if(1&e){const t=Oe();m(0,"span",17),P("click",function(){$(t);const i=C().$implicit;return j(C(2).selectDay(i))})("mouseenter",function(){$(t);const i=C().$implicit;return j(C(2).hoverDay(i,!0))})("mouseleave",function(){$(t);const i=C().$implicit;return j(C(2).hoverDay(i,!1))}),E(1),y()}if(2&e){const t=C().$implicit;sp("tooltip",t.tooltipText),w("day",t),v(1),Gt("",t.label," 3")}}function NX(e,n){if(1&e){const t=Oe();m(0,"span",18),P("click",function(){$(t);const i=C().$implicit;return j(C(2).selectDay(i))})("mouseenter",function(){$(t);const i=C().$implicit;return j(C(2).hoverDay(i,!0))})("mouseleave",function(){$(t);const i=C().$implicit;return j(C(2).hoverDay(i,!1))}),E(1),y()}if(2&e){const t=C().$implicit;w("day",t),v(1),Gt("",t.label," 2")}}function FX(e,n){if(1&e){const t=Oe();m(0,"span",19),P("click",function(){$(t);const i=C().$implicit;return j(C(2).selectDay(i))}),E(1),y()}if(2&e){const t=C().$implicit;w("day",t),v(1),Gt("",t.label," 1")}}function VX(e,n){if(1&e&&(m(0,"td",13),V(1,PX,2,3,"span",14),V(2,NX,2,2,"span",15),V(3,FX,2,2,"span",16),y()),2&e){const t=C(2);v(1),w("ngIf",!t.isiOS&&t.isShowTooltip),v(1),w("ngIf",!t.isiOS&&!t.isShowTooltip),v(1),w("ngIf",t.isiOS)}}function BX(e,n){if(1&e&&(m(0,"tr"),V(1,LX,3,4,"td",6),V(2,VX,4,3,"td",7),y()),2&e){const t=n.$implicit,r=C();v(1),w("ngIf",r.options&&r.options.showWeekNumbers),v(1),w("ngForOf",t.days)}}function HX(e,n){if(1&e){const t=Oe();m(0,"td",4),P("click",function(){const s=$(t).$implicit;return j(C(2).viewMonth(s))})("mouseenter",function(){const s=$(t).$implicit;return j(C(2).hoverMonth(s,!0))})("mouseleave",function(){const s=$(t).$implicit;return j(C(2).hoverMonth(s,!1))}),m(1,"span"),E(2),y()()}if(2&e){const t=n.$implicit;st("disabled",t.isDisabled)("is-highlighted",t.isHovered),v(1),st("selected",t.isSelected),v(1),et(t.label)}}function $X(e,n){if(1&e&&(m(0,"tr"),V(1,HX,3,7,"td",3),y()),2&e){const t=n.$implicit;v(1),w("ngForOf",t)}}function jX(e,n){if(1&e){const t=Oe();m(0,"td",4),P("click",function(){const s=$(t).$implicit;return j(C(2).viewYear(s))})("mouseenter",function(){const s=$(t).$implicit;return j(C(2).hoverYear(s,!0))})("mouseleave",function(){const s=$(t).$implicit;return j(C(2).hoverYear(s,!1))}),m(1,"span"),E(2),y()()}if(2&e){const t=n.$implicit;st("disabled",t.isDisabled)("is-highlighted",t.isHovered),v(1),st("selected",t.isSelected),v(1),et(t.label)}}function UX(e,n){if(1&e&&(m(0,"tr"),V(1,jX,3,7,"td",3),y()),2&e){const t=n.$implicit;v(1),w("ngForOf",t)}}const yP=["startTP"];function YX(e,n){if(1&e){const t=Oe();m(0,"bs-days-calendar-view",11),P("onNavigate",function(i){return $(t),j(C(3).navigateTo(i))})("onViewMode",function(i){return $(t),j(C(3).setViewMode(i))})("onHover",function(i){return $(t),j(C(3).dayHoverHandler(i))})("onHoverWeek",function(i){return $(t),j(C(3).weekHoverHandler(i))})("onSelect",function(i){return $(t),j(C(3).daySelectHandler(i))}),Ei(1,"async"),y()}if(2&e){const t=n.$implicit,r=C(3);st("bs-datepicker-multiple",r.multipleCalendars),w("calendar",t)("isDisabled",r.isDatePickerDisabled)("options",Ai(1,5,r.options$))}}function zX(e,n){1&e&&He(0,"timepicker",13,16),2&e&&w("disabled",C(4).isDatePickerDisabled)}function WX(e,n){if(1&e&&(m(0,"div",12),He(1,"timepicker",13,14),V(3,zX,2,1,"timepicker",15),y()),2&e){const t=C(3);v(1),w("disabled",t.isDatePickerDisabled),v(2),w("ngIf",t.isRangePicker)}}function qX(e,n){if(1&e&&(Yn(0),m(1,"div",8),V(2,YX,2,7,"bs-days-calendar-view",9),Ei(3,"async"),y(),V(4,WX,4,2,"div",10),zn()),2&e){const t=C(2);v(2),w("ngForOf",Ai(3,2,t.daysCalendar$)),v(2),w("ngIf",t.withTimepicker)}}function GX(e,n){if(1&e){const t=Oe();m(0,"bs-month-calendar-view",18),P("onNavigate",function(i){return $(t),j(C(3).navigateTo(i))})("onViewMode",function(i){return $(t),j(C(3).setViewMode(i))})("onHover",function(i){return $(t),j(C(3).monthHoverHandler(i))})("onSelect",function(i){return $(t),j(C(3).monthSelectHandler(i))}),y()}if(2&e){const t=n.$implicit;st("bs-datepicker-multiple",C(3).multipleCalendars),w("calendar",t)}}function ZX(e,n){if(1&e&&(m(0,"div",8),V(1,GX,1,3,"bs-month-calendar-view",17),Ei(2,"async"),y()),2&e){const t=C(2);v(1),w("ngForOf",Ai(2,1,t.monthsCalendar))}}function QX(e,n){if(1&e){const t=Oe();m(0,"bs-years-calendar-view",18),P("onNavigate",function(i){return $(t),j(C(3).navigateTo(i))})("onViewMode",function(i){return $(t),j(C(3).setViewMode(i))})("onHover",function(i){return $(t),j(C(3).yearHoverHandler(i))})("onSelect",function(i){return $(t),j(C(3).yearSelectHandler(i))}),y()}if(2&e){const t=n.$implicit;st("bs-datepicker-multiple",C(3).multipleCalendars),w("calendar",t)}}function KX(e,n){if(1&e&&(m(0,"div",8),V(1,QX,1,3,"bs-years-calendar-view",17),Ei(2,"async"),y()),2&e){const t=C(2);v(1),w("ngForOf",Ai(2,1,t.yearsCalendar))}}function JX(e,n){1&e&&(m(0,"div",19)(1,"button",20),E(2,"Apply"),y(),m(3,"button",21),E(4,"Cancel"),y()())}function XX(e,n){if(1&e){const t=Oe();m(0,"div",24)(1,"button",25),P("click",function(){return $(t),j(C(3).setToday())}),E(2),y()()}if(2&e){const t=C(3);st("today-left","left"===t.todayPos)("today-right","right"===t.todayPos)("today-center","center"===t.todayPos),v(2),et(t.todayBtnLbl)}}function eee(e,n){if(1&e){const t=Oe();m(0,"div",26)(1,"button",25),P("click",function(){return $(t),j(C(3).clearDate())}),E(2),y()()}if(2&e){const t=C(3);st("clear-left","left"===t.clearPos)("clear-right","right"===t.clearPos)("clear-center","center"===t.clearPos),v(2),et(t.clearBtnLbl)}}function tee(e,n){if(1&e&&(m(0,"div",19),V(1,XX,3,7,"div",22),V(2,eee,3,7,"div",23),y()),2&e){const t=C(2);v(1),w("ngIf",t.showTodayBtn),v(1),w("ngIf",t.showClearBtn)}}function nee(e,n){if(1&e){const t=Oe();m(0,"div",27)(1,"bs-custom-date-view",28),P("onSelect",function(i){return $(t),j(C(2).setRangeOnCalendar(i))}),y()()}if(2&e){const t=C(2);v(1),w("selectedRange",t.chosenRange)("ranges",t.customRanges)("customRangeLabel",t.customRangeBtnLbl)}}function ree(e,n){if(1&e){const t=Oe();m(0,"div",1)(1,"div",2),P("@datepickerAnimation.done",function(){return $(t),j(C().positionServiceEnable())}),m(2,"div",3),Ei(3,"async"),V(4,qX,5,4,"ng-container",4),V(5,ZX,3,3,"div",5),V(6,KX,3,3,"div",5),y(),V(7,JX,5,0,"div",6),V(8,tee,3,2,"div",6),y(),V(9,nee,2,3,"div",7),y()}if(2&e){const t=C();w("ngClass",t.containerClass),v(1),w("@datepickerAnimation",t.animationState),v(1),w("ngSwitch",Ai(3,9,t.viewMode)),v(2),w("ngSwitchCase","day"),v(1),w("ngSwitchCase","month"),v(1),w("ngSwitchCase","year"),v(1),w("ngIf",!1),v(1),w("ngIf",t.showTodayBtn||t.showClearBtn),v(1),w("ngIf",t.customRanges&&t.customRanges.length>0)}}const _ee=["endTP"];function yee(e,n){if(1&e){const t=Oe();m(0,"bs-days-calendar-view",11),P("onNavigate",function(i){return $(t),j(C(3).navigateTo(i))})("onViewMode",function(i){return $(t),j(C(3).setViewMode(i))})("onHover",function(i){return $(t),j(C(3).dayHoverHandler(i))})("onHoverWeek",function(i){return $(t),j(C(3).weekHoverHandler(i))})("onSelect",function(i){return $(t),j(C(3).daySelectHandler(i))}),Ei(1,"async"),y()}if(2&e){const t=n.$implicit,r=C(3);st("bs-datepicker-multiple",r.multipleCalendars),w("calendar",t)("isDisabled",r.isDatePickerDisabled)("options",Ai(1,5,r.options$))}}function vee(e,n){1&e&&He(0,"timepicker",13,16),2&e&&w("disabled",C(4).isDatePickerDisabled)}function bee(e,n){if(1&e&&(m(0,"div",12),He(1,"timepicker",13,14),V(3,vee,2,1,"timepicker",15),y()),2&e){const t=C(3);v(1),w("disabled",t.isDatePickerDisabled),v(2),w("ngIf",t.isRangePicker)}}function wee(e,n){if(1&e&&(Yn(0),m(1,"div",8),V(2,yee,2,7,"bs-days-calendar-view",9),Ei(3,"async"),y(),V(4,bee,4,2,"div",10),zn()),2&e){const t=C(2);v(2),w("ngForOf",Ai(3,2,t.daysCalendar$)),v(2),w("ngIf",t.withTimepicker)}}function Dee(e,n){if(1&e){const t=Oe();m(0,"bs-month-calendar-view",18),P("onNavigate",function(i){return $(t),j(C(3).navigateTo(i))})("onViewMode",function(i){return $(t),j(C(3).setViewMode(i))})("onHover",function(i){return $(t),j(C(3).monthHoverHandler(i))})("onSelect",function(i){return $(t),j(C(3).monthSelectHandler(i))}),y()}if(2&e){const t=n.$implicit;st("bs-datepicker-multiple",C(3).multipleCalendars),w("calendar",t)}}function Cee(e,n){if(1&e&&(m(0,"div",8),V(1,Dee,1,3,"bs-month-calendar-view",17),Ei(2,"async"),y()),2&e){const t=C(2);v(1),w("ngForOf",Ai(2,1,t.monthsCalendar))}}function Tee(e,n){if(1&e){const t=Oe();m(0,"bs-years-calendar-view",18),P("onNavigate",function(i){return $(t),j(C(3).navigateTo(i))})("onViewMode",function(i){return $(t),j(C(3).setViewMode(i))})("onHover",function(i){return $(t),j(C(3).yearHoverHandler(i))})("onSelect",function(i){return $(t),j(C(3).yearSelectHandler(i))}),y()}if(2&e){const t=n.$implicit;st("bs-datepicker-multiple",C(3).multipleCalendars),w("calendar",t)}}function Mee(e,n){if(1&e&&(m(0,"div",8),V(1,Tee,1,3,"bs-years-calendar-view",17),Ei(2,"async"),y()),2&e){const t=C(2);v(1),w("ngForOf",Ai(2,1,t.yearsCalendar))}}function See(e,n){1&e&&(m(0,"div",19)(1,"button",20),E(2,"Apply"),y(),m(3,"button",21),E(4,"Cancel"),y()())}function kee(e,n){if(1&e){const t=Oe();m(0,"div",24)(1,"button",25),P("click",function(){return $(t),j(C(3).setToday())}),E(2),y()()}if(2&e){const t=C(3);st("today-left","left"===t.todayPos)("today-right","right"===t.todayPos)("today-center","center"===t.todayPos),v(2),et(t.todayBtnLbl)}}function Eee(e,n){if(1&e){const t=Oe();m(0,"div",26)(1,"button",25),P("click",function(){return $(t),j(C(3).clearDate())}),E(2),y()()}if(2&e){const t=C(3);st("clear-left","left"===t.clearPos)("clear-right","right"===t.clearPos)("clear-center","center"===t.clearPos),v(2),et(t.clearBtnLbl)}}function Aee(e,n){if(1&e&&(m(0,"div",19),V(1,kee,3,7,"div",22),V(2,Eee,3,7,"div",23),y()),2&e){const t=C(2);v(1),w("ngIf",t.showTodayBtn),v(1),w("ngIf",t.showClearBtn)}}function Iee(e,n){if(1&e){const t=Oe();m(0,"div",27)(1,"bs-custom-date-view",28),P("onSelect",function(i){return $(t),j(C(2).setRangeOnCalendar(i))}),y()()}if(2&e){const t=C(2);v(1),w("selectedRange",t.chosenRange)("ranges",t.customRanges)("customRangeLabel",t.customRangeBtnLbl)}}function Oee(e,n){if(1&e){const t=Oe();m(0,"div",1)(1,"div",2),P("@datepickerAnimation.done",function(){return $(t),j(C().positionServiceEnable())}),m(2,"div",3),Ei(3,"async"),V(4,wee,5,4,"ng-container",4),V(5,Cee,3,3,"div",5),V(6,Mee,3,3,"div",5),y(),V(7,See,5,0,"div",6),V(8,Aee,3,2,"div",6),y(),V(9,Iee,2,3,"div",7),y()}if(2&e){const t=C();w("ngClass",t.containerClass),v(1),w("@datepickerAnimation",t.animationState),v(1),w("ngSwitch",Ai(3,9,t.viewMode)),v(2),w("ngSwitchCase","day"),v(1),w("ngSwitchCase","month"),v(1),w("ngSwitchCase","year"),v(1),w("ngIf",!1),v(1),w("ngIf",t.showTodayBtn||t.showClearBtn),v(1),w("ngIf",t.customRanges&&t.customRanges.length>0)}}let pa=(()=>{class e{constructor(){this.adaptivePosition=!1,this.useUtc=!1,this.isAnimated=!1,this.startView="day",this.returnFocusToInput=!1,this.containerClass="theme-green",this.displayMonths=1,this.showWeekNumbers=!0,this.dateInputFormat="L",this.rangeSeparator=" - ",this.rangeInputFormat="L",this.monthTitle="MMMM",this.yearTitle="YYYY",this.dayLabel="D",this.monthLabel="MMMM",this.yearLabel="YYYY",this.weekNumbers="w",this.showTodayButton=!1,this.showClearButton=!1,this.todayPosition="center",this.clearPosition="right",this.todayButtonLabel="Today",this.clearButtonLabel="Clear",this.customRangeButtonLabel="Custom Range",this.withTimepicker=!1,this.allowedPositions=["top","bottom"],this.keepDatepickerOpened=!1}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const vP="220ms cubic-bezier(0, 0, 0.2, 1)",bP=function gX(e,n){return{type:7,name:e,definitions:n,options:{}}}("datepickerAnimation",[hP("animated-down",bs({height:"*",overflow:"hidden"})),uC("* => animated-down",[bs({height:0,overflow:"hidden"}),Nc(vP)]),hP("animated-up",bs({height:"*",overflow:"hidden"})),uC("* => animated-up",[bs({height:"*",overflow:"hidden"}),Nc(vP)]),uC("* => unanimated",Nc("0s"))]);class wP{constructor(){this.containerClass="",this.customRanges=[],this.chosenRange=[],this._daysCalendarSub=new de,this.selectedTimeSub=new de}set minDate(n){this._effects?.setMinDate(n)}set maxDate(n){this._effects?.setMaxDate(n)}set daysDisabled(n){this._effects?.setDaysDisabled(n)}set datesDisabled(n){this._effects?.setDatesDisabled(n)}set datesEnabled(n){this._effects?.setDatesEnabled(n)}set isDisabled(n){this._effects?.setDisabled(n)}set dateCustomClasses(n){this._effects?.setDateCustomClasses(n)}set dateTooltipTexts(n){this._effects?.setDateTooltipTexts(n)}set daysCalendar$(n){this._daysCalendar$=n,this._daysCalendarSub.unsubscribe(),this._daysCalendarSub.add(this._daysCalendar$.subscribe(t=>{this.multipleCalendars=!!t&&t.length>1}))}get daysCalendar$(){return this._daysCalendar$}setViewMode(n){}navigateTo(n){}dayHoverHandler(n){}weekHoverHandler(n){}monthHoverHandler(n){}yearHoverHandler(n){}timeSelectHandler(n,t){}daySelectHandler(n){}monthSelectHandler(n){}yearSelectHandler(n){}setRangeOnCalendar(n){}setToday(){}clearDate(){}_stopPropagation(n){n.stopPropagation()}}let ur=(()=>{class e{calculate(){return{type:e.CALCULATE}}format(){return{type:e.FORMAT}}flag(){return{type:e.FLAG}}select(t){return{type:e.SELECT,payload:t}}selectTime(t,r){return{type:e.SELECT_TIME,payload:{date:t,index:r}}}changeViewMode(t){return{type:e.CHANGE_VIEWMODE,payload:t}}navigateTo(t){return{type:e.NAVIGATE_TO,payload:t}}navigateStep(t){return{type:e.NAVIGATE_OFFSET,payload:t}}setOptions(t){return{type:e.SET_OPTIONS,payload:t}}selectRange(t){return{type:e.SELECT_RANGE,payload:t}}hoverDay(t){return{type:e.HOVER,payload:t.isHovered?t.cell.date:null}}minDate(t){return{type:e.SET_MIN_DATE,payload:t}}maxDate(t){return{type:e.SET_MAX_DATE,payload:t}}daysDisabled(t){return{type:e.SET_DAYSDISABLED,payload:t}}datesDisabled(t){return{type:e.SET_DATESDISABLED,payload:t}}datesEnabled(t){return{type:e.SET_DATESENABLED,payload:t}}isDisabled(t){return{type:e.SET_IS_DISABLED,payload:t}}setDateCustomClasses(t){return{type:e.SET_DATE_CUSTOM_CLASSES,payload:t}}setDateTooltipTexts(t){return{type:e.SET_DATE_TOOLTIP_TEXTS,payload:t}}setLocale(t){return{type:e.SET_LOCALE,payload:t}}}return e.CALCULATE="[datepicker] calculate dates matrix",e.FORMAT="[datepicker] format datepicker values",e.FLAG="[datepicker] set flags",e.SELECT="[datepicker] select date",e.NAVIGATE_OFFSET="[datepicker] shift view date",e.NAVIGATE_TO="[datepicker] change view date",e.SET_OPTIONS="[datepicker] update render options",e.HOVER="[datepicker] hover date",e.CHANGE_VIEWMODE="[datepicker] switch view mode",e.SET_MIN_DATE="[datepicker] set min date",e.SET_MAX_DATE="[datepicker] set max date",e.SET_DAYSDISABLED="[datepicker] set days disabled",e.SET_DATESDISABLED="[datepicker] set dates disabled",e.SET_DATESENABLED="[datepicker] set dates enabled",e.SET_IS_DISABLED="[datepicker] set is disabled",e.SET_DATE_CUSTOM_CLASSES="[datepicker] set date custom classes",e.SET_DATE_TOOLTIP_TEXTS="[datepicker] set date tooltip texts",e.SET_LOCALE="[datepicker] set datepicker locale",e.SELECT_TIME="[datepicker] select time",e.SELECT_RANGE="[daterangepicker] select dates range",e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})(),Ug=(()=>{class e{constructor(){this._defaultLocale="en",this._locale=new Er(this._defaultLocale),this._localeChange=this._locale.asObservable()}get locale(){return this._locale}get localeChange(){return this._localeChange}get currentLocale(){return this._locale.getValue()}use(t){t!==this.currentLocale&&this._locale.next(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})(),Qf=(()=>{class e{constructor(t,r){this._actions=t,this._localeService=r,this._subs=[]}init(t){return this._store=t,this}setValue(t){this._store?.dispatch(this._actions.select(t))}setRangeValue(t){this._store?.dispatch(this._actions.selectRange(t))}setMinDate(t){return this._store?.dispatch(this._actions.minDate(t)),this}setMaxDate(t){return this._store?.dispatch(this._actions.maxDate(t)),this}setDaysDisabled(t){return this._store?.dispatch(this._actions.daysDisabled(t)),this}setDatesDisabled(t){return this._store?.dispatch(this._actions.datesDisabled(t)),this}setDatesEnabled(t){return this._store?.dispatch(this._actions.datesEnabled(t)),this}setDisabled(t){return this._store?.dispatch(this._actions.isDisabled(t)),this}setDateCustomClasses(t){return this._store?.dispatch(this._actions.setDateCustomClasses(t)),this}setDateTooltipTexts(t){return this._store?.dispatch(this._actions.setDateTooltipTexts(t)),this}setOptions(t){const r=Object.assign({locale:this._localeService.currentLocale},t);return this._store?.dispatch(this._actions.setOptions(r)),this}setBindings(t){return this._store?(t.selectedTime=this._store.select(r=>r.selectedTime).pipe(An(r=>!!r)),t.daysCalendar$=this._store.select(r=>r.flaggedMonths).pipe(An(r=>!!r)),t.monthsCalendar=this._store.select(r=>r.flaggedMonthsCalendar).pipe(An(r=>!!r)),t.yearsCalendar=this._store.select(r=>r.yearsCalendarFlagged).pipe(An(r=>!!r)),t.viewMode=this._store.select(r=>r.view?.mode),t.options$=Rb([this._store.select(r=>r.showWeekNumbers),this._store.select(r=>r.displayMonths)]).pipe(Ae(r=>({showWeekNumbers:r[0],displayMonths:r[1]}))),this):this}setEventHandlers(t){return t.setViewMode=r=>{this._store?.dispatch(this._actions.changeViewMode(r))},t.navigateTo=r=>{this._store?.dispatch(this._actions.navigateStep(r.step))},t.dayHoverHandler=r=>{const i=r.cell;i.isOtherMonth||i.isDisabled||(this._store?.dispatch(this._actions.hoverDay(r)),i.isHovered=r.isHovered)},t.monthHoverHandler=r=>{r.cell.isHovered=r.isHovered},t.yearHoverHandler=r=>{r.cell.isHovered=r.isHovered},this}registerDatepickerSideEffects(){return this._store?(this._subs.push(this._store.select(t=>t.view).subscribe(()=>{this._store?.dispatch(this._actions.calculate())})),this._subs.push(this._store.select(t=>t.monthsModel).pipe(An(t=>!!t)).subscribe(()=>this._store?.dispatch(this._actions.format()))),this._subs.push(this._store.select(t=>t.formattedMonths).pipe(An(t=>!!t)).subscribe(()=>this._store?.dispatch(this._actions.flag()))),this._subs.push(this._store.select(t=>t.selectedDate).pipe(An(t=>!!t)).subscribe(()=>this._store?.dispatch(this._actions.flag()))),this._subs.push(this._store.select(t=>t.selectedRange).pipe(An(t=>!!t)).subscribe(()=>this._store?.dispatch(this._actions.flag()))),this._subs.push(this._store.select(t=>t.monthsCalendar).subscribe(()=>this._store?.dispatch(this._actions.flag()))),this._subs.push(this._store.select(t=>t.yearsCalendarModel).pipe(An(t=>!!t)).subscribe(()=>this._store?.dispatch(this._actions.flag()))),this._subs.push(this._store.select(t=>t.hoveredDate).pipe(An(t=>!!t)).subscribe(()=>this._store?.dispatch(this._actions.flag()))),this._subs.push(this._store.select(t=>t.dateCustomClasses).pipe(An(t=>!!t)).subscribe(()=>this._store?.dispatch(this._actions.flag()))),this._subs.push(this._store.select(t=>t.dateTooltipTexts).pipe(An(t=>!!t)).subscribe(()=>this._store?.dispatch(this._actions.flag()))),this._subs.push(this._localeService.localeChange.subscribe(t=>this._store?.dispatch(this._actions.setLocale(t)))),this):this}destroy(){for(const t of this._subs)t.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(J(ur),J(Ug))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const qee={date:new Date,mode:"day"},DP=Object.assign(new pa,{locale:"en",view:qee,selectedRange:[],selectedTime:[],monthViewOptions:{width:7,height:6}});function fC(e,n,t){const r=n&&wo(Og(e,"month"),n,"day"),i=t&&js(da(e,"month"),t,"day");return r||i||!1}function Kf(e,n,t){const r=n&&wo(Og(e,"year"),n,"day"),i=t&&js(da(e,"year"),t,"day");return r||i||!1}function hC(e,n,t){return!!(n&&xn(n)&&n.length)&&(t&&"year"===t&&!n[0].getDate()?n.some(r=>Ac(e,r,"year")):n.some(r=>Ac(e,r,"date")))}function pC(e,n,t){return!!(n&&xn(n)&&n.length)&&!n.some(r=>Ac(e,r,t||"date"))}function CP(e,n=0){const t=e&&e.yearsCalendarModel&&e.yearsCalendarModel[n];return t?.years[0]&&t.years[0][0]&&t.years[0][0].date}function Qee(e,n){return!e||!n||!e.length&&!e[0].value||e.forEach(t=>(!t||!t.value||t.value instanceof Date||!(t.value instanceof Array&&t.value.length)||(t.value=MP(t.value,n)),e)),e}function TP(e,n){return!e||!n||e instanceof Array&&!e.length||e instanceof Date?e:MP(e,n)}function MP(e,n){return e instanceof Array?e.map(r=>r&&(js(r,n,"date")&&(r=n),r)):e}function SP(e){return e&&EP(e)}function kP(e){return e?.length&&e.map(n=>n&&EP(n)),e}function EP(e){const n=new Date;return e.setMilliseconds(n.getMilliseconds()),e.setSeconds(n.getSeconds()),e.setMinutes(n.getMinutes()),e.setHours(n.getHours()),e}function mC(e,n){let t=e.initialDate;const r=new Array(e.height);for(let i=0;i<e.height;i++){r[i]=new Array(e.width);for(let s=0;s<e.width;s++)r[i][s]=n(t),t=Ir(t,e.shift)}return r}function gC(e,n){const t=function RQ(e){return Cg(e.getFullYear(),e.getMonth(),1,e.getHours(),e.getMinutes(),e.getSeconds())}(e),r=function Gee(e,n){if(function PQ(e,n){return e.getDay()===Number(n)}(e,n.firstDayOfWeek))return e;const r=function Zee(e,n){const t=Number(n);if(isNaN(t))return 0;if(0===t)return e;const r=e-t%7;return r<0?r+7:r}(vo(e),n.firstDayOfWeek);return Ir(e,{day:-r})}(t,n);return{daysMatrix:mC({width:n.width||0,height:n.height||0,initialDate:r,shift:{day:1}},o=>o),month:t}}function Jee(e,n,t){return e.map(r=>r[0]?ds(r[0],n,t):"")}function Xee(e){const n=Tr(e),t=n.weekdaysShort(),r=n.firstDayOfWeek();return[...t.slice(r),...t.slice(0,r)]}function AP(e,n){return!n||e>=n}const nte=4,rte=3,ite={month:1};function IP(e,n){const t=da(e,"year");return{months:mC({width:rte,height:nte,initialDate:t,shift:ite},s=>({date:s,label:ds(s,n.monthLabel,n.locale)})),monthTitle:"",yearTitle:ds(e,n.yearTitle,n.locale),hideRightArrow:!1,hideLeftArrow:!1,disableRightArrow:!1,disableLeftArrow:!1}}const _C=4,yC=4,Yg=_C*yC,OP=-1*(Math.floor(Yg/2)-1),ote={year:1};function xP(e,n,t){const r=function ate(e,n){return n&&e.getFullYear()>=n.getFullYear()&&e.getFullYear()<n.getFullYear()+Yg?n:Ir(e,{year:OP})}(e,t),s=mC({width:yC,height:_C,initialDate:r,shift:ote},a=>({date:a,label:ds(a,n.yearLabel,n.locale)})),o=function lte(e,n){return`${ds(e[0][0].date,n.yearTitle,n.locale)} - ${ds(e[_C-1][yC-1].date,n.yearTitle,n.locale)}`}(s,n);return{years:s,monthTitle:"",yearTitle:o,hideLeftArrow:!1,hideRightArrow:!1,disableLeftArrow:!1,disableRightArrow:!1}}function vC(e,n){!e||!isNaN(e.getTime())||(e.setHours(n.getHours()),e.setMinutes(n.getMinutes()),e.setSeconds(n.getSeconds()),e.setMilliseconds(n.getMilliseconds()))}function RP(e=DP,n){switch(n.type){case ur.CALCULATE:return function cte(e){if(!e.view)return e;let n;n=e.displayOneMonthRange&&LP(e.view.date,e.minDate,e.maxDate)?1:e.displayMonths||1;let t=e.view.date;if("day"===e.view.mode&&e.monthViewOptions){e.showPreviousMonth&&e.selectedRange&&0===e.selectedRange.length&&(t=Ir(t,{month:-1})),e.monthViewOptions.firstDayOfWeek=Tr(e.locale).firstDayOfWeek();let r=new Array(n);for(let i=0;i<n;i++)r[i]=gC(t,e.monthViewOptions),t=Ir(t,{month:1});if(e.preventChangeToNextMonth&&e.flaggedMonths&&e.hoveredDate){const i=gC(e.view.date,e.monthViewOptions);e.flaggedMonths.length&&e.flaggedMonths[1].month.getMonth()===i.month.getMonth()&&(r=e.flaggedMonths.map(s=>e.monthViewOptions?gC(s.month,e.monthViewOptions):null).filter(s=>null!==s))}return Object.assign({},e,{monthsModel:r})}if("month"===e.view.mode){const r=new Array(n);for(let i=0;i<n;i++)r[i]=IP(t,Jf(e)),t=Ir(t,{year:1});return Object.assign({},e,{monthsCalendar:r})}if("year"===e.view.mode){const r=new Array(n);for(let i=0;i<n;i++)r[i]=xP(t,Jf(e),"year"===e.minMode?CP(e,i):void 0),t=Ir(t,{year:Yg});return Object.assign({},e,{yearsCalendarModel:r})}return e}(e);case ur.FORMAT:return function dte(e){if(!e.view)return e;if("day"===e.view.mode&&e.monthsModel){const r=e.monthsModel.map((i,s)=>function Kee(e,n,t){return{month:e.month,monthTitle:ds(e.month,n.monthTitle,n.locale),yearTitle:ds(e.month,n.yearTitle,n.locale),weekNumbers:Jee(e.daysMatrix,n.weekNumbers,n.locale),weekdays:Xee(n.locale),weeks:e.daysMatrix.map((r,i)=>({days:r.map((s,o)=>({date:s,label:ds(s,n.dayLabel,n.locale),monthIndex:t,weekIndex:i,dayIndex:o}))})),hideLeftArrow:!1,hideRightArrow:!1,disableLeftArrow:!1,disableRightArrow:!1}}(i,Jf(e),s));return Object.assign({},e,{formattedMonths:r})}const n=e.displayMonths||1;let t=e.view.date;if("month"===e.view.mode){const r=new Array(n);for(let i=0;i<n;i++)r[i]=IP(t,Jf(e)),t=Ir(t,{year:1});return Object.assign({},e,{monthsCalendar:r})}if("year"===e.view.mode){const r=new Array(n);for(let i=0;i<n;i++)r[i]=xP(t,Jf(e)),t=Ir(t,{year:16});return Object.assign({},e,{yearsCalendarModel:r})}return e}(e);case ur.FLAG:return function fte(e){if(!e.view)return e;const n=LP(e.view.date,e.minDate,e.maxDate)?1:e.displayMonths;if(e.formattedMonths&&"day"===e.view.mode){const t=e.formattedMonths.map((r,i)=>function ete(e,n){return e.weeks.forEach(t=>{t.days.forEach((r,i)=>{const s=!Tc(r.date,e.month),o=!s&&Ya(r.date,n.hoveredDate),a=!s&&n.selectedRange&&Ya(r.date,n.selectedRange[0]),l=!s&&n.selectedRange&&Ya(r.date,n.selectedRange[1]),u=!s&&Ya(r.date,n.selectedDate)||a||l,c=!s&&n.selectedRange&&function tte(e,n,t){return!!(e&&n&&n[0])&&(n[1]?e>n[0]&&e<=n[1]:!!t&&e>n[0]&&e<=t)}(r.date,n.selectedRange,n.hoveredDate),d=n.isDisabled||wo(r.date,n.minDate,"day")||js(r.date,n.maxDate,"day")||function rJ(e,n){return!(typeof n>"u"||!n||!n.length)&&n.some(t=>t===e.getDay())}(r.date,n.daysDisabled)||hC(r.date,n.datesDisabled)||pC(r.date,n.datesEnabled),h=!s&&Ya(r.date,new Date),p=n.dateCustomClasses&&n.dateCustomClasses.map(O=>Ya(r.date,O.date)?O.classes:[]).reduce((O,Y)=>O.concat(Y),[]).join(" ")||"",g=n.dateTooltipTexts&&n.dateTooltipTexts.map(O=>Ya(r.date,O.date)?O.tooltipText:"").reduce((O,Y)=>(O.push(Y),O),[]).join(" ")||"",M=Object.assign({},r,{isOtherMonth:s,isHovered:o,isSelected:u,isSelectionStart:a,isSelectionEnd:l,isInRange:c,isDisabled:d,isToday:h,customClasses:p,tooltipText:g});(r.isOtherMonth!==M.isOtherMonth||r.isHovered!==M.isHovered||r.isSelected!==M.isSelected||r.isSelectionStart!==M.isSelectionStart||r.isSelectionEnd!==M.isSelectionEnd||r.isDisabled!==M.isDisabled||r.isInRange!==M.isInRange||r.customClasses!==M.customClasses||r.tooltipText!==M.tooltipText)&&(t.days[i]=M)})}),e.hideLeftArrow=n.isDisabled||!!n.monthIndex&&n.monthIndex>0&&n.monthIndex!==n.displayMonths,e.hideRightArrow=n.isDisabled||(!!n.monthIndex||0===n.monthIndex)&&!!n.displayMonths&&n.monthIndex<n.displayMonths&&n.monthIndex+1!==n.displayMonths,e.disableLeftArrow=fC(Ir(e.month,{month:-1}),n.minDate,n.maxDate),e.disableRightArrow=fC(Ir(e.month,{month:1}),n.minDate,n.maxDate),e}(r,{isDisabled:e.isDisabled,minDate:e.minDate,maxDate:e.maxDate,daysDisabled:e.daysDisabled,datesDisabled:e.datesDisabled,datesEnabled:e.datesEnabled,hoveredDate:e.hoveredDate,selectedDate:e.selectedDate,selectedRange:e.selectedRange,displayMonths:n,dateCustomClasses:e.dateCustomClasses,dateTooltipTexts:e.dateTooltipTexts,monthIndex:i}));return Object.assign({},e,{flaggedMonths:t})}if("month"===e.view.mode&&e.monthsCalendar){const t=e.monthsCalendar.map((r,i)=>function ste(e,n){return e.months.forEach((t,r)=>{t.forEach((i,s)=>{let o;const a=Tc(i.date,n.hoveredMonth),l=n.isDisabled||hC(i.date,n.datesDisabled)||pC(i.date,n.datesEnabled,"month")||fC(i.date,n.minDate,n.maxDate);!n.selectedDate&&n.selectedRange?(o=Tc(i.date,n.selectedRange[0]),o||(o=Tc(i.date,n.selectedRange[1]))):o=Tc(i.date,n.selectedDate);const u=Object.assign(i,{isHovered:a,isDisabled:l,isSelected:o});(i.isHovered!==u.isHovered||i.isDisabled!==u.isDisabled||i.isSelected!==u.isSelected)&&(e.months[r][s]=u)})}),e.hideLeftArrow=!!n.monthIndex&&n.monthIndex>0&&n.monthIndex!==n.displayMonths,e.hideRightArrow=(!!n.monthIndex||0===n.monthIndex)&&(!!n.displayMonths||0===n.displayMonths)&&n.monthIndex<n.displayMonths&&n.monthIndex+1!==n.displayMonths,e.disableLeftArrow=Kf(Ir(e.months[0][0].date,{year:-1}),n.minDate,n.maxDate),e.disableRightArrow=Kf(Ir(e.months[0][0].date,{year:1}),n.minDate,n.maxDate),e}(r,{isDisabled:e.isDisabled,minDate:e.minDate,maxDate:e.maxDate,hoveredMonth:e.hoveredMonth,selectedDate:e.selectedDate,datesDisabled:e.datesDisabled,datesEnabled:e.datesEnabled,selectedRange:e.selectedRange,displayMonths:n,monthIndex:i}));return Object.assign({},e,{flaggedMonthsCalendar:t})}if("year"===e.view.mode&&e.yearsCalendarModel){const t=e.yearsCalendarModel.map((r,i)=>function ute(e,n){e.years.forEach((i,s)=>{i.forEach((o,a)=>{let l;const u=Mc(o.date,n.hoveredYear),c=n.isDisabled||hC(o.date,n.datesDisabled,"year")||pC(o.date,n.datesEnabled,"year")||Kf(o.date,n.minDate,n.maxDate);!n.selectedDate&&n.selectedRange?(l=Mc(o.date,n.selectedRange[0]),l||(l=Mc(o.date,n.selectedRange[1]))):l=Mc(o.date,n.selectedDate);const d=Object.assign(o,{isHovered:u,isDisabled:c,isSelected:l});(o.isHovered!==d.isHovered||o.isDisabled!==d.isDisabled||o.isSelected!==d.isSelected)&&(e.years[s][a]=d)})}),e.hideLeftArrow=!!n.yearIndex&&n.yearIndex>0&&n.yearIndex!==n.displayMonths,e.hideRightArrow=!!n.yearIndex&&!!n.displayMonths&&n.yearIndex<n.displayMonths&&n.yearIndex+1!==n.displayMonths,e.disableLeftArrow=Kf(Ir(e.years[0][0].date,{year:-1}),n.minDate,n.maxDate);const t=e.years.length-1;return e.disableRightArrow=Kf(Ir(e.years[t][e.years[t].length-1].date,{year:1}),n.minDate,n.maxDate),e}(r,{isDisabled:e.isDisabled,minDate:e.minDate,maxDate:e.maxDate,hoveredYear:e.hoveredYear,selectedDate:e.selectedDate,datesDisabled:e.datesDisabled,datesEnabled:e.datesEnabled,selectedRange:e.selectedRange,displayMonths:n,yearIndex:i}));return Object.assign({},e,{yearsCalendarFlagged:t})}return e}(e);case ur.NAVIGATE_OFFSET:return function hte(e,n){if(!e.view)return e;const t=function pte(e,n){if(e.view){if("year"===e.view.mode&&"year"===e.minMode){const t=CP(e,0);if(t){const r=Ir(t,{year:-OP});return Ir(r,n.payload)}}return Ir(da(e.view.date,"month"),n.payload)}}(e,n);if(!t)return e;return Object.assign({},e,{view:{mode:e.view.mode,date:t}})}(e,n);case ur.NAVIGATE_TO:{const t=n.payload;if(!e.view||!t.unit)return e;const r=function GQ(e,n){return Cg(Sc(e.getFullYear(),n.year),Sc(e.getMonth(),n.month),1,Sc(e.getHours(),n.hour),Sc(e.getMinutes(),n.minute),Sc(e.getSeconds(),n.seconds),Sc(e.getMilliseconds(),n.milliseconds))}(e.view.date,t.unit);let i,s;return AP(t.viewMode,e.minMode)?(s=t.viewMode,i={view:{date:r,mode:s}}):(s=e.view.mode,i={selectedDate:r,view:{date:r,mode:s}}),Object.assign({},e,i)}case ur.CHANGE_VIEWMODE:return AP(n.payload,e.minMode)&&e.view?Object.assign({},e,{view:{date:e.view.date,mode:n.payload}}):e;case ur.HOVER:return Object.assign({},e,{hoveredDate:n.payload});case ur.SELECT:{if(!e.view)return e;const t={selectedDate:n.payload,view:e.view};if(Array.isArray(e.selectedTime)){const o=e.selectedTime[0];t.selectedDate&&o&&vC(t.selectedDate,o)}const r=e.view.mode,s=bC(n.payload||e.view.date,e.minDate,e.maxDate);return t.view={mode:r,date:s},Object.assign({},e,t)}case ur.SELECT_TIME:{const{date:t,index:r}=n.payload,i=e.selectedTime?[...e.selectedTime]:[];return i[r]=t,Object.assign({},e,{selectedTime:i})}case ur.SET_OPTIONS:{if(!e.view)return e;const t=n.payload,r=t.minMode?t.minMode:e.view.mode,s=bC(Ua(t.value)&&t.value||xn(t.value)&&Ua(t.value[0])&&t.value[0]||e.view.date,t.minDate,t.maxDate);return t.view={mode:r,date:s},t.value&&(xn(t.value)&&(t.selectedRange=t.value,t.selectedTime=t.value.map(o=>o)),t.value instanceof Date&&(t.selectedDate=t.value,t.selectedTime=[t.value])),Object.assign({},e,t)}case ur.SELECT_RANGE:{if(!e.view)return e;const t={selectedRange:n.payload,view:e.view};t.selectedRange?.forEach((o,a)=>{if(Array.isArray(e.selectedTime)){const l=e.selectedTime[a];l&&vC(o,l)}});const r=e.view.mode,s=bC(n.payload&&n.payload[0]||e.view.date,e.minDate,e.maxDate);return t.view={mode:r,date:s},Object.assign({},e,t)}case ur.SET_MIN_DATE:return Object.assign({},e,{minDate:n.payload});case ur.SET_MAX_DATE:return Object.assign({},e,{maxDate:n.payload});case ur.SET_IS_DISABLED:return Object.assign({},e,{isDisabled:n.payload});case ur.SET_DATE_CUSTOM_CLASSES:return Object.assign({},e,{dateCustomClasses:n.payload});case ur.SET_DATE_TOOLTIP_TEXTS:return Object.assign({},e,{dateTooltipTexts:n.payload});default:return e}}function Jf(e){return{locale:e.locale,monthTitle:e.monthTitle,yearTitle:e.yearTitle,dayLabel:e.dayLabel,monthLabel:e.monthLabel,yearLabel:e.yearLabel,weekNumbers:e.weekNumbers}}function bC(e,n,t){const r=Array.isArray(e)?e[0]:e;return n&&js(n,r,"day")?n:t&&wo(t,r,"day")?t:r}function LP(e,n,t){return!(!t||!Ac(t,e,"day"))||n&&t&&n.getMonth()===t.getMonth()}let Xf=(()=>{class e extends Vg{constructor(){const t=new Er({type:"[datepicker] dispatcher init"});super(t,RP,new QL(DP,t,RP))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})(),PP=(()=>{class e{constructor(){this.onSelect=new Me}selectFromRanges(t){this.onSelect.emit(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=qe({type:e,selectors:[["bs-custom-date-view"]],inputs:{ranges:"ranges",selectedRange:"selectedRange",customRangeLabel:"customRangeLabel"},outputs:{onSelect:"onSelect"},decls:2,vars:1,consts:[[1,"bs-datepicker-predefined-btns"],["type","button","class","btn",3,"selected","click",4,"ngFor","ngForOf"],["type","button",1,"btn",3,"click"]],template:function(t,r){1&t&&(m(0,"div",0),V(1,CX,2,3,"button",1),y()),2&t&&(v(1),w("ngForOf",r.ranges))},dependencies:[Br],encapsulation:2,changeDetection:0}),e})();var Ga=(()=>(function(e){e[e.UP=0]="UP",e[e.DOWN=1]="DOWN"}(Ga||(Ga={})),Ga))();let Fc,mte=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=qe({type:e,selectors:[["bs-current-date"]],inputs:{title:"title"},decls:3,vars:1,consts:[[1,"current-timedate"]],template:function(t,r){1&t&&(m(0,"div",0)(1,"span"),E(2),y()()),2&t&&(v(2),et(r.title))},encapsulation:2}),e})(),gte=(()=>{class e{constructor(){this.ampm="ok",this.hours=0,this.minutes=0}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=qe({type:e,selectors:[["bs-timepicker"]],decls:16,vars:3,consts:[[1,"bs-timepicker-container"],[1,"bs-timepicker-controls"],["type","button",1,"bs-decrease"],["type","text","placeholder","00",3,"value"],["type","button",1,"bs-increase"],["type","button",1,"switch-time-format"],["src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAKCAYAAABi8KSDAAABSElEQVQYV3XQPUvDUBQG4HNuagtVqc6KgouCv6GIuIntYBLB9hcIQpLStCAIV7DYmpTcRWcXqZio3Vwc/UCc/QEqfgyKGbr0I7nS1EiHeqYzPO/h5SD0jaxUZjmSLCB+OFb+UFINFwASAEAdpu9gaGXVyAHHFQBkHpKHc6a9dzECvADyY9sqlAMsK9W0jzxDXqeytr3mhQckxSji27TJJ5/rPmIpwJJq3HrtduriYOurv1a4i1p5HnhkG9OFymi0ReoO05cGwb+ayv4dysVygjeFmsP05f8wpZQ8fsdvfmuY9zjWSNqUtgYFVnOVReILYoBFzdQI5/GGFzNHhGbeZnopDGU29sZbscgldmC99w35VOATTycIMMcBXIfpSVGzZhA6C8hh00conln6VQ9TGgV32OEAKQC4DrBq7CJwd0ggR7Vq/rPrfgB+C3sGypY5DAAAAABJRU5ErkJggg==","alt",""]],template:function(t,r){1&t&&(m(0,"div",0)(1,"div",1)(2,"button",2),E(3,"-"),y(),He(4,"input",3),m(5,"button",4),E(6,"+"),y()(),m(7,"div",1)(8,"button",2),E(9,"-"),y(),He(10,"input",3),m(11,"button",4),E(12,"+"),y()(),m(13,"button",5),E(14),He(15,"img",6),y()()),2&t&&(v(4),w("value",r.hours),v(6),w("value",r.minutes),v(4),Gt("",r.ampm," "))},encapsulation:2}),e})(),wC=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=qe({type:e,selectors:[["bs-calendar-layout"]],ngContentSelectors:kX,decls:6,vars:2,consts:[["title","hey there",4,"ngIf"],[1,"bs-datepicker-head"],[1,"bs-datepicker-body"],[4,"ngIf"],["title","hey there"]],template:function(t,r){1&t&&(wd(SX),V(0,TX,1,0,"bs-current-date",0),m(1,"div",1),Fu(2),y(),m(3,"div",2),Fu(4,1),y(),V(5,MX,1,0,"bs-timepicker",3)),2&t&&(w("ngIf",!1),v(5),w("ngIf",!1))},dependencies:[Zt,mte,gte],encapsulation:2}),e})(),_te=(()=>{class e{constructor(t,r,i){this._config=t,this._elRef=r,this._renderer=i,this.day={date:new Date,label:""}}ngOnInit(){this.day?.isToday&&this._config&&this._config.customTodayClass&&this._renderer.addClass(this._elRef.nativeElement,this._config.customTodayClass),"string"==typeof this.day?.customClasses&&this.day?.customClasses.split(" ").filter(t=>t).forEach(t=>{this._renderer.addClass(this._elRef.nativeElement,t)})}}return e.\u0275fac=function(t){return new(t||e)(D(pa),D(qt),D(En))},e.\u0275cmp=qe({type:e,selectors:[["","bsDatepickerDayDecorator",""]],hostVars:16,hostBindings:function(t,r){2&t&&st("disabled",r.day.isDisabled)("is-highlighted",r.day.isHovered)("is-other-month",r.day.isOtherMonth)("is-active-other-month",r.day.isOtherMonthHovered)("in-range",r.day.isInRange)("select-start",r.day.isSelectionStart)("select-end",r.day.isSelectionEnd)("selected",r.day.isSelected)},inputs:{day:"day"},attrs:EX,decls:1,vars:1,template:function(t,r){1&t&&E(0),2&t&&et(r.day&&r.day.label||"")},encapsulation:2,changeDetection:0}),e})(),DC=(()=>{class e{constructor(){this.isDisabled=!1,this.onNavigate=new Me,this.onViewMode=new Me}navTo(t){this.onNavigate.emit(t?Ga.DOWN:Ga.UP)}view(t){this.isDisabled||this.onViewMode.emit(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=qe({type:e,selectors:[["bs-datepicker-navigation-view"]],inputs:{calendar:"calendar",isDisabled:"isDisabled"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode"},decls:12,vars:9,consts:[["type","button",1,"previous",3,"disabled","click"],[4,"ngIf"],["type","button",1,"current",3,"disabled","click"],["type","button",1,"next",3,"disabled","click"]],template:function(t,r){1&t&&(m(0,"button",0),P("click",function(){return r.navTo(!0)}),m(1,"span"),E(2,"\u2039"),y()(),V(3,AX,5,2,"ng-container",1),E(4," \u200b "),m(5,"button",2),P("click",function(){return r.view("year")}),m(6,"span"),E(7),y()(),E(8," \u200b "),m(9,"button",3),P("click",function(){return r.navTo(!1)}),m(10,"span"),E(11,"\u203a"),y()()),2&t&&(jo("visibility",r.calendar.hideLeftArrow?"hidden":"visible"),w("disabled",r.calendar.disableLeftArrow),v(3),w("ngIf",r.calendar&&r.calendar.monthTitle),v(2),w("disabled",r.isDisabled),v(2),et(r.calendar.yearTitle),v(2),jo("visibility",r.calendar.hideRightArrow?"hidden":"visible"),w("disabled",r.calendar.disableRightArrow))},dependencies:[Zt],encapsulation:2,changeDetection:0}),e})(),NP=(()=>{class e{constructor(t){this._config=t,this.onNavigate=new Me,this.onViewMode=new Me,this.onSelect=new Me,this.onHover=new Me,this.onHoverWeek=new Me,this.isiOS=/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,this._config.dateTooltipTexts&&this._config.dateTooltipTexts.length>0&&(this.isShowTooltip=!0)}navigateTo(t){this.onNavigate.emit({step:{month:Ga.DOWN===t?-1:1}})}changeViewMode(t){this.onViewMode.emit(t)}selectDay(t){this.onSelect.emit(t)}selectWeek(t){if(!this._config.selectWeek&&!this._config.selectWeekDateRange||0===t.days.length)return;if(this._config.selectWeek&&t.days[0]&&!t.days[0].isDisabled&&this._config.selectFromOtherMonth)return void this.onSelect.emit(t.days[0]);const r=t.days.find(i=>(this._config.selectFromOtherMonth||!i.isOtherMonth)&&!i.isDisabled);if(this.onSelect.emit(r),this._config.selectWeekDateRange){const s=t.days.slice(0).reverse().find(o=>(this._config.selectFromOtherMonth||!o.isOtherMonth)&&!o.isDisabled);this.onSelect.emit(s)}}weekHoverHandler(t,r){(this._config.selectWeek||this._config.selectWeekDateRange)&&t.days.find(s=>(this._config.selectFromOtherMonth||!s.isOtherMonth)&&!s.isDisabled)&&(t.isHovered=r,this.isWeekHovered=r,this.onHoverWeek.emit(t))}hoverDay(t,r){this._config.selectFromOtherMonth&&t.isOtherMonth&&(t.isOtherMonthHovered=r),this._config.dateTooltipTexts&&(t.tooltipText="",this._config.dateTooltipTexts.forEach(i=>{Ya(i.date,t.date)&&(t.tooltipText=i.tooltipText)})),this.onHover.emit({cell:t,isHovered:r})}}return e.\u0275fac=function(t){return new(t||e)(D(pa))},e.\u0275cmp=qe({type:e,selectors:[["bs-days-calendar-view"]],inputs:{calendar:"calendar",options:"options",isDisabled:"isDisabled"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover",onHoverWeek:"onHoverWeek"},decls:9,vars:5,consts:[[3,"calendar","isDisabled","onNavigate","onViewMode"],["role","grid",1,"days","weeks"],[4,"ngIf"],["aria-label","weekday",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["aria-label","weekday"],["class","week",3,"active-week",4,"ngIf"],["role","gridcell",4,"ngFor","ngForOf"],[1,"week"],[3,"click",4,"ngIf"],[3,"click","mouseenter","mouseleave",4,"ngIf"],[3,"click"],[3,"click","mouseenter","mouseleave"],["role","gridcell"],["bsDatepickerDayDecorator","",3,"day","tooltip","click","mouseenter","mouseleave",4,"ngIf"],["bsDatepickerDayDecorator","",3,"day","click","mouseenter","mouseleave",4,"ngIf"],["bsDatepickerDayDecorator","",3,"day","click",4,"ngIf"],["bsDatepickerDayDecorator","",3,"day","tooltip","click","mouseenter","mouseleave"],["bsDatepickerDayDecorator","",3,"day","click","mouseenter","mouseleave"],["bsDatepickerDayDecorator","",3,"day","click"]],template:function(t,r){1&t&&(m(0,"bs-calendar-layout")(1,"bs-datepicker-navigation-view",0),P("onNavigate",function(s){return r.navigateTo(s)})("onViewMode",function(s){return r.changeViewMode(s)}),y(),m(2,"table",1)(3,"thead")(4,"tr"),V(5,IX,1,0,"th",2),V(6,OX,2,1,"th",3),y()(),m(7,"tbody"),V(8,BX,3,2,"tr",4),y()()()),2&t&&(v(1),w("calendar",r.calendar)("isDisabled",!!r.isDisabled),v(4),w("ngIf",r.options&&r.options.showWeekNumbers),v(1),w("ngForOf",r.calendar.weekdays),v(2),w("ngForOf",r.calendar.weeks))},dependencies:[Br,Zt,gP,wC,_te,DC],encapsulation:2}),e})(),FP=(()=>{class e{constructor(){this.onNavigate=new Me,this.onViewMode=new Me,this.onSelect=new Me,this.onHover=new Me}navigateTo(t){this.onNavigate.emit({step:{year:Ga.DOWN===t?-1:1}})}viewMonth(t){this.onSelect.emit(t)}hoverMonth(t,r){this.onHover.emit({cell:t,isHovered:r})}changeViewMode(t){this.onViewMode.emit(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=qe({type:e,selectors:[["bs-month-calendar-view"]],inputs:{calendar:"calendar"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover"},decls:5,vars:2,consts:[[3,"calendar","onNavigate","onViewMode"],["role","grid",1,"months"],[4,"ngFor","ngForOf"],["role","gridcell",3,"disabled","is-highlighted","click","mouseenter","mouseleave",4,"ngFor","ngForOf"],["role","gridcell",3,"click","mouseenter","mouseleave"]],template:function(t,r){1&t&&(m(0,"bs-calendar-layout")(1,"bs-datepicker-navigation-view",0),P("onNavigate",function(s){return r.navigateTo(s)})("onViewMode",function(s){return r.changeViewMode(s)}),y(),m(2,"table",1)(3,"tbody"),V(4,$X,2,1,"tr",2),y()()()),2&t&&(v(1),w("calendar",r.calendar),v(3),w("ngForOf",null==r.calendar?null:r.calendar.months))},dependencies:[Br,wC,DC],encapsulation:2}),e})(),VP=(()=>{class e{constructor(){this.onNavigate=new Me,this.onViewMode=new Me,this.onSelect=new Me,this.onHover=new Me}navigateTo(t){this.onNavigate.emit({step:{year:(Ga.DOWN===t?-1:1)*Yg}})}viewYear(t){this.onSelect.emit(t)}hoverYear(t,r){this.onHover.emit({cell:t,isHovered:r})}changeViewMode(t){this.onViewMode.emit(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=qe({type:e,selectors:[["bs-years-calendar-view"]],inputs:{calendar:"calendar"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover"},decls:5,vars:2,consts:[[3,"calendar","onNavigate","onViewMode"],["role","grid",1,"years"],[4,"ngFor","ngForOf"],["role","gridcell",3,"disabled","is-highlighted","click","mouseenter","mouseleave",4,"ngFor","ngForOf"],["role","gridcell",3,"click","mouseenter","mouseleave"]],template:function(t,r){1&t&&(m(0,"bs-calendar-layout")(1,"bs-datepicker-navigation-view",0),P("onNavigate",function(s){return r.navigateTo(s)})("onViewMode",function(s){return r.changeViewMode(s)}),y(),m(2,"table",1)(3,"tbody"),V(4,UX,2,1,"tr",2),y()()()),2&t&&(v(1),w("calendar",r.calendar),v(3),w("ngForOf",null==r.calendar?null:r.calendar.years))},dependencies:[Br,wC,DC],encapsulation:2}),e})(),yte=(()=>{class e extends wP{constructor(t,r,i,s,o,a,l){super(),this._config=r,this._store=i,this._element=s,this._actions=o,this._positionService=l,this.valueChange=new Me,this.animationState="void",this.isRangePicker=!1,this._subs=[],this._effects=a,t.setStyle(s.nativeElement,"display","block"),t.setStyle(s.nativeElement,"position","absolute")}set value(t){this._effects?.setValue(t)}get isDatePickerDisabled(){return!!this._config.isDisabled}get isDatepickerDisabled(){return this.isDatePickerDisabled?"":null}get isDatepickerReadonly(){return this.isDatePickerDisabled?"":null}ngOnInit(){let t;this._positionService.setOptions({modifiers:{flip:{enabled:this._config.adaptivePosition},preventOverflow:{enabled:this._config.adaptivePosition}},allowedPositions:this._config.allowedPositions}),this._positionService.event$?.pipe(Zo(1)).subscribe(()=>{this._positionService.disable(),this.animationState=this._config.isAnimated?this.isTopPosition?"animated-up":"animated-down":"unanimated"}),this.isOtherMonthsActive=this._config.selectFromOtherMonth,this.containerClass=this._config.containerClass,this.showTodayBtn=this._config.showTodayButton,this.todayBtnLbl=this._config.todayButtonLabel,this.todayPos=this._config.todayPosition,this.showClearBtn=this._config.showClearButton,this.clearBtnLbl=this._config.clearButtonLabel,this.clearPos=this._config.clearPosition,this.customRangeBtnLbl=this._config.customRangeButtonLabel,this.withTimepicker=this._config.withTimepicker,this._effects?.init(this._store).setOptions(this._config).setBindings(this).setEventHandlers(this).registerDatepickerSideEffects(),this._subs.push(this._store.select(r=>r.selectedDate).subscribe(r=>{t=r,this.valueChange.emit(r)})),this._subs.push(this._store.select(r=>r.selectedTime).subscribe(r=>{!r[0]||!(r[0]instanceof Date)||r[0]===t||this.valueChange.emit(r[0])})),this._store.dispatch(this._actions.changeViewMode(this._config.startView))}ngAfterViewInit(){this.selectedTimeSub.add(this.selectedTime?.subscribe(t=>{Array.isArray(t)&&t.length>=1&&this.startTimepicker?.writeValue(t[0])})),this.startTimepicker?.registerOnChange(t=>{this.timeSelectHandler(t,0)})}get isTopPosition(){return this._element.nativeElement.classList.contains("top")}positionServiceEnable(){this._positionService.enable()}timeSelectHandler(t,r){this._store.dispatch(this._actions.selectTime(t,r))}daySelectHandler(t){!t||(this.isOtherMonthsActive?t.isDisabled:t.isOtherMonth||t.isDisabled)||this._store.dispatch(this._actions.select(t.date))}monthSelectHandler(t){!t||t.isDisabled||this._store.dispatch(this._actions.navigateTo({unit:{month:St(t.date),year:Fn(t.date)},viewMode:"day"}))}yearSelectHandler(t){!t||t.isDisabled||this._store.dispatch(this._actions.navigateTo({unit:{year:Fn(t.date)},viewMode:"month"}))}setToday(){this._store.dispatch(this._actions.select(new Date))}clearDate(){this._store.dispatch(this._actions.select(void 0))}ngOnDestroy(){for(const t of this._subs)t.unsubscribe();this.selectedTimeSub.unsubscribe(),this._effects?.destroy()}}return e.\u0275fac=function(t){return new(t||e)(D(En),D(pa),D(Xf),D(qt),D(ur),D(Qf),D(sa))},e.\u0275cmp=qe({type:e,selectors:[["bs-datepicker-container"]],viewQuery:function(t,r){if(1&t&&Xr(yP,5),2&t){let i;Fr(i=Vr())&&(r.startTimepicker=i.first)}},hostAttrs:["role","dialog","aria-label","calendar",1,"bottom"],hostVars:2,hostBindings:function(t,r){1&t&&P("click",function(s){return r._stopPropagation(s)}),2&t&&Kn("disabled",r.isDatepickerDisabled)("readonly",r.isDatepickerReadonly)},features:[en([Xf,Qf]),Et],decls:2,vars:3,consts:[["class","bs-datepicker",3,"ngClass",4,"ngIf"],[1,"bs-datepicker",3,"ngClass"],[1,"bs-datepicker-container"],["role","application",1,"bs-calendar-container",3,"ngSwitch"],[4,"ngSwitchCase"],["class","bs-media-container",4,"ngSwitchCase"],["class","bs-datepicker-buttons",4,"ngIf"],["class","bs-datepicker-custom-range",4,"ngIf"],[1,"bs-media-container"],[3,"bs-datepicker-multiple","calendar","isDisabled","options","onNavigate","onViewMode","onHover","onHoverWeek","onSelect",4,"ngFor","ngForOf"],["class","bs-timepicker-in-datepicker-container",4,"ngIf"],[3,"calendar","isDisabled","options","onNavigate","onViewMode","onHover","onHoverWeek","onSelect"],[1,"bs-timepicker-in-datepicker-container"],[3,"disabled"],["startTP",""],[3,"disabled",4,"ngIf"],["endTP",""],[3,"bs-datepicker-multiple","calendar","onNavigate","onViewMode","onHover","onSelect",4,"ngFor","ngForOf"],[3,"calendar","onNavigate","onViewMode","onHover","onSelect"],[1,"bs-datepicker-buttons"],["type","button",1,"btn","btn-success"],["type","button",1,"btn","btn-default"],["class","btn-today-wrapper",3,"today-left","today-right","today-center",4,"ngIf"],["class","btn-clear-wrapper",3,"clear-left","clear-right","clear-center",4,"ngIf"],[1,"btn-today-wrapper"],[1,"btn","btn-success",3,"click"],[1,"btn-clear-wrapper"],[1,"bs-datepicker-custom-range"],[3,"selectedRange","ranges","customRangeLabel","onSelect"]],template:function(t,r){1&t&&(V(0,ree,10,11,"div",0),Ei(1,"async")),2&t&&w("ngIf",Ai(1,1,r.viewMode))},dependencies:[Rp,Br,Zt,Nd,tb,jg,PP,NP,FP,VP,nb],encapsulation:2,data:{animation:[bP]}}),e})(),BP=(()=>{class e{constructor(t,r,i,s,o){this._config=t,this._elementRef=r,this._renderer=i,this.placement="bottom",this.triggers="click",this.outsideClick=!0,this.container="body",this.outsideEsc=!0,this.isDestroy$=new kt,this.isDisabled=!1,this.bsValueChange=new Me,this._subs=[],this._dateInputFormat$=new kt,Object.assign(this,this._config),this._datepicker=o.createLoader(r,s,i),this.onShown=this._datepicker.onShown,this.onHidden=this._datepicker.onHidden,this.isOpen$=new Er(this.isOpen)}get readonlyValue(){return this.isDisabled?"":null}get isOpen(){return this._datepicker.isShown}set isOpen(t){this.isOpen$.next(t)}set bsValue(t){this._bsValue&&t&&this._bsValue.getTime()===t.getTime()||(!this._bsValue&&t&&!this._config.withTimepicker&&vC(t,new Date),t&&this.bsConfig?.initCurrentTime&&(t=SP(t)),this.initPreviousValue(),this._bsValue=t,this.bsValueChange.emit(t))}get dateInputFormat$(){return this._dateInputFormat$}ngOnInit(){this._datepicker.listen({outsideClick:this.outsideClick,outsideEsc:this.outsideEsc,triggers:this.triggers,show:()=>this.show()}),this.setConfig(),this.initPreviousValue()}initPreviousValue(){Fc=this._bsValue}ngOnChanges(t){t.bsConfig&&(t.bsConfig.currentValue?.initCurrentTime&&t.bsConfig.currentValue?.initCurrentTime!==t.bsConfig.previousValue?.initCurrentTime&&this._bsValue&&(this.initPreviousValue(),this._bsValue=SP(this._bsValue),this.bsValueChange.emit(this._bsValue)),this.setConfig(),this._dateInputFormat$.next(this.bsConfig&&this.bsConfig.dateInputFormat)),this._datepickerRef&&this._datepickerRef.instance&&(t.minDate&&(this._datepickerRef.instance.minDate=this.minDate),t.maxDate&&(this._datepickerRef.instance.maxDate=this.maxDate),t.daysDisabled&&(this._datepickerRef.instance.daysDisabled=this.daysDisabled),t.datesDisabled&&(this._datepickerRef.instance.datesDisabled=this.datesDisabled),t.datesEnabled&&(this._datepickerRef.instance.datesEnabled=this.datesEnabled),t.isDisabled&&(this._datepickerRef.instance.isDisabled=this.isDisabled),t.dateCustomClasses&&(this._datepickerRef.instance.dateCustomClasses=this.dateCustomClasses),t.dateTooltipTexts&&(this._datepickerRef.instance.dateTooltipTexts=this.dateTooltipTexts))}initSubscribes(){this._subs.push(this.bsValueChange.subscribe(t=>{this._datepickerRef&&(this._datepickerRef.instance.value=t)})),this._datepickerRef&&this._subs.push(this._datepickerRef.instance.valueChange.subscribe(t=>{this.initPreviousValue(),this.bsValue=t,!this.keepDatepickerModalOpened()&&this.hide()}))}keepDatepickerModalOpened(){return!!(Fc&&this.bsConfig?.keepDatepickerOpened&&this._config.withTimepicker)&&this.isDateSame()}isDateSame(){return Fc instanceof Date&&this._bsValue?.getDate()===Fc?.getDate()&&this._bsValue?.getMonth()===Fc?.getMonth()&&this._bsValue?.getFullYear()===Fc?.getFullYear()}ngAfterViewInit(){this.isOpen$.pipe(An(t=>t!==this.isOpen),qR(this.isDestroy$)).subscribe(()=>this.toggle())}show(){this._datepicker.isShown||(this.setConfig(),this._datepickerRef=this._datepicker.provide({provide:pa,useValue:this._config}).attach(yte).to(this.container).position({attachment:this.placement}).show({placement:this.placement}),this.initSubscribes())}hide(){this.isOpen&&this._datepicker.hide();for(const t of this._subs)t.unsubscribe();this._config.returnFocusToInput&&this._renderer.selectRootElement(this._elementRef.nativeElement).focus()}toggle(){if(this.isOpen)return this.hide();this.show()}setConfig(){this._config=Object.assign({},this._config,this.bsConfig,{value:TP(this._bsValue,this.maxDate||this.bsConfig&&this.bsConfig.maxDate),isDisabled:this.isDisabled,minDate:this.minDate||this.bsConfig&&this.bsConfig.minDate,maxDate:this.maxDate||this.bsConfig&&this.bsConfig.maxDate,daysDisabled:this.daysDisabled||this.bsConfig&&this.bsConfig.daysDisabled,dateCustomClasses:this.dateCustomClasses||this.bsConfig&&this.bsConfig.dateCustomClasses,dateTooltipTexts:this.dateTooltipTexts||this.bsConfig&&this.bsConfig.dateTooltipTexts,datesDisabled:this.datesDisabled||this.bsConfig&&this.bsConfig.datesDisabled,datesEnabled:this.datesEnabled||this.bsConfig&&this.bsConfig.datesEnabled,minMode:this.minMode||this.bsConfig&&this.bsConfig.minMode,initCurrentTime:this.bsConfig?.initCurrentTime,keepDatepickerOpened:this.bsConfig?.keepDatepickerOpened})}unsubscribeSubscriptions(){this._subs?.length&&(this._subs.map(t=>t.unsubscribe()),this._subs.length=0)}ngOnDestroy(){this._datepicker.dispose(),this.isOpen$.next(!1),this.isDestroy$&&(this.isDestroy$.next(null),this.isDestroy$.complete()),this.unsubscribeSubscriptions()}}return e.\u0275fac=function(t){return new(t||e)(D(pa),D(qt),D(En),D(Pn),D(go))},e.\u0275dir=Pe({type:e,selectors:[["","bsDatepicker",""]],hostVars:1,hostBindings:function(t,r){2&t&&Kn("readonly",r.readonlyValue)},inputs:{placement:"placement",triggers:"triggers",outsideClick:"outsideClick",container:"container",outsideEsc:"outsideEsc",isDisabled:"isDisabled",minDate:"minDate",maxDate:"maxDate",minMode:"minMode",daysDisabled:"daysDisabled",datesDisabled:"datesDisabled",datesEnabled:"datesEnabled",dateCustomClasses:"dateCustomClasses",dateTooltipTexts:"dateTooltipTexts",isOpen:"isOpen",bsValue:"bsValue",bsConfig:"bsConfig"},outputs:{onShown:"onShown",onHidden:"onHidden",bsValueChange:"bsValueChange"},exportAs:["bsDatepicker"],features:[Qr]}),e})(),vte=(()=>{class e extends wP{constructor(t,r,i,s,o,a,l){super(),this._config=r,this._store=i,this._element=s,this._actions=o,this._positionService=l,this.valueChange=new Me,this.animationState="void",this._rangeStack=[],this.chosenRange=[],this._subs=[],this.isRangePicker=!0,this._effects=a,this.customRanges=this._config.ranges||[],this.customRangeBtnLbl=this._config.customRangeButtonLabel,t.setStyle(s.nativeElement,"display","block"),t.setStyle(s.nativeElement,"position","absolute")}set value(t){this._effects?.setRangeValue(t)}get isDatePickerDisabled(){return!!this._config.isDisabled}get isDatepickerDisabled(){return this.isDatePickerDisabled?"":null}get isDatepickerReadonly(){return this.isDatePickerDisabled?"":null}ngOnInit(){let t;this._positionService.setOptions({modifiers:{flip:{enabled:this._config.adaptivePosition},preventOverflow:{enabled:this._config.adaptivePosition}},allowedPositions:this._config.allowedPositions}),this._positionService.event$?.pipe(Zo(1)).subscribe(()=>{this._positionService.disable(),this.animationState=this._config.isAnimated?this.isTopPosition?"animated-up":"animated-down":"unanimated"}),this.containerClass=this._config.containerClass,this.isOtherMonthsActive=this._config.selectFromOtherMonth,this.withTimepicker=this._config.withTimepicker,this._effects?.init(this._store).setOptions(this._config).setBindings(this).setEventHandlers(this).registerDatepickerSideEffects(),this._subs.push(this._store.select(r=>r.selectedRange).subscribe(r=>{t=r,this.valueChange.emit(r),this.chosenRange=r||[]})),this._subs.push(this._store.select(r=>r.selectedTime).subscribe(r=>{!r[0]||!r[1]||!(r[0]instanceof Date)||!(r[1]instanceof Date)||t&&r[0]===t[0]&&r[1]===t[1]||(this.valueChange.emit(r),this.chosenRange=r||[])}))}ngAfterViewInit(){this.selectedTimeSub.add(this.selectedTime?.subscribe(t=>{Array.isArray(t)&&t.length>=2&&(this.startTimepicker?.writeValue(t[0]),this.endTimepicker?.writeValue(t[1]))})),this.startTimepicker?.registerOnChange(t=>{this.timeSelectHandler(t,0)}),this.endTimepicker?.registerOnChange(t=>{this.timeSelectHandler(t,1)})}get isTopPosition(){return this._element.nativeElement.classList.contains("top")}positionServiceEnable(){this._positionService.enable()}timeSelectHandler(t,r){this._store.dispatch(this._actions.selectTime(t,r))}daySelectHandler(t){!t||(this.isOtherMonthsActive?t.isDisabled:t.isOtherMonth||t.isDisabled)||this.rangesProcessing(t)}monthSelectHandler(t){if(t&&!t.isDisabled){if(t.isSelected=!0,"month"!==this._config.minMode){if(t.isDisabled)return;return void this._store.dispatch(this._actions.navigateTo({unit:{month:St(t.date),year:Fn(t.date)},viewMode:"day"}))}this.rangesProcessing(t)}}yearSelectHandler(t){if(t&&!t.isDisabled){if(t.isSelected=!0,"year"!==this._config.minMode){if(t.isDisabled)return;return void this._store.dispatch(this._actions.navigateTo({unit:{year:Fn(t.date)},viewMode:"month"}))}this.rangesProcessing(t)}}rangesProcessing(t){1===this._rangeStack.length&&(this._rangeStack=t.date>=this._rangeStack[0]?[this._rangeStack[0],t.date]:[t.date]),this._config.maxDateRange&&this.setMaxDateRangeOnCalendar(t.date),0===this._rangeStack.length&&(this._rangeStack=[t.date],this._config.maxDateRange&&this.setMaxDateRangeOnCalendar(t.date)),this._store.dispatch(this._actions.selectRange(this._rangeStack)),2===this._rangeStack.length&&(this._rangeStack=[])}ngOnDestroy(){for(const t of this._subs)t.unsubscribe();this.selectedTimeSub.unsubscribe(),this._effects?.destroy()}setRangeOnCalendar(t){t&&(this._rangeStack=t.value instanceof Date?[t.value]:t.value),this._store.dispatch(this._actions.selectRange(this._rangeStack))}setMaxDateRangeOnCalendar(t){let r=new Date(t);if(this._config.maxDate){const i=this._config.maxDate.getTime(),s=t.getTime()+864e5*(this._config.maxDateRange||0);r=s>i?new Date(this._config.maxDate):new Date(s)}else r.setDate(t.getDate()+(this._config.maxDateRange||0));this._effects?.setMaxDate(r)}}return e.\u0275fac=function(t){return new(t||e)(D(En),D(pa),D(Xf),D(qt),D(ur),D(Qf),D(sa))},e.\u0275cmp=qe({type:e,selectors:[["bs-daterangepicker-container"]],viewQuery:function(t,r){if(1&t&&(Xr(yP,5),Xr(_ee,5)),2&t){let i;Fr(i=Vr())&&(r.startTimepicker=i.first),Fr(i=Vr())&&(r.endTimepicker=i.first)}},hostAttrs:["role","dialog","aria-label","calendar",1,"bottom"],hostVars:2,hostBindings:function(t,r){1&t&&P("click",function(s){return r._stopPropagation(s)}),2&t&&Kn("disabled",r.isDatepickerDisabled)("readonly",r.isDatepickerReadonly)},features:[en([Xf,Qf]),Et],decls:2,vars:3,consts:[["class","bs-datepicker",3,"ngClass",4,"ngIf"],[1,"bs-datepicker",3,"ngClass"],[1,"bs-datepicker-container"],["role","application",1,"bs-calendar-container",3,"ngSwitch"],[4,"ngSwitchCase"],["class","bs-media-container",4,"ngSwitchCase"],["class","bs-datepicker-buttons",4,"ngIf"],["class","bs-datepicker-custom-range",4,"ngIf"],[1,"bs-media-container"],[3,"bs-datepicker-multiple","calendar","isDisabled","options","onNavigate","onViewMode","onHover","onHoverWeek","onSelect",4,"ngFor","ngForOf"],["class","bs-timepicker-in-datepicker-container",4,"ngIf"],[3,"calendar","isDisabled","options","onNavigate","onViewMode","onHover","onHoverWeek","onSelect"],[1,"bs-timepicker-in-datepicker-container"],[3,"disabled"],["startTP",""],[3,"disabled",4,"ngIf"],["endTP",""],[3,"bs-datepicker-multiple","calendar","onNavigate","onViewMode","onHover","onSelect",4,"ngFor","ngForOf"],[3,"calendar","onNavigate","onViewMode","onHover","onSelect"],[1,"bs-datepicker-buttons"],["type","button",1,"btn","btn-success"],["type","button",1,"btn","btn-default"],["class","btn-today-wrapper",3,"today-left","today-right","today-center",4,"ngIf"],["class","btn-clear-wrapper",3,"clear-left","clear-right","clear-center",4,"ngIf"],[1,"btn-today-wrapper"],[1,"btn","btn-success",3,"click"],[1,"btn-clear-wrapper"],[1,"bs-datepicker-custom-range"],[3,"selectedRange","ranges","customRangeLabel","onSelect"]],template:function(t,r){1&t&&(V(0,Oee,10,11,"div",0),Ei(1,"async")),2&t&&w("ngIf",Ai(1,1,r.viewMode))},dependencies:[Rp,Br,Zt,Nd,tb,jg,PP,NP,FP,VP,nb],encapsulation:2,data:{animation:[bP]}}),e})();const bte={provide:ji,useExisting:zt(()=>CC),multi:!0},wte={provide:kr,useExisting:zt(()=>CC),multi:!0};let Za,CC=(()=>{class e{constructor(t,r,i,s,o){this._picker=t,this._localeService=r,this._renderer=i,this._elRef=s,this.changeDetection=o,this._onChange=Function.prototype,this._onTouched=Function.prototype,this._validatorChange=Function.prototype,this._subs=new de}ngOnInit(){const t=r=>{this._setInputValue(r),this._value!==r&&(this._value=r,this._onChange(r),this._onTouched()),this.changeDetection.markForCheck()};this._picker._bsValue&&t(this._picker._bsValue),this._subs.add(this._picker.bsValueChange.subscribe(t)),this._subs.add(this._localeService.localeChange.subscribe(()=>{this._setInputValue(this._value)})),this._subs.add(this._picker.dateInputFormat$.pipe(MD()).subscribe(()=>{this._setInputValue(this._value)}))}ngOnDestroy(){this._subs.unsubscribe()}onKeydownEvent(t){(13===t.keyCode||"Enter"===t.code)&&this.hide()}_setInputValue(t){const r=t?ds(t,this._picker._config.dateInputFormat,this._localeService.currentLocale):"";this._renderer.setProperty(this._elRef.nativeElement,"value",r)}onChange(t){this.writeValue(t.target.value),this._onChange(this._value),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus(),this._onTouched()}validate(t){const r=t.value;if(null==r||""===r)return null;if(wg(r)){if(!Ua(r))return{bsDate:{invalid:r}};if(this._picker&&this._picker.minDate&&wo(r,this._picker.minDate,"date"))return this.writeValue(this._picker.minDate),{bsDate:{minDate:this._picker.minDate}};if(this._picker&&this._picker.maxDate&&js(r,this._picker.maxDate,"date"))return this.writeValue(this._picker.maxDate),{bsDate:{maxDate:this._picker.maxDate}}}return null}registerOnValidatorChange(t){this._validatorChange=t}writeValue(t){if(t){const r=this._localeService.currentLocale;if(!Tr(r))throw new Error(`Locale "${r}" is not defined, please add it with "defineLocale(...)"`);this._value=zf(t,this._picker._config.dateInputFormat,this._localeService.currentLocale),this._picker._config.useUtc&&(this._value=SL(this._value))}else this._value=void 0;this._picker.bsValue=this._value}setDisabledState(t){this._picker.isDisabled=t,t?this._renderer.setAttribute(this._elRef.nativeElement,"disabled","disabled"):this._renderer.removeAttribute(this._elRef.nativeElement,"disabled")}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}onBlur(){this._onTouched()}hide(){this._picker.hide(),this._renderer.selectRootElement(this._elRef.nativeElement).blur(),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus()}}return e.\u0275fac=function(t){return new(t||e)(D(BP,1),D(Ug),D(En),D(qt),D(zo))},e.\u0275dir=Pe({type:e,selectors:[["input","bsDatepicker",""]],hostBindings:function(t,r){1&t&&P("change",function(s){return r.onChange(s)})("keyup.esc",function(){return r.hide()})("keydown",function(s){return r.onKeydownEvent(s)})("blur",function(){return r.onBlur()})},features:[en([bte,wte])]}),e})(),Dte=(()=>{class e extends pa{constructor(){super(...arguments),this.displayMonths=2}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=gt(e)))(r||e)}}(),e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Cte=(()=>{class e{constructor(t,r,i,s,o){this._config=t,this._elementRef=r,this._renderer=i,this.placement="bottom",this.triggers="click",this.outsideClick=!0,this.container="body",this.outsideEsc=!0,this.isDestroy$=new kt,this.isDisabled=!1,this.bsValueChange=new Me,this._subs=[],this._rangeInputFormat$=new kt,this._datepicker=o.createLoader(r,s,i),Object.assign(this,t),this.onShown=this._datepicker.onShown,this.onHidden=this._datepicker.onHidden,this.isOpen$=new Er(this.isOpen)}get isOpen(){return this._datepicker.isShown}set isOpen(t){this.isOpen$.next(t)}set bsValue(t){this._bsValue!==t&&(t&&this.bsConfig?.initCurrentTime&&(t=kP(t)),this.initPreviousValue(),this._bsValue=t,this.bsValueChange.emit(t))}get isDatepickerReadonly(){return this.isDisabled?"":null}get rangeInputFormat$(){return this._rangeInputFormat$}ngOnInit(){this.isDestroy$=new kt,this._datepicker.listen({outsideClick:this.outsideClick,outsideEsc:this.outsideEsc,triggers:this.triggers,show:()=>this.show()}),this.initPreviousValue(),this.setConfig()}ngOnChanges(t){t.bsConfig&&(t.bsConfig.currentValue?.initCurrentTime&&t.bsConfig.currentValue?.initCurrentTime!==t.bsConfig.previousValue?.initCurrentTime&&this._bsValue&&(this.initPreviousValue(),this._bsValue=kP(this._bsValue),this.bsValueChange.emit(this._bsValue)),this.setConfig(),this._rangeInputFormat$.next(t.bsConfig.currentValue&&t.bsConfig.currentValue.rangeInputFormat)),this._datepickerRef&&this._datepickerRef.instance&&(t.minDate&&(this._datepickerRef.instance.minDate=this.minDate),t.maxDate&&(this._datepickerRef.instance.maxDate=this.maxDate),t.datesDisabled&&(this._datepickerRef.instance.datesDisabled=this.datesDisabled),t.datesEnabled&&(this._datepickerRef.instance.datesEnabled=this.datesEnabled),t.daysDisabled&&(this._datepickerRef.instance.daysDisabled=this.daysDisabled),t.isDisabled&&(this._datepickerRef.instance.isDisabled=this.isDisabled),t.dateCustomClasses&&(this._datepickerRef.instance.dateCustomClasses=this.dateCustomClasses))}ngAfterViewInit(){this.isOpen$.pipe(An(t=>t!==this.isOpen),qR(this.isDestroy$)).subscribe(()=>this.toggle())}show(){this._datepicker.isShown||(this.setConfig(),this._datepickerRef=this._datepicker.provide({provide:pa,useValue:this._config}).attach(vte).to(this.container).position({attachment:this.placement}).show({placement:this.placement}),this.initSubscribes())}initSubscribes(){this._subs.push(this.bsValueChange.subscribe(t=>{this._datepickerRef&&(this._datepickerRef.instance.value=t)})),this._datepickerRef&&this._subs.push(this._datepickerRef.instance.valueChange.pipe(An(t=>t&&t[0]&&!!t[1])).subscribe(t=>{this.initPreviousValue(),this.bsValue=t,!this.keepDatepickerModalOpened()&&this.hide()}))}initPreviousValue(){Za=this._bsValue}keepDatepickerModalOpened(){return!!(Za&&this.bsConfig?.keepDatepickerOpened&&this._config.withTimepicker)&&this.isDateSame()}isDateSame(){return this._bsValue?.[0]?.getDate()===Za?.[0]?.getDate()&&this._bsValue?.[0]?.getMonth()===Za?.[0]?.getMonth()&&this._bsValue?.[0]?.getFullYear()===Za?.[0]?.getFullYear()&&this._bsValue?.[1]?.getDate()===Za?.[1]?.getDate()&&this._bsValue?.[1]?.getMonth()===Za?.[1]?.getMonth()&&this._bsValue?.[1]?.getFullYear()===Za?.[1]?.getFullYear()}setConfig(){this._config=Object.assign({},this._config,this.bsConfig,{value:TP(this._bsValue,this.maxDate||this.bsConfig&&this.bsConfig.maxDate),isDisabled:this.isDisabled,minDate:this.minDate||this.bsConfig&&this.bsConfig.minDate,maxDate:this.maxDate||this.bsConfig&&this.bsConfig.maxDate,daysDisabled:this.daysDisabled||this.bsConfig&&this.bsConfig.daysDisabled,dateCustomClasses:this.dateCustomClasses||this.bsConfig&&this.bsConfig.dateCustomClasses,datesDisabled:this.datesDisabled||this.bsConfig&&this.bsConfig.datesDisabled,datesEnabled:this.datesEnabled||this.bsConfig&&this.bsConfig.datesEnabled,ranges:Qee(this.bsConfig&&this.bsConfig.ranges,this.maxDate||this.bsConfig&&this.bsConfig.maxDate),maxDateRange:this.bsConfig&&this.bsConfig.maxDateRange,initCurrentTime:this.bsConfig?.initCurrentTime,keepDatepickerOpened:this.bsConfig?.keepDatepickerOpened})}hide(){this.isOpen&&this._datepicker.hide();for(const t of this._subs)t.unsubscribe();this._config.returnFocusToInput&&this._renderer.selectRootElement(this._elementRef.nativeElement).focus()}toggle(){if(this.isOpen)return this.hide();this.show()}unsubscribeSubscriptions(){this._subs?.length&&(this._subs.map(t=>t.unsubscribe()),this._subs.length=0)}ngOnDestroy(){this._datepicker.dispose(),this.isOpen$.next(!1),this.isDestroy$&&(this.isDestroy$.next(null),this.isDestroy$.complete()),this.unsubscribeSubscriptions()}}return e.\u0275fac=function(t){return new(t||e)(D(Dte),D(qt),D(En),D(Pn),D(go))},e.\u0275dir=Pe({type:e,selectors:[["","bsDaterangepicker",""]],hostVars:1,hostBindings:function(t,r){2&t&&Kn("readonly",r.isDatepickerReadonly)},inputs:{placement:"placement",triggers:"triggers",outsideClick:"outsideClick",container:"container",outsideEsc:"outsideEsc",isOpen:"isOpen",bsValue:"bsValue",bsConfig:"bsConfig",isDisabled:"isDisabled",minDate:"minDate",maxDate:"maxDate",dateCustomClasses:"dateCustomClasses",daysDisabled:"daysDisabled",datesDisabled:"datesDisabled",datesEnabled:"datesEnabled"},outputs:{onShown:"onShown",onHidden:"onHidden",bsValueChange:"bsValueChange"},exportAs:["bsDaterangepicker"],features:[Qr]}),e})();const Tte={provide:ji,useExisting:zt(()=>HP),multi:!0},Mte={provide:kr,useExisting:zt(()=>HP),multi:!0};let HP=(()=>{class e{constructor(t,r,i,s,o){this._picker=t,this._localeService=r,this._renderer=i,this._elRef=s,this.changeDetection=o,this._onChange=Function.prototype,this._onTouched=Function.prototype,this._validatorChange=Function.prototype,this._subs=new de}ngOnInit(){this._picker._bsValue&&(r=>{this._setInputValue(r),this._value!==r&&(this._value=r,this._onChange(r),this._onTouched()),this.changeDetection.markForCheck()})(this._picker._bsValue),this._subs.add(this._picker.bsValueChange.subscribe(r=>{this._setInputValue(r),this._value!==r&&(this._value=r,this._onChange(r),this._onTouched()),this.changeDetection.markForCheck()})),this._subs.add(this._localeService.localeChange.subscribe(()=>{this._setInputValue(this._value)})),this._subs.add(this._picker.rangeInputFormat$.pipe(MD()).subscribe(()=>{this._setInputValue(this._value)}))}ngOnDestroy(){this._subs.unsubscribe()}onKeydownEvent(t){(13===t.keyCode||"Enter"===t.code)&&this.hide()}_setInputValue(t){let r="";if(t){const i=t[0]?ds(t[0],this._picker._config.rangeInputFormat,this._localeService.currentLocale):"",s=t[1]?ds(t[1],this._picker._config.rangeInputFormat,this._localeService.currentLocale):"";r=i&&s?i+this._picker._config.rangeSeparator+s:""}this._renderer.setProperty(this._elRef.nativeElement,"value",r)}onChange(t){this.writeValue(t.target.value),this._onChange(this._value),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus(),this._onTouched()}validate(t){let r=t.value;const i=[];if(null==r||!xn(r))return null;r=r.slice().sort((a,l)=>a.getTime()-l.getTime());const s=Ua(r[0]),o=Ua(r[1]);return s?o?(this._picker&&this._picker.minDate&&wo(r[0],this._picker.minDate,"date")&&(r[0]=this._picker.minDate,i.push({bsDate:{minDate:this._picker.minDate}})),this._picker&&this._picker.maxDate&&js(r[1],this._picker.maxDate,"date")&&(r[1]=this._picker.maxDate,i.push({bsDate:{maxDate:this._picker.maxDate}})),i.length>0?(this.writeValue(r),i):null):{bsDate:{invalid:r[1]}}:{bsDate:{invalid:r[0]}}}registerOnValidatorChange(t){this._validatorChange=t}writeValue(t){if(t){const r=this._localeService.currentLocale;if(!Tr(r))throw new Error(`Locale "${r}" is not defined, please add it with "defineLocale(...)"`);let s=[];if("string"==typeof t){const o=this._picker._config.rangeSeparator.trim();s=t.replace(/[^-]/g,"").length>1?t.split(this._picker._config.rangeSeparator):t.split(o.length>0?o:this._picker._config.rangeSeparator).map(a=>a.trim())}Array.isArray(t)&&(s=t),this._value=s.map(o=>this._picker._config.useUtc?SL(zf(o,this._picker._config.rangeInputFormat,this._localeService.currentLocale)):zf(o,this._picker._config.rangeInputFormat,this._localeService.currentLocale)).map(o=>isNaN(o.valueOf())?void 0:o)}else this._value=void 0;this._picker.bsValue=this._value}setDisabledState(t){this._picker.isDisabled=t,t?this._renderer.setAttribute(this._elRef.nativeElement,"disabled","disabled"):this._renderer.removeAttribute(this._elRef.nativeElement,"disabled")}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}onBlur(){this._onTouched()}hide(){this._picker.hide(),this._renderer.selectRootElement(this._elRef.nativeElement).blur(),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus()}}return e.\u0275fac=function(t){return new(t||e)(D(Cte,1),D(Ug),D(En),D(qt),D(zo))},e.\u0275dir=Pe({type:e,selectors:[["input","bsDaterangepicker",""]],hostBindings:function(t,r){1&t&&P("change",function(s){return r.onChange(s)})("keyup.esc",function(){return r.hide()})("keydown",function(s){return r.onKeydownEvent(s)})("blur",function(){return r.onBlur()})},features:[en([Tte,Mte])]}),e})(),Ste=(()=>{class e{static forRoot(){return{ngModule:e,providers:[go,sa,Xf,ur,Qf,Ug,fa]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Sr({type:e}),e.\u0275inj=pr({imports:[qu,_P,dP]}),e})();function kte(e,n){if(1&e&&(m(0,"p",6),E(1),y()),2&e){const t=C();v(1),et(t.errorMessage)}}let eh=(()=>{class e extends bc{constructor(){super(),this.isTimeValid=!0,this.value=new Date,this.validator=e.DEFAULT_VALIDATOR}validate(){var t=this;return(0,b.Z)(function*(){return yield t._validator([t,yield t.destValue,t.isTimeValid])})()}}return e.DEFAULT_VALIDATOR=function(){var n=(0,b.Z)(function*([t,r,i]){return t.errorMessage=void 0,i?!!jw(r)||(t.errorMessage="Date is invalid",!1):(t.errorMessage="Time is invalid",!1)});return function(t){return n.apply(this,arguments)}}(),e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=qe({type:e,selectors:[["app-date-time-field"]],features:[Et],decls:8,vars:13,consts:[[1,"m-3"],[1,"form-label"],[1,"d-flex","align-items-center","flex-wrap"],["type","text","bsDatepicker","",1,"form-control","d-inline","w-auto","me-1","flex-grow-1","flex-shrink-1",3,"bsValue","isDisabled","disabled","bsValueChange"],[3,"ngModel","readonlyInput","disabled","showSeconds","showMeridian","showSpinners","arrowkeys","mousewheel","ngModelChange","isValid"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(t,r){1&t&&(m(0,"div",0)(1,"div")(2,"label",1),E(3),y(),m(4,"div",2)(5,"input",3),P("bsValueChange",function(s){return r.value=s}),y(),m(6,"timepicker",4),P("ngModelChange",function(s){return r.value=s})("isValid",function(s){return r.isTimeValid=s}),y()()(),V(7,kte,2,1,"p",5),y()),2&t&&(v(3),et(r.label),v(2),w("bsValue",r.value)("isDisabled",r.isReadOnly)("disabled",r.isReadOnly),v(1),w("ngModel",r.value)("readonlyInput",r.isReadOnly)("disabled",r.isReadOnly)("showSeconds",!0)("showMeridian",!1)("showSpinners",!1)("arrowkeys",!1)("mousewheel",!1),v(1),w("ngIf",r.errorMessage))},dependencies:[Zt,Oi,_i,BP,CC,jg]}),e})();function Ete(e,n){if(1&e&&(m(0,"p",1),E(1),y()),2&e){const t=C();v(1),et(t.value)}}let Ate=(()=>{class e extends bc{}return e.\u0275fac=function(){let n;return function(r){return(n||(n=gt(e)))(r||e)}}(),e.\u0275cmp=qe({type:e,selectors:[["app-error-message-field"]],features:[Et],decls:1,vars:1,consts:[["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(t,r){1&t&&V(0,Ete,2,1,"p",0),2&t&&w("ngIf",r.value)},dependencies:[Zt]}),e})();const Ite=["container"];function Ote(e,n){}let xte=(()=>{class e{constructor(){this.isReadOnly=!1,this.remove=new Me}ngOnInit(){this.viewContainerRef&&this.renderer&&this.renderer(this.viewContainerRef)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=qe({type:e,selectors:[["app-list-field-item-wrapper"]],viewQuery:function(t,r){if(1&t&&Xr(Ite,7,Pn),2&t){let i;Fr(i=Vr())&&(r.viewContainerRef=i.first)}},inputs:{renderer:"renderer",isReadOnly:"isReadOnly",remove:"remove"},decls:6,vars:1,consts:[[1,"d-flex","align-items-center"],[1,"btn","btn-outline-danger",3,"disabled","click"],[1,"bi","bi-x-circle-fill"],[1,"flex-grow-1"],["container",""]],template:function(t,r){1&t&&(m(0,"div",0)(1,"button",1),P("click",function(){return r.remove.emit()}),He(2,"span",2),y(),m(3,"div",3),V(4,Ote,0,0,"ng-template",null,4,ir),y()()),2&t&&(v(1),w("disabled",r.isReadOnly))}}),e})();function $P(e,n){const t="object"==typeof n;return new Promise((r,i)=>{const s=new Q({next:o=>{r(o),s.unsubscribe()},error:i,complete:()=>{t?r(n.defaultValue):i(new Wd)}});e.subscribe(s)})}const Rte=["container"];function Lte(e,n){}let jP=(()=>{class e{constructor(){this.isInitialized=!1,this.itemRefs=[],this.fields=[],this._isReadOnly=!1}addItem(t){if(!this.fieldFactory||!this.viewContainerRef)throw new Error("Invalid initialization of ListField");const[r,i]=this.fieldFactory(),s=this.viewContainerRef.createComponent(xte);s.instance.renderer=r,null!=t&&(i.srcValue=t),$P(s.instance.remove).then(()=>{const o=this.itemRefs.indexOf(s);-1!=o&&(this.itemRefs.splice(o,1),this.fields.splice(o,1)),s.destroy()}),this.itemRefs.push(s),this.fields.push(i),i.isReadOnly=this.isReadOnly,s.instance.isReadOnly=this.isReadOnly}cleanup(){this.itemRefs.forEach(t=>t.destroy()),this.fields=[]}initWith(t){this.cleanup();for(const r of t)this.addItem(r)}ngOnInit(){this.isInitialized=!0,this.delayedInitValue&&this.initWith(this.delayedInitValue),this.delayedInitValue=void 0}set isReadOnly(t){this._isReadOnly=t;for(const r of this.fields)r.isReadOnly=t;for(const r of this.itemRefs)r.instance.isReadOnly=t}get isReadOnly(){return this._isReadOnly}set srcValue(t){this.isInitialized?this.initWith(t):this.delayedInitValue=t}set label(t){}set validator(t){this._validator=t}get destValue(){return Promise.all(this.fields.map(t=>t.destValue))}validate(){var t=this;return(0,b.Z)(function*(){if(!t.isInitialized)return!1;let r=!0;for(const s of t.fields){const o=yield s.validate();r&&=o}const i=!t._validator||(yield t._validator(t.fields));return r&&=i,r})()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=qe({type:e,selectors:[["app-list-field"]],viewQuery:function(t,r){if(1&t&&Xr(Rte,7,Pn),2&t){let i;Fr(i=Vr())&&(r.viewContainerRef=i.first)}},inputs:{fieldFactory:"fieldFactory"},decls:4,vars:1,consts:[["container",""],[1,"btn","btn-outline-success",3,"disabled","click"]],template:function(t,r){1&t&&(V(0,Lte,0,0,"ng-template",null,0,ir),m(2,"button",1),P("click",function(){return r.addItem()}),E(3,"Add"),y()),2&t&&(v(2),w("disabled",r.isReadOnly))}}),e})();class Qa extends bc{validate(){var n=this;return(0,b.Z)(function*(){return n._validator(n)})()}}const Pte=["defaultDateContainer"];function Nte(e,n){}let Fte=(()=>{class e{constructor(t,r){this.canvasService=t,this.environmentInjector=r,this.fieldId=wc(),this.errorMessage=void 0,this.validator=(0,b.Z)(function*(){return!0}),this.hasException=!1,this._label="",this._isReadOnly=!1,this.isInitialized=!1}ngOnInit(){if(!this.dateFieldBuilderFactory||!this.defaultDateContainerRef||!this.listFieldComponent)throw new Error("Fail to initialize MultipleSectionDateFieldComponent");const[t,r]=this.dateFieldBuilderFactory().build();t(this.defaultDateContainerRef),this._defaultDateField=r,this.isInitialized=!0,null!=this._delayedInitValue&&(this.srcValue=this._delayedInitValue),this.label=this.label,this.isReadOnly=this.isReadOnly}set srcValue(t){var r=this;if(!this.isInitialized)return void(this._delayedInitValue=t);if(!this._defaultDateField||!this.listFieldComponent)return;const[i,s]=t;this.listFieldComponent.fieldFactory=()=>{if(!this.dateFieldBuilderFactory)throw new Error("Fail to initialize list item for MultipleSectionDateFieldComponent");return qn(cs,"Section Names (separated by comma)",this.environmentInjector).appendField(new Qa).editField(o=>{o.validator=function(){var a=(0,b.Z)(function*(l){l.fieldA.errorMessage=void 0;const[u,c]=yield l.destValue,d=u.split(",").map(g=>g.trim()),f=yield r.canvasService.getSections(c),h=new Set((yield Va.convertAsyncIterableToList(f)).map(g=>g.name));let p=0;for(const g of d)if(0!=g.length&&(p++,!h.has(g)))return l.fieldA.errorMessage=`Section ${g} does not exist`,!1;return 0!=p||(l.fieldA.errorMessage="No section is specified",!1)});return function(l){return a.apply(this,arguments)}}()}).appendBuilder(qn(cs,"Display Name",this.environmentInjector).editField(o=>{o.validator=function(){var a=(0,b.Z)(function*([l,u]){return l.errorMessage=void 0,0!=u.length||(l.errorMessage="Display name cannot be empty",!1)});return function(l){return a.apply(this,arguments)}}()})).appendBuilder(this.dateFieldBuilderFactory()).transformSrc(([o,a])=>[o.sections.map(l=>l[0]).join(","),a,o.name,o.date]).transformDest(function(){var o=(0,b.Z)(function*([a,l,u,c]){const d=new Map;var p,f=!1,h=!1;try{for(var M,g=yr(yield r.canvasService.getSections(l));f=!(M=yield g.next()).done;f=!1){const Y=M.value;d.set(Y.name,Y.id)}}catch(Y){h=!0,p=Y}finally{try{f&&null!=g.return&&(yield g.return())}finally{if(h)throw p}}const O=[];for(let Y of a.split(","))Y=Y.trim(),0!=Y.length&&O.push([Y,d.get(Y)]);return{sections:O,name:u,date:c}});return function(a){return o.apply(this,arguments)}}()).editField(o=>{o.srcValue=[{sections:[],name:"",date:new Date},i]}).build()},s instanceof ja?(this._defaultDateField.srcValue=s.defaultDate,this.listFieldComponent.srcValue=s.overrides.map(o=>[o,i]),this.hasException=0!=s.overrides.length):(this._defaultDateField.srcValue=s,this.hasException=!1)}get destValue(){var t=this;return(0,b.Z)(function*(){if(!t._defaultDateField||!t.listFieldComponent)throw new Error("Invalid MultipleSectionDateFieldComponent");const r=yield t._defaultDateField.destValue,i=yield t.listFieldComponent.destValue;return t.hasException&&0!=i.length?new ja(r,i):r})()}set label(t){this._label=t,this._defaultDateField&&(this._defaultDateField.label=t)}get label(){return this._label}set isReadOnly(t){this._isReadOnly=t,this._defaultDateField&&(this._defaultDateField.isReadOnly=t),this.listFieldComponent&&(this.listFieldComponent.isReadOnly=t)}get isReadOnly(){return this._isReadOnly}validate(){var t=this;return(0,b.Z)(function*(){if(!t.isInitialized||!t._defaultDateField||!t.listFieldComponent)return!1;let r=!0;const i=yield t._defaultDateField.validate(),s=!t.hasException||(yield t.listFieldComponent.validate()),o=yield t.validator(t);return r&&=i,r&&=s,r&&=o,r})()}}return e.\u0275fac=function(t){return new(t||e)(D(In),D(Si))},e.\u0275cmp=qe({type:e,selectors:[["app-multiple-section-date-field"]],viewQuery:function(t,r){if(1&t&&(Xr(Pte,7,Pn),Xr(jP,7)),2&t){let i;Fr(i=Vr())&&(r.defaultDateContainerRef=i.first),Fr(i=Vr())&&(r.listFieldComponent=i.first)}},inputs:{dateFieldBuilderFactory:"dateFieldBuilderFactory",label:"label"},decls:8,vars:6,consts:[["defaultDateContainer",""],[1,"m-3"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"id","ngModel","disabled","readOnly","ngModelChange"],[1,"form-check-label",3,"for"],[3,"hidden"]],template:function(t,r){1&t&&(V(0,Nte,0,0,"ng-template",null,0,ir),m(2,"div",1)(3,"div",2)(4,"input",3),P("ngModelChange",function(s){return r.hasException=s}),y(),m(5,"label",4),E(6," Add exception(s) for section(s) "),y()(),He(7,"app-list-field",5),y()),2&t&&(v(4),w("id","checkbox"+r.fieldId)("ngModel",r.hasException)("disabled",r.isReadOnly)("readOnly",r.isReadOnly),v(1),w("for","checkbox"+r.fieldId),v(2),w("hidden",!r.hasException))},dependencies:[Hp,Oi,_i,jP]}),e})();function Vte(e,n){if(1&e&&(m(0,"p",4),E(1),y()),2&e){const t=C();v(1),et(t.errorMessage)}}let th=(()=>{class e extends bc{constructor(){super(),this.fieldId=wc(),this.validator=function(){var t=(0,b.Z)(function*([r,i]){return r.errorMessage=void 0,"number"==typeof i||(r.errorMessage="Value is invalid",!1)});return function(r){return t.apply(this,arguments)}}()}validate(){var t=this;return(0,b.Z)(function*(){return yield t._validator([t,yield t.destValue])})()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=qe({type:e,selectors:[["app-number-input-field"]],features:[Et],decls:5,vars:6,consts:[[1,"m-3"],[1,"form-label",3,"for"],["type","number","id","'input' + fieldId",1,"form-control",3,"ngModel","readonly","disabled","ngModelChange"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(t,r){1&t&&(m(0,"div",0)(1,"label",1),E(2),y(),m(3,"input",2),P("ngModelChange",function(s){return r.value=s}),y(),V(4,Vte,2,1,"p",3),y()),2&t&&(v(1),w("for","input"+r.fieldId),v(1),et(r.label),v(1),w("ngModel",r.value)("readonly",r.isReadOnly)("disabled",r.isReadOnly),v(1),w("ngIf",r.errorMessage))},dependencies:[Zt,eo,Jp,Oi,_i]}),e})();class TC extends YR{constructor(n,t){super(),this.fieldA=n,this.fieldB=t}set isReadOnly(n){this.fieldA.isReadOnly=n,this.fieldB.isReadOnly=n}set srcValue(n){2==n.length?(this.fieldA.srcValue=n[0],this.fieldB.srcValue=n[1]):(this.fieldA.srcValue=n.slice(0,n.length-1),this.fieldB.srcValue=n[n.length-1])}get destValue(){var n=this;return(0,b.Z)(function*(){const t=yield n.fieldA.destValue,r=yield n.fieldB.destValue;return Array.isArray(t)?[...t,r]:[t,r]})()}validate(){var n=this;return(0,b.Z)(function*(){let t=!0;const r=yield n.fieldA.validate(),i=yield n.fieldB.validate(),s=yield n._validator(n);return t&&=r,t&&=i,t&&=s,t})()}}class Bte{constructor(n,t){this.field=n,this.srcTransformer=t}set label(n){this.field.label=n}get label(){return this.field.label}set errorMessage(n){this.field.errorMessage=n}get errorMessage(){return this.field.errorMessage}set isReadOnly(n){this.field.isReadOnly=n}get isReadOnly(){return this.field.isReadOnly}set srcValue(n){this.field.srcValue=this.srcTransformer(n)}get destValue(){return this.field.destValue}set validator(n){this.field.validator=n}validate(){return this.field.validate()}}class Hte{constructor(n,t){this.field=n,this.config=t}set label(n){this.field.label=n}get label(){return this.field.label}set errorMessage(n){this.field.errorMessage=n}get errorMessage(){return this.field.errorMessage}set isReadOnly(n){this.config.setIsReadOnly?this.config.setIsReadOnly(this.field,n,t=>{this.field.isReadOnly=t}):this.field.isReadOnly=n}get isReadOnly(){return this.field.isReadOnly}set srcValue(n){this.field.srcValue=n}get destValue(){return this.field.destValue}set validator(n){this.field.validator=n}validate(){return this.field.validate()}}class $te{constructor(n,t){this.field=n,this.destTransformer=t}set label(n){this.field.label=n}get label(){return this.field.label}set errorMessage(n){this.field.errorMessage=n}get errorMessage(){return this.field.errorMessage}set isReadOnly(n){this.field.isReadOnly=n}get isReadOnly(){return this.field.isReadOnly}set srcValue(n){this.field.srcValue=n}get destValue(){var n=this;return(0,b.Z)(function*(){return n.destTransformer(yield n.field.destValue)})()}set validator(n){this.field.validator=n}validate(){return this.field.validate()}}class jte{constructor(n,t){this.field=n,this.VPTransformer=t}set label(n){this.field.label=n}get label(){return this.field.label}set errorMessage(n){this.field.errorMessage=n}get errorMessage(){return this.field.errorMessage}set isReadOnly(n){this.field.isReadOnly=n}get isReadOnly(){return this.field.isReadOnly}set srcValue(n){this.field.srcValue=n}get destValue(){return this.field.destValue}set validator(n){var t=this;this.field.validator=function(){var r=(0,b.Z)(function*(i){return n(yield t.VPTransformer(i))});return function(i){return r.apply(this,arguments)}}()}validate(){return this.field.validate()}}class Ute{constructor(n,t){this.field=n,this.VPTransformer=t}set label(n){this.field.label=n}get label(){return this.field.label}set errorMessage(n){this.field.errorMessage=n}get errorMessage(){return this.field.errorMessage}set isReadOnly(n){this.field.isReadOnly=n}get isReadOnly(){return this.field.isReadOnly}set srcValue(n){this.field.srcValue=n}get destValue(){return this.field.destValue}set validator(n){this._validator=n}validate(){var n=this;return(0,b.Z)(function*(){const t=yield n.field.validate();if(null!=n._validator){const r=yield n._validator(yield n.VPTransformer(n.field));return t&&r}return t})()}}class Zi{constructor(n=[],t){this.field=t,this._components=n?.slice(0)}setComp(n){for(const t of this._components)t.destroy();return new Zi([n],n.instance)}appendComp(n){if(!this.field)throw new Error("No field to append");return this._components.push(n),new Zi(this._components,new TC(this.field,n.instance))}appendField(n){if(!this.field)throw new Error("No field to append");return new Zi(this._components,new TC(this.field,n))}appendBuilder(n){if(!this.field||!n.field)throw new Error("No field to append");return new Zi(this._components.concat(n._components),new TC(this.field,n.field))}transformSrc(n){if(!this.field)throw new Error("No field to transform");return new Zi(this._components,new Bte(this.field,n))}transformDest(n){if(!this.field)throw new Error("No field to transform");return new Zi(this._components,new $te(this.field,n))}transformVP(n){if(!this.field)throw new Error("No field to transform");return new Zi(this._components,new jte(this.field,n))}appendVP(n){if(!this.field)throw new Error("No field to transform");return new Zi(this._components,new Ute(this.field,n))}modify(n){if(!this.field)throw new Error("No field to modify");return new Zi(this._components,new Hte(this.field,n))}getField(){if(!this.field)throw new Error("No field to get");return this.field}editField(n){if(!this.field)throw new Error("No field to edit");return n(this.field),this}build(){if(!this.field)throw new Error("No field to build");return[n=>{for(const t of this._components)n.insert(t.hostView)},this.field]}}function ws(e,n){if(Dn(2,arguments),"object"!==pf(n)||null===n)throw new RangeError("values parameter must be an object");var t=ar(e);return isNaN(t.getTime())?new Date(NaN):(null!=n.year&&t.setFullYear(n.year),null!=n.month&&(t=function zte(e,n){Dn(2,arguments);var t=ar(e),r=yi(n),i=t.getFullYear(),s=t.getDate(),o=new Date(0);o.setFullYear(i,r,15),o.setHours(0,0,0,0);var a=function Yte(e){Dn(1,arguments);var n=ar(e),t=n.getFullYear(),r=n.getMonth(),i=new Date(0);return i.setFullYear(t,r+1,0),i.setHours(0,0,0,0),i.getDate()}(o);return t.setMonth(r,Math.min(s,a)),t}(t,n.month)),null!=n.date&&t.setDate(yi(n.date)),null!=n.hours&&t.setHours(yi(n.hours)),null!=n.minutes&&t.setMinutes(yi(n.minutes)),null!=n.seconds&&t.setSeconds(yi(n.seconds)),null!=n.milliseconds&&t.setMilliseconds(yi(n.milliseconds)),t)}function zg(e,n){Dn(2,arguments);var t=ar(e),r=ar(n),i=t.getTime()-r.getTime();return i>0?-1:i<0?1:i}class Co{}function qn(e,n,t){return(new Zi).setComp(Wu(e,{environmentInjector:t})).editField(r=>{r.label=n})}function UP(e){return qn(cs,"Mutually Exclusive Token Options' IDs (separated by comma)",e).appendField(new Qa).editField(n=>{n.validator=function(){var t=(0,b.Z)(function*(r){n.fieldA.errorMessage=void 0;const[i,s]=yield r.destValue;for(let o of i.split(","))if(o=o.trim(),0!=o.length){if(isNaN(parseInt(o)))return n.fieldA.errorMessage="Non-numeric value exists in the list!",!1;if(null==s.getTokenOptionById(parseInt(o)))return n.fieldA.errorMessage=`Token Option with id ${o} does not exist`,!1}return!0});return function(r){return t.apply(this,arguments)}}()}).transformDest(function(){var n=(0,b.Z)(function*([t]){return t.split(",").filter(r=>r.trim(),0!=length).map(r=>parseInt(r.trim()))});return function(t){return n.apply(this,arguments)}}())}function MC(e,n){return qn(th,"Withdraw Token Option ID",n).appendField(new Qa).editField(t=>{t.validator=function(){var r=(0,b.Z)(function*(i){i.fieldA.errorMessage=void 0;const[s,o]=yield i.destValue,a=o.getTokenOptionById(s);if(!a)return i.fieldA.errorMessage="There is no token option with this id",!1;const l=yield e(a);return null==l||(i.fieldA.errorMessage=l,!1)});return function(i){return r.apply(this,arguments)}}()}).transformDest(function(){var t=(0,b.Z)(function*([r]){return r});return function(r){return t.apply(this,arguments)}}())}function YP(e,n){return qn(cs,"Quiz Name",n).appendField(new Qa).editField(t=>{t.validator=function(){var r=(0,b.Z)(function*(i){i.fieldA.errorMessage=void 0;const[s,o]=yield i.destValue;try{yield e.getQuizIdByName(o,s)}catch(a){return i.fieldA.errorMessage=a.toString(),!1}return!0});return function(i){return r.apply(this,arguments)}}()})}function nh(e){return qn(eh,"Start Time",e)}function zP(e){return qn(eh,"End Time",e)}function WP(e,n){return qn(eh,n,e).editField(t=>{t.validator=function(){var r=(0,b.Z)(function*([i,s,o]){if(!eh.DEFAULT_VALIDATOR([i,s,o]))return!1;const a=ws(new Date(s),{hours:0,minutes:0,seconds:0,milliseconds:0}),l=ws(new Date(s),{hours:0,minutes:0,seconds:59,milliseconds:999});return-1==zg(a,s)||1==zg(l,s)||(i.errorMessage="Canvas does not support a due date or lock date between 00:00:00 and 00:00:59",!1)});return function(i){return r.apply(this,arguments)}}()})}function qP(e,n,t){return qn(Fte,n,t).editField(r=>{r.dateFieldBuilderFactory=e})}function GP(e){return(new Zi).setComp(Wu(th,{environmentInjector:e})).editField(n=>{n.label="Grade Threshold",n.validator=function(){var t=(0,b.Z)(function*([r,i]){return r.errorMessage=void 0,"number"!=typeof i?(r.errorMessage="Invalid number",!1):!(i<0||i>1)||(r.errorMessage="Grade threshold needs to be a number between 0 and 1 (inclusive). E.g, 0.7",!1)});return function(r){return t.apply(this,arguments)}}()})}function To(e){const n=function Wte(e){const n=Wu(th,{environmentInjector:e});return n.instance.label="ID",n.instance.isReadOnly=!0,(new Zi).setComp(n).modify({setIsReadOnly:t=>{t.isReadOnly=!0}})}(e),t=Wu(bg,{environmentInjector:e}),r=Wu(th,{environmentInjector:e}),i=qn(cs,"Name",e).appendField(new Qa).editField(s=>{s.validator=function(){var o=(0,b.Z)(function*(a){a.fieldA.errorMessage=void 0;const l=yield a.destValue;if(0==l[0].length)return a.fieldA.errorMessage="Token option name cannot be empty",!1;const[u,c]=l[1];for(const d of u.tokenOptions)if(c!=d&&d.name==l[0])return a.fieldA.errorMessage="Cannot have two token options with the same name in a token option group",!1;return!0});return function(a){return o.apply(this,arguments)}}()}).transformDest(function(){var s=(0,b.Z)(function*([o]){return o});return function(o){return s.apply(this,arguments)}}());return t.instance.label="Description",r.instance.label="Token Balance Change",n.appendBuilder(i).appendComp(t).appendComp(r).transformSrc(s=>s instanceof br?[s.configuration.nextFreeTokenOptionId,["",[s,void 0]],"",0]:[s.id,[s.name,[s.group,s]],s.description,s.tokenBalanceChange]).transformDest(function(){var s=(0,b.Z)(function*([o,a,l,u]){return{type:"invalid",id:o,name:a,description:l,tokenBalanceChange:u,isMigrating:!1}});return function(o){return s.apply(this,arguments)}}())}function Mo(e,n,t,r="Invalid token option data: check error message under each field for details"){return n.appendComp(Wu(Ate,{environmentInjector:e})).appendVP(function(){var i=(0,b.Z)(function*(s){try{const o=(yield s.destValue)[0];return[s.fieldB,o,void 0]}catch(o){return[s.fieldB,void 0,o]}});return function(s){return i.apply(this,arguments)}}()).editField(i=>{i.validator=function(){var s=(0,b.Z)(function*([o,a,l]){if(o.srcValue=void 0,null!=l)return o.srcValue=`Fail to construct token option data: ${l.toString()}`,!1;const u=t(a);return u||(o.srcValue=r),u});return function(o){return s.apply(this,arguments)}}()}).transformSrc(i=>Array.isArray(i)?[...i,void 0]:[i,void 0]).transformDest(function(){var i=(0,b.Z)(function*(s){return 2==s.length?s[0]:s.slice(0,s.length-1)});return function(s){return i.apply(this,arguments)}}())}const qte=["container"];function Gte(e,n){}let Zte=(()=>{class e{constructor(t,r){this.configurationManagerService=t,this.environmentInjector=r,this._isProcessing=!1}ngOnInit(){if(!this.course||!this.container)throw new Error("Fail to initialize create configuration modal");const[t,r]=qn(cs,"The suffix of Assignment Group & Module name",this.environmentInjector).appendBuilder(qn(bg,"Description of Token ATM Log Assignment",this.environmentInjector)).transformSrc(()=>["",""]).build();this.field=r,this.field.srcValue=this.course,t(this.container)}onCancel(){this.onResolve&&this.onResolve(!1)}onCreateConfiguration(){var t=this;return(0,b.Z)(function*(){if(!t.course||!t.field||!t.onResolve)return;if(t.isProcessing=!0,!(yield t.field.validate()))return void(t.isProcessing=!1);const[r,i]=yield t.field.destValue;yield t.configurationManagerService.createTokenATMConfiguration(t.course,r,i),t.onResolve(!0)})()}set isProcessing(t){this._isProcessing=t,this.field&&(this.field.isReadOnly=t)}get isProcessing(){return this._isProcessing}}return e.\u0275fac=function(t){return new(t||e)(D(Wi),D(Si))},e.\u0275cmp=qe({type:e,selectors:[["app-create-configuration-modal"]],viewQuery:function(t,r){if(1&t&&Xr(qte,7,Pn),2&t){let i;Fr(i=Vr())&&(r.container=i.first)}},inputs:{onResolve:"onResolve",course:"course"},decls:16,vars:3,consts:[[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",3,"disabled","click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-body","message"],["container",""],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary","me-4",3,"disabled","click"],["type","button",1,"btn","btn-success",3,"disabled","click"]],template:function(t,r){1&t&&(m(0,"div",0)(1,"h4",1),E(2,"Create Token ATM Configuration"),y(),m(3,"button",2),P("click",function(){return r.onCancel()}),m(4,"span",3),E(5,"\xd7"),y()()(),m(6,"div",4)(7,"p"),E(8," The course you selected contains no Token ATM configuration, or the Token ATM configuration for this course is invalid. Do you want to create a new configuration? "),y(),V(9,Gte,0,0,"ng-template",null,5,ir),y(),m(11,"div",6)(12,"button",7),P("click",function(){return r.onCancel()}),E(13," Cancel "),y(),m(14,"button",8),P("click",function(){return r.onCreateConfiguration()}),E(15," Create "),y()()),2&t&&(v(3),w("disabled",r.isProcessing),v(9),w("disabled",r.isProcessing),v(2),w("disabled",r.isProcessing))}}),e})(),Ka=(()=>{class e{constructor(t,r){this.renderer=t,this.element=r}ngOnInit(){["d-flex","align-items-center","justify-content-center","vh-100"].forEach(t=>{this.renderer.addClass(this.element.nativeElement,t)})}}return e.\u0275fac=function(t){return new(t||e)(D(En),D(qt))},e.\u0275dir=Pe({type:e,selectors:[["","appCenter",""]]}),e})();function Qte(e,n){1&e&&(m(0,"span",6),He(1,"i",7),y()),2&e&&sp("title",C().info.tooltip)}let ZP=(()=>{class e{constructor(){this.uuid="",this.info=new io,this.data="",this.dataChange=new Me}ngOnInit(){this.uuid=wc()}onDataChange(t){this.dataChange.emit(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=qe({type:e,selectors:[["app-form-item"]],inputs:{info:"info",data:"data"},outputs:{dataChange:"dataChange"},decls:7,vars:7,consts:[[1,"form-item"],[1,"col-auto","col-sm-3","text-center","text-sm-end"],[3,"for"],["class","d-inline-block ms-2","data-toggle","tooltip",3,"title",4,"ngIf"],[1,"col-12","col-sm-6","col-lg-4"],[1,"form-control",3,"type","id","placeholder","ngModel","ngModelChange"],["data-toggle","tooltip",1,"d-inline-block","ms-2",3,"title"],[1,"bi","bi-question-circle"]],template:function(t,r){1&t&&(m(0,"div",0)(1,"div",1)(2,"label",2),E(3),y(),V(4,Qte,2,1,"span",3),y(),m(5,"div",4)(6,"input",5),P("ngModelChange",function(s){return r.onDataChange(s)}),y()()()),2&t&&(v(2),w("for",r.info.propertyID+r.uuid),v(1),et(r.info.propertyName),v(1),w("ngIf",r.info.tooltip),v(2),w("type",r.info.propertyType)("id",r.info.propertyID+r.uuid)("placeholder",r.info.inputPlaceholder)("ngModel",r.data))},dependencies:[Zt,eo,Oi,_i]}),e})();function Kte(e,n){if(1&e){const t=Oe();m(0,"div",1),P("click",function(){return $(t),j(C().onSelectCourse())}),m(1,"div",2)(2,"h5",3),E(3),y(),m(4,"h6",4),E(5),y()()()}if(2&e){const t=C();v(2),w("tooltip",t.course.name.length>20?t.course.name:void 0),v(1),Gt(" ",t.course.name," "),v(1),w("tooltip",t.course.term.length>20?t.course.term:void 0),v(1),Gt(" ",t.course.term," ")}}let Jte=(()=>{class e{constructor(){this.selectCourse=new Me}onSelectCourse(){this.course&&this.selectCourse.emit(this.course)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=qe({type:e,selectors:[["app-course-info-item"]],inputs:{course:"course"},outputs:{selectCourse:"selectCourse"},decls:1,vars:1,consts:[["class","card",3,"click",4,"ngIf"],[1,"card",3,"click"],[1,"card-body"],["placement","top",1,"card-title","text-truncate",3,"tooltip"],["placement","right",1,"card-subtitle","text-truncate","text-muted",3,"tooltip"]],template:function(t,r){1&t&&V(0,Kte,6,4,"div",0),2&t&&w("ngIf",r.course)},dependencies:[Zt,gP],styles:[".card[_ngcontent-%COMP%]{width:20rem;height:5rem;cursor:pointer}"]}),e})(),Vc=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=qe({type:e,selectors:[["app-canvas-loading-toast"]],decls:3,vars:0,consts:[[1,"toast","d-block"],[1,"toast-body"]],template:function(t,r){1&t&&(m(0,"div",0)(1,"div",1),E(2,"Token ATM is retrieving information from Canvas. Please wait..."),y()())}}),e})();function Xte(e,n){1&e&&(m(0,"div",2),He(1,"app-canvas-loading-toast"),y())}function ene(e,n){if(1&e){const t=Oe();m(0,"app-course-info-item",9),P("selectCourse",function(i){return $(t),j(C(2).onSelectCourse(i))}),y()}2&e&&w("course",n.$implicit)}function tne(e,n){if(1&e){const t=Oe();m(0,"app-course-info-item",9),P("selectCourse",function(i){return $(t),j(C(2).onSelectCourse(i))}),y()}2&e&&w("course",n.$implicit)}function nne(e,n){if(1&e){const t=Oe();m(0,"div",3)(1,"h1",4),E(2,"Welcome to Token ATM"),y(),m(3,"p"),E(4,"Please select a course"),y(),m(5,"app-form-item",5),P("dataChange",function(i){return $(t),j(C().onCourseNameChange(i))}),y(),m(6,"app-form-item",5),P("dataChange",function(i){return $(t),j(C().onTermNameChange(i))}),y(),m(7,"h2",6),E(8,"Courses you\u2019re enrolled in as a Teacher"),y(),m(9,"div",7),V(10,ene,1,1,"app-course-info-item",8),y(),m(11,"h2",6),E(12,"Courses you\u2019re enrolled in as a TA"),y(),m(13,"div",7),V(14,tne,1,1,"app-course-info-item",8),y()()}if(2&e){const t=C();v(5),w("info",t.courseItemInfo)("data",""),v(1),w("info",t.termItemInfo)("data",""),v(4),w("ngForOf",t.coursesAsTeacher),v(4),w("ngForOf",t.coursesAsTA)}}let rne=(()=>{class e{constructor(t,r,i,s){this.canvasService=t,this.router=r,this.configurationManagerService=i,this.modalService=s,this.loading=!0,this.coursesEnrolledAsTeacher=[],this.coursesEnrolledAsTA=[],this.courseItemInfo=new io("courseName","Search for Course","text"),this.courseName="",this.termItemInfo=new io("termName","Search for Term","text"),this.termName=""}ngOnInit(){this.loading=!0,this.fetchCourses().then(()=>{this.loading=!1})}fetchCourses(){var t=this;return(0,b.Z)(function*(){t.coursesEnrolledAsTeacher=yield Va.convertAsyncIterableToList(yield t.canvasService.getCourses("teacher","active")),t.coursesEnrolledAsTA=yield Va.convertAsyncIterableToList(yield t.canvasService.getCourses("ta","active"))})()}onCourseNameChange(t){this.courseName=t??""}onTermNameChange(t){this.termName=t??""}get coursesAsTeacher(){return this.coursesEnrolledAsTeacher.filter(t=>-1!=t.name.toLowerCase().indexOf(this.courseName.toLowerCase())&&-1!=t.term.toLowerCase().indexOf(this.termName.toLowerCase()))}get coursesAsTA(){return this.coursesEnrolledAsTA.filter(t=>-1!=t.name.toLowerCase().indexOf(this.courseName.toLowerCase())&&-1!=t.term.toLowerCase().indexOf(this.termName.toLowerCase()))}onSelectCourse(t){var r=this;return(0,b.Z)(function*(){r.loading=!0;try{yield r.configurationManagerService.getTokenATMConfiguration(t),r.router.navigateByUrl("/dashboard",{state:t})}catch{let s;const o=new Promise(u=>{s=u}),a=r.modalService.show(Zte,{initialState:{onResolve:s,course:t},class:"modal-lg",backdrop:"static",keyboard:!1});(yield o)?(a.hide(),r.router.navigateByUrl("/dashboard",{state:t})):(r.loading=!1,a.hide())}})()}}return e.\u0275fac=function(t){return new(t||e)(D(In),D(ti),D(Wi),D(us))},e.\u0275cmp=qe({type:e,selectors:[["app-course-selection"]],decls:3,vars:2,consts:[["appCenter","",4,"ngIf","ngIfElse"],["courseSelectionPanel",""],["appCenter",""],[1,"container","my-5","text-center","align-items-center","overflow-y-auto"],[1,"text-primary"],[1,"my-2",3,"info","data","dataChange"],[1,"my-4"],[1,"row","gy-3"],["class","col-auto",3,"course","selectCourse",4,"ngFor","ngForOf"],[1,"col-auto",3,"course","selectCourse"]],template:function(t,r){if(1&t&&(V(0,Xte,2,0,"div",0),V(1,nne,15,6,"ng-template",null,1,ir)),2&t){const i=Ks(2);w("ngIf",r.loading)("ngIfElse",i)}},dependencies:[Br,Zt,Ka,ZP,Jte,Vc],styles:["h1[_ngcontent-%COMP%]{display:block}"]}),e})();function ine(e,n){if(1&e){const t=Oe();Yn(0),m(1,"div",1)(2,"h4",2),E(3),y(),m(4,"button",3),P("click",function(){return $(t),j(C().onResolve(!1))}),m(5,"span",4),E(6,"\xd7"),y()()(),m(7,"div",5),E(8),y(),m(9,"div",6)(10,"button",7),P("click",function(){return $(t),j(C().onResolve(!1))}),E(11),y(),m(12,"button",8),P("click",function(){return $(t),j(C().onResolve(!0))}),E(13),y()(),zn()}if(2&e){const t=C();v(3),et(t.heading),v(1),w("disabled",t.disableButton),v(4),Gt(" ",t.message," "),v(2),w("disabled",t.disableButton),v(1),Gt(" ",t.noText," "),v(1),st("btn-danger",t.isDanger)("btn-primary",!t.isDanger),w("disabled",t.disableButton),v(1),Gt(" ",t.yesText," ")}}let sne=(()=>{class e{constructor(){this.message="",this.heading="Confirmation",this.noText="Cancel",this.yesText="Yes",this.isDanger=!1,this.disableButton=!1}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=qe({type:e,selectors:[["app-confirmation-modal"]],inputs:{message:"message",heading:"heading",noText:"noText",yesText:"yesText",isDanger:"isDanger",disableButton:"disableButton",onResolve:"onResolve"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",3,"disabled","click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-body","message"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary","me-4",3,"disabled","click"],["type","button",1,"btn",3,"disabled","click"]],template:function(t,r){1&t&&V(0,ine,14,11,"ng-container",0),2&t&&w("ngIf",r.onResolve)},dependencies:[Zt],styles:[".message[_ngcontent-%COMP%]{white-space:pre-line}"]}),e})();function one(e,n){if(1&e){const t=Oe();Yn(0),m(1,"div",1)(2,"h4",2),E(3),y(),m(4,"button",3),P("click",function(){return $(t),j(C().onResolve())}),m(5,"span",4),E(6,"\xd7"),y()()(),m(7,"div",5),E(8),y(),m(9,"div",6)(10,"button",7),P("click",function(){return $(t),j(C().onResolve())}),E(11,"Close"),y()(),zn()}if(2&e){const t=C();v(3),et(t.heading),v(5),Gt(" ",t.message," ")}}let ane=(()=>{class e{constructor(){this.message="",this.heading="Notification"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=qe({type:e,selectors:[["app-notification-modal"]],inputs:{message:"message",heading:"heading",onResolve:"onResolve"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",3,"click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-body","message"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary","me-4",3,"click"]],template:function(t,r){1&t&&V(0,one,12,2,"ng-container",0),2&t&&w("ngIf",r.onResolve)},dependencies:[Zt],styles:[".message[_ngcontent-%COMP%]{white-space:pre-line;word-break:break-all;max-height:80vh;overflow-y:auto}"]}),e})(),ma=(()=>{class e{constructor(t){this.modalService=t}createConfirmationModal(t,r="Confirmation",i=!1,s="Cancel",o="Yes"){var a=this;return(0,b.Z)(function*(){let l;const u=new Promise(h=>{l=h});return[a.modalService.show(sne,{initialState:{message:t,heading:r,isDanger:i,noText:s,yesText:o,onResolve:h=>{l(h)}},backdrop:"static",keyboard:!1}),yield u]})()}createConfirmationModalWithoutRef(t,r="Confirmation",i=!1,s="Cancel",o="Yes"){var a=this;return(0,b.Z)(function*(){const[l,u]=yield a.createConfirmationModal(t,r,i,s,o);return l.hide(),u})()}createNotificationModal(t,r="Notification"){var i=this;return(0,b.Z)(function*(){let s;const o=new Promise(u=>{s=u}),l=i.modalService.show(ane,{initialState:{message:t,heading:r,onResolve:()=>{s()}},backdrop:"static",keyboard:!1});yield o,l.hide()})()}}return e.\u0275fac=function(t){return new(t||e)(J(us))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class Mr{constructor(n,t,r,i,s,o,a,l,u,c){this._configuration=n,this._tokenOptionId=t,this._tokenOption=n.getTokenOptionById(t),this._tokenOptionName=r,this._tokenOptionGroupId=c,this._student=i,this._isApproved=s,this._submittedTime=o,this._processedTime=a,this._tokenBalanceChange=l,this._message=u}get configuration(){return this._configuration}get tokenOption(){return this._tokenOption}get tokenOptionName(){return this._tokenOptionName}get tokenOptionGroupId(){return this._tokenOptionGroupId}get student(){return this._student}get isApproved(){return this._isApproved}get submittedTime(){return this._submittedTime}get processedTime(){return this._processedTime}get message(){return this._message??""}get tokenBalanceChange(){return this._tokenBalanceChange}toJSON(){return{token_option_id:this._tokenOptionId,token_option_name:this.tokenOptionName,token_option_group_id:this.tokenOptionGroupId,is_approved:this.isApproved,submit_time:Tf(this.submittedTime),process_time:Tf(this.processedTime),message:this.message,token_balance_change:this.tokenBalanceChange}}static deserialize(n,t,r){if("number"!=typeof r.token_option_id||"string"!=typeof r.token_option_name||typeof r.token_option_group_id<"u"&&"number"!=typeof r.token_option_group_id||"boolean"!=typeof r.is_approved||typeof r.message<"u"&&"string"!=typeof r.message||"number"!=typeof r.submit_time||"number"!=typeof r.process_time||"number"!=typeof r.token_balance_change)throw new Error("Invalid data");return new Mr(n,r.token_option_id,r.token_option_name,t,r.is_approved,pc(r.submit_time),pc(r.process_time),r.token_balance_change,r.message,r.token_option_group_id)}}class So{}let lne=(()=>{class e extends So{constructor(t){super(),this.canvasService=t}handle(t,r,i){var s=this;return(0,b.Z)(function*(){return console.log("Basic request processed",s.canvasService),new Mr(t,i.tokenOption.id,i.tokenOption.name,r.student,!0,i.submittedTime,new Date,i.tokenOption.tokenBalanceChange,"This basic request is approved.",i.tokenOption.group.id)})()}get type(){return"basic"}}return e.\u0275fac=function(t){return new(t||e)(J(In))},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})();class Ds{}class une extends Ds{constructor(n,t,r,i,s){super(),this.courseId=n,this.moduleId=t,this.studentId=r,this.gradeThreshold=i,this.canvasService=s}check(n){var t=this;return(0,b.Z)(function*(){const[r,i]=yield t.canvasService.getModuleScore(t.courseId,t.moduleId,t.studentId);0!=i&&r/i<t.gradeThreshold&&n(`Module score ${r}/${i} (${(r/i*100).toFixed(2)}%) is lower than the threshold (${(100*t.gradeThreshold).toFixed(2)}%).`)})()}}class Bc extends Ds{constructor(n,t){super(),this.tokenOption=n,this.processedRequests=t}check(n){var t=this;return(0,b.Z)(function*(){let r=0;for(const i of t.processedRequests)i.tokenOption&&i.isApproved&&(t.tokenOption.id==i.tokenOption.id?r++:gc.is(i.tokenOption)&&i.tokenOption.withdrawTokenOptionId==t.tokenOption.id&&r>0&&r--);0!=r&&n("There is already an approved request for this token option.")})()}}class ga{constructor(n){this.guards=n,this._isRejected=!1}check(){var n=this;return(0,b.Z)(function*(){const t=function(){var r=(0,b.Z)(function*(i){n._isRejected=!0,n._message=i});return function(s){return r.apply(this,arguments)}}();for(const r of n.guards)if(yield r.check(t),n._isRejected)return})()}get isRejected(){return this._isRejected}get message(){return this._message}}class zl extends Ds{constructor(n,t){super(),this.submittedDate=n,this.startDate=t}check(n){var t=this;return(0,b.Z)(function*(){-1==Sm(t.submittedDate,t.startDate)&&n("Request was submitted before the start date")})()}}let cne=(()=>{class e extends So{constructor(t){super(),this.canvasService=t}handle(t,r,i){var s=this;return(0,b.Z)(function*(){const o=new ga([new zl(i.submittedTime,i.tokenOption.startTime),new Bc(i.tokenOption,r.processedRequests),new une(t.course.id,i.tokenOption.moduleId,r.student.id,i.tokenOption.gradeThreshold,s.canvasService)]);return yield o.check(),new Mr(t,i.tokenOption.id,i.tokenOption.name,i.student,!o.isRejected,i.submittedTime,new Date,o.isRejected?0:i.tokenOption.tokenBalanceChange,o.message,i.tokenOption.group.id)})()}get type(){return"earn-by-module"}}return e.\u0275fac=function(t){return new(t||e)(J(In))},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})();class dne extends Ds{constructor(n,t,r,i,s){super(),this.courseId=n,this.quizId=t,this.studentId=r,this.gradeThreshold=i,this.canvasService=s}check(n){var t=this;return(0,b.Z)(function*(){const r=yield t.canvasService.getQuiz(t.courseId,t.quizId),i=yield t.canvasService.getSingleSubmissionGrade(t.courseId,t.studentId,r.assignmentId);0!=r.pointsPossible&&i/r.pointsPossible<t.gradeThreshold&&n(`Quiz score ${i}/${r.pointsPossible}  (${(i/r.pointsPossible*100).toFixed(2)}%) is lower than the threshold (${(100*t.gradeThreshold).toFixed(2)}%).`)})()}}let fne=(()=>{class e extends So{constructor(t){super(),this.canvasService=t}handle(t,r,i){var s=this;return(0,b.Z)(function*(){const o=new ga([new zl(i.submittedTime,i.tokenOption.startTime),new Bc(i.tokenOption,r.processedRequests),new dne(t.course.id,i.tokenOption.quizId,i.student.id,i.tokenOption.gradeThreshold,s.canvasService)]);return yield o.check(),new Mr(t,i.tokenOption.id,i.tokenOption.name,i.student,!o.isRejected,i.submittedTime,new Date,o.isRejected?0:i.tokenOption.tokenBalanceChange,o.message,i.tokenOption.group.id)})()}get type(){return"earn-by-quiz"}}return e.\u0275fac=function(t){return new(t||e)(J(In))},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})();var hne=ce(139);let Wg=(()=>{var e=new WeakMap,n=new WeakMap,t=new WeakMap,r=new WeakMap,i=new WeakMap;class s{constructor(a){so(this,e,{writable:!0,value:void 0}),so(this,n,{writable:!0,value:void 0}),so(this,t,{writable:!0,value:void 0}),so(this,r,{writable:!0,value:void 0}),so(this,i,{writable:!0,value:void 0}),this.axiosService=a,this.participationCache=new Map}hasCredentialConfigured(){return null!=sn(this,e)&&null!=sn(this,n)&&null!=sn(this,t)}configureCredential(a,l,u){var c=this;return(0,b.Z)(function*(){tr(c,e,a),tr(c,n,l),tr(c,t,u),tr(c,i,`https://${sn(c,e)}.qualtrics.com`);try{yield c.apiRequest("/API/v3/whoami")}catch(d){return d}})()}clearCredential(){var a=this;return(0,b.Z)(function*(){tr(a,e,void 0),tr(a,n,void 0),tr(a,t,void 0),tr(a,i,void 0),tr(a,r,void 0)})()}refreshQualtricsAccessToken(){var a=this;return(0,b.Z)(function*(){const l=function(){var c=(0,b.Z)(function*(){if(!sn(a,i)||!sn(a,n)||!sn(a,t))throw new Error("Credentials for Qualtrics are invalid");return(yield a.axiosService.request({url:sn(a,i)+"/oauth2/token",method:"post",auth:{username:sn(a,n),password:sn(a,t)},params:{grant_type:"client_credentials",scope:["read:survey_responses","read:users"].join(" ")}})).data});return function(){return c.apply(this,arguments)}}(),u=yield Bm.execute(l,function(){var c=(0,b.Z)(function*(d,f){return!Fm(f)});return function(d,f){return c.apply(this,arguments)}}());tr(a,r,"string"==typeof u.access_token?u.access_token:void 0)})()}rawAPIRequest(a,l){var u=this;return(0,b.Z)(function*(){let c=!1;for(sn(u,r)||(c=!0,yield u.refreshQualtricsAccessToken());;)try{const d=function(){var f=(0,b.Z)(function*(){return yield u.axiosService.request({...l,url:sn(u,i)+a,headers:{...l?.headers,Authorization:"Bearer "+sn(u,r)}})});return function(){return f.apply(this,arguments)}}();return yield Bm.execute(d,function(){var f=(0,b.Z)(function*(h,p){return!Fm(p)});return function(h,p){return f.apply(this,arguments)}}())}catch(d){if(d.response&&401==d.response.status&&!c){c=!0,yield u.refreshQualtricsAccessToken();continue}throw d}})()}apiRequest(a,l){var u=this;return(0,b.Z)(function*(){return(yield u.rawAPIRequest(a,l)).data})()}cacheSurveyParticipation(a,l){var u=this;return(0,b.Z)(function*(){const c=new Set,d=(yield u.apiRequest(`/API/v3/surveys/${a}/export-responses`,{method:"post",data:{format:"json",questionIds:[],surveyMetadataIds:["recordedDate","finished"]}})).result.progressId;let f="";for(;;){const p=yield u.apiRequest(`/API/v3/surveys/${a}/export-responses/${d}`);if("complete"==p.result.status){f=p.result.fileId;break}yield new Promise(g=>setTimeout(g,1e3*s.WAIT_SECONDS))}const h=yield u.apiRequest(`/API/v3/surveys/${a}/export-responses/${f}/file`,{responseType:"arraybuffer"});for(const p of(yield(0,hne.Dg)(h)).entries){const g=yield p.json();if(Array.isArray(g.responses))for(const M of g.responses){if(!M?.values?.finished||1!=M.values.finished&&1!=M.values.finished&&"True"!=M.values.finished)continue;const O=M?.values?.[l];"string"==typeof O&&c.add(O)}}u.participationCache.set(a,c)})()}checkParticipation(a,l,u){var c=this;return(0,b.Z)(function*(){return c.participationCache.has(a)||(yield c.cacheSurveyParticipation(a,l)),c.participationCache.get(a)?.has(u)??!1})()}clearCache(){this.participationCache.clear()}}return s.WAIT_SECONDS=2,s.\u0275fac=function(a){return new(a||s)(J(Ew))},s.\u0275prov=q({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();class rh extends Ds{constructor(n,t){super(),this.submittedDate=n,this.endDate=t}check(n){var t=this;return(0,b.Z)(function*(){-1==zg(t.submittedDate,t.endDate)&&n("Request was submitted after the end date")})()}}class pne extends Ds{constructor(n,t,r,i){super(),this.surveyId=n,this.fieldName=t,this.participationId=r,this.qualtricsService=i}check(n){var t=this;return(0,b.Z)(function*(){""!=t.participationId?(yield t.qualtricsService.checkParticipation(t.surveyId,t.fieldName,t.participationId))||n("You did not complete the survey. Or your default email address on Canvas doesn't match the email connected with the Qualtrics Survey."):n("Your Canvas email address is not visible, please contact your institution for help.")})()}}let mne=(()=>{class e extends So{constructor(t){super(),this.qualtricsService=t}handle(t,r,i){var s=this;return(0,b.Z)(function*(){const o=new ga([new zl(i.submittedTime,i.tokenOption.startTime),new rh(i.submittedTime,i.tokenOption.endTime),new Bc(i.tokenOption,r.processedRequests),new pne(i.tokenOption.surveyId,i.tokenOption.fieldName,r.student.email,s.qualtricsService)]);return yield o.check(),new Mr(t,i.tokenOption.id,i.tokenOption.name,i.student,!o.isRejected,i.submittedTime,new Date,o.isRejected?0:i.tokenOption.tokenBalanceChange,o.message,i.tokenOption.group.id)})()}get type(){return"earn-by-survey"}}return e.\u0275fac=function(t){return new(t||e)(J(Wg))},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})();class SC extends Ds{constructor(n,t){super(),this.currentTokenBalance=n,this.tokenBalanceChange=t}check(n){var t=this;return(0,b.Z)(function*(){t.currentTokenBalance+t.tokenBalanceChange<0&&n(`Insufficient token balance (need ${Math.abs(t.tokenBalanceChange)}, have ${t.currentTokenBalance})`)})()}}class QP extends Ds{constructor(n,t,r,i,s){super(),this.courseId=n,this.studentId=t,this.submittedDate=r,this.endDate=i,this.canvasService=s}check(n){var t=this;return(0,b.Z)(function*(){const r=t.endDate.match(yield Va.convertAsyncIterableToList(yield t.canvasService.getStudentSectionEnrollments(t.courseId,t.studentId)));-1==zg(t.submittedDate,r)&&n("Request was submitted after the end date")})()}}let gne=(()=>{class e extends So{constructor(t){super(),this.canvasService=t}handle(t,r,i){var s=this;return(0,b.Z)(function*(){const o=new ga([new zl(i.submittedTime,i.tokenOption.startTime),i.tokenOption.endTime instanceof Date?new rh(i.submittedTime,i.tokenOption.endTime):new QP(t.course.id,r.student.id,i.submittedTime,i.tokenOption.endTime,s.canvasService),new Bc(i.tokenOption,r.processedRequests),new SC(r.tokenBalance,i.tokenOption.tokenBalanceChange)]);yield o.check();const a=i.tokenOption.newDueTime;return o.isRejected||(yield s.canvasService.createAssignmentOverrideForStudent(t.course.id,i.tokenOption.assignmentId,i.student.id,`Token ATM - ${t.uid}`,a instanceof Date?a:a.match(yield Va.convertAsyncIterableToList(yield s.canvasService.getStudentSectionEnrollments(t.course.id,r.student.id))))),new Mr(t,i.tokenOption.id,i.tokenOption.name,i.student,!o.isRejected,i.submittedTime,new Date,o.isRejected?0:i.tokenOption.tokenBalanceChange,o.message??"",i.tokenOption.group.id)})()}get type(){return"spend-for-assignment-resubmission"}}return e.\u0275fac=function(t){return new(t||e)(J(In))},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})();class KP extends Ds{constructor(n,t){super(),this.excludeTokenOptionIds=n,this.processedRequests=t}check(n){var t=this;return(0,b.Z)(function*(){for(const r of t.excludeTokenOptionIds)if(t.hasApprovedRequest(r))return void n("You have an approved request to another token option that is mutually exclusive with this token option.")})()}hasApprovedRequest(n){let t=0;for(const r of this.processedRequests)r.tokenOption&&r.isApproved&&(n==r.tokenOption.id?t++:gc.is(r.tokenOption)&&r.tokenOption.withdrawTokenOptionId==n&&t>0&&t--);return 0!=t}}let _ne=(()=>{class e extends So{constructor(t){super(),this.canvasService=t}handle(t,r,i){var s=this;return(0,b.Z)(function*(){const o=new ga([new zl(i.submittedTime,i.tokenOption.startTime),new rh(i.submittedTime,i.tokenOption.endTime),new Bc(i.tokenOption,r.processedRequests),new KP(i.tokenOption.excludeTokenOptionIds,r.processedRequests),new SC(r.tokenBalance,i.tokenOption.tokenBalanceChange)]);if(yield o.check(),!o.isRejected){const a=yield s.canvasService.getAssignmentIdByQuizId(t.course.id,i.tokenOption.quizId);yield s.canvasService.createAssignmentOverrideForStudent(t.course.id,a,i.student.id,`Token ATM - ${t.uid}`,i.tokenOption.newDueTime)}return new Mr(t,i.tokenOption.id,i.tokenOption.name,i.student,!o.isRejected,i.submittedTime,new Date,o.isRejected?0:i.tokenOption.tokenBalanceChange,o.message??"",i.tokenOption.group.id)})()}get type(){return"spend-for-lab-data"}}return e.\u0275fac=function(t){return new(t||e)(J(In))},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})(),yne=(()=>{class e extends So{handle(t,r,i){return(0,b.Z)(function*(){const s=new ga([new Bc(i.tokenOption,r.processedRequests),new KP(i.tokenOption.excludeTokenOptionIds,r.processedRequests),new SC(r.tokenBalance,i.tokenOption.tokenBalanceChange)]);yield s.check();const o=s.message??"",a=s.isRejected;return new Mr(t,i.tokenOption.id,i.tokenOption.name,i.student,!a,i.submittedTime,new Date,a?0:i.tokenOption.tokenBalanceChange,o,i.tokenOption.group.id)})()}get type(){return"spend-for-lab-switch"}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=gt(e)))(r||e)}}(),e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})();class kC extends Ds{constructor(n,t){super(),this.withdrawTokenOption=n,this.processedRequests=t}check(n){var t=this;return(0,b.Z)(function*(){let r=0;for(const i of t.processedRequests)i.tokenOption&&i.isApproved&&(t.withdrawTokenOption.id==i.tokenOption.id?r++:gc.is(i.tokenOption)&&i.tokenOption.withdrawTokenOptionId==t.withdrawTokenOption.id&&r>0&&r--);0==r&&n("There is no request to withdraw.")})()}}class vne extends Ds{constructor(n,t,r,i,s,o){super(),this.courseId=n,this.assignmentId=t,this.studentId=r,this.overrideTitlePrefix=i,this.lockDate=s,this.canvasService=o}check(n){var t=this;return(0,b.Z)(function*(){if(yield t.canvasService.deleteAssignmentOverrideForStudent(t.courseId,t.assignmentId,t.studentId),"unsubmitted"!=(yield t.canvasService.getAssignmentSubmission(t.courseId,t.assignmentId,t.studentId)).workflowState)return yield t.canvasService.createAssignmentOverrideForStudent(t.courseId,t.assignmentId,t.studentId,t.overrideTitlePrefix,t.lockDate),void n("You have already made a submission to the assignment.")})()}}let bne=(()=>{class e extends So{constructor(t){super(),this.canvasService=t}handle(t,r,i){var s=this;return(0,b.Z)(function*(){let o="",a=!1;const l=i.tokenOption.withdrawTokenOption;if(l){const u=l.newDueTime,c=new ga([new zl(i.submittedTime,l.startTime),l.endTime instanceof Date?new rh(i.submittedTime,l.endTime):new QP(t.course.id,r.student.id,i.submittedTime,l.endTime,s.canvasService),new kC(l,r.processedRequests),new vne(t.course.id,l.assignmentId,r.student.id,`Token ATM - ${t.uid}`,u instanceof Date?u:u.match(yield Va.convertAsyncIterableToList(yield s.canvasService.getStudentSectionEnrollments(t.course.id,r.student.id))),s.canvasService)]);yield c.check(),o=c.message??"",a=c.isRejected}else o="The withdraw token option you requested is no longer valid.",a=!0;return new Mr(t,i.tokenOption.id,i.tokenOption.name,i.student,!a,i.submittedTime,new Date,a?0:i.tokenOption.tokenBalanceChange,o,i.tokenOption.group.id)})()}get type(){return"withdraw-assignment-resubmission"}}return e.\u0275fac=function(t){return new(t||e)(J(In))},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})();class wne extends Ds{constructor(n,t,r,i,s,o){super(),this.courseId=n,this.quizId=t,this.studentId=r,this.overrideTitlePrefix=i,this.lockDate=s,this.canvasService=o}check(n){var t=this;return(0,b.Z)(function*(){const r=yield t.canvasService.getAssignmentIdByQuizId(t.courseId,t.quizId);yield t.canvasService.deleteAssignmentOverrideForStudent(t.courseId,r,t.studentId);var o,i=!1,s=!1;try{for(var l,a=yr(yield t.canvasService.getQuizSubmissions(t.courseId,t.quizId));i=!(l=yield a.next()).done;i=!1)if(l.value.studentId==t.studentId)return yield t.canvasService.createAssignmentOverrideForStudent(t.courseId,r,t.studentId,t.overrideTitlePrefix,t.lockDate),void n("You have already started taking the quiz, or you have already taken the quiz.")}catch(u){s=!0,o=u}finally{try{i&&null!=a.return&&(yield a.return())}finally{if(s)throw o}}})()}}const Dne=[lne,cne,fne,gne,_ne,mne,bne,(()=>{class e extends So{constructor(t){super(),this.canvasService=t}handle(t,r,i){var s=this;return(0,b.Z)(function*(){let o="",a=!1;const l=i.tokenOption.withdrawTokenOption;if(l){const u=new ga([new zl(i.submittedTime,l.startTime),new rh(i.submittedTime,l.endTime),new kC(l,r.processedRequests),new wne(t.course.id,l.quizId,r.student.id,`Token ATM - ${t.uid}`,l.newDueTime,s.canvasService)]);yield u.check(),o=u.message??"",a=u.isRejected}else o="The withdraw token option you requested is no longer valid.",a=!0;return new Mr(t,i.tokenOption.id,i.tokenOption.name,i.student,!a,i.submittedTime,new Date,a?0:i.tokenOption.tokenBalanceChange,o,i.tokenOption.group.id)})()}get type(){return"withdraw-lab-data"}}return e.\u0275fac=function(t){return new(t||e)(J(In))},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})(),yne,(()=>{class e extends So{handle(t,r,i){return(0,b.Z)(function*(){let s="",o=!1;const a=i.tokenOption.withdrawTokenOption;if(a){const l=new ga([new kC(a,r.processedRequests)]);yield l.check(),s=l.message??"",o=l.isRejected}else s="The withdraw token option you requested is no longer valid.",o=!0;return o||(s="You don't have the permission to withdraw a lab switch request. This token option is only requestable by instructors on your behalf.",o=!0),new Mr(t,i.tokenOption.id,i.tokenOption.name,i.student,!o,i.submittedTime,new Date,o?0:i.tokenOption.tokenBalanceChange,s,i.tokenOption.group.id)})()}get type(){return"withdraw-lab-switch"}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=gt(e)))(r||e)}}(),e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})()],JP=new Le("REQUEST_HANDLERS");let Cne=(()=>{class e{constructor(t){this._requestHandlersMap=new Map,t&&t.forEach(r=>{this._requestHandlersMap.set(r.type,r)})}getRequestHandler(t){const r=this._requestHandlersMap.get(t);if(!r)throw new Error("Unsupported request type");return r}handleRequest(t,r,i){return this.getRequestHandler(i.type).handle(t,r,i)}}return e.\u0275fac=function(t){return new(t||e)(J(JP,8))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class ko{constructor(n,t,r,i){this._tokenOption=n,this._student=t,this._submittedTime=r,this._quizSubmissionDetail=i}get tokenOption(){return this._tokenOption}get type(){return this._tokenOption.type}get student(){return this._student}get submittedTime(){return this._submittedTime}get quizSubmissionDetail(){return this._quizSubmissionDetail}}class Tne extends ko{}class Eo{}let Mne=(()=>{class e extends Eo{resolve(t,r){return(0,b.Z)(function*(){return new Tne(t,r.student,r.submittedTime,r)})()}get type(){return"basic"}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=gt(e)))(r||e)}}(),e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})();class Sne extends ko{}let kne=(()=>{class e extends Eo{resolve(t,r){return(0,b.Z)(function*(){return new Sne(t,r.student,r.submittedTime,r)})()}get type(){return"earn-by-module"}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=gt(e)))(r||e)}}(),e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})();class Ene extends ko{}let Ane=(()=>{class e extends Eo{resolve(t,r){return(0,b.Z)(function*(){return new Ene(t,r.student,r.submittedTime,r)})()}get type(){return"earn-by-quiz"}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=gt(e)))(r||e)}}(),e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})();class Ine extends ko{}let One=(()=>{class e extends Eo{resolve(t,r){return(0,b.Z)(function*(){return new Ine(t,r.student,r.submittedTime,r)})()}get type(){return"earn-by-survey"}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=gt(e)))(r||e)}}(),e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})();class xne extends ko{}let Rne=(()=>{class e extends Eo{resolve(t,r){return(0,b.Z)(function*(){return new xne(t,r.student,r.submittedTime,r)})()}get type(){return"spend-for-assignment-resubmission"}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=gt(e)))(r||e)}}(),e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})();class Lne extends ko{}let Pne=(()=>{class e extends Eo{resolve(t,r){return(0,b.Z)(function*(){return new Lne(t,r.student,r.submittedTime,r)})()}get type(){return"spend-for-lab-data"}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=gt(e)))(r||e)}}(),e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})();class Nne extends ko{}let Fne=(()=>{class e extends Eo{resolve(t,r){return(0,b.Z)(function*(){return new Nne(t,r.student,r.submittedTime,r)})()}get type(){return"spend-for-lab-switch"}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=gt(e)))(r||e)}}(),e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})();class Vne extends ko{}let Bne=(()=>{class e extends Eo{resolve(t,r){return(0,b.Z)(function*(){return new Vne(t,r.student,r.submittedTime,r)})()}get type(){return"withdraw-assignment-resubmission"}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=gt(e)))(r||e)}}(),e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})();class Hne extends ko{}let $ne=(()=>{class e extends Eo{resolve(t,r){return(0,b.Z)(function*(){return new Hne(t,r.student,r.submittedTime,r)})()}get type(){return"withdraw-lab-data"}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=gt(e)))(r||e)}}(),e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})();class jne extends ko{}const Une=[Mne,kne,Ane,Rne,Pne,One,Bne,$ne,Fne,(()=>{class e extends Eo{resolve(t,r){return(0,b.Z)(function*(){return new jne(t,r.student,r.submittedTime,r)})()}get type(){return"withdraw-lab-switch"}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=gt(e)))(r||e)}}(),e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})()],XP=new Le("REQUEST_RESOLVERS");let Yne=(()=>{class e{constructor(t){this._requestResolversMap=new Map,t&&t.forEach(r=>{this._requestResolversMap.set(r.type,r)})}getRequestResolver(t){const r=this._requestResolversMap.get(t);if(!r)throw new Error("Unspported request type");return r}resolveRequest(t,r){var i=this;return(0,b.Z)(function*(){if(""!=r.answers[0])for(const s of t.availableTokenOptions)if(s.prompt==r.answers[0])return yield i.getRequestResolver(s.type).resolve(s,r)})()}}return e.\u0275fac=function(t){return new(t||e)(J(XP,8))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class zne{constructor(n,t,r,i){this._student=n,this._submittedTime=t,this._curAttempt=r,this._answers=i.slice(0)}get student(){return this._student}get curAttempt(){return this._curAttempt}get submittedTime(){return this._submittedTime}get answers(){return this._answers}}let Wne=(()=>{class e{constructor(t){this.canvasService=t}fetchRawRequest(t,r,i,s,o,a){var l=this;return(0,b.Z)(function*(){const[u,c]=yield l.canvasService.getQuizSubmissionAttempt(t.course.id,r.quizId,s,i.id,o,{assignmentId:a});return new zne(i,u,o,c)})()}}return e.\u0275fac=function(t){return new(t||e)(J(In))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class qg{constructor(n,t,r,i,s,o,a){this._configuration=n,this._student=t,this._commentId=r,this._commentDate=i,this._tokenBalance=s,this._processedAttemptsMap=o,this._processedRequests=a}get configuration(){return this._configuration}get student(){return this._student}get commentId(){return this._commentId}set commentId(n){this._commentId=n}get commentDate(){return this._commentDate}set commentDate(n){this._commentDate=n}get tokenBalance(){return this._tokenBalance}get processedRequests(){return this._processedRequests}get submittedRequestCnt(){return Array.from(this._processedAttemptsMap.values()).reduce((n,t)=>n+t,0)}logProcessedRequest(n){this._tokenBalance+=n.tokenBalanceChange,null!=n.tokenOptionGroupId&&this._processedAttemptsMap.set(n.tokenOptionGroupId,(this._processedAttemptsMap.get(n.tokenOptionGroupId)??0)+1),this._processedRequests.push(n)}getProcessedAttempts(n){return this._processedAttemptsMap.get(n)??0}toJSON(){return{comment_id:this.commentId,comment_date:Tf(this.commentDate),processed_attempt_map:[...this._processedAttemptsMap.entries()].map(n=>({token_option_group_id:n[0],attempt:n[1]})),processed_requests:this.processedRequests}}static deserialize(n,t,r,i,s){if("number"!=typeof s.comment_date||"object"!=typeof s.processed_attempt_map||!Array.isArray(s.processed_attempt_map)||"object"!=typeof s.processed_requests||!Array.isArray(s.processed_requests))throw new Error("Invalid data");const o=new Map;for(const a of s.processed_attempt_map){if("number"!=typeof a.token_option_group_id||"number"!=typeof a.attempt)throw new Error("Invalid data");o.set(a.token_option_group_id,a.attempt)}return new qg(n,t,r,pc(s.comment_date),i,o,s.processed_requests.map(a=>Mr.deserialize(n,t,a)))}}let EC=(()=>{class e{constructor(t){this.canvasService=t}writeStudentRecordToCanvas(t,r,i){var s=this;return(0,b.Z)(function*(){const o=t.course.id,a=r.student.id,l=t.logAssignmentId,u=r.commentId,c=yield s.canvasService.gradeSubmissionWithPostingComment(o,a,l,r.tokenBalance,wc());r.commentId=c.id,r.commentDate=c.createdAt;try{yield s.canvasService.modifyComment(o,a,l,c.id,e.PROMPT+(yield t.encryptStudentRecord(r)))}catch(d){throw d.message=d.message+`\n***ACTION NEEDED***: \nPlease use Canvas to manually change this student's grade in the Token ATM Log assignment to ${i}. \nFailure to do so could cause the token balance of this student be incorrect. \nAlso, deleting the last two comments in Token ATM Log (ignoring those that start with "Please ignore the characters below") could help avoid confusion. One comment is the report for this incomplete request, while the other is a comment like xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx). \n***Sorry for the inconvenience!`,d}return""!=u&&(yield s.canvasService.deleteSubmissionComment(o,a,l,u)),r})()}getStudentRecord(t,r,i){var s=this;return(0,b.Z)(function*(){const o=t.course.id,a=r.id,l=t.logAssignmentId,u=yield s.canvasService.getSubmissionComments(o,a,l);let c=0;if(i&&i.has(r.id)){const f=i.get(r.id);f&&(c=f)}else c=yield s.canvasService.getSingleSubmissionGrade(o,a,l);for(const f of u.reverse()){if(!f.content.startsWith(e.PROMPT))continue;let h;try{h=yield t.decryptStudentRecord(f.content.split("\n")[1])}catch{yield s.canvasService.deleteComment(o,a,l,f.id);continue}if(!("number"!=typeof h.comment_date||0!=Sm(pc(h.comment_date),f.createdAt)||typeof h.comment_id<"u"&&"string"!=typeof h.comment_id||"string"==typeof h.comment_id&&h.comment_id!=f.id))return qg.deserialize(t,r,f.id,c,h);yield s.canvasService.deleteComment(o,a,l,f.id)}let d=new qg(t,r,"",new Date,c,new Map,[]);return d=yield s.writeStudentRecordToCanvas(t,d,0),d})()}logProcessedRequest(t,r,i){var s=this;return(0,b.Z)(function*(){const o=r.tokenBalance;r.logProcessedRequest(i),yield s.canvasService.postComment(t.course.id,r.student.id,t.logAssignmentId,`Your request to ${i.tokenOptionName} has been processed.\nResult: ${i.isApproved?"Approved":"*REJECTED*"}\nSubmitted at: ${ls(i.submittedTime,"MMM dd, yyyy kk:mm:ss")}\nProcessed at: ${ls(i.processedTime,"MMM dd, yyyy kk:mm:ss")}\nToken Balance Change: ${o} -> ${r.tokenBalance}${""!=i.message?`\nMessage: ${i.message}`:""}`),yield s.writeStudentRecordToCanvas(t,r,o)})()}}return e.PROMPT="Please ignore the characters below:\n",e.\u0275fac=function(t){return new(t||e)(J(In))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function _a(e,n){return`${e} ${r=n,i=e,r+(1==i?"":"s")}`;var r,i}let qne=(()=>{class e{constructor(t,r,i,s,o,a){this.canvasService=t,this.rawRequestFetcherService=r,this.requestResolverRegistry=i,this.studentRecordManagerService=s,this.requestHandlerRegistry=o,this.qualtricsService=a,this._isRunning=!1,this._isStopTriggered=!1}startRequestProcessing(t){const r=new Er([0,"Request processing started"]);return this.runRequestProcessing(t,r),r}stopRequestProcessing(){this.isRunning&&(this._isStopTriggered=!0)}finishRequestProcessing(t,r=!0){this._isRunning=!1,this._isStopTriggered=!1,this.qualtricsService.clearCache(),r&&t.complete()}runRequestProcessing(t,r){var i=this;return(0,b.Z)(function*(){let s,o;i._isRunning=!0,i._isStopTriggered=!1,i.qualtricsService.clearCache();try{[s,o]=yield i.gatherQuizSubmissions(t,r)}catch(g){return r.error(["Encountered an error while gathering students' quiz submissions",g]),void i.finishRequestProcessing(r,!1)}if(i._isStopTriggered)return void i.finishRequestProcessing(r);const a=s.size;let l=0,u=0;try{var f,c=!1,d=!1;try{for(var p,h=yr(yield i.canvasService.getCourseStudentEnrollments(t.course.id));c=!(p=yield h.next()).done;c=!1){const g=p.value;{if(!s.has(g.id))continue;let M=0;l++;const O=s.get(g.id);if(!O)continue;let Y,B;try{[Y,B]=yield i.resolveRequestsForStudent(t,g,r,O.values(),o)}catch(ue){return r.error(["Encountered an error while resolving requests for student "+g.name+(""==g.email?"":`(${g.email})`),ue]),void i.finishRequestProcessing(r,!1)}if(i._isStopTriggered)return void i.finishRequestProcessing(r);for(const ue of B){if(Y.submittedRequestCnt>=e.MAX_SUBMITTED_REQUEST_CNT)break;let nt;if(ue instanceof Mr)nt=ue;else try{nt=yield i.requestHandlerRegistry.handleRequest(t,Y,ue)}catch(it){return r.error([`Encountered an error while handling request to ${nt?nt.tokenOptionName:ue.tokenOption.name} submitted at ${ls(ue.submittedTime,"MMM dd, yyyy kk:mm:ss")} by student ${g.name+(""==g.email?"":`(${g.email})`)}`,it]),void i.finishRequestProcessing(r,!1)}try{yield i.studentRecordManagerService.logProcessedRequest(t,Y,nt)}catch(it){return r.error([`Encountered an error while logging request to ${nt.tokenOptionName} submitted at ${ls(nt.submittedTime,"MMM dd, yyyy kk:mm:ss")} by student ${g.name+(""==g.email?"":`(${g.email})`)}`,it]),void i.finishRequestProcessing(r,!1)}if(u++,M++,r.next([100*l/a,i.progressString(a,u,l)]),r.next([-1-M/B.length,`Processed ${_a(M,"request")} for the current student, ${_a(B.length-M,"request")} remaining`]),i._isStopTriggered)return void i.finishRequestProcessing(r)}}}}catch(g){d=!0,f=g}finally{try{c&&null!=h.return&&(yield h.return())}finally{if(d)throw f}}i.finishRequestProcessing(r)}catch(g){return r.error(["Encountered an error while traversing the student list",g]),void i.finishRequestProcessing(r,!1)}})()}gatherQuizSubmissions(t,r){var i=this;return(0,b.Z)(function*(){const s=new Map,o=new Map;let a=0;for(const h of t.tokenOptionGroups){o.set(h.quizId,yield i.canvasService.getAssignmentIdByQuizId(t.course.id,h.quizId));var c,l=!1,u=!1;try{for(var f,d=yr(yield i.canvasService.getQuizSubmissions(t.course.id,h.quizId));l=!(f=yield d.next()).done;l=!1){const p=f.value;if(s.has(p.studentId)||s.set(p.studentId,new Map),s.get(p.studentId)?.set(h.quizId,[h,p]),a++,r.next([0,`Gathering submissions: Gathered ${_a(a,"submission")}`]),i._isStopTriggered)return[s,o]}}catch(p){u=!0,c=p}finally{try{l&&null!=d.return&&(yield d.return())}finally{if(u)throw c}}}return[s,o]})()}resolveRequestsForStudent(t,r,i,s,o){var a=this;return(0,b.Z)(function*(){const l=yield a.studentRecordManagerService.getStudentRecord(t,r),u=[];if(l.submittedRequestCnt>=e.MAX_SUBMITTED_REQUEST_CNT)return[l,u];if(a._isStopTriggered)return[l,u];let c=0;for(const[d,f]of s)for(let h=l.getProcessedAttempts(d.id)+1;h<=f.attempt;h++){const p=yield a.rawRequestFetcherService.fetchRawRequest(t,d,r,f.id,h,o.get(d.quizId));if(a._isStopTriggered)return[l,u];const g=yield a.requestResolverRegistry.resolveRequest(d,p);if(u.push(g||new Mr(t,-1,"An Unrecognized Token Option",r,!1,p.submittedTime,new Date,0,"The token option you made a request for cannot be recognized. You might have submitted the quiz without selecting an option from Question 1, or the token option you requested for is deleted, moved, or not configured properly yet.",d.id)),c++,i.next([-1,`Resolving Requests: Resolved ${_a(c,"request")} for the current student`]),a._isStopTriggered)return[l,u]}return[l,u.sort((d,f)=>Sm(a.getSubmitTime(d),a.getSubmitTime(f)))]})()}getSubmitTime(t){return t.submittedTime}progressString(t,r,i){return o=t,l=i,`Processing Requests: Processed ${_a(r,"request")} for ${_a(l,"student")}, ${_a(o-l+1,"student")} remaining`;var o,l}get isRunning(){return this._isRunning}}return e.MAX_SUBMITTED_REQUEST_CNT=200,e.\u0275fac=function(t){return new(t||e)(J(In),J(Wne),J(Yne),J(EC),J(Cne),J(Wg))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Gne(e,n){1&e&&He(0,"app-canvas-loading-toast")}function Zne(e,n){if(1&e&&(m(0,"div",7),He(1,"div",8),y()),2&e){const t=C(2);jo("width","30rem"),v(1),jo("width",t.progress.toString()+"%")}}function Qne(e,n){if(1&e&&(m(0,"p"),E(1),y()),2&e){const t=C(2);v(1),et(t.message)}}function Kne(e,n){if(1&e&&(m(0,"div",7),He(1,"div",8),y()),2&e){const t=C(2);jo("width","30rem"),v(1),jo("width",t.individualProgress.toString()+"%")}}function Jne(e,n){if(1&e&&(m(0,"p"),E(1),y()),2&e){const t=C(2);v(1),et(t.individualMessage)}}function Xne(e,n){if(1&e){const t=Oe();m(0,"div",3)(1,"button",4),P("click",function(){$(t);const i=C();return j(i.isProcessingRequest?i.onStopRequestProcessing():i.onStartRequestProcessing())}),E(2),y(),V(3,Zne,2,4,"div",5),V(4,Qne,2,1,"p",6),V(5,Kne,2,4,"div",5),V(6,Jne,2,1,"p",6),y()}if(2&e){const t=C();v(1),st("btn-danger",t.isProcessingRequest),w("disabled",t.isRunning),v(1),Gt(" ",t.isProcessingRequest?"Stop Request Processing":"Start Request Processing"," "),v(1),w("ngIf",void 0!==t.progress),v(1),w("ngIf",t.message),v(1),w("ngIf",void 0!==t.individualProgress),v(1),w("ngIf",t.individualMessage)}}let ere=(()=>{class e{constructor(t,r,i){this.configurationManager=t,this.requestProcessManagerService=r,this.modalManagerService=i,this.isReconfigureFinished=!0,this.isStopRequested=!1}configureCourse(t){var r=this;return(0,b.Z)(function*(){r.course=t,r.configuration=yield r.configurationManager.getTokenATMConfiguration(t)})()}onStopRequestProcessing(){this.requestProcessManagerService.isRunning&&(this.isStopRequested=!0,this.requestProcessManagerService.stopRequestProcessing())}onStartRequestProcessing(){var t=this;return(0,b.Z)(function*(){var r;t.configuration&&(t.isReconfigureFinished=!1,t.isStopRequested=!1,t.requestProcessManagerService.startRequestProcessing(t.configuration).subscribe({next:([r,i])=>{r<=-1?(t.individualProgress=100*Math.abs(r+1),t.individualMessage=i):(t.progress=r,t.message=i)},complete:(r=(0,b.Z)(function*(){yield t.onRequestProcessingComplete()}),function(){return r.apply(this,arguments)}),error:function(){var r=(0,b.Z)(function*([i,s]){yield t.modalManagerService.createNotificationModal(i+`\n______________\nError message: ${co.serailize(s)}`),yield t.onRequestProcessingComplete(!1)});return function(s){return r.apply(this,arguments)}}()}))})()}onRequestProcessingComplete(t=!0){var r=this;return(0,b.Z)(function*(){r.progress=void 0,r.message=void 0,r.individualProgress=void 0,r.individualMessage=void 0,r.course&&t&&(yield r.configureCourse(r.course)),r.isStopRequested=!1,r.isReconfigureFinished=!0})()}get isProcessingRequest(){return this.requestProcessManagerService.isRunning}get isRunning(){return this.requestProcessManagerService.isRunning&&this.isStopRequested||!this.requestProcessManagerService.isRunning&&!this.isReconfigureFinished}}return e.\u0275fac=function(t){return new(t||e)(D(Wi),D(qne),D(ma))},e.\u0275cmp=qe({type:e,selectors:[["app-request-process"]],decls:4,vars:2,consts:[["appCenter",""],[4,"ngIf","ngIfElse"],["processPanel",""],[1,"d-flex","flex-column","align-items-center"],[1,"btn","btn-primary","btn-lg","mx-auto",3,"disabled","click"],["class","progress m-3 mx-auto",3,"width",4,"ngIf"],[4,"ngIf"],[1,"progress","m-3","mx-auto"],["role","progressbar",1,"progress-bar","progress-bar-striped","bg-success"]],template:function(t,r){if(1&t&&(m(0,"div",0),V(1,Gne,1,0,"app-canvas-loading-toast",1),V(2,Xne,7,8,"ng-template",null,2,ir),y()),2&t){const i=Ks(3);v(1),w("ngIf",!r.configuration)("ngIfElse",i)}},dependencies:[Zt,Ka,Vc]}),e})();const tre=["container"];function nre(e,n){}let eN=(()=>{class e{constructor(t,r){this.managerService=t,this.environmentInjector=r,this._isProcessing=!1}ngOnInit(){if(!this.value||!this.container)throw new Error("Fail to initialize token option group management modal");const[t,r]=qn(th,"Group ID",this.environmentInjector).editField(i=>{i.isReadOnly=!0}).modify({setIsReadOnly:i=>{i.isReadOnly=!0}}).appendBuilder(qn(cs,"Group Name",this.environmentInjector).editField(i=>{i.validator=function(){var s=(0,b.Z)(function*([o,a]){return o.errorMessage=void 0,0!=a.length||(o.errorMessage="Name cannot be empty",!1)});return function(o){return s.apply(this,arguments)}}()})).appendBuilder(qn(bg,"Group Description",this.environmentInjector).editField(i=>{i.rows=4})).transformSrc(i=>i instanceof wf?[i.nextFreeTokenOptionGroupId,"",""]:[i.id,i.name,i.description]).build();this.field=r,this.field.srcValue=this.value,t(this.container)}get isEditing(){return this.value instanceof br}onSave(){var t=this;return(0,b.Z)(function*(){if(!t.field)return;if(t.isProcessing=!0,!(yield t.field.validate()))return void(t.isProcessing=!1);const r=t.value,i=yield t.field.destValue;r.name=i[1],r.description=i[2],yield t.managerService.updateTokenOptionGroupMetadata(r),t.isProcessing=!1,t.modalRef?.hide()})()}onCreate(){var t=this;return(0,b.Z)(function*(){if(!t.field)return;if(t.isProcessing=!0,!(yield t.field.validate()))return void(t.isProcessing=!1);const r=t.value,[i,s,o]=yield t.field.destValue;yield t.managerService.addNewTokenOptionGroup(new br(r,s,i,"",o,!1,[])),t.isProcessing=!1,t.modalRef?.hide()})()}set isProcessing(t){this._isProcessing=t,this.field&&(this.field.isReadOnly=t)}get isProcessing(){return this._isProcessing}}return e.\u0275fac=function(t){return new(t||e)(D(Wi),D(Si))},e.\u0275cmp=qe({type:e,selectors:[["app-token-option-group-management"]],viewQuery:function(t,r){if(1&t&&Xr(tre,7,Pn),2&t){let i;Fr(i=Vr())&&(r.container=i.first)}},inputs:{value:"value"},decls:12,vars:7,consts:[[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",3,"click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-body"],["container",""],[1,"modal-footer"],["type","button",1,"btn","mx-2",3,"disabled","click"]],template:function(t,r){1&t&&(m(0,"div",0)(1,"h4",1),E(2),y(),m(3,"button",2),P("click",function(){return null==r.modalRef?null:r.modalRef.hide()}),m(4,"span",3),E(5,"\xd7"),y()()(),m(6,"div",4),V(7,nre,0,0,"ng-template",null,5,ir),y(),m(9,"div",6)(10,"button",7),P("click",function(){return r.isEditing?r.onSave():r.onCreate()}),E(11),y()()),2&t&&(v(2),Gt("",r.isEditing?"Edit":"Create"," Token Option Group"),v(8),st("btn-outline-success",!r.isEditing)("btn-outline-primary",r.isEditing),w("disabled",r.isProcessing),v(1),Gt(" ",r.isEditing?"Save":"Create"," "))}}),e})(),Gg=(()=>{class e{getDescriptiveName(t){return e.DESCRIPTIVE_NAME_REGISTRY[t]}getRegisteredTokenOptionsDescriptiveNames(){return Object.entries(e.DESCRIPTIVE_NAME_REGISTRY)}canCreateRequestByTeacher(t){return t instanceof fR}}return e.DESCRIPTIVE_NAME_REGISTRY={basic:"Basic (Always approve; just for testing purpose)","earn-by-quiz":"Earn Tokens by Passing Canvas Quiz","earn-by-module":"Earn Tokens by Passing Canvas Module","earn-by-survey":"Earn Tokens by Taking Qualtrics Survey","spend-for-lab-data":"Spend Tokens for Lab Data","spend-for-assignment-resubmission":"Spend Tokens for Assignment Resubmission","withdraw-assignment-resubmission":"Withdraw Assignment Resubmission Request","withdraw-lab-data":"Withdraw Lab Data Request","spend-for-lab-switch":"Spend Tokens for Switching Lab","withdraw-lab-switch":"Withdraw Lab Switch Request (For Teacher Only)"},e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const rre=[(()=>{class e extends Co{create(t){return Mo(t,To(t).transformSrc(r=>r).transformDest(function(){var r=(0,b.Z)(function*(i){return{...i,type:"basic"}});return function(i){return r.apply(this,arguments)}}()),Xm.is).build()}get type(){return"basic"}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=gt(e)))(r||e)}}(),e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})(),(()=>{class e extends Co{constructor(t){super(),this.canvasService=t}create(t){var r=this;const i=qn(cs,"Module Name",t).appendField(new Qa).editField(s=>{s.validator=function(){var o=(0,b.Z)(function*(a){a.fieldA.errorMessage=void 0;const[l,u]=yield a.destValue;try{yield r.canvasService.getModuleIdByName(u,l)}catch(c){return a.fieldA.errorMessage=c.toString(),!1}return!0});return function(a){return o.apply(this,arguments)}}()});return Mo(t,To(t).appendBuilder(i).appendBuilder(nh(t)).appendBuilder(GP(t)).transformSrc(s=>s instanceof br?[s,["",s.configuration.course.id],ws(new Date,{hours:0,minutes:0,seconds:0,milliseconds:0}),1]:[s,[s.moduleName,s.group.configuration.course.id],s.startTime,s.gradeThreshold]).transformDest(function(){var s=(0,b.Z)(function*([o,[a,l],u,c]){return{...o,type:"earn-by-module",moduleName:a,moduleId:yield r.canvasService.getModuleIdByName(l,a),startTime:u,gradeThreshold:c}});return function(o){return s.apply(this,arguments)}}()),tg.is).build()}get type(){return"earn-by-module"}}return e.\u0275fac=function(t){return new(t||e)(J(In))},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})(),(()=>{class e extends Co{constructor(t){super(),this.canvasService=t}create(t){var r=this;return Mo(t,To(t).appendBuilder(YP(this.canvasService,t)).appendBuilder(nh(t)).appendBuilder(GP(t)).transformSrc(i=>i instanceof br?[i,["",i.configuration.course.id],ws(new Date,{hours:0,minutes:0,seconds:0,milliseconds:0}),1]:[i,[i.quizName,i.group.configuration.course.id],i.startTime,i.gradeThreshold]).transformDest(function(){var i=(0,b.Z)(function*([s,[o,a],l,u]){return{...s,type:"earn-by-quiz",quizName:o,quizId:yield r.canvasService.getQuizIdByName(a,o),startTime:l,gradeThreshold:u}});return function(s){return i.apply(this,arguments)}}()),eg.is).build()}get type(){return"earn-by-quiz"}}return e.\u0275fac=function(t){return new(t||e)(J(In))},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})(),(()=>{class e extends Co{create(t){return Mo(t,To(t).appendBuilder(qn(cs,"Survey ID",t)).appendBuilder(qn(cs,"Survey Field Name",t)).appendBuilder(nh(t)).appendBuilder(zP(t)).transformSrc(r=>r instanceof br?[r,"","",ws(new Date,{hours:0,minutes:0,seconds:0,milliseconds:0}),ws(new Date,{hours:23,minutes:59,seconds:59,milliseconds:999})]:[r,r.surveyId,r.fieldName,r.startTime,r.endTime]).transformDest(function(){var r=(0,b.Z)(function*([i,s,o,a,l]){return{...i,type:"earn-by-survey",surveyId:s,fieldName:o,startTime:a,endTime:l}});return function(i){return r.apply(this,arguments)}}()),ng.is).build()}get type(){return"earn-by-survey"}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=gt(e)))(r||e)}}(),e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})(),(()=>{class e extends Co{constructor(t){super(),this.canvasService=t}create(t){var r=this;const i=qn(cs,"Assignment Name",t).appendField(new Qa).editField(s=>{s.validator=function(){var o=(0,b.Z)(function*(a){a.fieldA.errorMessage=void 0;const[l,u]=yield a.destValue;try{yield r.canvasService.getAssignmentIdByName(u,l)}catch(c){return a.fieldA.errorMessage=c.toString(),!1}return!0});return function(a){return o.apply(this,arguments)}}()});return Mo(t,To(t).appendBuilder(i).appendBuilder(nh(t)).appendBuilder(qP(()=>qn(eh,"Time",t),"End Time",t)).appendBuilder(qP(()=>WP(t,"Time"),"New Due Time for Assignment",t)).transformSrc(s=>s instanceof br?[s,["",s.configuration.course.id],ws(new Date,{hours:0,minutes:0,seconds:0,milliseconds:0}),[s.configuration.course.id,ws(new Date,{hours:23,minutes:59,seconds:59,milliseconds:999})],[s.configuration.course.id,ws(new Date,{hours:23,minutes:59,seconds:59,milliseconds:999})]]:[s,[s.assignmentName,s.group.configuration.course.id],s.startTime,[s.group.configuration.course.id,s.endTime],[s.group.configuration.course.id,s.newDueTime]]).transformDest(function(){var s=(0,b.Z)(function*([o,[a,l],u,c,d]){return{...o,type:"spend-for-assignment-resubmission",assignmentName:a,assignmentId:yield r.canvasService.getAssignmentIdByName(l,a),startTime:u,endTime:c,newDueTime:d}});return function(o){return s.apply(this,arguments)}}()),ig.is).build()}get type(){return"spend-for-assignment-resubmission"}}return e.\u0275fac=function(t){return new(t||e)(J(In))},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})(),(()=>{class e extends Co{constructor(t){super(),this.canvasService=t}create(t){var r=this;return Mo(t,To(t).appendBuilder(YP(this.canvasService,t)).appendBuilder(nh(t)).appendBuilder(zP(t)).appendBuilder(WP(t,"New Due Time for Lab Data Quiz")).appendBuilder(UP(t)).transformSrc(i=>i instanceof br?[i,["",i.configuration.course.id],ws(new Date,{hours:0,minutes:0,seconds:0,milliseconds:0}),ws(new Date,{hours:23,minutes:59,seconds:59,milliseconds:999}),ws(new Date,{hours:23,minutes:59,seconds:59,milliseconds:999}),["",i.configuration]]:[i,[i.quizName,i.group.configuration.course.id],i.startTime,i.endTime,i.newDueTime,[i.excludeTokenOptionIds.join(","),i.group.configuration]]).transformDest(function(){var i=(0,b.Z)(function*([s,[o,a],l,u,c,d]){return{...s,type:"spend-for-lab-data",quizName:o,quizId:yield r.canvasService.getQuizIdByName(a,o),startTime:l,endTime:u,newDueTime:c,excludeTokenOptionIds:d}});return function(s){return i.apply(this,arguments)}}()),rg.is).build()}get type(){return"spend-for-lab-data"}}return e.\u0275fac=function(t){return new(t||e)(J(In))},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})(),(()=>{class e extends Co{create(t){return Mo(t,To(t).appendBuilder(UP(t)).transformSrc(r=>r instanceof br?[r,["",r.configuration]]:[r,[r.excludeTokenOptionIds.join(","),r.group.configuration]]).transformDest(function(){var r=(0,b.Z)(function*([i,s]){return{...i,type:"spend-for-lab-switch",excludeTokenOptionIds:s}});return function(i){return r.apply(this,arguments)}}()),sg.is).build()}get type(){return"spend-for-lab-switch"}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=gt(e)))(r||e)}}(),e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})(),(()=>{class e extends Co{create(t){return Mo(t,To(t).appendBuilder(MC(function(){var r=(0,b.Z)(function*(i){return i instanceof lD?void 0:"Token option type invalid: should be 'Spend Tokens for Assignment Resubmission'"});return function(i){return r.apply(this,arguments)}}(),t)).transformSrc(r=>r instanceof br?[r,[-1,r.configuration]]:[r,[r.withdrawTokenOptionId,r.group.configuration]]).transformDest(function(){var r=(0,b.Z)(function*([i,s]){return{...i,type:"withdraw-assignment-resubmission",withdrawTokenOptionId:s}});return function(i){return r.apply(this,arguments)}}()),_c.is).build()}get type(){return"withdraw-assignment-resubmission"}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=gt(e)))(r||e)}}(),e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})(),(()=>{class e extends Co{create(t){return Mo(t,To(t).appendBuilder(MC(function(){var r=(0,b.Z)(function*(i){return i instanceof aD?void 0:"Token option type invalid: should be 'Spend Tokens for Lab Data'"});return function(i){return r.apply(this,arguments)}}(),t)).transformSrc(r=>r instanceof br?[r,[-1,r.configuration]]:[r,[r.withdrawTokenOptionId,r.group.configuration]]).transformDest(function(){var r=(0,b.Z)(function*([i,s]){return{...i,type:"withdraw-lab-data",withdrawTokenOptionId:s}});return function(i){return r.apply(this,arguments)}}()),og.is).build()}get type(){return"withdraw-lab-data"}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=gt(e)))(r||e)}}(),e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})(),(()=>{class e extends Co{create(t){return Mo(t,To(t).appendBuilder(MC(function(){var r=(0,b.Z)(function*(i){return i instanceof uD?void 0:"Token option type invalid: should be 'Spend Tokens for Switching Lab'"});return function(i){return r.apply(this,arguments)}}(),t)).appendField(new Qa).transformSrc(r=>r instanceof br?[r,[-1,r.configuration],r]:[r,[r.withdrawTokenOptionId,r.group.configuration],r]).transformDest(function(){var r=(0,b.Z)(function*([i,s]){return{...i,type:"withdraw-lab-switch",withdrawTokenOptionId:s}});return function(i){return r.apply(this,arguments)}}()),ag.is).build()}get type(){return"withdraw-lab-switch"}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=gt(e)))(r||e)}}(),e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})()],tN=new Le("TOKEN_OPTION_FIELD_COMPONENT_FACTORY");let ire=(()=>{class e{constructor(t){this._tokenOptionFieldComponentFactorysMap=new Map,t&&t.forEach(r=>{this._tokenOptionFieldComponentFactorysMap.set(r.type,r)})}getTokenOptionFieldComponentFactory(t){return this._tokenOptionFieldComponentFactorysMap.get(t)}createTokenOptionFieldComponent(t,r){const i=this.getTokenOptionFieldComponentFactory(t);if(i)return i.create(r)}}return e.\u0275fac=function(t){return new(t||e)(J(tN,8))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const sre=["tokenOptionField"];function ore(e,n){if(1&e){const t=Oe();m(0,"button",13),P("click",function(){return $(t),j(C().onDelete())}),E(1," Delete "),y()}2&e&&w("disabled",C().isProcessing)}function are(e,n){if(1&e){const t=Oe();m(0,"button",14),P("click",function(){return $(t),j(C().onEdit())}),E(1," Edit "),y()}2&e&&w("disabled",C().isProcessing)}function lre(e,n){}let nN=(()=>{class e{constructor(t,r,i,s,o,a){this.configurationManagerService=t,this.modalManagerService=r,this.componentFactoryRegistry=i,this.tokenOptionRegistry=s,this.tokenOptionResolverRegistry=o,this.environmentInjector=a,this.typeName="",this._isReadOnly=!0,this._isProcessing=!1}ngOnInit(){if(!this.tokenOptionType||!this.value||!this.tokenOptionContainer||null==this.tokenOptionRegistry.getDescriptiveName(this.tokenOptionType))throw new Error("Fail to initialize token option management modal");this.typeName=this.tokenOptionRegistry.getDescriptiveName(this.tokenOptionType);const t=this.componentFactoryRegistry.createTokenOptionFieldComponent(this.tokenOptionType,this.environmentInjector);if(null==t)throw new Error("Fail to intialize token option management modal: Unsupported token option type");const[r,i]=t;this.field=i,this.field.srcValue=this.value,this.isReadOnly=!!this.isEditing&&!this.value.isMigrating,r(this.tokenOptionContainer)}set isReadOnly(t){this._isReadOnly=t,this.field&&(this.field.isReadOnly=t||this.isProcessing)}get isReadOnly(){return this._isReadOnly}set isProcessing(t){this._isProcessing=t,this.field&&(this.field.isReadOnly=this.isReadOnly||t)}get isProcessing(){return this._isProcessing}onEdit(){this.field&&(this.isReadOnly=!1,this.field.isReadOnly=!1)}onCreate(){var t=this;return(0,b.Z)(function*(){if(!t.field||t.isEditing)return;if(t.isProcessing=!0,!(yield t.field.validate()))return void(t.isProcessing=!1);const r=t.value,i=t.tokenOptionResolverRegistry.constructTokenOption(r,yield t.field.destValue,!0);r.addTokenOption(i),(yield t.configurationManagerService.updateTokenOptionGroup(r))||(yield t.notifyUpdateFailure()),t.isProcessing=!1,t.modalRef?.hide()})()}onSave(){var t=this;return(0,b.Z)(function*(){if(!t.field||!t.isEditing)return;if(t.isProcessing=!0,!(yield t.field.validate()))return void(t.isProcessing=!1);const r=t.value.fromData(yield t.field.destValue,!0);r.isMigrating&&(r.isMigrating=!1),(yield t.configurationManagerService.updateTokenOptionGroup(r.group))||(yield t.notifyUpdateFailure()),t.isProcessing=!1,t.modalRef?.hide()})()}notifyUpdateFailure(){var t=this;return(0,b.Z)(function*(){yield t.modalManagerService.createNotificationModal('Auto update failed. \nSome students have already taken the quiz that corresponds to the token option group that this token option belongs to. \nPlease click the "Save It Now" button in the quiz management page on Canvas to manually update.')})()}onDelete(){var t=this;return(0,b.Z)(function*(){if(!t.field||!t.isEditing)return;t.isProcessing=!0;const r=t.value,[i,s]=yield t.modalManagerService.createConfirmationModal(`Do you really want to delete the token option '${r.name}'?`,"Confirmation",!0);if(!s)return i.hide(),void(t.isProcessing=!1);i.content&&(i.content.disableButton=!0);const o=r.group;o.deleteTokenOption(r),(yield t.configurationManagerService.updateTokenOptionGroup(o))||(yield t.notifyUpdateFailure()),i.hide(),t.isProcessing=!1,t.modalRef?.hide()})()}get isEditing(){return!(this.value instanceof br)}}return e.\u0275fac=function(t){return new(t||e)(D(Wi),D(ma),D(ire),D(Gg),D(lg),D(Si))},e.\u0275cmp=qe({type:e,selectors:[["app-token-option-management"]],viewQuery:function(t,r){if(1&t&&Xr(sre,7,Pn),2&t){let i;Fr(i=Vr())&&(r.tokenOptionContainer=i.first)}},inputs:{tokenOptionType:"tokenOptionType",value:"value"},decls:20,vars:13,consts:[[1,"modal-header","d-block"],[1,"d-flex","align-items-center"],[1,"modal-title","me-auto"],["type","button","class","btn btn-danger mx-2",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-primary mx-2",3,"disabled","click",4,"ngIf"],["type","button","aria-label","Close",1,"btn-close","close","mx-2",3,"disabled","click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-body"],[2,"max-height","65vh","overflow-y","auto"],["tokenOptionField",""],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark","mx-2",3,"disabled","click"],["type","button",1,"btn","mx-2",3,"disabled","hidden","click"],["type","button",1,"btn","btn-danger","mx-2",3,"disabled","click"],["type","button",1,"btn","btn-primary","mx-2",3,"disabled","click"]],template:function(t,r){1&t&&(m(0,"div",0)(1,"div",1)(2,"h4",2),E(3),y(),V(4,ore,2,1,"button",3),V(5,are,2,1,"button",4),m(6,"button",5),P("click",function(){return null==r.modalRef?null:r.modalRef.hide()}),m(7,"span",6),E(8,"\xd7"),y()()()(),m(9,"div",7)(10,"p"),E(11),y(),m(12,"div",8),V(13,lre,0,0,"ng-template",null,9,ir),y()(),m(15,"div",10)(16,"button",11),P("click",function(){return null==r.modalRef?null:r.modalRef.hide()}),E(17," Close "),y(),m(18,"button",12),P("click",function(){return r.isEditing?r.onSave():r.onCreate()}),E(19),y()()),2&t&&(v(3),et((r.isEditing?"Edit":"Create")+" Token Option"),v(1),w("ngIf",r.isEditing),v(1),w("ngIf",r.isEditing&&r.isReadOnly),v(1),w("disabled",r.isProcessing),v(5),Gt("Type: ",r.typeName,""),v(5),w("disabled",r.isProcessing),v(2),st("btn-primary",r.isEditing)("btn-success",!r.isEditing),w("disabled",r.isProcessing)("hidden",r.isReadOnly),v(1),Gt(" ",r.isEditing?"Save":"Create"," "))},dependencies:[Zt]}),e})();function ure(e,n){if(1&e&&(m(0,"option",11),E(1),y()),2&e){const t=n.$implicit;w("ngValue",t[0]),v(1),Gt(" ",t[1]," ")}}function cre(e,n){if(1&e){const t=Oe();Yn(0),m(1,"div",1)(2,"h4",2),E(3,"Create Token Option"),y(),m(4,"button",3),P("click",function(){$(t);const i=C();return j(null==i.modalRef?null:i.modalRef.hide())}),m(5,"span",4),E(6,"\xd7"),y()()(),m(7,"div",5)(8,"p"),E(9,"The type of the token option to be created:"),y(),m(10,"select",6),P("ngModelChange",function(i){return $(t),j(C().selectedOption=i)}),V(11,ure,2,2,"option",7),y()(),m(12,"div",8)(13,"button",9),P("click",function(){$(t);const i=C();return j(null==i.modalRef?null:i.modalRef.hide())}),E(14,"Cancel"),y(),m(15,"button",10),P("click",function(){return $(t),j(C().onNextStep())}),E(16,"Next Step"),y()(),zn()}if(2&e){const t=C();v(10),w("ngModel",t.selectedOption),v(1),w("ngForOf",t.options)}}let dre=(()=>{class e{constructor(t,r){this.tokenOptionRegistry=t,this.modalService=r,this.selectedOption=this.options[0]?.[0]}get options(){return this.tokenOptionRegistry.getRegisteredTokenOptionsDescriptiveNames()}onNextStep(){if(!this.group||!this.selectedOption)return;const t=this.modalService.show(nN,{initialState:{tokenOptionType:this.selectedOption,value:this.group},class:"modal-lg",backdrop:"static",keyboard:!1});t.content&&(t.content.modalRef=t),this.modalRef?.hide()}}return e.\u0275fac=function(t){return new(t||e)(D(Gg),D(us))},e.\u0275cmp=qe({type:e,selectors:[["app-create-token-option-modal"]],inputs:{group:"group"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",3,"click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-body","message"],[1,"form-select",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary","me-4",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[3,"ngValue"]],template:function(t,r){1&t&&V(0,cre,17,2,"ng-container",0),2&t&&w("ngIf",r.group)},dependencies:[Br,Zt,Yd,zd,_l,Oi,_i]}),e})();const fre=function(e){return{dropdown:e}},hre=["*"];let pre=(()=>{class e{constructor(){this.autoClose=!0,this.insideClick=!1,this.isAnimated=!1,this.stopOnClickPropagation=!1}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Wl=(()=>{class e{constructor(){this.direction="down",this.autoClose=!0,this.insideClick=!1,this.isAnimated=!1,this.stopOnClickPropagation=!1,this.isOpenChange=new Me,this.isDisabledChange=new Me,this.toggleClick=new Me,this.counts=0,this.dropdownMenu=new Promise(t=>{this.resolveDropdownMenu=t})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const rN=[bs({height:0,overflow:"hidden"}),Nc("220ms cubic-bezier(0, 0, 0.2, 1)",bs({height:"*",overflow:"hidden"}))];let gre=(()=>{class e{constructor(t,r,i,s,o){this._state=t,this.cd=r,this._renderer=i,this._element=s,this.isOpen=!1,this._factoryDropDownAnimation=o.build(rN),this._subscription=t.isOpenChange.subscribe(a=>{this.isOpen=a;const l=this._element.nativeElement.querySelector(".dropdown-menu");this._renderer.addClass(this._element.nativeElement.querySelector("div"),"open"),l&&(this._renderer.addClass(l,"show"),(l.classList.contains("dropdown-menu-right")||l.classList.contains("dropdown-menu-end"))&&(this._renderer.setStyle(l,"left","auto"),this._renderer.setStyle(l,"right","0")),"up"===this.direction&&(this._renderer.setStyle(l,"top","auto"),this._renderer.setStyle(l,"transform","translateY(-101%)"))),l&&this._state.isAnimated&&this._factoryDropDownAnimation.create(l).play(),this.cd.markForCheck(),this.cd.detectChanges()})}get direction(){return this._state.direction}_contains(t){return this._element.nativeElement.contains(t)}ngOnDestroy(){this._subscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(D(Wl),D(zo),D(En),D(qt),D(Gf))},e.\u0275cmp=qe({type:e,selectors:[["bs-dropdown-container"]],hostAttrs:[2,"display","block","position","absolute","z-index","1040"],ngContentSelectors:hre,decls:2,vars:9,consts:[[3,"ngClass"]],template:function(t,r){1&t&&(wd(),m(0,"div",0),Fu(1),y()),2&t&&(st("dropup","up"===r.direction)("show",r.isOpen)("open",r.isOpen),w("ngClass",function xk(e,n,t,r){return Rk(ee(),fi(),e,n,t,r)}(7,fre,"down"===r.direction)))},dependencies:[Rp],encapsulation:2,changeDetection:0}),e})(),AC=(()=>{class e{constructor(t,r,i,s,o,a,l){this._elementRef=t,this._renderer=r,this._viewContainerRef=i,this._cis=s,this._state=o,this._config=a,this.dropup=!1,this._isInlineOpen=!1,this._isDisabled=!1,this._subscriptions=[],this._isInited=!1,this._state.autoClose=this._config.autoClose,this._state.insideClick=this._config.insideClick,this._state.isAnimated=this._config.isAnimated,this._state.stopOnClickPropagation=this._config.stopOnClickPropagation,this._factoryDropDownAnimation=l.build(rN),this._dropdown=this._cis.createLoader(this._elementRef,this._viewContainerRef,this._renderer).provide({provide:Wl,useValue:this._state}),this.onShown=this._dropdown.onShown,this.onHidden=this._dropdown.onHidden,this.isOpenChange=this._state.isOpenChange}set autoClose(t){this._state.autoClose=t}get autoClose(){return this._state.autoClose}set isAnimated(t){this._state.isAnimated=t}get isAnimated(){return this._state.isAnimated}set insideClick(t){this._state.insideClick=t}get insideClick(){return this._state.insideClick}set isDisabled(t){this._isDisabled=t,this._state.isDisabledChange.emit(t),t&&this.hide()}get isDisabled(){return this._isDisabled}get isOpen(){return this._showInline?this._isInlineOpen:this._dropdown.isShown}set isOpen(t){t?this.show():this.hide()}get _showInline(){return!this.container}ngOnInit(){this._isInited||(this._isInited=!0,this._dropdown.listen({outsideClick:!1,triggers:this.triggers,show:()=>this.show()}),this._subscriptions.push(this._state.toggleClick.subscribe(t=>this.toggle(t))),this._subscriptions.push(this._state.isDisabledChange.pipe(An(t=>t)).subscribe(()=>this.hide())))}show(){if(!this.isOpen&&!this.isDisabled){if(this._showInline)return this._inlinedMenu||this._state.dropdownMenu.then(t=>{this._dropdown.attachInline(t.viewContainer,t.templateRef),this._inlinedMenu=this._dropdown._inlineViewRef,this.addBs4Polyfills(),this._inlinedMenu&&this._renderer.addClass(this._inlinedMenu.rootNodes[0].parentNode,"open"),this.playAnimation()}).catch(),this.addBs4Polyfills(),this._isInlineOpen=!0,this.onShown.emit(!0),this._state.isOpenChange.emit(!0),void this.playAnimation();this._state.dropdownMenu.then(t=>{const r=this.dropup||typeof this.dropup<"u"&&this.dropup;this._state.direction=r?"up":"down";const i=this.placement||(r?"top start":"bottom start");this._dropdown.attach(gre).to(this.container).position({attachment:i}).show({content:t.templateRef,placement:i}),this._state.isOpenChange.emit(!0)}).catch()}}hide(){this.isOpen&&(this._showInline?(this.removeShowClass(),this.removeDropupStyles(),this._isInlineOpen=!1,this.onHidden.emit(!0)):this._dropdown.hide(),this._state.isOpenChange.emit(!1))}toggle(t){return this.isOpen||!t?this.hide():this.show()}_contains(t){return this._elementRef.nativeElement.contains(t.target)||this._dropdown.instance&&this._dropdown.instance._contains(t.target)}navigationClick(t){const r=this._elementRef.nativeElement.querySelector(".dropdown-menu");if(!r)return;const i=this._elementRef.nativeElement.ownerDocument.activeElement,s=r.querySelectorAll(".dropdown-item");switch(t.keyCode){case 38:this._state.counts>0&&s[--this._state.counts].focus();break;case 40:this._state.counts+1<s.length&&(i.classList!==s[this._state.counts].classList?s[this._state.counts].focus():s[++this._state.counts].focus())}t.preventDefault()}ngOnDestroy(){for(const t of this._subscriptions)t.unsubscribe();this._dropdown.dispose()}addBs4Polyfills(){this.addShowClass(),this.checkRightAlignment(),this.addDropupStyles()}playAnimation(){this._state.isAnimated&&this._inlinedMenu&&setTimeout(()=>{this._inlinedMenu&&this._factoryDropDownAnimation.create(this._inlinedMenu.rootNodes[0]).play()})}addShowClass(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.addClass(this._inlinedMenu.rootNodes[0],"show")}removeShowClass(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.removeClass(this._inlinedMenu.rootNodes[0],"show")}checkRightAlignment(){if(this._inlinedMenu&&this._inlinedMenu.rootNodes[0]){const t=this._inlinedMenu.rootNodes[0].classList.contains("dropdown-menu-right")||this._inlinedMenu.rootNodes[0].classList.contains("dropdown-menu-end");this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"left",t?"auto":"0"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"right",t?"0":"auto")}}addDropupStyles(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"top",this.dropup?"auto":"100%"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"transform",this.dropup?"translateY(-101%)":"translateY(0)"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"bottom","auto"))}removeDropupStyles(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"top"),this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"transform"),this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"bottom"))}}return e.\u0275fac=function(t){return new(t||e)(D(qt),D(En),D(Pn),D(go),D(Wl),D(pre),D(Gf))},e.\u0275dir=Pe({type:e,selectors:[["","bsDropdown",""],["","dropdown",""]],hostVars:6,hostBindings:function(t,r){1&t&&P("keydown.arrowDown",function(s){return r.navigationClick(s)})("keydown.arrowUp",function(s){return r.navigationClick(s)}),2&t&&st("dropup",r.dropup)("open",r.isOpen)("show",r.isOpen)},inputs:{placement:"placement",triggers:"triggers",container:"container",dropup:"dropup",autoClose:"autoClose",isAnimated:"isAnimated",insideClick:"insideClick",isDisabled:"isDisabled",isOpen:"isOpen"},outputs:{isOpenChange:"isOpenChange",onShown:"onShown",onHidden:"onHidden"},exportAs:["bs-dropdown"],features:[en([Wl])]}),e})(),iN=(()=>{class e{constructor(t,r,i){t.resolveDropdownMenu({templateRef:i,viewContainer:r})}}return e.\u0275fac=function(t){return new(t||e)(D(Wl),D(Pn),D(Ps))},e.\u0275dir=Pe({type:e,selectors:[["","bsDropdownMenu",""],["","dropdownMenu",""]],exportAs:["bs-dropdown-menu"]}),e})(),sN=(()=>{class e{constructor(t,r,i,s,o){this._changeDetectorRef=t,this._dropdown=r,this._element=i,this._renderer=s,this._state=o,this.isOpen=!1,this._subscriptions=[],this._subscriptions.push(this._state.isOpenChange.subscribe(a=>{this.isOpen=a,a?(this._documentClickListener=this._renderer.listen("document","click",l=>{this._state.autoClose&&2!==l.button&&!this._element.nativeElement.contains(l.target)&&(!this._state.insideClick||!this._dropdown._contains(l))&&(this._state.toggleClick.emit(!1),this._changeDetectorRef.detectChanges())}),this._escKeyUpListener=this._renderer.listen(this._element.nativeElement,"keyup.esc",()=>{this._state.autoClose&&(this._state.toggleClick.emit(!1),this._changeDetectorRef.detectChanges())})):(this._documentClickListener&&this._documentClickListener(),this._escKeyUpListener&&this._escKeyUpListener())})),this._subscriptions.push(this._state.isDisabledChange.subscribe(a=>this.isDisabled=a||void 0))}onClick(t){this._state.stopOnClickPropagation&&t.stopPropagation(),!this.isDisabled&&this._state.toggleClick.emit(!0)}ngOnDestroy(){this._documentClickListener&&this._documentClickListener(),this._escKeyUpListener&&this._escKeyUpListener();for(const t of this._subscriptions)t.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(D(zo),D(AC),D(qt),D(En),D(Wl))},e.\u0275dir=Pe({type:e,selectors:[["","bsDropdownToggle",""],["","dropdownToggle",""]],hostVars:3,hostBindings:function(t,r){1&t&&P("click",function(s){return r.onClick(s)}),2&t&&Kn("aria-haspopup",!0)("disabled",r.isDisabled)("aria-expanded",r.isOpen)},exportAs:["bs-dropdown-toggle"]}),e})(),_re=(()=>{class e{static forRoot(){return{ngModule:e,providers:[go,sa,Wl]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Sr({type:e}),e.\u0275inj=pr({imports:[qu]}),e})();const oN="400ms cubic-bezier(0.4,0.0,0.2,1)",yre=[bs({height:0,visibility:"hidden"}),Nc(oN,bs({height:"*",visibility:"visible"}))],vre=[bs({height:"*",visibility:"visible"}),Nc(oN,bs({height:0,visibility:"hidden"}))];let bre=(()=>{class e{constructor(t,r,i){this._el=t,this._renderer=r,this.collapsed=new Me,this.collapses=new Me,this.expanded=new Me,this.expands=new Me,this.isExpanded=!0,this.collapseNewValue=!0,this.isCollapsed=!1,this.isCollapse=!0,this.isCollapsing=!1,this.isAnimated=!1,this._display="block",this._stylesLoaded=!1,this._COLLAPSE_ACTION_NAME="collapse",this._EXPAND_ACTION_NAME="expand",this._factoryCollapseAnimation=i.build(vre),this._factoryExpandAnimation=i.build(yre)}set display(t){this._display=t,"none"!==t?this.isAnimated?this.toggle():this.show():this.hide()}set collapse(t){this.collapseNewValue=t,(!this._player||this._isAnimationDone)&&(this.isExpanded=t,this.toggle())}get collapse(){return this.isExpanded}ngAfterViewChecked(){this._stylesLoaded=!0,this._player&&this._isAnimationDone&&(this._player.reset(),this._renderer.setStyle(this._el.nativeElement,"height","*"))}toggle(){this.isExpanded?this.hide():this.show()}hide(){this.isCollapsing=!0,this.isExpanded=!1,this.isCollapsed=!0,this.isCollapsing=!1,this.collapses.emit(this),this._isAnimationDone=!1,this.animationRun(this.isAnimated,this._COLLAPSE_ACTION_NAME)(()=>{this._isAnimationDone=!0,this.collapseNewValue!==this.isCollapsed&&this.isAnimated?this.show():(this.collapsed.emit(this),this._renderer.setStyle(this._el.nativeElement,"display","none"))})}show(){this._renderer.setStyle(this._el.nativeElement,"display",this._display),this.isCollapsing=!0,this.isExpanded=!0,this.isCollapsed=!1,this.isCollapsing=!1,this.expands.emit(this),this._isAnimationDone=!1,this.animationRun(this.isAnimated,this._EXPAND_ACTION_NAME)(()=>{this._isAnimationDone=!0,this.collapseNewValue!==this.isCollapsed&&this.isAnimated?this.hide():(this.expanded.emit(this),this._renderer.removeStyle(this._el.nativeElement,"overflow"))})}animationRun(t,r){if(!t||!this._stylesLoaded)return s=>s();this._renderer.setStyle(this._el.nativeElement,"overflow","hidden"),this._renderer.addClass(this._el.nativeElement,"collapse");const i=r===this._EXPAND_ACTION_NAME?this._factoryExpandAnimation:this._factoryCollapseAnimation;return this._player&&this._player.reset(),this._player=i.create(this._el.nativeElement),this._player.play(),s=>this._player?.onDone(s)}}return e.\u0275fac=function(t){return new(t||e)(D(qt),D(En),D(Gf))},e.\u0275dir=Pe({type:e,selectors:[["","collapse",""]],hostVars:9,hostBindings:function(t,r){2&t&&(Kn("aria-hidden",r.isCollapsed),st("collapse",r.isCollapse)("in",r.isExpanded)("show",r.isExpanded)("collapsing",r.isCollapsing))},inputs:{display:"display",isAnimated:"isAnimated",collapse:"collapse"},outputs:{collapsed:"collapsed",collapses:"collapses",expanded:"expanded",expands:"expands"},exportAs:["bs-collapse"]}),e})(),wre=(()=>{class e{static forRoot(){return{ngModule:e,providers:[]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Sr({type:e}),e.\u0275inj=pr({}),e})();function Dre(e,n){if(1&e&&(m(0,"option",11),E(1),y()),2&e){const t=n.$implicit;w("ngValue",t.value),v(1),Gt(" ",t.value," ")}}function Cre(e,n){if(1&e&&(m(0,"option",11),E(1),y()),2&e){const t=n.$implicit;w("ngValue",t),v(1),et(t.name)}}function Tre(e,n){if(1&e&&(m(0,"option",11),E(1),y()),2&e){const t=n.$implicit;w("ngValue",t),v(1),Gt(" ",t.name," ")}}function Mre(e,n){if(1&e){const t=Oe();m(0,"select",9),P("ngModelChange",function(i){return $(t),j(C(3).selectedOption=i)}),V(1,Tre,2,2,"option",10),y()}if(2&e){const t=C(3);w("ngModel",t.selectedOption),v(1),w("ngForOf",t.validTokenOptions)}}function Sre(e,n){1&e&&(m(0,"p"),E(1," There is no valid token option for the operation you are about to perform in the current selected token option group. "),y())}function kre(e,n){if(1&e&&(Yn(0),V(1,Mre,2,2,"select",12),V(2,Sre,2,0,"ng-template",null,13,ir),zn()),2&e){const t=Ks(3),r=C(2);v(1),w("ngIf",r.validTokenOptions.length>0)("ngIfElse",t)}}function Ere(e,n){if(1&e){const t=Oe();Yn(0),m(1,"select",9),P("ngModelChange",function(i){return $(t),j(C().selectedOperation=i)}),V(2,Dre,2,2,"option",10),Ei(3,"keyvalue"),y(),m(4,"select",9),P("ngModelChange",function(i){return $(t),j(C().onSelectTokenOptionGroup(i))}),V(5,Cre,2,2,"option",10),y(),V(6,kre,4,2,"ng-container",5),zn()}if(2&e){const t=C();v(1),w("ngModel",t.selectedOperation),v(1),w("ngForOf",Ai(3,5,t.moveOperations)),v(2),w("ngModel",t.selectedGroup),v(1),w("ngForOf",t.configuration.tokenOptionGroups),v(1),w("ngIf",t.validTokenOptions)}}var Qi=(()=>(function(e){e.TO_THE_TOP="To the top of ...",e.BEFORE="Before ...",e.AFTER="After ...",e.TO_THE_BOTTOM="To the bottom of ..."}(Qi||(Qi={})),Qi))();let Are=(()=>{class e{constructor(t,r){this.configurationManagerService=t,this.modalManagerService=r,this.isProcessing=!1,this.moveOperations=Qi,this.selectedOperation=Qi.TO_THE_TOP}onCancel(){this.modalRef?.hide()}onMove(){var t=this;return(0,b.Z)(function*(){if(!t.configuration||!t.srcOption||!t.selectedGroup)return;t.isProcessing=!0;const r=t.srcOption.group;r.deleteTokenOption(t.srcOption);const i=yield t.configurationManagerService.updateTokenOptionGroup(r);t.srcOption.group=t.selectedGroup,t.selectedGroup.addTokenOption(t.srcOption,t.destIndex);const s=yield t.configurationManagerService.updateTokenOptionGroup(t.selectedGroup);if(!i||!s){const o=[i?void 0:r,s||r==t.selectedGroup&&!i?void 0:t.selectedGroup].filter(l=>null!=l).map(l=>l?.name??""),a=_a(o.length,"token option group");yield t.modalManagerService.createNotificationModal(`Auto update failed for ${a}: ${o.join(", ")}. Please go to Canvas and click the "Save It Now" button in the quiz management page of the quiz or quizzes that the ${a} mentioned above belong to.`)}t.modalRef?.hide()})()}get destIndex(){switch(this.selectedOperation){case Qi.TO_THE_TOP:return 0;case Qi.TO_THE_BOTTOM:return this.selectedGroup?.tokenOptions.length??-1;case Qi.BEFORE:return this.selectedOption?this.selectedGroup?.tokenOptions.indexOf(this.selectedOption)??-1:-1;case Qi.AFTER:return this.selectedOption?(this.selectedGroup?.tokenOptions.indexOf(this.selectedOption)??-2)+1:-1}}onSelectTokenOptionGroup(t){this.selectedGroup=t,this.selectedOption=void 0}get validTokenOptions(){if(this.selectedGroup&&this.selectedOperation!=Qi.TO_THE_TOP&&this.selectedOperation!=Qi.TO_THE_BOTTOM)return this.selectedGroup.tokenOptions.filter(t=>t!=this.srcOption)}get isValidSelection(){return!(!this.selectedGroup||this.selectedOperation!=Qi.TO_THE_TOP&&this.selectedOperation!=Qi.TO_THE_BOTTOM&&!this.selectedOption)}}return e.\u0275fac=function(t){return new(t||e)(D(Wi),D(ma))},e.\u0275cmp=qe({type:e,selectors:[["app-move-token-option-modal"]],inputs:{configuration:"configuration",srcOption:"srcOption"},decls:13,vars:4,consts:[[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",3,"disabled","click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-body","message"],[4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary","me-4",3,"disabled","click"],["type","button",1,"btn","btn-success",3,"disabled","click"],[1,"form-select","m-2",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"],["class","form-select m-2",3,"ngModel","ngModelChange",4,"ngIf","ngIfElse"],["noValidTokenOption",""]],template:function(t,r){1&t&&(m(0,"div",0)(1,"h4",1),E(2,"Move Token Option"),y(),m(3,"button",2),P("click",function(){return r.onCancel()}),m(4,"span",3),E(5,"\xd7"),y()()(),m(6,"div",4),V(7,Ere,7,7,"ng-container",5),y(),m(8,"div",6)(9,"button",7),P("click",function(){return r.onCancel()}),E(10," Cancel "),y(),m(11,"button",8),P("click",function(){return r.onMove()}),E(12," Move "),y()()),2&t&&(v(3),w("disabled",r.isProcessing),v(4),w("ngIf",r.configuration),v(2),w("disabled",r.isProcessing),v(2),w("disabled",r.isProcessing||!r.isValidSelection))},dependencies:[Br,Zt,Yd,zd,_l,Oi,_i,aE]}),e})();function Ire(e,n){1&e&&(Yn(0),He(1,"span",5),E(2," Migrating "),He(3,"span",6),E(4," Save It to Complete "),zn())}function Ore(e,n){if(1&e){const t=Oe();m(0,"ul",10)(1,"li",11),P("click",function(){return $(t),j(C(3).onMove())}),m(2,"span"),He(3,"i",12),E(4,"Move"),y()(),He(5,"li",13),m(6,"li",11),P("click",function(){return $(t),j(C(3).onDelete())}),m(7,"span",14),He(8,"i",15),E(9,"Delete"),y()()()}}function xre(e,n){1&e&&(m(0,"div")(1,"div",7),He(2,"span",8),V(3,Ore,10,0,"ul",9),y()())}function Rre(e,n){if(1&e){const t=Oe();Yn(0),m(1,"div",1),P("mouseenter",function(){return $(t),j(C().hoverFocus=!0)})("mouseleave",function(){return $(t),j(C().hoverFocus=!1)}),m(2,"div",2),P("click",function(){return $(t),j(C().onViewTokenOption())}),m(3,"span",3),E(4),y(),He(5,"br"),m(6,"span",4),E(7),He(8,"span",5),E(9),V(10,Ire,5,0,"ng-container",0),y()(),V(11,xre,4,0,"div",0),y(),zn()}if(2&e){const t=C();v(4),et(t.option.name),v(3),Gt("",t.descriptiveName," "),v(2),Gt(" ",(t.option.tokenBalanceChange>0?"Earn ":"Spend ")+t.getAbsValue(t.option.tokenBalanceChange).toString()+" token"+(1===t.getAbsValue(t.option.tokenBalanceChange)?"":"s")," "),v(1),w("ngIf",t.option.isMigrating),v(1),w("ngIf",t.hoverFocus)}}let Lre=(()=>{class e{constructor(t,r,i,s){this.modalService=t,this.tokenOptionRegistry=r,this.modalManagerService=i,this.configurationManagerService=s,this.hoverFocus=!1}getAbsValue(t){return Math.abs(t)}onViewTokenOption(){if(!this.option)return;const t=this.modalService.show(nN,{initialState:{tokenOptionType:this.option.type,value:this.option},class:"modal-lg",backdrop:"static",keyboard:!1});t.content&&(t.content.modalRef=t)}get descriptiveName(){if(this.option)return this.tokenOptionRegistry.getDescriptiveName(this.option.type)}onMove(){var t=this;return(0,b.Z)(function*(){if(!t.option)return;const r=t.modalService.show(Are,{initialState:{configuration:t.option.group.configuration,srcOption:t.option},backdrop:"static",keyboard:!1});r.content&&(r.content.modalRef=r)})()}onDelete(){var t=this;return(0,b.Z)(function*(){if(!t.option)return;const[r,i]=yield t.modalManagerService.createConfirmationModal(`Do you really want to delete the token option '${t.option.name}'?`,"Confirmation",!0);if(!i)return void r.hide();r.content&&(r.content.disableButton=!0);const s=t.option.group;s.deleteTokenOption(t.option),(yield t.configurationManagerService.updateTokenOptionGroup(s))||(yield t.modalManagerService.createNotificationModal('Auto update failed. \nSome students have already taken the Canvas quiz that corresponds to the token option group that this token option belongs to. \nPlease click the "Save It Now" button in the quiz management page on Canvas to manually update.')),r.hide()})()}}return e.\u0275fac=function(t){return new(t||e)(D(us),D(Gg),D(ma),D(Wi))},e.\u0275cmp=qe({type:e,selectors:[["app-token-option-display"]],inputs:{option:"option"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"d-flex","align-items-center",3,"mouseenter","mouseleave"],[1,"is-link","flex-grow-1",3,"click"],[1,"fs-4"],[1,"fs-6","fw-light","text-secondary"],[1,"bi","bi-dot"],[1,"bi","bi-exclamation-triangle-fill","text-warning"],["dropdown","",1,"btn-group"],["dropdownToggle","",1,"bi","bi-three-dots-vertical","fs-5","mx-3","is-link"],["class","dropdown-menu dropdown-menu-right border-dark text-center",4,"dropdownMenu"],[1,"dropdown-menu","dropdown-menu-right","border-dark","text-center"],[1,"is-link",3,"click"],[1,"bi","bi-arrows-move","me-2"],[1,"divider","dropdown-divider"],[1,"text-danger"],[1,"bi","bi-trash-fill","me-2"]],template:function(t,r){1&t&&V(0,Rre,12,5,"ng-container",0),2&t&&w("ngIf",r.option)},dependencies:[Zt,iN,sN,AC]}),e})();function Pre(e,n){if(1&e){const t=Oe();m(0,"ul",13)(1,"li",14),P("click",function(){return $(t),j(C(2).onEditGroup())}),m(2,"span"),He(3,"i",15),E(4,"Edit"),y()(),He(5,"li",16),m(6,"li",14),P("click",function(){return $(t),j(C(2).onDeleteGroup())}),m(7,"span",17),He(8,"i",18),E(9,"Delete"),y()()()}}function Nre(e,n){if(1&e&&(m(0,"li",21),He(1,"app-token-option-display",22),y()),2&e){const t=n.$implicit;v(1),w("option",t)}}function Fre(e,n){if(1&e&&(Yn(0),m(1,"ul",19),V(2,Nre,2,1,"li",20),y(),zn()),2&e){const t=C(2);v(2),w("ngForOf",t.group.tokenOptions)}}function Vre(e,n){1&e&&(m(0,"p",23),E(1," No token options here. Click "),He(2,"span",24),E(3," on the top-right corner of the token option group to create new token options. "),y())}function Bre(e,n){if(1&e){const t=Oe();Yn(0),m(1,"div",1),P("mouseenter",function(){return $(t),j(C().hovering=!0)})("mouseleave",function(){return $(t),j(C().hovering=!1)}),m(2,"div",2),P("click",function(){$(t);const i=C();return j(i.isCollapsed=!i.isCollapsed)}),He(3,"i",3),m(4,"span",4),E(5),y()(),Yn(6),m(7,"span",5),P("click",function(){$(t);const i=C();return j(i.group.isPublished?i.onUnpublishGroup():i.onPublishGroup())}),y(),m(8,"span",6),P("click",function(){return $(t),j(C().onCreateTokenOption())}),y(),m(9,"div",7),He(10,"span",8),V(11,Pre,10,0,"ul",9),y(),zn(),y(),m(12,"div",10),V(13,Fre,3,1,"ng-container",11),V(14,Vre,4,0,"ng-template",null,12,ir),y(),zn()}if(2&e){const t=Ks(15),r=C();v(3),st("bi-caret-down-fill",!r.isCollapsed)("bi-caret-right-fill",r.isCollapsed),v(2),et(r.group.name),v(2),st("bi-check-circle",r.group.isPublished)("bi-slash-circle",!r.group.isPublished),v(5),w("collapse",r.isCollapsed)("isAnimated",!0),v(1),w("ngIf",r.group.tokenOptions.length>0)("ngIfElse",t)}}let Hre=(()=>{class e{constructor(t,r,i){this.modalService=t,this.modalManagerService=r,this.configurationManagerService=i,this.isCollapsed=!1,this.hovering=!1}onEditGroup(){if(!this.group)return;const t=this.modalService.show(eN,{initialState:{value:this.group}});t.content&&(t.content.modalRef=t)}onCreateTokenOption(){var t=this;return(0,b.Z)(function*(){if(!t.group)return;const r=t.modalService.show(dre,{initialState:{group:t.group}});r.content&&(r.content.modalRef=r)})()}onPublishGroup(){var t=this;return(0,b.Z)(function*(){if(!t.group)return;const[r,i]=yield t.modalManagerService.createConfirmationModal(`Do you really want to publish the token option group '${t.group.name}'?`);i?(r.content&&(r.content.disableButton=!0),yield t.configurationManagerService.publishTokenOptionGroup(t.group),r.hide()):r.hide()})()}onUnpublishGroup(){var t=this;return(0,b.Z)(function*(){if(!t.group)return;const[r,i]=yield t.modalManagerService.createConfirmationModal(`Do you really want to unpublish the token option group '${t.group.name}'?`);i?(r.content&&(r.content.disableButton=!0),(yield t.configurationManagerService.unpublishTokenOptionGroup(t.group))||(yield t.modalManagerService.createNotificationModal(`Unpublishing token option group '${t.group.name}' failed. \nSome students have already taken the Canvas quiz for this token option group.`,"Error")),r.hide()):r.hide()})()}onDeleteGroup(){var t=this;return(0,b.Z)(function*(){if(!t.group)return;const[r,i]=yield t.modalManagerService.createConfirmationModal(`Do you really want to delete the token option group '${t.group.name}'?`,"Confirmation",!0);i?(r.content&&(r.content.disableButton=!0),yield t.configurationManagerService.deleteTokenOptionGroup(t.group),r.hide()):r.hide()})()}}return e.\u0275fac=function(t){return new(t||e)(D(us),D(ma),D(Wi))},e.\u0275cmp=qe({type:e,selectors:[["app-token-option-group-display"]],inputs:{group:"group"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"d-flex","border","border-secondary","border-2","rounded","align-items-center",3,"mouseenter","mouseleave"],[1,"d-inline","flex-grow-1","mx-2",3,"click"],[1,"bi"],[1,"fs-3"],[1,"bi","fs-5","mx-3","is-link",3,"click"],[1,"bi","bi-plus-circle","text-success","fs-5","mx-3","is-link",3,"click"],["dropdown","",1,"btn-group"],["dropdownToggle","",1,"bi","bi-three-dots-vertical","fs-5","mx-3","is-link"],["class","dropdown-menu dropdown-menu-right border-dark text-center",4,"dropdownMenu"],[1,"mx-2","border","border-dark","rounded","disable-top-border",3,"collapse","isAnimated"],[4,"ngIf","ngIfElse"],["emptyPrompt",""],[1,"dropdown-menu","dropdown-menu-right","border-dark","text-center"],[1,"is-link",3,"click"],[1,"bi","bi-pencil-fill","me-2"],[1,"divider","dropdown-divider"],[1,"text-danger"],[1,"bi","bi-trash-fill","me-2"],[1,"list-group","list-group-flush","m-1"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],[3,"option"],[1,"text-center"],[1,"bi","bi-plus-circle","text-success"]],template:function(t,r){1&t&&V(0,Bre,16,13,"ng-container",0),2&t&&w("ngIf",r.group)},dependencies:[Br,Zt,iN,sN,AC,bre,Lre],styles:[".disable-top-border[_ngcontent-%COMP%]{border-top:0rem!important}"]}),e})();function $re(e,n){1&e&&(m(0,"div",2),He(1,"app-canvas-loading-toast"),y())}function jre(e,n){if(1&e&&(m(0,"div",8),He(1,"app-token-option-group-display",9),y()),2&e){const t=n.$implicit;v(1),w("group",t)}}function Ure(e,n){if(1&e){const t=Oe();Yn(0),m(1,"div",4)(2,"div",5)(3,"button",6),P("click",function(){return $(t),j(C(2).onCreateTokenOptionGroup())}),E(4," New Token Option Group "),y()(),V(5,jre,2,1,"div",7),y(),zn()}if(2&e){const t=C(2);v(5),w("ngForOf",t.configuration.tokenOptionGroups)}}function Yre(e,n){1&e&&V(0,Ure,6,1,"ng-container",3),2&e&&w("ngIf",C().configuration)}let zre=(()=>{class e{constructor(t,r){this.configurationManagerService=t,this.modalService=r}configureCourse(t){var r=this;return(0,b.Z)(function*(){r.course=t,r.configuration=yield r.configurationManagerService.getTokenATMConfiguration(r.course)})()}onCreateTokenOptionGroup(){if(!this.configuration)return;const t=this.modalService.show(eN,{initialState:{value:this.configuration}});t.content&&(t.content.modalRef=t)}}return e.\u0275fac=function(t){return new(t||e)(D(Wi),D(us))},e.\u0275cmp=qe({type:e,selectors:[["app-token-option-configuration"]],decls:3,vars:2,consts:[["appCenter","",4,"ngIf","ngIfElse"],["tokenOptionPanel",""],["appCenter",""],[4,"ngIf"],[1,"container","mt-3"],[1,"row","align-items-end","mb-2"],[1,"col-auto","btn","btn-outline-success","ms-auto",3,"click"],["class","mb-5",4,"ngFor","ngForOf"],[1,"mb-5"],[3,"group"]],template:function(t,r){if(1&t&&(V(0,$re,2,0,"div",0),V(1,Yre,1,1,"ng-template",null,1,ir)),2&t){const i=Ks(2);w("ngIf",!r.configuration)("ngIfElse",i)}},dependencies:[Br,Zt,Ka,Hre,Vc]}),e})();var Wre=ce(28);function qre(e,n){if(1&e&&(m(0,"div",12),He(1,"div",13),y()),2&e){const t=C(2);v(1),jo("width",t.progress+"%")}}function Gre(e,n){if(1&e&&(m(0,"div"),E(1),y()),2&e){const t=C(2);v(1),et(t.progressMessage)}}function Zre(e,n){if(1&e){const t=Oe();Yn(0),m(1,"input",9),P("change",function(i){return $(t),j(C().onSelectFile(i))}),y(),m(2,"div",10),V(3,qre,2,2,"div",11),V(4,Gre,2,1,"div",5),y(),zn()}if(2&e){const t=C();v(3),w("ngIf",t.progress),v(1),w("ngIf",t.progressMessage)}}let Qre=(()=>{class e{constructor(t,r){this.managerService=t,this.canvasService=r,this.isProcessing=!1}onSelectFile(t){this.selectedFile=t.target?.files[0]}onImportCSV(){var t=this;return(0,b.Z)(function*(){if(!t.selectedFile||!t.configuration)return;let r;t.isProcessing=!0;const i=new Promise(a=>{r=a});Wre.parse(t.selectedFile,{complete:a=>{r(a.data)}});const s=yield i;let o=0;for(const a of s){if(o++,t.progress=((o-1)/s.length*100).toFixed(2),t.progressMessage=`${o-1} out of ${_a(s.length,"record")} processed`,!Array.isArray(a)||2!=a.length&&3!=a.length)continue;const l=a[0];if("string"!=typeof l)continue;const u=parseFloat(a[1]);if(isNaN(u))continue;const c=a[2],d=yield t.canvasService.getStudentByEmail(t.configuration.course.id,l);if(!d)continue;const f=yield t.managerService.getStudentRecord(t.configuration,d),h=new Date;yield t.managerService.logProcessedRequest(t.configuration,f,new Mr(t.configuration,-1,"Manual Adjustment",f.student,!0,h,h,u,c??""))}t.modalRef?.hide()})()}}return e.\u0275fac=function(t){return new(t||e)(D(EC),D(In))},e.\u0275cmp=qe({type:e,selectors:[["app-batch-token-balance-adjustment-modal"]],inputs:{configuration:"configuration"},decls:13,vars:4,consts:[[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",3,"disabled","click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-body","message"],[4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary","me-4",3,"disabled","click"],["type","button",1,"btn","btn-success",3,"disabled","click"],["type","file","accept",".csv",1,"form-control",3,"change"],[1,"d-flex","flex-column","align-items-center","justify-content-center"],["class","progress m-3 mx-auto","style","width: 15rem",4,"ngIf"],[1,"progress","m-3","mx-auto",2,"width","15rem"],["role","progressbar",1,"progress-bar","progress-bar-striped","bg-success"]],template:function(t,r){1&t&&(m(0,"div",0)(1,"h4",1),E(2,"Import CSV"),y(),m(3,"button",2),P("click",function(){return null==r.modalRef?null:r.modalRef.hide()}),m(4,"span",3),E(5,"\xd7"),y()()(),m(6,"div",4),V(7,Zre,5,2,"ng-container",5),y(),m(8,"div",6)(9,"button",7),P("click",function(){return null==r.modalRef?null:r.modalRef.hide()}),E(10," Cancel "),y(),m(11,"button",8),P("click",function(){return r.onImportCSV()}),E(12,"Import"),y()()),2&t&&(v(3),w("disabled",r.isProcessing),v(4),w("ngIf",r.configuration),v(2),w("disabled",r.isProcessing),v(2),w("disabled",r.isProcessing))},dependencies:[Zt]}),e})();function Kre(e,n){if(1&e&&(m(0,"option",13),E(1),y()),2&e){const t=n.$implicit;w("ngValue",t),v(1),et(t.name)}}function Jre(e,n){if(1&e&&(m(0,"option",13),E(1),y()),2&e){const t=n.$implicit;w("ngValue",t),v(1),Gt(" ",t.name," ")}}function Xre(e,n){if(1&e){const t=Oe();m(0,"select",9),P("ngModelChange",function(i){return $(t),j(C(2).tokenOption=i)}),V(1,Jre,2,2,"option",10),y()}if(2&e){const t=C(2);w("ngModel",t.tokenOption),v(1),w("ngForOf",t.getValidTokenOptions(t.tokenOptionGroup))}}function eie(e,n){1&e&&(m(0,"p"),E(1," There is no valid token option for the operation you are about to perform in the current selected token option group. "),y())}function tie(e,n){if(1&e){const t=Oe();Yn(0),m(1,"select",9),P("ngModelChange",function(i){return $(t),j(C().onSelectTokenOptionGroup(i))}),V(2,Kre,2,2,"option",10),y(),V(3,Xre,2,2,"select",11),V(4,eie,2,0,"ng-template",null,12,ir),zn()}if(2&e){const t=Ks(5),r=C();v(1),w("ngModel",r.tokenOptionGroup),v(1),w("ngForOf",r.configuration.tokenOptionGroups),v(1),w("ngIf",r.tokenOptionGroup&&r.getValidTokenOptions(r.tokenOptionGroup).length>0)("ngIfElse",t)}}let nie=(()=>{class e{constructor(){this.isProcessing=!1}onCancel(){this.onResolve&&this.onResolve(void 0)}onPickTokenOption(){!this.configuration||!this.onResolve||!this.tokenOption||(this.isProcessing=!0,this.onResolve(this.tokenOption))}onSelectTokenOptionGroup(t){this.tokenOptionGroup=t,this.tokenOption=void 0}getValidTokenOptions(t){return this.filter?t.tokenOptions.filter(this.filter):t.tokenOptions}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=qe({type:e,selectors:[["app-pick-token-option-modal"]],inputs:{configuration:"configuration",onResolve:"onResolve",filter:"filter"},decls:13,vars:4,consts:[[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",3,"disabled","click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-body","message"],[4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary","me-4",3,"disabled","click"],["type","button",1,"btn","btn-success",3,"disabled","click"],[1,"form-select","m-2",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["class","form-select m-2",3,"ngModel","ngModelChange",4,"ngIf","ngIfElse"],["noValidTokenOption",""],[3,"ngValue"]],template:function(t,r){1&t&&(m(0,"div",0)(1,"h4",1),E(2,"Pick Token Option"),y(),m(3,"button",2),P("click",function(){return r.onCancel()}),m(4,"span",3),E(5,"\xd7"),y()()(),m(6,"div",4),V(7,tie,6,4,"ng-container",5),y(),m(8,"div",6)(9,"button",7),P("click",function(){return r.onCancel()}),E(10," Cancel "),y(),m(11,"button",8),P("click",function(){return r.onPickTokenOption()}),E(12," Pick "),y()()),2&t&&(v(3),w("disabled",r.isProcessing),v(4),w("ngIf",r.configuration),v(2),w("disabled",r.isProcessing),v(2),w("disabled",r.isProcessing||!r.tokenOption))},dependencies:[Br,Zt,Yd,zd,_l,Oi,_i]}),e})();function rie(e,n){1&e&&(m(0,"div",2),He(1,"app-canvas-loading-toast"),y())}function iie(e,n){if(1&e&&(m(0,"li",13),E(1),y()),2&e){const t=C(3);v(1),Gt(" Email: ",t.studentRecord.student.email," ")}}function sie(e,n){if(1&e&&(m(0,"tr")(1,"td"),E(2),y(),m(3,"td"),E(4),y(),m(5,"td"),E(6),y(),m(7,"td"),E(8),y(),m(9,"td"),E(10),y(),m(11,"td"),E(12),y()()),2&e){const t=n.$implicit,r=C(4);v(2),et(t.tokenOptionName),v(2),et(r.formatDate(t.submittedTime)),v(2),et(r.formatDate(t.processedTime)),v(2),et(t.isApproved?"Approved":"Rejected"),v(2),et(t.tokenBalanceChange),v(2),et(t.message)}}function oie(e,n){if(1&e){const t=Oe();m(0,"div",21)(1,"div",9)(2,"div",22)(3,"h5",23),E(4,"Request History"),y(),m(5,"button",19),P("click",function(){return $(t),j(C(3).onCreateProcessedRequest())}),E(6," Make Request on Student's Behalf "),y()(),m(7,"div",24)(8,"table",25)(9,"thead")(10,"tr")(11,"th",26),E(12,"Token Option Name"),y(),m(13,"th",26),E(14,"Submitted Time"),y(),m(15,"th",26),E(16,"Processed Time"),y(),m(17,"th",26),E(18,"Status"),y(),m(19,"th",26),E(20,"Token Balance Change"),y(),m(21,"th",26),E(22,"Message"),y()()(),m(23,"tbody"),V(24,sie,13,6,"tr",27),y()()()()()}if(2&e){const t=C(3);v(24),w("ngForOf",t.processedRequests)}}function aie(e,n){if(1&e){const t=Oe();Yn(0),m(1,"div",7)(2,"div",8)(3,"div",9)(4,"h5",10),E(5,"Student Information"),y(),m(6,"div",11)(7,"ul",12)(8,"li",13),E(9),y(),m(10,"li",13),E(11),y(),V(12,iie,2,1,"li",14),m(13,"li",13),E(14),y()()()()(),He(15,"div",15),m(16,"div",8)(17,"div",9)(18,"h5",10),E(19,"Token Balance Adjustment"),y(),m(20,"div",11)(21,"div",16)(22,"label"),E(23," Token Adjustment Count "),y(),m(24,"input",17),P("ngModelChange",function(i){return $(t),j(C(2).tokenAdjustmentCount=i)}),y()(),m(25,"div",16)(26,"label"),E(27," Message "),y(),m(28,"textarea",18),P("ngModelChange",function(i){return $(t),j(C(2).tokenAdjustmentMessage=i)}),y()(),m(29,"button",19),P("click",function(){return $(t),j(C(2).onAddManualChange())}),E(30,"Add"),y()()()(),V(31,oie,25,1,"div",20),y(),zn()}if(2&e){const t=C(2);v(9),Gt("Canvas User ID: ",t.studentRecord.student.id,""),v(2),Gt("Name: ",t.studentRecord.student.name,""),v(1),w("ngIf",""!==t.studentRecord.student.email),v(2),sv(" Current Token Balance: ",t.studentRecord.tokenBalance," ",1===t.studentRecord.tokenBalance?"token":"tokens"," "),v(10),w("ngModel",t.tokenAdjustmentCount),v(4),w("ngModel",t.tokenAdjustmentMessage),v(3),w("ngIf",t.processedRequests)}}function lie(e,n){if(1&e){const t=Oe();m(0,"div",3)(1,"div",4)(2,"div")(3,"button",5),P("click",function(){return $(t),j(C().onGoBack())}),E(4,"Back"),y()(),V(5,aie,32,8,"ng-container",6),y()()}if(2&e){const t=C();v(5),w("ngIf",t.studentRecord)}}let uie=(()=>{class e{constructor(t,r,i,s){this.recordManagerService=t,this.modalManagerService=r,this.modalService=i,this.tokenOptionRegistry=s,this.tokenAdjustmentCount=0,this.tokenAdjustmentMessage="",this.goBack=new Me}configureStudent(t,r){var i=this;return(0,b.Z)(function*(){i.studentRecord=void 0,i.tokenAdjustmentCount=0,i.tokenAdjustmentMessage="",i.configuration=t,i.student=r,i.studentRecord=yield i.recordManagerService.getStudentRecord(i.configuration,i.student)})()}formatDate(t){return ls(t,"MMM dd, yyyy kk:mm:ss")}onAddManualChange(){var t=this;return(0,b.Z)(function*(){if(!t.configuration||!t.studentRecord||null==t.tokenAdjustmentCount)return;null==t.tokenAdjustmentMessage&&(t.tokenAdjustmentMessage="");const[r,i]=yield t.modalManagerService.createConfirmationModal("Do you really want to change this student's token balance by "+t.tokenAdjustmentCount.toString()+(""==t.tokenAdjustmentMessage?"?":` with the following message?\n${t.tokenAdjustmentMessage}`));if(i){r.content&&(r.content.disableButton=!0);const s=new Date;yield t.recordManagerService.logProcessedRequest(t.configuration,t.studentRecord,new Mr(t.configuration,-1,"Manual Adjustment",t.studentRecord.student,!0,s,s,t.tokenAdjustmentCount,t.tokenAdjustmentMessage)),t.tokenAdjustmentCount=0,t.tokenAdjustmentMessage=""}r.hide()})()}onCreateProcessedRequest(){var t=this;return(0,b.Z)(function*(){if(!t.configuration||!t.studentRecord)return;let r;const i=new Promise(a=>{r=a}),s=t.modalService.show(nie,{initialState:{configuration:t.configuration,onResolve:r,filter:a=>t.tokenOptionRegistry.canCreateRequestByTeacher(a)},backdrop:"static",keyboard:!1}),o=yield i;if(null!=o){const a=new Date;yield t.recordManagerService.logProcessedRequest(t.configuration,t.studentRecord,new Mr(t.configuration,o.id,o.name,t.studentRecord?.student,!0,a,a,o.tokenBalanceChange,"This request is made by instructors on your behalf."))}s.hide()})()}onGoBack(){this.goBack.next()}get processedRequests(){return this.studentRecord?.processedRequests.slice(0).reverse()}}return e.\u0275fac=function(t){return new(t||e)(D(EC),D(ma),D(us),D(Gg))},e.\u0275cmp=qe({type:e,selectors:[["app-student-record-display"]],outputs:{goBack:"goBack"},decls:3,vars:2,consts:[["appCenter","",4,"ngIf","ngIfElse"],["studentRecordPanel",""],["appCenter",""],[1,"m-5"],[1,"d-flex","flex-column"],[1,"btn","btn-outline-primary","mb-1","ms-5",3,"click"],[4,"ngIf"],[1,"row","m-5"],[1,"col-5","card"],[1,"card-body"],[1,"card-titile"],[1,"card-text"],[1,"list-group","list-group-flush","my-auto"],[1,"list-group-item"],["class","list-group-item",4,"ngIf"],[1,"col-2"],[1,"mb-3"],["type","number","value","0",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-primary",3,"click"],["class","col-12 card my-5",4,"ngIf"],[1,"col-12","card","my-5"],[1,"m-2"],[1,"card-titile","d-inline","mx-2"],[1,"card-text","overflow-auto"],[1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"]],template:function(t,r){if(1&t&&(V(0,rie,2,0,"div",0),V(1,lie,6,1,"ng-template",null,1,ir)),2&t){const i=Ks(2);w("ngIf",!r.studentRecord)("ngIfElse",i)}},dependencies:[Br,Zt,eo,Jp,Oi,_i,Ka,Vc],styles:["th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{text-align:center}"]}),e})();const cie=["individaulStudentRecordDisplay"];function die(e,n){1&e&&(m(0,"div",2),He(1,"app-canvas-loading-toast"),y())}function fie(e,n){if(1&e&&(m(0,"option",24),E(1),y()),2&e){const t=n.$implicit;w("ngValue",t),v(1),Gt(" ",t," ")}}function hie(e,n){if(1&e){const t=Oe();m(0,"tr",25),P("click",function(){const s=$(t).$implicit;return j(C(3).navigateToStudent(s))}),m(1,"td"),E(2),y(),m(3,"td"),E(4),y(),m(5,"td"),E(6),y()()}if(2&e){const t=n.$implicit,r=C(3);let i;v(2),et(t.name),v(2),et(t.email),v(2),et(null!==(i=r.studentGrades.get(t.id))&&void 0!==i?i:0)}}function pie(e,n){if(1&e){const t=Oe();m(0,"div",14)(1,"div",15)(2,"button",16),P("click",function(){return $(t),j(C(2).prev())}),E(3," Prev "),y(),m(4,"div",17)(5,"span"),E(6,"Number of Students Per Page: "),y(),m(7,"select",18),P("ngModelChange",function(i){return $(t),j(C(2).changePageSize(i))}),V(8,fie,2,2,"option",19),y()(),m(9,"button",16),P("click",function(){return $(t),j(C(2).next())}),E(10," Next "),y()(),m(11,"div")(12,"table",20)(13,"thead")(14,"tr")(15,"th"),E(16,"Student"),y(),m(17,"th"),E(18,"Email"),y(),m(19,"th"),E(20,"Token Balance"),y()()(),m(21,"tbody"),V(22,hie,7,3,"tr",21),y()()(),m(23,"div",22)(24,"button",23),P("click",function(){return $(t),j(C(2).prev())}),E(25," Prev "),y(),m(26,"button",16),P("click",function(){return $(t),j(C(2).next())}),E(27," Next "),y()()()}if(2&e){const t=C(2);st("is-hidden",t.isShowingIndividualStudent),v(2),w("disabled",!t.students.hasPrevPage()||t.isFetchingInfo),v(5),w("ngModel",t.pageCnt),v(1),w("ngForOf",t.POSSIBLE_PAGE_CNTS),v(1),w("disabled",!t.students.hasNextPage()||t.isFetchingInfo),v(13),w("ngForOf",t.students),v(2),w("disabled",!t.students.hasPrevPage()||t.isFetchingInfo),v(2),w("disabled",!t.students.hasNextPage()||t.isFetchingInfo)}}function mie(e,n){if(1&e){const t=Oe();m(0,"div",3)(1,"button",4),P("click",function(){return $(t),j(C().batchImport())}),E(2," Import CSV for Batch Manual Token Balance Change "),y()(),m(3,"div",5)(4,"label",6),E(5,"Search for Students"),y(),m(6,"div",7)(7,"input",8),P("ngModelChange",function(i){return $(t),j(C().studentSearchTerm=i)}),y()(),m(8,"button",9),P("click",function(){return $(t),j(C().search())}),E(9,"Search"),y(),m(10,"button",10),P("click",function(){return $(t),j(C().clearSearch())}),E(11," Clear "),y()(),V(12,pie,28,9,"div",11),m(13,"div")(14,"app-student-record-display",12,13),P("goBack",function(){return $(t),j(C().onGoBack())}),y()()}if(2&e){const t=C();st("is-hidden",t.isShowingIndividualStudent),v(3),st("is-hidden",t.isShowingIndividualStudent),v(4),w("ngModel",t.studentSearchTerm),v(1),w("disabled",t.isFetchingInfo),v(2),w("disabled",t.isFetchingInfo),v(2),w("ngIf",t.students&&t.studentGrades),v(1),st("is-hidden",!t.isShowingIndividualStudent)}}let gie=(()=>{class e{constructor(t,r,i,s){this.canvasService=t,this.tokenATMConfigurationManagerService=r,this.modalService=i,this.modalManagerService=s,this.POSSIBLE_PAGE_CNTS=[5,10,25,50],this.DEFAULT_PAGE_CNT=50,this.isFetchingInfo=!1,this.pageCnt=this.DEFAULT_PAGE_CNT,this.isShowingIndividualStudent=!1,this.studentItemInfo=new io("studentSearchTerm","Search for Students","text"),this.studentSearchTerm=""}batchImport(){var t=this;return(0,b.Z)(function*(){if(!t.configuration)return;const r=t.modalService.show(Qre,{initialState:{configuration:t.configuration},backdrop:"static",keyboard:!1});r.content&&(r.content.modalRef=r),r.onHide&&(yield $P(r.onHide),yield t.refreshStudentList(t.studentSearchTerm))})()}configureCourse(t){var r=this;return(0,b.Z)(function*(){r.course=t,r.configuration=yield r.tokenATMConfigurationManagerService.getTokenATMConfiguration(r.course),yield r.refreshStudentList(r.studentSearchTerm)})()}search(){var t=this;return(0,b.Z)(function*(){null==t.studentSearchTerm||1!=t.studentSearchTerm.length?yield t.refreshStudentList(t.studentSearchTerm):yield t.modalManagerService.createNotificationModal("Canvas does not allow searching for students by one character")})()}clearSearch(){var t=this;return(0,b.Z)(function*(){t.studentSearchTerm="",yield t.refreshStudentList(t.studentSearchTerm)})()}changePageSize(t){var r=this;return(0,b.Z)(function*(){r.pageCnt=t,yield r.refreshStudentList(r.studentSearchTerm)})()}refreshStudentList(t){var r=this;return(0,b.Z)(function*(){r.course&&(r.students=yield r.canvasService.getCourseStudents(r.course.id,r.pageCnt,t),yield r.getStudentGrades())})()}getStudentGrades(){var t=this;return(0,b.Z)(function*(){if(!t.course||!t.configuration||!t.students)return;t.studentGrades=void 0;const r=Array.from(t.students).map(i=>i.id);t.studentGrades=0!=r.length?yield t.canvasService.getStudentsGrades(t.course.id,t.configuration.logAssignmentId,r):new Map})()}prev(){var t=this;return(0,b.Z)(function*(){t.students&&(t.isFetchingInfo=!0,yield t.students.prev(),yield t.getStudentGrades(),t.isFetchingInfo=!1)})()}next(){var t=this;return(0,b.Z)(function*(){t.students&&(t.isFetchingInfo=!0,yield t.students.next(),yield t.getStudentGrades(),t.isFetchingInfo=!1)})()}navigateToStudent(t){var r=this;return(0,b.Z)(function*(){!r.configuration||!r.individaulStudentRecordDisplay||(r.isShowingIndividualStudent=!0,yield r.individaulStudentRecordDisplay.configureStudent(r.configuration,t))})()}onGoBack(){var t=this;return(0,b.Z)(function*(){t.isShowingIndividualStudent=!1,yield t.getStudentGrades()})()}}return e.\u0275fac=function(t){return new(t||e)(D(In),D(Wi),D(us),D(ma))},e.\u0275cmp=qe({type:e,selectors:[["app-student-list"]],viewQuery:function(t,r){if(1&t&&Xr(cie,5),2&t){let i;Fr(i=Vr())&&(r.individaulStudentRecordDisplay=i.first)}},decls:3,vars:2,consts:[["appCenter","",4,"ngIf","ngIfElse"],["studentListPanel",""],["appCenter",""],[1,"d-flex","align-items-center","justify-content-center","mx-5","mt-5","mb-3"],[1,"btn","btn-primary",3,"click"],[1,"row","align-items-center","justify-content-center","m-5"],[1,"col-auto","d-inline"],[1,"col-4"],["type","text",1,"form-control","mx-2",3,"ngModel","ngModelChange"],[1,"col-auto","btn","btn-primary","mx-2",3,"disabled","click"],[1,"col-auto","btn","btn-outline-danger","mx-2",3,"disabled","click"],["class","flex-column m-5",3,"is-hidden",4,"ngIf"],[3,"goBack"],["individaulStudentRecordDisplay",""],[1,"flex-column","m-5"],[1,"d-flex","align-self-stretch","mx-5","align-items-center"],[1,"btn","btn-dark",3,"disabled","click"],[1,"d-inline-block","mx-auto"],[1,"form-select",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"table"],["class","is-link",3,"click",4,"ngFor","ngForOf"],[1,"d-flex","align-self-stretch","mx-5"],[1,"btn","btn-dark","me-auto",3,"disabled","click"],[3,"ngValue"],[1,"is-link",3,"click"]],template:function(t,r){if(1&t&&(V(0,die,2,0,"div",0),V(1,mie,16,10,"ng-template",null,1,ir)),2&t){const i=Ks(2);w("ngIf",!r.students||!r.studentGrades)("ngIfElse",i)}},dependencies:[Br,Zt,Yd,zd,eo,_l,Oi,_i,Ka,uie,Vc],styles:["th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{text-align:center;padding-left:1rem;padding-right:1rem}.is-hidden[_ngcontent-%COMP%]{display:none!important}"]}),e})(),yie=(()=>{class e{constructor(t,r,i){this.manager=t,this.canvasService=r,this.tokenOptionResolverRegistry=i}configureCourse(t){var r=this;return(0,b.Z)(function*(){r.course=t})()}onRegenerateContent(){var t=this;return(0,b.Z)(function*(){t.course&&(yield t.manager.regenerateContent(yield t.manager.getTokenATMConfiguration(t.course)),console.log("Regeneration finished!"))})()}onDeleteAll(){var t=this;return(0,b.Z)(function*(){t.course&&(yield t.manager.deleteAll(yield t.manager.getTokenATMConfiguration(t.course)),console.log("Delete all finished!"))})()}onCreateConfiguration(){var t=this;return(0,b.Z)(function*(){if(!t.course)return;const r=yield t.manager.createTokenATMConfiguration(t.course,"Just Testing","This is just a test generation of the content");console.log("Configuration created",r)})()}onAddTokenOptionGroup(){var t=this;return(0,b.Z)(function*(){if(!t.course)return;const r=yield t.manager.getTokenATMConfiguration(t.course);yield t.manager.addNewTokenOptionGroup(new br(r,"Test Token Option Group "+r.tokenOptionGroups.length.toString(),r.nextFreeTokenOptionGroupId,"",`Just a test <b>token option group</b> ${r.tokenOptionGroups.length}`,!1,[])),console.log("Add token option group finished")})()}onAddTokenOption(){var t=this;return(0,b.Z)(function*(){if(!t.course)return;const r=yield t.manager.getTokenATMConfiguration(t.course),i=r.tokenOptionGroups[r.tokenOptionGroups.length-1];if(!i)throw new Error("No token option groups exist in the configuration!");i.addTokenOption(t.tokenOptionResolverRegistry.constructTokenOption(i,{type:"basic",id:r.nextFreeTokenOptionId,name:`Test Token Option ${i.tokenOptions.length}`,description:`Just a test <b>token option</b> ${i.tokenOptions.length}`,tokenBalanceChange:i.tokenOptions.length,isMigrating:!1}));const o=yield t.manager.updateTokenOptionGroup(i);console.log("Add token option finished!"),o||console.log("auto update failed. Need manual update")})()}onDeleteFirstTokenOptionGroup(){var t=this;return(0,b.Z)(function*(){if(!t.course)return;const r=yield t.manager.getTokenATMConfiguration(t.course);if(!r.tokenOptionGroups[0])throw new Error("No token option groups exist in the configuration!");yield t.manager.deleteTokenOptionGroup(r.tokenOptionGroups[0]),console.log("Delete first token option group finished!")})()}onDeleteFirstTokenOption(){var t=this;return(0,b.Z)(function*(){if(!t.course)return;const i=(yield t.manager.getTokenATMConfiguration(t.course)).tokenOptionGroups[0];if(!i)throw new Error("No token option groups exist in the configuration!");if(!i.tokenOptions[0])throw new Error("No token option exists in the first token option group!");i.deleteTokenOption(i.tokenOptions[0]);const s=yield t.manager.updateTokenOptionGroup(i);console.log("Delete first token option finished!"),s||console.log("auto update failed. Need manual update")})()}onChangeLastTokenOptionGroupPublishState(){var t=this;return(0,b.Z)(function*(){if(!t.course)return;const r=yield t.manager.getTokenATMConfiguration(t.course),i=r.tokenOptionGroups[r.tokenOptionGroups.length-1];if(!i)throw new Error("No token option groups exist in the configuration!");if(i.isPublished){const s=yield t.manager.unpublishTokenOptionGroup(i);console.log("Unpublish operation attempted. Result: ",s)}else yield t.manager.publishTokenOptionGroup(i),console.log("Token option group published!")})()}onResetStudentRecord(){var t=this;return(0,b.Z)(function*(){if(!t.course)return;const r=yield t.manager.getTokenATMConfiguration(t.course);var o,i=!1,s=!1;try{for(var l,a=yr(yield t.canvasService.getCourseStudentEnrollments(t.course.id));i=!(l=yield a.next()).done;i=!1){const u=l.value;yield t.canvasService.gradeSubmission(t.course.id,u.id,r.logAssignmentId,0);for(const c of yield t.canvasService.getSubmissionComments(t.course.id,u.id,r.logAssignmentId))yield t.canvasService.deleteComment(t.course.id,u.id,r.logAssignmentId,c.id)}}catch(u){s=!0,o=u}finally{try{i&&null!=a.return&&(yield a.return())}finally{if(s)throw o}}console.log("Deletion finished!")})()}onMyOperation(){var t=this;return(0,b.Z)(function*(){if(!t.course)return;const i=Object.assign(new dR,{type:"withdraw-assignment-resubmission",id:-2,name:"Test Option",description:"AAAAAAAAAA",tokenBalanceChange:10,isMigrating:!1,withdrawTokenOptionId:-3});console.log(i),console.log(_c.is(i)),console.log(_c.encode(i))})()}}return e.\u0275fac=function(t){return new(t||e)(D(Wi),D(In),D(lg))},e.\u0275cmp=qe({type:e,selectors:[["app-dev-test"]],decls:21,vars:0,consts:[["appCenter","",1,"flex-column"],[1,"btn","btn-danger","my-3",3,"click"],[1,"btn","btn-primary","my-3",3,"click"]],template:function(t,r){1&t&&(m(0,"div",0)(1,"button",1),P("click",function(){return r.onRegenerateContent()}),E(2,"Regenerate Content"),y(),m(3,"button",1),P("click",function(){return r.onDeleteAll()}),E(4,"Delete All"),y(),m(5,"button",2),P("click",function(){return r.onCreateConfiguration()}),E(6,"Create Configuration"),y(),m(7,"button",2),P("click",function(){return r.onAddTokenOptionGroup()}),E(8,"Add Token Option Group"),y(),m(9,"button",2),P("click",function(){return r.onAddTokenOption()}),E(10," Add Token Option to the Last Token Option Group "),y(),m(11,"button",1),P("click",function(){return r.onDeleteFirstTokenOptionGroup()}),E(12," Delete First Token Option Group "),y(),m(13,"button",1),P("click",function(){return r.onDeleteFirstTokenOption()}),E(14," Delete First Token Option in the First Token Option Gorup "),y(),m(15,"button",2),P("click",function(){return r.onChangeLastTokenOptionGroupPublishState()}),E(16," Publish/Unpublish Last Token Option Group "),y(),m(17,"button",1),P("click",function(){return r.onResetStudentRecord()}),E(18,"Reset all student records"),y(),m(19,"button",1),P("click",function(){return r.onMyOperation()}),E(20,"On My Operation"),y()())},dependencies:[Ka]}),e})();const vie=["container"];function bie(e,n){}let wie=(()=>{class e{constructor(t,r){this.configurationManagerService=t,this.environmentInjector=r,this._isProcessing=!1}ngOnInit(){if(!this.container||!this.configuration)throw new Error("Fail to initialize configuration editing modal");const[t,r]=qn(cs,"The suffix of Assignment Group & Module name",this.environmentInjector).appendBuilder(qn(bg,"Description of Token ATM Log Assignment",this.environmentInjector)).transformSrc(i=>[i.suffix,i.description]).build();this.field=r,this.field.srcValue=this.configuration,t(this.container)}get isProcessing(){return this._isProcessing}set isProcessing(t){this._isProcessing=t,this.field&&(this.field.isReadOnly=t)}onCancel(){this.modalRef?.hide()}onEditConfiguration(){var t=this;return(0,b.Z)(function*(){if(!t.configuration||!t.field)return;if(t.isProcessing=!0,!(yield t.field.validate()))return void(t.isProcessing=!1);const[r,i]=yield t.field.destValue;yield t.configurationManagerService.updateTokenATMMetadata(t.configuration,{suffix:r,description:i}),t.modalRef?.hide(),t.isProcessing=!1})()}}return e.\u0275fac=function(t){return new(t||e)(D(Wi),D(Si))},e.\u0275cmp=qe({type:e,selectors:[["app-edit-configuration-modal"]],viewQuery:function(t,r){if(1&t&&Xr(vie,7,Pn),2&t){let i;Fr(i=Vr())&&(r.container=i.first)}},inputs:{configuration:"configuration"},decls:11,vars:2,consts:[[1,"modal-header"],[1,"modal-title","pull-left"],[1,"modal-body"],["container",""],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary","mx-2",3,"disabled","click"],["type","button",1,"btn","btn-primary","mx-2",3,"disabled","click"]],template:function(t,r){1&t&&(m(0,"div",0)(1,"h4",1),E(2,"Edit Token ATM Configuration Metadata"),y()(),m(3,"div",2),V(4,bie,0,0,"ng-template",null,3,ir),y(),m(6,"div",4)(7,"button",5),P("click",function(){return r.onCancel()}),E(8," Cancel "),y(),m(9,"button",6),P("click",function(){return r.onEditConfiguration()}),E(10," Edit "),y()()),2&t&&(v(7),w("disabled",r.isProcessing),v(2),w("disabled",r.isProcessing))}}),e})();const Die=["moduleNameModal"];function Cie(e,n){1&e&&(m(0,"div",3),He(1,"app-canvas-loading-toast"),y())}function Tie(e,n){if(1&e){const t=Oe();m(0,"div",4)(1,"button",5),P("click",function(){return $(t),j(C().onCreateTestingConfiguration())}),E(2," Create Testing Configuration "),y(),m(3,"button",5),P("click",function(){return $(t),j(C().onEditConfigurationMetadata())}),E(4," Edit Token ATM Configuration Metadata "),y(),m(5,"button",6),P("click",function(){return $(t),j(C().onDeleteAll())}),E(6," Delete All Token-ATM related content "),y(),m(7,"button",6),P("click",function(){return $(t),j(C().onResetContent())}),E(8," Reset Token ATM "),y(),m(9,"button",6),P("click",function(){return $(t),j(C().onMigrate())}),E(10," Migrate Token ATM after a Course Copy/Import "),y()()}if(2&e){const t=C();v(1),w("disabled",t.isProcessing),v(2),w("disabled",t.isProcessing),v(2),w("disabled",t.isProcessing),v(2),w("disabled",t.isProcessing),v(2),w("disabled",t.isProcessing)}}function Mie(e,n){if(1&e){const t=Oe();m(0,"div",7)(1,"h4",8),E(2,"Provide course preparation module name"),y()(),m(3,"div",9)(4,"label",10),E(5,"The name of the course preparation module:"),y(),m(6,"input",11),P("ngModelChange",function(i){return $(t),j(C().moduleName=i)}),y()(),m(7,"div",12)(8,"button",13),P("click",function(){return $(t),j(C().onInputModuleName())}),E(9,"Submit"),y()()}if(2&e){const t=C();v(6),w("ngModel",t.moduleName)}}const aN=[{name:"Process Request",path:"process-request",component:ere},{name:"Token Options",path:"configure-token-options",component:zre},{name:"Students",path:"students",component:gie},{name:"Configuration",path:"configuration",component:(()=>{class e{constructor(t,r,i,s,o){this.configurationManagerService=t,this.canvasService=r,this.modalSerivce=i,this.tokenOptionResolverRegistry=s,this.modalManagerSerivce=o,this.isProcessing=!1}configureCourse(t){var r=this;return(0,b.Z)(function*(){r.course=t})()}onCreateTestingConfiguration(){var t=this;return(0,b.Z)(function*(){if(t.course){t.isProcessing=!0;try{return yield t.canvasService.getPageIdByName(t.course.id,"Token ATM Configuration"),t.isProcessing=!1,void(yield t.modalManagerSerivce.createNotificationModal("There is an existing configuration for this course."))}catch{}try{const r=yield t.configurationManagerService.createTokenATMConfiguration(t.course,"(Complete to earn 1 TOKEN)","This is just a test generation of the content"),i=new br(r,"Earn & Spend Tokens (Test)",r.nextFreeTokenOptionGroupId,"",String.raw`<p>Students,</p>
            <p>To earn an extra token to be applied to your final exam, please help us try out a new system developed by your fellow UCI students in their ICS capstone course. The purpose of this programming is take make the Token process more automatic - so students don't have to wait for the Head TA to manually process token counts.</p>
            <p>All you need to do is complete this quiz to let their programming (called a Token ATM) know you want to earn a token. You still need to wait for the Head TA to trigger the automatic request processing. To see if your request was approved, look at the Token ATM Log.&nbsp; The Token ATM Log displays your token balance and information about the requests you've made.</p>
            <p>Thanks for helping us test out the Token ATM!</p>`,!0,[]);yield t.configurationManagerService.addNewTokenOptionGroup(i);const o={type:"basic",id:r.nextFreeTokenOptionId,name:"Spend 1 test token",description:"The test tokens you spent by requesting this token option is just for testing purpose and will not influence your real token counts",tokenBalanceChange:-1,isMigrating:!1};i.addTokenOption(t.tokenOptionResolverRegistry.constructTokenOption(i,{type:"basic",id:r.nextFreeTokenOptionId,name:"Earn 0.5 test tokens",description:"The test tokens you obtained by requesting this token option is just for testing purpose and will not influence your real token counts",tokenBalanceChange:.5,isMigrating:!1})),i.addTokenOption(t.tokenOptionResolverRegistry.constructTokenOption(i,o)),yield t.configurationManagerService.updateTokenOptionGroup(i);const a=new br(r,"Course Preparation Token (Test)",r.nextFreeTokenOptionGroupId,"",String.raw`<div id="quiz-instructions" class="user_content enhanced">
            <div class="description user_content teacher-version enhanced">
            <p>Students,</p>
            <p>To earn an extra token to be applied to your final exam, please help us try out a new system developed by your fellow UCI students in their ICS capstone course. The purpose of this programming is take make the Token process more automatic - so students don't have to wait for the Head TA to manually process token counts.</p>
            <p>All you need to do is complete this quiz to let their programming (called a Token ATM) know you want to earn a token. You still need to wait for the Head TA to trigger the automatic request processing. To see if your request was approved, look at the Token ATM Log.&nbsp; The Token ATM Log displays your token balance and information about the requests you've made.</p>
            <p>Thanks for helping us test out the Token ATM!</p>
            </div>
            </div>`,!0,[]);yield t.configurationManagerService.addNewTokenOptionGroup(a),t.moduleName="Course Preparation (Must pass with 70% or higher to earn 1 TOKEN)",t.moduleNameModalRef=t.modalSerivce.show(t.moduleNameModalTemplate,{backdrop:"static",keyboard:!1}),yield new Promise(d=>{t.moduleNamePromiseResolve=d});const u=yield t.canvasService.getModuleIdByName(t.course.id,t.moduleName);a.addTokenOption(t.tokenOptionResolverRegistry.constructTokenOption(a,{type:"earn-by-module",id:r.nextFreeTokenOptionId,name:"Course Preparation Token",description:"To get this test token, you need to pass the Course Preparation Module with a score no less than 70% of the total score. The test token you got is just for testing purpose and will not influence your real token counts",tokenBalanceChange:1,isMigrating:!1,moduleName:t.moduleName,moduleId:u,startTime:new Date,gradeThreshold:.7})),yield t.configurationManagerService.updateTokenOptionGroup(a),t.isProcessing=!1,yield t.modalManagerSerivce.createNotificationModal("Testing Configuration Created!")}catch(r){yield t.modalManagerSerivce.createNotificationModal(`Error occured when creating test configuration: ${co.serailize(r)}`,"Error"),t.isProcessing=!1}}})()}onDeleteAll(){var t=this;return(0,b.Z)(function*(){if(!t.course)return;t.isProcessing=!0;const[r,i]=yield t.modalManagerSerivce.createConfirmationModal("Do you really want to delete all Token ATM related content from this course?","Confirmation",!0);if(!i)return t.isProcessing=!1,void r.hide();r.content&&(r.content.disableButton=!0);try{const s=yield t.configurationManagerService.getTokenATMConfiguration(t.course);yield t.configurationManagerService.deleteAll(s),t.isProcessing=!1,yield t.modalManagerSerivce.createNotificationModal("All Token ATM related content has been deleted!")}catch(s){yield t.modalManagerSerivce.createNotificationModal(`Error occured when deleting Token ATM related content: ${co.serailize(s)}\n***ACTION NEEDED***: \nYou can use Canvas to delete the Token ATM content by manually deleting: \n1) the two Canvas pages prefixed with 'Token ATM', \n2) the one Canvas assignment group prefixed with 'Token ATM', and \n3) the one Canvas module prefixed with 'Token ATM'. \n***Sorry for the inconvenience!`,"Error")}finally{t.isProcessing=!1,r.hide()}})()}onResetContent(){var t=this;return(0,b.Z)(function*(){if(!t.course)return;t.isProcessing=!0;const[r,i]=yield t.modalManagerSerivce.createConfirmationModal("Do you really want to reset Token ATM for this course? This will cause all information about token balances and requests being deleted! NOTE: if errors occur during reset, there is NO WAY to recover from it! Please export the course content as a backup.","Confirmation",!0);if(!i)return t.isProcessing=!1,void r.hide();r.content&&(r.content.disableButton=!0);try{const s=yield t.configurationManagerService.getTokenATMConfiguration(t.course);yield t.configurationManagerService.regenerateContent(s),yield t.modalManagerSerivce.createNotificationModal("Token ATM is successfully reset!")}catch(s){yield t.modalManagerSerivce.createNotificationModal(`Error occured when resetting Token ATM:\n***ACTION NEEDED*** Please delete the Token ATM content manually by deleting two pages prefixed with Token ATM, one assignment group prefixed with Token ATM, and one module prefixed with Token ATM. After that, please import the course content related to Token ATM (the things you deleted before) from the course export and then perform migration. Sorry for the inconvenience!\nError Message: ${co.serailize(s)}`)}finally{t.isProcessing=!1,r.hide()}})()}onMigrate(){var t=this;return(0,b.Z)(function*(){if(!t.course)return;t.isProcessing=!0;const[r,i]=yield t.modalManagerSerivce.createConfirmationModal("Do you really want to start the migration of Token ATM for this course? This will cause all information about token balances and requests being deleted! Also, all token option groups will be unpublished, while all token options will need to be saved again to complete the migration. NOTE: if errors occur during migration, there is NO WAY to recover from it! Please export the course content as a backup.","Confirmation",!0);if(!i)return t.isProcessing=!1,void r.hide();r.content&&(r.content.disableButton=!0);try{const s=yield t.configurationManagerService.getTokenATMConfiguration(t.course);yield t.configurationManagerService.regenerateContent(s,!0),yield t.modalManagerSerivce.createNotificationModal("Token ATM migration is started sucessfully! You need to save every token option again to complete the migration.")}catch(s){yield t.modalManagerSerivce.createNotificationModal(`Error occured when migrating Token ATM:\n***ACTION NEEDED*** Please delete the Token ATM content manually by deleting two pages prefixed with Token ATM, one assignment group prefixed with Token ATM, and one module prefixed with Token ATM. After that, please import the course content related to Token ATM (the things you deleted before) from the course export and then try the migration again. Sorry for the inconvenience!\nError Message: ${co.serailize(s)}`)}finally{t.isProcessing=!1,r.hide()}})()}onInputModuleName(){!this.moduleNameModalRef||!this.moduleNamePromiseResolve||(this.moduleNameModalRef.hide(),this.moduleNamePromiseResolve())}onEditConfigurationMetadata(){var t=this;return(0,b.Z)(function*(){if(!t.course)return;t.isProcessing=!0;const r=t.modalSerivce.show(wie,{initialState:{configuration:yield t.configurationManagerService.getTokenATMConfiguration(t.course)},backdrop:"static",keyboard:!1});r.content&&(r.content.modalRef=r),t.isProcessing=!1})()}}return e.\u0275fac=function(t){return new(t||e)(D(Wi),D(In),D(us),D(lg),D(ma))},e.\u0275cmp=qe({type:e,selectors:[["app-configuration"]],viewQuery:function(t,r){if(1&t&&Xr(Die,5),2&t){let i;Fr(i=Vr())&&(r.moduleNameModalTemplate=i.first)}},decls:5,vars:2,consts:[["appCenter","",4,"ngIf","ngIfElse"],["configurationPanel",""],["moduleNameModal",""],["appCenter",""],["appCenter","",1,"flex-column"],[1,"btn","btn-primary","my-3",3,"disabled","click"],[1,"btn","btn-danger","my-3",3,"disabled","click"],[1,"modal-header"],[1,"modal-title","pull-left"],[1,"modal-body"],["for","renameText"],["type","text","id","renameText",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-primary","mx-2",3,"click"]],template:function(t,r){if(1&t&&(V(0,Cie,2,0,"div",0),V(1,Tie,11,5,"ng-template",null,1,ir),V(3,Mie,10,1,"ng-template",null,2,ir)),2&t){const i=Ks(2);w("ngIf",!r.course)("ngIfElse",i)}},dependencies:[Zt,eo,Oi,_i,Ka,Vc]}),e})()},{name:"Dev-Test",path:"dev-test",component:yie,canActivate:[()=>!1],isDev:!0}];function Eie(e,n){1&e&&He(0,"img",12),2&e&&w("src",C().avatarUrl,by)}function Aie(e,n){if(1&e&&(m(0,"p"),E(1),y()),2&e){const t=C();v(1),et(t.name)}}function Iie(e,n){if(1&e&&(m(0,"p"),E(1),y()),2&e){const t=C();v(1),et(t.email)}}const Oie=function(){return["/","select-course"]};function xie(e,n){if(1&e&&(m(0,"div",13)(1,"p"),E(2),y(),m(3,"p"),E(4),y(),m(5,"span",14),E(6,"Switch Course"),y()()),2&e){const t=C();v(2),et(t.course.name),v(2),et(t.course.term),v(1),w("routerLink",function Ok(e,n,t){const r=fi()+e,i=ee();return i[r]===ct?Qs(i,r,t?n.call(t):n()):function vd(e,n){return e[n]}(i,r)}(3,Oie))}}function Rie(e,n){if(1&e&&(Yn(0),m(1,"li",15)(2,"span",16),E(3),y()(),zn()),2&e){const t=n.$implicit;v(2),w("routerLink",t.path),v(1),et(t.name)}}let Lie=(()=>{class e{constructor(t,r){this.router=t,this.canvasService=r,this.courseSubscription=this.router.events.subscribe(i=>{if(!(i instanceof La)||"/dashboard"!=i.url)return;const s=this.router.getCurrentNavigation()?.extras.state;s&&(this.configureCourse(s),this.configureUserInformation("self"))})}configureUserInformation(t){var r=this;return(0,b.Z)(function*(){const i=yield r.canvasService.getUserInformation(t);r.name=i.name,r.email=i.email,r.avatarUrl=i.avatarURL})()}configureCourse(t){this.course=t}ngOnDestroy(){this.courseSubscription&&this.courseSubscription.unsubscribe()}get routes(){return aN.filter(t=>!t.isDev)}onComponentActivate(t){var r=this;return(0,b.Z)(function*(){r.course&&"configureCourse"in t&&"function"==typeof t.configureCourse&&(yield t.configureCourse(r.course))})()}}return e.\u0275fac=function(t){return new(t||e)(D(ti),D(In))},e.\u0275cmp=qe({type:e,selectors:[["app-dashboard"]],decls:13,vars:5,consts:[[1,"d-flex"],["id","sidebar",1,"d-flex","flex-column","flex-shrink-0","align-items-center","px-3","py-5","bg-light","vh-100","me-0","overflow-y-auto"],["src","assets/logo3.png","alt","logo"],[1,"d-flex","flex-column","align-items-center"],["alt","Avatar",3,"src",4,"ngIf"],[4,"ngIf"],["class","d-flex flex-column align-items-center my-5",4,"ngIf"],[1,"nav","nav-pills","flex-column","align-items-center"],[4,"ngFor","ngForOf"],[1,"overflow-auto","vh-100","flex-grow-1"],[1,"flex-grow-1","dashboard-component-container"],[3,"activate"],["alt","Avatar",3,"src"],[1,"d-flex","flex-column","align-items-center","my-5"],[1,"nav-link","fs-5","text-primary","is-link",3,"routerLink"],[1,"nav-item"],["routerLinkActive","fw-bold",1,"nav-link","fs-4","text-dark","is-link",3,"routerLink"]],template:function(t,r){1&t&&(m(0,"div",0)(1,"div",1),He(2,"img",2),m(3,"div",3),V(4,Eie,1,1,"img",4),V(5,Aie,2,1,"p",5),V(6,Iie,2,1,"p",5),y(),V(7,xie,7,4,"div",6),m(8,"ul",7),V(9,Rie,4,2,"ng-container",8),y()(),m(10,"div",9)(11,"div",10)(12,"router-outlet",11),P("activate",function(s){return r.onComponentActivate(s)}),y()()()()),2&t&&(v(4),w("ngIf",r.avatarUrl),v(1),w("ngIf",r.name),v(1),w("ngIf",r.email),v(1),w("ngIf",r.course),v(2),w("ngForOf",r.routes))},dependencies:[Br,Zt,dm,wm,zI],styles:["#sidebar[_ngcontent-%COMP%]{width:20rem;display:inline}.dashboard-component-container[_ngcontent-%COMP%]{max-height:100vh}"]}),e})();class lN{constructor(){this.canvasURL="",this.canvasAccessToken="",this.qualtricsDataCenter="",this.qualtricsClientID="",this.qualtricsClientSecret=""}toJSON(){return{canvasURL:this.canvasURL,canvasAccessToken:this.canvasAccessToken,qualtricsDataCenter:this.qualtricsDataCenter,qualtricsClientID:this.qualtricsClientID,qualtricsClientSecret:this.qualtricsClientSecret}}}let Pie=(()=>{class e{getStoredItem(t,r=!0){const i=localStorage.getItem(t);if(!r)return i??"";if(null==i)throw new Error(`${t} not found in localStorage`);return i}storeCredentials(t,r){return(0,b.Z)(function*(){const i=window.crypto.getRandomValues(new Uint8Array(32)),s=yield Ba.deriveAESKey(r,i),[o,a]=yield Ba.encryptAES(s,JSON.stringify(t));localStorage.setItem("salt",ni_fromUint8Array(i)),localStorage.setItem("iv",ni_fromUint8Array(o)),localStorage.setItem("data",ni_fromUint8Array(a))})()}retrieveCredentials(t){var r=this;return(0,b.Z)(function*(){const i=new Uint8Array(ni_toUint8Array(r.getStoredItem("salt"))),s=yield Ba.deriveAESKey(t,i),o=new Uint8Array(ni_toUint8Array(r.getStoredItem("iv"))),a=new Uint8Array(ni_toUint8Array(r.getStoredItem("data"))),l=yield Ba.decryptAES(s,a,o);return JSON.parse(l)})()}hasCredentials(){return null!=localStorage.getItem("salt")&&null!=localStorage.getItem("iv")&&null!=localStorage.getItem("data")}clearCredentials(){localStorage.removeItem("salt"),localStorage.removeItem("iv"),localStorage.removeItem("data")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Nie=["retrieveCredentialModal"],Fie=["storeCredentialModal"];function Vie(e,n){if(1&e){const t=Oe();Yn(0),m(1,"app-form-item",11),P("dataChange",function(i){const o=$(t).$implicit;return j(C().credentials[o]=i)}),y(),zn()}if(2&e){const t=n.$implicit,r=C();v(1),w("info",r.getCredentialsFormItemInfoMap()[t])("data",r.credentials[t])}}function Bie(e,n){if(1&e&&(m(0,"p",21),E(1),y()),2&e){const t=C(2);v(1),et(t.unlockCredentialErrorMessage)}}function Hie(e,n){if(1&e){const t=Oe();m(0,"div",12)(1,"h4",13),E(2,"Unlock Credentials"),y()(),m(3,"div",14)(4,"form")(5,"app-form-item",11),P("dataChange",function(i){return $(t),j(C().password=i)}),y()(),V(6,Bie,2,1,"p",15),y(),m(7,"div",16)(8,"div",17)(9,"button",18),P("click",function(){$(t);const i=C();return j(null==i.retrieveCredentialModalRef?null:i.retrieveCredentialModalRef.hide())}),E(10," Cancel "),y(),m(11,"button",19),P("click",function(){return $(t),j(C().onDeleteCredentials())}),E(12," Delete saved credentials "),y(),m(13,"button",20),P("click",function(){return $(t),j(C().onUnlockCredentials())}),E(14," Unlock "),y()()()}if(2&e){const t=C();v(5),w("info",t.getPasswordFormItemInfo())("data",t.password),v(1),w("ngIf",t.unlockCredentialErrorMessage),v(3),w("disabled",t.isProcessing),v(2),w("disabled",t.isProcessing),v(2),w("disabled",t.isProcessing)}}function $ie(e,n){1&e&&(m(0,"p",21),E(1," Warning: Some credentials have already been saved. Saving new credentials will overwrite the previously saved credentials. "),y())}function jie(e,n){if(1&e){const t=Oe();m(0,"div",12)(1,"h4",13),E(2,"Save Credentials"),y()(),m(3,"div",14),V(4,$ie,2,0,"p",15),m(5,"form")(6,"app-form-item",11),P("dataChange",function(i){return $(t),j(C().password=i)}),y()()(),m(7,"div",16)(8,"div",17)(9,"button",22),P("click",function(){$(t);const i=C();return j(null==i.storeCredentialModalRef?null:i.storeCredentialModalRef.hide())}),E(10," Cancel "),y(),m(11,"button",20),P("click",function(){return $(t),j(C().onSaveCredentials())}),E(12," Save "),y()()()}if(2&e){const t=C();v(4),w("ngIf",t.hasExistingCredentials()),v(2),w("info",t.getPasswordFormItemInfo())("data",t.password),v(3),w("disabled",t.isProcessing),v(2),w("disabled",t.isProcessing)}}class Ao{constructor(n,t,r,i,s,o,a){this.canvasService=n,this.qualtricsService=t,this.credentialManagerService=r,this.router=i,this.modalService=s,this.modalManagerService=o,this.sanitizer=a,this.credentials=new lN,this.password="",this.unlockCredentialErrorMessage=void 0,this.isSavingCredentials=!1,this.isProcessing=!1}ngAfterViewInit(){var n=this;return(0,b.Z)(function*(){n.retrieveCredentialModalTemplate&&n.credentialManagerService.hasCredentials()&&(n.password="",n.retrieveCredentialModalRef=n.modalService.show(n.retrieveCredentialModalTemplate,{backdrop:"static",keyboard:!1}))})()}onDeleteCredentials(){this.isProcessing=!0,this.credentialManagerService.clearCredentials(),this.retrieveCredentialModalRef?.hide(),this.isProcessing=!1}onUnlockCredentials(){var n=this;return(0,b.Z)(function*(){n.unlockCredentialErrorMessage=void 0,n.isProcessing=!0;try{n.credentials=yield n.credentialManagerService.retrieveCredentials(n.password)}catch{return n.unlockCredentialErrorMessage="Unlock credentials failed. The password might be wrong, or the saved credentials might have broken.",void(n.isProcessing=!1)}yield n.onSubmitCredential(),n.retrieveCredentialModalRef?.hide(),n.isProcessing=!1})()}getPasswordFormItemInfo(){return new io("password","Password","password")}openLink(){window.open("https://docs.google.com/document/d/1KzO0Aic923z5rmvbmKJJ43suaz4IwG4RhmAtLUyVfeY/edit?usp=sharing","_blank")}getCredentialsFormItemInfoMap(){return Ao.CREDENTIALS_FORM_ITEM_INFO_MAP}getCredentialIDList(){return Ao.CREDENTIALS_ID_LIST}hasExistingCredentials(){return this.credentialManagerService.hasCredentials()}onClickSubmitButton(){var n=this;return(0,b.Z)(function*(){if(!n.storeCredentialModalTemplate)throw new Error("Store Credential Modal is not available");if(n.isSavingCredentials)return n.password="",void(n.storeCredentialModalRef=n.modalService.show(n.storeCredentialModalTemplate,{backdrop:"static",keyboard:!1}));yield n.onSubmitCredential()})()}onSaveCredentials(){var n=this;return(0,b.Z)(function*(){n.isProcessing=!0,yield n.credentialManagerService.storeCredentials(n.credentials,n.password),yield n.onSubmitCredential(),n.storeCredentialModalRef?.hide(),n.isProcessing=!1})()}sanitizeAndParseURL(n){const t=this.sanitizer.sanitize(dn.URL,n);if(null==t||t.startsWith("unsafe:"))throw new Error(`Provided Canvas URL (${n}) can't be sanitized.`);const r=new URL(t);return r.protocol="https:",r.origin}onSubmitCredential(){var n=this;return(0,b.Z)(function*(){try{n.credentials.canvasURL=n.sanitizeAndParseURL(n.credentials.canvasURL)}catch(i){return void(yield n.modalManagerService.createNotificationModal(co.serailize(i),"Canvas URL Error"))}const t=yield n.canvasService.configureCredential(n.credentials.canvasURL,n.credentials.canvasAccessToken),r=yield n.qualtricsService.configureCredential(n.credentials.qualtricsDataCenter,n.credentials.qualtricsClientID,n.credentials.qualtricsClientSecret);if(null==t&&null==r)return n.credentials=new lN,void n.router.navigate(["/select-course"]);{const i=[];null!=t&&(i.push("Provided Canvas credentials are invalid. Error Message:"),i.push(co.serailize(t))),null!=r&&(0!=i.length&&i.push(""),i.push("Provided Qualtrics credentials are invalid. Error Message:"),i.push(co.serailize(r))),n.canvasService.clearCredential(),n.qualtricsService.clearCredential(),yield n.modalManagerService.createNotificationModal(i.join("\n"),"Error")}})()}}Ao.CREDENTIALS_FORM_ITEM_INFO_MAP={canvasURL:new io("canvasURL","Canvas URL","url","https://canvas.instructure.com",'The URL you use to access your Canvas instance. \nPlease remove the "/" character at the end of the URL if there is one. \nExample: https://canvas.eee.uci.edu'),canvasAccessToken:new io("canvasAccessToken","Canvas Access Token","password","",'Please click your avatar on the left sidebar in Canvas and then click "Settings." \nIn the page you are redirected to, please scroll down until you see a "New Access Token" button in a section named "Approved Integrations." \nPlease click that button and follow the instruction to create a new access token, copy it, and then paste it here. \nExample: 1081~prKixoT8pyE04DPBIgmTod2IhyVTNUj7aVhazDI3UKbwt314ha31c6YXgxCpnOxH'),qualtricsDataCenter:new io("qualtricsDataCenter","Qualtrics Data Center","text","",'Please access the Account Settings page on Qualtrics and click the "Qualtrics IDs" tab. \nThe value of "Datacenter ID" under the "User" table is what you want. \nExample: iad1'),qualtricsClientID:new io("qualtricsClientID","Qualtrics Client ID","text","",'Please access the Account Settings page on Qualtrics and click the "Qualtrics IDs" tab. \nAfter that, clicks "OAuth Client Manager" tab. Press the "New Client" button. \nPlease follow the instruction to create a new client. \nToken ATM *requires* two permissions: read:survey_responses and read:users. \nAfter creation, please copy & paste the Client ID and the Client Secret that pop up. \nExample: m2fdch523fe62h7ds896b06587fhn650'),qualtricsClientSecret:new io("qualtricsClientSecret","Qualtrics Client Secret","password","","Please see the tooltip for the Qualtris Client ID for more information. \nPlease note that you can no longer access the Client Secret again once you close the window that pops up after the creation. You will need to create a new Client in that case. \nExample: ye8gf6hGdscTFPn3zVs4Z3YI0amMk2zbccx2KJbhKv0JFrbsKFiOKPvctMYP6UjT")},Ao.CREDENTIALS_ID_LIST=["canvasURL","canvasAccessToken","qualtricsDataCenter","qualtricsClientID","qualtricsClientSecret"],Ao.\u0275fac=function(n){return new(n||Ao)(D(In),D(Wg),D(Pie),D(ti),D(us),D(ma),D(FE))},Ao.\u0275cmp=qe({type:Ao,selectors:[["app-login"]],viewQuery:function(n,t){if(1&n&&(Xr(Nie,5),Xr(Fie,5)),2&n){let r;Fr(r=Vr())&&(t.retrieveCredentialModalTemplate=r.first),Fr(r=Vr())&&(t.storeCredentialModalTemplate=r.first)}},decls:20,vars:2,consts:[["appCenter",""],[1,"container","text-center"],[1,"text-primary"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center"],["type","checkbox","name","isSavingCredentials","id","checkSaveCredentials",3,"ngModel","ngModelChange"],["for","checkSaveCredentials",1,"ms-2"],["type","button",1,"btn","btn-primary",3,"click"],["type","button","target","_blank",1,"btn","btn-secondary","mt-5",3,"click"],["retrieveCredentialModal",""],["storeCredentialModal",""],[3,"info","data","dataChange"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],[1,"modal-body"],["class","text-danger",4,"ngIf"],[1,"modal-footer"],[1,"d-flex","flex-grow-1"],["type","button",1,"btn","btn-outline-secondary","me-2",3,"disabled","click"],["type","button",1,"btn","btn-danger","me-auto",3,"disabled","click"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[1,"text-danger"],["type","button",1,"btn","btn-outline-secondary","me-auto",3,"disabled","click"]],template:function(n,t){1&n&&(m(0,"div",0)(1,"div",1)(2,"h1",2),E(3,"Welcome to Token ATM"),y(),m(4,"p"),E(5,"Please provide your login credentials"),y(),m(6,"form"),V(7,Vie,2,2,"ng-container",3),m(8,"div",4)(9,"input",5),P("ngModelChange",function(i){return t.isSavingCredentials=i}),y(),m(10,"label",6),E(11,"Save credentials"),y()(),m(12,"button",7),P("click",function(){return t.onClickSubmitButton()}),E(13,"Login"),y()(),m(14,"button",8),P("click",function(){return t.openLink()}),E(15," Having trouble finding your credentials? "),y()()(),V(16,Hie,15,6,"ng-template",null,9,ir),V(18,jie,13,5,"ng-template",null,10,ir)),2&n&&(v(7),w("ngForOf",t.getCredentialIDList()),v(2),w("ngModel",t.isSavingCredentials))},dependencies:[Br,Zt,MA,Hp,Oi,dA,_i,Kp,Ka,ZP]});const IC=e=>!(!vt(Wg).hasCredentialConfigured()||!vt(In).hasCredentialConfigured())||function lW(e,n,t=null,r=null){return function aI(e,n,t,r){let i=e;for(;i.parent;)i=i.parent;if(0===n.length)return Ku(i,i,i,t,r);const s=cI(n);if(s.toRoot())return Ku(i,i,new _t([],{}),t,r);const o=function cW(e,n,t){if(e.isAbsolute)return new Ju(n,!0,0);if(!t)return new Ju(n,!1,NaN);if(null===t.parent)return new Ju(t,!0,0);const r=Jd(e.commands[0])?0:1;return dI(t,t.segments.length-1+r,e.numberOfDoubleDots)}(s,i,e),a=o.processChildren?Xu(o.segmentGroup,o.index,s.commands):Ub(o.segmentGroup,o.index,s.commands);return Ku(i,o.segmentGroup,a,t,r)}(function oI(e){let n;const i=$b(function t(s){const o={};for(const l of s.children){const u=t(l);o[l.outlet]=u}const a=new _t(s.url,o);return s===e&&(n=a),a}(e.root));return n??i}(e),n,t,r)}(e,["/","login"]),Uie=[{path:"login",component:Ao},{path:"dashboard",component:Lie,children:function kie(){return[...aN.map(e=>({...e,name:void 0,isDev:void 0,hidden:void 0})),{path:"",redirectTo:"process-request",pathMatch:"full"}]}(),canActivate:[IC],canActivateChild:[IC]},{path:"select-course",component:rne,canActivate:[IC]},{path:"",pathMatch:"full",redirectTo:"/login"}];let Yie=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Sr({type:e}),e.\u0275inj=pr({imports:[XI.forRoot(Uie),XI]}),e})(),zie=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=qe({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&He(0,"router-outlet")},dependencies:[dm]}),e})();function uN(e){return new z(3e3,!1)}function Sse(){return typeof window<"u"&&typeof window.document<"u"}function OC(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Ja(e){switch(e.length){case 0:return new Zf;case 1:return e[0];default:return new mP(e)}}function cN(e,n,t,r,i=new Map,s=new Map){const o=[],a=[];let l=-1,u=null;if(r.forEach(c=>{const d=c.get("offset"),f=d==l,h=f&&u||new Map;c.forEach((p,g)=>{let M=g,O=p;if("offset"!==g)switch(M=n.normalizePropertyName(M,o),O){case cC:O=i.get(g);break;case ha:O=s.get(g);break;default:O=n.normalizeStyleValue(g,M,O,o)}h.set(M,O)}),f||a.push(h),u=h,l=d}),o.length)throw function pse(e){return new z(3502,!1)}();return a}function xC(e,n,t,r){switch(n){case"start":e.onStart(()=>r(t&&RC(t,"start",e)));break;case"done":e.onDone(()=>r(t&&RC(t,"done",e)));break;case"destroy":e.onDestroy(()=>r(t&&RC(t,"destroy",e)))}}function RC(e,n,t){const s=LC(e.element,e.triggerName,e.fromState,e.toState,n||e.phaseName,t.totalTime??e.totalTime,!!t.disabled),o=e._data;return null!=o&&(s._data=o),s}function LC(e,n,t,r,i="",s=0,o){return{element:e,triggerName:n,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Ki(e,n,t){let r=e.get(n);return r||e.set(n,r=t),r}function dN(e){const n=e.indexOf(":");return[e.substring(1,n),e.slice(n+1)]}let PC=(e,n)=>!1,fN=(e,n,t)=>[],hN=null;function NC(e){const n=e.parentNode||e.host;return n===hN?null:n}(OC()||typeof Element<"u")&&(Sse()?(hN=(()=>document.documentElement)(),PC=(e,n)=>{for(;n;){if(n===e)return!0;n=NC(n)}return!1}):PC=(e,n)=>e.contains(n),fN=(e,n,t)=>{if(t)return Array.from(e.querySelectorAll(n));const r=e.querySelector(n);return r?[r]:[]});let ql=null,pN=!1;const mN=PC,gN=fN;let _N=(()=>{class e{validateStyleProperty(t){return function Ese(e){ql||(ql=function Ase(){return typeof document<"u"?document.body:null}()||{},pN=!!ql.style&&"WebkitAppearance"in ql.style);let n=!0;return ql.style&&!function kse(e){return"ebkit"==e.substring(1,6)}(e)&&(n=e in ql.style,!n&&pN&&(n="Webkit"+e.charAt(0).toUpperCase()+e.slice(1)in ql.style)),n}(t)}matchesElement(t,r){return!1}containsElement(t,r){return mN(t,r)}getParentElement(t){return NC(t)}query(t,r,i){return gN(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],l){return new Zf(i,s)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})(),FC=(()=>{class e{}return e.NOOP=new _N,e})();const Ise=1e3,VC="ng-enter",Zg="ng-leave",Qg="ng-trigger",Kg=".ng-trigger",vN="ng-animating",BC=".ng-animating";function ya(e){if("number"==typeof e)return e;const n=e.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:HC(parseFloat(n[1]),n[2])}function HC(e,n){return"s"===n?e*Ise:e}function Jg(e,n,t){return e.hasOwnProperty("duration")?e:function xse(e,n,t){let i,s=0,o="";if("string"==typeof e){const a=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return n.push(uN()),{duration:0,delay:0,easing:""};i=HC(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=HC(parseFloat(l),a[4]));const u=a[5];u&&(o=u)}else i=e;if(!t){let a=!1,l=n.length;i<0&&(n.push(function Wie(){return new z(3100,!1)}()),a=!0),s<0&&(n.push(function qie(){return new z(3101,!1)}()),a=!0),a&&n.splice(l,0,uN())}return{duration:i,delay:s,easing:o}}(e,n,t)}function ih(e,n={}){return Object.keys(e).forEach(t=>{n[t]=e[t]}),n}function bN(e){const n=new Map;return Object.keys(e).forEach(t=>{n.set(t,e[t])}),n}function Xa(e,n=new Map,t){if(t)for(let[r,i]of t)n.set(r,i);for(let[r,i]of e)n.set(r,i);return n}function DN(e,n,t){return t?n+":"+t+";":""}function CN(e){let n="";for(let t=0;t<e.style.length;t++){const r=e.style.item(t);n+=DN(0,r,e.style.getPropertyValue(r))}for(const t in e.style)e.style.hasOwnProperty(t)&&!t.startsWith("_")&&(n+=DN(0,Nse(t),e.style[t]));e.setAttribute("style",n)}function Io(e,n,t){e.style&&(n.forEach((r,i)=>{const s=jC(i);t&&!t.has(i)&&t.set(i,e.style[s]),e.style[s]=r}),OC()&&CN(e))}function Gl(e,n){e.style&&(n.forEach((t,r)=>{const i=jC(r);e.style[i]=""}),OC()&&CN(e))}function sh(e){return Array.isArray(e)?1==e.length?e[0]:fP(e):e}const $C=new RegExp("{{\\s*(.+?)\\s*}}","g");function TN(e){let n=[];if("string"==typeof e){let t;for(;t=$C.exec(e);)n.push(t[1]);$C.lastIndex=0}return n}function oh(e,n,t){const r=e.toString(),i=r.replace($C,(s,o)=>{let a=n[o];return null==a&&(t.push(function Zie(e){return new z(3003,!1)}()),a=""),a.toString()});return i==r?e:i}function Xg(e){const n=[];let t=e.next();for(;!t.done;)n.push(t.value),t=e.next();return n}const Pse=/-+([a-z0-9])/g;function jC(e){return e.replace(Pse,(...n)=>n[1].toUpperCase())}function Nse(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ji(e,n,t){switch(n.type){case 7:return e.visitTrigger(n,t);case 0:return e.visitState(n,t);case 1:return e.visitTransition(n,t);case 2:return e.visitSequence(n,t);case 3:return e.visitGroup(n,t);case 4:return e.visitAnimate(n,t);case 5:return e.visitKeyframes(n,t);case 6:return e.visitStyle(n,t);case 8:return e.visitReference(n,t);case 9:return e.visitAnimateChild(n,t);case 10:return e.visitAnimateRef(n,t);case 11:return e.visitQuery(n,t);case 12:return e.visitStagger(n,t);default:throw function Qie(e){return new z(3004,!1)}()}}function MN(e,n){return window.getComputedStyle(e)[n]}const n_="*";function jse(e,n){const t=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(r=>function Use(e,n,t){if(":"==e[0]){const l=function Yse(e,n){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return n.push(function cse(e){return new z(3016,!1)}()),"* => *"}}(e,t);if("function"==typeof l)return void n.push(l);e=l}const r=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function use(e){return new z(3015,!1)}()),n;const i=r[1],s=r[2],o=r[3];n.push(SN(i,o));"<"==s[0]&&!(i==n_&&o==n_)&&n.push(SN(o,i))}(r,t,n)):t.push(e),t}const r_=new Set(["true","1"]),i_=new Set(["false","0"]);function SN(e,n){const t=r_.has(e)||i_.has(e),r=r_.has(n)||i_.has(n);return(i,s)=>{let o=e==n_||e==i,a=n==n_||n==s;return!o&&t&&"boolean"==typeof i&&(o=i?r_.has(e):i_.has(e)),!a&&r&&"boolean"==typeof s&&(a=s?r_.has(n):i_.has(n)),o&&a}}const zse=new RegExp("s*:selfs*,?","g");function UC(e,n,t,r){return new Wse(e).build(n,t,r)}class Wse{constructor(n){this._driver=n}build(n,t,r){const i=new Zse(t);return this._resetContextStyleTimingState(i),Ji(this,sh(n),i)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles=new Map,n.collectedStyles.set("",new Map),n.currentTime=0}visitTrigger(n,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==n.name.charAt(0)&&t.errors.push(function Jie(){return new z(3006,!1)}()),n.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,u=l.name;u.toString().split(/\s*,\s*/).forEach(c=>{l.name=c,s.push(this.visitState(l,t))}),l.name=u}else if(1==a.type){const l=this.visitTransition(a,t);r+=l.queryCount,i+=l.depCount,o.push(l)}else t.errors.push(function Xie(){return new z(3007,!1)}())}),{type:7,name:n.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(n,t){const r=this.visitStyle(n.styles,t),i=n.options&&n.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{TN(l).forEach(u=>{o.hasOwnProperty(u)||s.add(u)})})}),s.size&&(Xg(s.values()),t.errors.push(function ese(e,n){return new z(3008,!1)}()))}return{type:0,name:n.name,style:r,options:i?{params:i}:null}}visitTransition(n,t){t.queryCount=0,t.depCount=0;const r=Ji(this,sh(n.animation),t);return{type:1,matchers:jse(n.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Zl(n.options)}}visitSequence(n,t){return{type:2,steps:n.steps.map(r=>Ji(this,r,t)),options:Zl(n.options)}}visitGroup(n,t){const r=t.currentTime;let i=0;const s=n.steps.map(o=>{t.currentTime=r;const a=Ji(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:s,options:Zl(n.options)}}visitAnimate(n,t){const r=function Kse(e,n){if(e.hasOwnProperty("duration"))return e;if("number"==typeof e)return YC(Jg(e,n).duration,0,"");const t=e;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=YC(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=Jg(t,n);return YC(i.duration,i.delay,i.easing)}(n.timings,t.errors);t.currentAnimateTimings=r;let i,s=n.styles?n.styles:bs({});if(5==s.type)i=this.visitKeyframes(s,t);else{let o=n.styles,a=!1;if(!o){a=!0;const u={};r.easing&&(u.easing=r.easing),o=bs(u)}t.currentTime+=r.duration+r.delay;const l=this.visitStyle(o,t);l.isEmptyStep=a,i=l}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(n,t){const r=this._makeStyleAst(n,t);return this._validateStyleAst(r,t),r}_makeStyleAst(n,t){const r=[],i=Array.isArray(n.styles)?n.styles:[n.styles];for(let a of i)"string"==typeof a?a===ha?r.push(a):t.errors.push(new z(3002,!1)):r.push(bN(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let l of a.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:n.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(n,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),n.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const u=t.collectedStyles.get(t.currentQuerySelector),c=u.get(l);let d=!0;c&&(s!=i&&s>=c.startTime&&i<=c.endTime&&(t.errors.push(function nse(e,n,t,r,i){return new z(3010,!1)}()),d=!1),s=c.startTime),d&&u.set(l,{startTime:s,endTime:i}),t.options&&function Lse(e,n,t){const r=n.params||{},i=TN(e);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function Gie(e){return new z(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(n,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function rse(){return new z(3011,!1)}()),r;let s=0;const o=[];let a=!1,l=!1,u=0;const c=n.steps.map(O=>{const Y=this._makeStyleAst(O,t);let B=null!=Y.offset?Y.offset:function Qse(e){if("string"==typeof e)return null;let n=null;if(Array.isArray(e))e.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;n=parseFloat(r.get("offset")),r.delete("offset")}});else if(e instanceof Map&&e.has("offset")){const t=e;n=parseFloat(t.get("offset")),t.delete("offset")}return n}(Y.styles),ue=0;return null!=B&&(s++,ue=Y.offset=B),l=l||ue<0||ue>1,a=a||ue<u,u=ue,o.push(ue),Y});l&&t.errors.push(function ise(){return new z(3012,!1)}()),a&&t.errors.push(function sse(){return new z(3200,!1)}());const d=n.steps.length;let f=0;s>0&&s<d?t.errors.push(function ose(){return new z(3202,!1)}()):0==s&&(f=1/(d-1));const h=d-1,p=t.currentTime,g=t.currentAnimateTimings,M=g.duration;return c.forEach((O,Y)=>{const B=f>0?Y==h?1:f*Y:o[Y],ue=B*M;t.currentTime=p+g.delay+ue,g.duration=ue,this._validateStyleAst(O,t),O.offset=B,r.styles.push(O)}),r}visitReference(n,t){return{type:8,animation:Ji(this,sh(n.animation),t),options:Zl(n.options)}}visitAnimateChild(n,t){return t.depCount++,{type:9,options:Zl(n.options)}}visitAnimateRef(n,t){return{type:10,animation:this.visitReference(n.animation,t),options:Zl(n.options)}}visitQuery(n,t){const r=t.currentQuerySelector,i=n.options||{};t.queryCount++,t.currentQuery=n;const[s,o]=function qse(e){const n=!!e.split(/\s*,\s*/).find(t=>":self"==t);return n&&(e=e.replace(zse,"")),e=e.replace(/@\*/g,Kg).replace(/@\w+/g,t=>Kg+"-"+t.slice(1)).replace(/:animating/g,BC),[e,n]}(n.selector);t.currentQuerySelector=r.length?r+" "+s:s,Ki(t.collectedStyles,t.currentQuerySelector,new Map);const a=Ji(this,sh(n.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:n.selector,options:Zl(n.options)}}visitStagger(n,t){t.currentQuery||t.errors.push(function ase(){return new z(3013,!1)}());const r="full"===n.timings?{duration:0,delay:0,easing:"full"}:Jg(n.timings,t.errors,!0);return{type:12,animation:Ji(this,sh(n.animation),t),timings:r,options:null}}}class Zse{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Zl(e){return e?(e=ih(e)).params&&(e.params=function Gse(e){return e?ih(e):null}(e.params)):e={},e}function YC(e,n,t){return{duration:e,delay:n,easing:t}}function zC(e,n,t,r,i,s,o=null,a=!1){return{type:1,element:e,keyframes:n,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class s_{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,t){let r=this._map.get(n);r||this._map.set(n,r=[]),r.push(...t)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const eoe=new RegExp(":enter","g"),noe=new RegExp(":leave","g");function WC(e,n,t,r,i,s=new Map,o=new Map,a,l,u=[]){return(new roe).buildKeyframes(e,n,t,r,i,s,o,a,l,u)}class roe{buildKeyframes(n,t,r,i,s,o,a,l,u,c=[]){u=u||new s_;const d=new qC(n,t,u,i,s,c,[]);d.options=l;const f=l.delay?ya(l.delay):0;d.currentTimeline.delayNextStep(f),d.currentTimeline.setStyles([o],null,d.errors,l),Ji(this,r,d);const h=d.timelines.filter(p=>p.containsAnimation());if(h.length&&a.size){let p;for(let g=h.length-1;g>=0;g--){const M=h[g];if(M.element===t){p=M;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,l)}return h.length?h.map(p=>p.buildKeyframes()):[zC(t,[],[],[],0,f,"",!1)]}visitTrigger(n,t){}visitState(n,t){}visitTransition(n,t){}visitAnimateChild(n,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(n.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=n}visitAnimateRef(n,t){const r=t.createSubContext(n.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([n.options,n.animation.options],t,r),this.visitReference(n.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=n}_applyAnimationRefDelays(n,t,r){for(const i of n){const s=i?.delay;if(s){const o="number"==typeof s?s:ya(oh(s,i?.params??{},t.errors));r.delayNextStep(o)}}}_visitSubInstructions(n,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?ya(r.duration):null,a=null!=r.delay?ya(r.delay):null;return 0!==o&&n.forEach(l=>{const u=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,u.duration+u.delay)}),s}visitReference(n,t){t.updateOptions(n.options,!0),Ji(this,n.animation,t),t.previousNode=n}visitSequence(n,t){const r=t.subContextCount;let i=t;const s=n.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=o_);const o=ya(s.delay);i.delayNextStep(o)}n.steps.length&&(n.steps.forEach(o=>Ji(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=n}visitGroup(n,t){const r=[];let i=t.currentTimeline.currentTime;const s=n.options&&n.options.delay?ya(n.options.delay):0;n.steps.forEach(o=>{const a=t.createSubContext(n.options);s&&a.delayNextStep(s),Ji(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=n}_visitTiming(n,t){if(n.dynamic){const r=n.strValue;return Jg(t.params?oh(r,t.params,t.errors):r,t.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,t){const r=t.currentAnimateTimings=this._visitTiming(n.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=n.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=n}visitStyle(n,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||n.easing;n.isEmptyStep?r.applyEmptyStep(s):r.setStyles(n.styles,s,t.errors,t.options),t.previousNode=n}visitKeyframes(n,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,n.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=n}visitQuery(n,t){const r=t.currentTimeline.currentTime,i=n.options||{},s=i.delay?ya(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=o_);let o=r;const a=t.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((u,c)=>{t.currentQueryIndex=c;const d=t.createSubContext(n.options,u);s&&d.delayNextStep(s),u===t.element&&(l=d.currentTimeline),Ji(this,n.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=n}visitStagger(n,t){const r=t.parentContext,i=t.currentTimeline,s=n.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const c=t.currentTimeline;l&&c.delayNextStep(l);const d=c.currentTime;Ji(this,n.animation,t),t.previousNode=n,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const o_={};class qC{constructor(n,t,r,i,s,o,a,l){this._driver=n,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=o_,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new a_(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,t){if(!n)return;const r=n;let i=this.options;null!=r.duration&&(i.duration=ya(r.duration)),null!=r.delay&&(i.delay=ya(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=oh(s[a],o,this.errors))})}}_copyOptions(){const n={};if(this.options){const t=this.options.params;if(t){const r=n.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return n}createSubContext(n=null,t,r){const i=t||this.element,s=new qC(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(n),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(n){return this.previousNode=o_,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,t,r){const i={duration:t??n.duration,delay:this.currentTimeline.currentTime+(r??0)+n.delay,easing:""},s=new ioe(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,i,n.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,t,r,i,s,o){let a=[];if(i&&a.push(this.element),n.length>0){n=(n=n.replace(eoe,"."+this._enterClassName)).replace(noe,"."+this._leaveClassName);let u=this._driver.query(this.element,n,1!=r);0!==r&&(u=r<0?u.slice(u.length+r,u.length):u.slice(0,r)),a.push(...u)}return!s&&0==a.length&&o.push(function lse(e){return new z(3014,!1)}()),a}}class a_{constructor(n,t,r,i){this._driver=n,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+n),t&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,t){return this.applyStylesToKeyframe(),new a_(this._driver,n,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,t){this._localTimelineStyles.set(n,t),this._globalTimelineStyles.set(n,t),this._styleSummary.set(n,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&this._previousKeyframe.set("easing",n);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||ha),this._currentKeyframe.set(t,ha);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},o=function soe(e,n){const t=new Map;let r;return e.forEach(i=>{if("*"===i){r=r||n.keys();for(let s of r)t.set(s,ha)}else Xa(i,t)}),t}(n,this._globalTimelineStyles);for(let[a,l]of o){const u=oh(l,s,r);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??ha),this._updateStyle(a,u)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((n,t)=>{this._currentKeyframe.set(t,n)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((n,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,n)}))}snapshotCurrentStyles(){for(let[n,t]of this._localTimelineStyles)this._pendingStyles.set(n,t),this._updateStyle(n,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let t in this._currentKeyframe)n.push(t);return n}mergeTimelineCollectedStyles(n){n._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const u=Xa(a,new Map,this._backFill);u.forEach((c,d)=>{c===cC?n.add(d):c===ha&&t.add(d)}),r||u.set("offset",l/this.duration),i.push(u)});const s=n.size?Xg(n.values()):[],o=t.size?Xg(t.values()):[];if(r){const a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return zC(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class ioe extends a_{constructor(n,t,r,i,s,o,a=!1){super(n,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,l=Xa(n[0]);l.set("offset",0),s.push(l);const u=Xa(n[0]);u.set("offset",AN(a)),s.push(u);const c=n.length-1;for(let d=1;d<=c;d++){let f=Xa(n[d]);const h=f.get("offset");f.set("offset",AN((t+h*r)/o)),s.push(f)}r=o,t=0,i="",n=s}return zC(this.element,n,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function AN(e,n=3){const t=Math.pow(10,n-1);return Math.round(e*t)/t}class GC{}const ooe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class aoe extends GC{normalizePropertyName(n,t){return jC(n)}normalizeStyleValue(n,t,r,i){let s="";const o=r.toString().trim();if(ooe.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function Kie(e,n){return new z(3005,!1)}())}return o+s}}function IN(e,n,t,r,i,s,o,a,l,u,c,d,f){return{type:0,element:e,triggerName:n,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:u,postStyleProps:c,totalTime:d,errors:f}}const ZC={};class ON{constructor(n,t,r){this._triggerName=n,this.ast=t,this._stateStyles=r}match(n,t,r,i){return function loe(e,n,t,r,i){return e.some(s=>s(n,t,r,i))}(this.ast.matchers,n,t,r,i)}buildStyles(n,t,r){let i=this._stateStyles.get("*");return void 0!==n&&(i=this._stateStyles.get(n?.toString())||i),i?i.buildStyles(t,r):new Map}build(n,t,r,i,s,o,a,l,u,c){const d=[],f=this.ast.options&&this.ast.options.params||ZC,p=this.buildStyles(r,a&&a.params||ZC,d),g=l&&l.params||ZC,M=this.buildStyles(i,g,d),O=new Set,Y=new Map,B=new Map,ue="void"===i,nt={params:uoe(g,f),delay:this.ast.options?.delay},it=c?[]:WC(n,t,this.ast.animation,s,o,p,M,nt,u,d);let fn=0;if(it.forEach(Ur=>{fn=Math.max(Ur.duration+Ur.delay,fn)}),d.length)return IN(t,this._triggerName,r,i,ue,p,M,[],[],Y,B,fn,d);it.forEach(Ur=>{const Yr=Ur.element,Vn=Ki(Y,Yr,new Set);Ur.preStyleProps.forEach(zr=>Vn.add(zr));const xr=Ki(B,Yr,new Set);Ur.postStyleProps.forEach(zr=>xr.add(zr)),Yr!==t&&O.add(Yr)});const ai=Xg(O.values());return IN(t,this._triggerName,r,i,ue,p,M,it,ai,Y,B,fn)}}function uoe(e,n){const t=ih(n);for(const r in e)e.hasOwnProperty(r)&&null!=e[r]&&(t[r]=e[r]);return t}class coe{constructor(n,t,r){this.styles=n,this.defaultParams=t,this.normalizer=r}buildStyles(n,t){const r=new Map,i=ih(this.defaultParams);return Object.keys(n).forEach(s=>{const o=n[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=oh(o,i,t));const l=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,l,o,t),r.set(a,o)})}),r}}class foe{constructor(n,t,r){this.name=n,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new coe(i.style,i.options&&i.options.params||{},r))}),xN(this.states,"true","1"),xN(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new ON(n,i,this.states))}),this.fallbackTransition=function hoe(e,n,t){return new ON(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,t,r,i){return this.transitionFactories.find(o=>o.match(n,t,r,i))||null}matchStyles(n,t,r){return this.fallbackTransition.buildStyles(n,t,r)}}function xN(e,n,t){e.has(n)?e.has(t)||e.set(t,e.get(n)):e.has(t)&&e.set(n,e.get(t))}const poe=new s_;class moe{constructor(n,t,r){this.bodyNode=n,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(n,t){const r=[],i=[],s=UC(this._driver,t,r,i);if(r.length)throw function mse(e){return new z(3503,!1)}();this._animations.set(n,s)}_buildPlayer(n,t,r){const i=n.element,s=cN(0,this._normalizer,0,n.keyframes,t,r);return this._driver.animate(i,s,n.duration,n.delay,n.easing,[],!0)}create(n,t,r={}){const i=[],s=this._animations.get(n);let o;const a=new Map;if(s?(o=WC(this._driver,t,s,VC,Zg,new Map,new Map,r,poe,i),o.forEach(c=>{const d=Ki(a,c.element,new Map);c.postStyleProps.forEach(f=>d.set(f,null))})):(i.push(function gse(){return new z(3300,!1)}()),o=[]),i.length)throw function _se(e){return new z(3504,!1)}();a.forEach((c,d)=>{c.forEach((f,h)=>{c.set(h,this._driver.computeStyle(d,h,ha))})});const u=Ja(o.map(c=>{const d=a.get(c.element);return this._buildPlayer(c,new Map,d)}));return this._playersById.set(n,u),u.onDestroy(()=>this.destroy(n)),this.players.push(u),u}destroy(n){const t=this._getPlayer(n);t.destroy(),this._playersById.delete(n);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(n){const t=this._playersById.get(n);if(!t)throw function yse(e){return new z(3301,!1)}();return t}listen(n,t,r,i){const s=LC(t,"","","");return xC(this._getPlayer(n),r,s,i),()=>{}}command(n,t,r,i){if("register"==r)return void this.register(n,i[0]);if("create"==r)return void this.create(n,t,i[0]||{});const s=this._getPlayer(n);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(n)}}}const RN="ng-animate-queued",QC="ng-animate-disabled",boe=[],LN={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},woe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Cs="__ng_removed";class KC{get params(){return this.options.params}constructor(n,t=""){this.namespaceId=t;const r=n&&n.hasOwnProperty("value");if(this.value=function Moe(e){return e??null}(r?n.value:n),r){const s=ih(n);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(n){const t=n.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const ah="void",JC=new KC(ah);class Doe{constructor(n,t,r){this.id=n,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,Ts(t,this._hostClassName)}listen(n,t,r,i){if(!this._triggers.has(t))throw function vse(e,n){return new z(3302,!1)}();if(null==r||0==r.length)throw function bse(e){return new z(3303,!1)}();if(!function Soe(e){return"start"==e||"done"==e}(r))throw function wse(e,n){return new z(3400,!1)}();const s=Ki(this._elementListeners,n,[]),o={name:t,phase:r,callback:i};s.push(o);const a=Ki(this._engine.statesByElement,n,new Map);return a.has(t)||(Ts(n,Qg),Ts(n,Qg+"-"+t),a.set(t,JC)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(n,t){return!this._triggers.has(n)&&(this._triggers.set(n,t),!0)}_getTrigger(n){const t=this._triggers.get(n);if(!t)throw function Dse(e){return new z(3401,!1)}();return t}trigger(n,t,r,i=!0){const s=this._getTrigger(t),o=new XC(this.id,t,n);let a=this._engine.statesByElement.get(n);a||(Ts(n,Qg),Ts(n,Qg+"-"+t),this._engine.statesByElement.set(n,a=new Map));let l=a.get(t);const u=new KC(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&u.absorbOptions(l.options),a.set(t,u),l||(l=JC),u.value!==ah&&l.value===u.value){if(!function Aoe(e,n){const t=Object.keys(e),r=Object.keys(n);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!n.hasOwnProperty(s)||e[s]!==n[s])return!1}return!0}(l.params,u.params)){const g=[],M=s.matchStyles(l.value,l.params,g),O=s.matchStyles(u.value,u.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{Gl(n,M),Io(n,O)})}return}const f=Ki(this._engine.playersByElement,n,[]);f.forEach(g=>{g.namespaceId==this.id&&g.triggerName==t&&g.queued&&g.destroy()});let h=s.matchTransition(l.value,u.value,n,u.params),p=!1;if(!h){if(!i)return;h=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:t,transition:h,fromState:l,toState:u,player:o,isFallbackTransition:p}),p||(Ts(n,RN),o.onStart(()=>{Hc(n,RN)})),o.onDone(()=>{let g=this.players.indexOf(o);g>=0&&this.players.splice(g,1);const M=this._engine.playersByElement.get(n);if(M){let O=M.indexOf(o);O>=0&&M.splice(O,1)}}),this.players.push(o),f.push(o),o}deregister(n){this._triggers.delete(n),this._engine.statesByElement.forEach(t=>t.delete(n)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const t=this._engine.playersByElement.get(n);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,t){const r=this._engine.driver.query(n,Kg,!0);r.forEach(i=>{if(i[Cs])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(n,t,r,i){const s=this._engine.statesByElement.get(n),o=new Map;if(s){const a=[];if(s.forEach((l,u)=>{if(o.set(u,l.value),this._triggers.has(u)){const c=this.trigger(n,u,ah,i);c&&a.push(c)}}),a.length)return this._engine.markElementAsRemoved(this.id,n,!0,t,o),r&&Ja(a).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const t=this._elementListeners.get(n),r=this._engine.statesByElement.get(n);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const l=this._triggers.get(o).fallbackTransition,u=r.get(o)||JC,c=new KC(ah),d=new XC(this.id,o,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:o,transition:l,fromState:u,toState:c,player:d,isFallbackTransition:!0})})}}removeNode(n,t){const r=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,t),this.triggerLeaveAnimation(n,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(n):[];if(s&&s.length)i=!0;else{let o=n;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(n),i)r.markElementAsRemoved(this.id,n,!1,t);else{const s=n[Cs];(!s||s===LN)&&(r.afterFlush(()=>this.clearElementCache(n)),r.destroyInnerAnimations(n),r._onRemovalComplete(n,t))}}insertNode(n,t){Ts(n,this._hostClassName)}drainQueuedTransitions(n){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const l=LC(s,r.triggerName,r.fromState.value,r.toState.value);l._data=n,xC(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(n){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}elementContainsData(n){let t=!1;return this._elementListeners.has(n)&&(t=!0),t=!!this._queue.find(r=>r.element===n)||t,t}}class Coe{_onRemovalComplete(n,t){this.onRemovalComplete(n,t)}constructor(n,t,r){this.bodyNode=n,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const n=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&n.push(r)})}),n}createNamespace(n,t){const r=new Doe(n,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[n]=r}_balanceNamespaceList(n,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){const l=i.get(a);if(l){const u=r.indexOf(l);r.splice(u+1,0,n),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(n)}else r.push(n);return i.set(t,n),n}register(n,t){let r=this._namespaceLookup[n];return r||(r=this.createNamespace(n,t)),r}registerTrigger(n,t,r){let i=this._namespaceLookup[n];i&&i.register(t,r)&&this.totalAnimations++}destroy(n,t){if(!n)return;const r=this._fetchNamespace(n);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[n];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const t=new Set,r=this.statesByElement.get(n);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(n,t,r,i){if(l_(t)){const s=this._fetchNamespace(n);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(n,t,r,i){if(!l_(t))return;const s=t[Cs];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(n){const o=this._fetchNamespace(n);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,t){t?this.disabledNodes.has(n)||(this.disabledNodes.add(n),Ts(n,QC)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),Hc(n,QC))}removeNode(n,t,r,i){if(l_(t)){const s=n?this._fetchNamespace(n):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(n,t,!1,i),r){const o=this.namespacesByHostElement.get(t);o&&o.id!==n&&o.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(n,t,r,i,s){this.collectedLeaveElements.push(t),t[Cs]={namespaceId:n,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(n,t,r,i,s){return l_(t)?this._fetchNamespace(n).listen(t,r,i,s):()=>{}}_buildInstruction(n,t,r,i,s){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,r,i,n.fromState.options,n.toState.options,t,s)}destroyInnerAnimations(n){let t=this.driver.query(n,Kg,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(n,BC,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(n){const t=this.playersByElement.get(n);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(n){const t=this.playersByQueriedElement.get(n);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return Ja(this.players).onDone(()=>n());n()})}processLeaveNode(n){const t=n[Cs];if(t&&t.setForRemoval){if(n[Cs]=LN,t.namespaceId){this.destroyInnerAnimations(n);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(n)}this._onRemovalComplete(n,t.setForRemoval)}n.classList?.contains(QC)&&this.markElementAsDisabled(n,!1),this.driver.query(n,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(n=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Ts(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,n)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Ja(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(n){throw function Cse(e){return new z(3402,!1)}()}_flushAnimations(n,t){const r=new s_,i=[],s=new Map,o=[],a=new Map,l=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(ye=>{c.add(ye);const Ne=this.driver.query(ye,".ng-animate-queued",!0);for(let rt=0;rt<Ne.length;rt++)c.add(Ne[rt])});const d=this.bodyNode,f=Array.from(this.statesByElement.keys()),h=FN(f,this.collectedEnterElements),p=new Map;let g=0;h.forEach((ye,Ne)=>{const rt=VC+g++;p.set(Ne,rt),ye.forEach(Bt=>Ts(Bt,rt))});const M=[],O=new Set,Y=new Set;for(let ye=0;ye<this.collectedLeaveElements.length;ye++){const Ne=this.collectedLeaveElements[ye],rt=Ne[Cs];rt&&rt.setForRemoval&&(M.push(Ne),O.add(Ne),rt.hasAnimation?this.driver.query(Ne,".ng-star-inserted",!0).forEach(Bt=>O.add(Bt)):Y.add(Ne))}const B=new Map,ue=FN(f,Array.from(O));ue.forEach((ye,Ne)=>{const rt=Zg+g++;B.set(Ne,rt),ye.forEach(Bt=>Ts(Bt,rt))}),n.push(()=>{h.forEach((ye,Ne)=>{const rt=p.get(Ne);ye.forEach(Bt=>Hc(Bt,rt))}),ue.forEach((ye,Ne)=>{const rt=B.get(Ne);ye.forEach(Bt=>Hc(Bt,rt))}),M.forEach(ye=>{this.processLeaveNode(ye)})});const nt=[],it=[];for(let ye=this._namespaceList.length-1;ye>=0;ye--)this._namespaceList[ye].drainQueuedTransitions(t).forEach(rt=>{const Bt=rt.player,Rr=rt.element;if(nt.push(Bt),this.collectedEnterElements.length){const ui=Rr[Cs];if(ui&&ui.setForMove){if(ui.previousTriggersValues&&ui.previousTriggersValues.has(rt.triggerName)){const Ql=ui.previousTriggersValues.get(rt.triggerName),Ms=this.statesByElement.get(rt.element);if(Ms&&Ms.has(rt.triggerName)){const d_=Ms.get(rt.triggerName);d_.value=Ql,Ms.set(rt.triggerName,d_)}}return void Bt.destroy()}}const xo=!d||!this.driver.containsElement(d,Rr),Xi=B.get(Rr),el=p.get(Rr),Bn=this._buildInstruction(rt,r,el,Xi,xo);if(Bn.errors&&Bn.errors.length)return void it.push(Bn);if(xo)return Bt.onStart(()=>Gl(Rr,Bn.fromStyles)),Bt.onDestroy(()=>Io(Rr,Bn.toStyles)),void i.push(Bt);if(rt.isFallbackTransition)return Bt.onStart(()=>Gl(Rr,Bn.fromStyles)),Bt.onDestroy(()=>Io(Rr,Bn.toStyles)),void i.push(Bt);const WN=[];Bn.timelines.forEach(ui=>{ui.stretchStartingKeyframe=!0,this.disabledNodes.has(ui.element)||WN.push(ui)}),Bn.timelines=WN,r.append(Rr,Bn.timelines),o.push({instruction:Bn,player:Bt,element:Rr}),Bn.queriedElements.forEach(ui=>Ki(a,ui,[]).push(Bt)),Bn.preStyleProps.forEach((ui,Ql)=>{if(ui.size){let Ms=l.get(Ql);Ms||l.set(Ql,Ms=new Set),ui.forEach((d_,n0)=>Ms.add(n0))}}),Bn.postStyleProps.forEach((ui,Ql)=>{let Ms=u.get(Ql);Ms||u.set(Ql,Ms=new Set),ui.forEach((d_,n0)=>Ms.add(n0))})});if(it.length){const ye=[];it.forEach(Ne=>{ye.push(function Tse(e,n){return new z(3505,!1)}())}),nt.forEach(Ne=>Ne.destroy()),this.reportError(ye)}const fn=new Map,ai=new Map;o.forEach(ye=>{const Ne=ye.element;r.has(Ne)&&(ai.set(Ne,Ne),this._beforeAnimationBuild(ye.player.namespaceId,ye.instruction,fn))}),i.forEach(ye=>{const Ne=ye.element;this._getPreviousPlayers(Ne,!1,ye.namespaceId,ye.triggerName,null).forEach(Bt=>{Ki(fn,Ne,[]).push(Bt),Bt.destroy()})});const Ur=M.filter(ye=>BN(ye,l,u)),Yr=new Map;NN(Yr,this.driver,Y,u,ha).forEach(ye=>{BN(ye,l,u)&&Ur.push(ye)});const xr=new Map;h.forEach((ye,Ne)=>{NN(xr,this.driver,new Set(ye),l,cC)}),Ur.forEach(ye=>{const Ne=Yr.get(ye),rt=xr.get(ye);Yr.set(ye,new Map([...Array.from(Ne?.entries()??[]),...Array.from(rt?.entries()??[])]))});const zr=[],Oo=[],li={};o.forEach(ye=>{const{element:Ne,player:rt,instruction:Bt}=ye;if(r.has(Ne)){if(c.has(Ne))return rt.onDestroy(()=>Io(Ne,Bt.toStyles)),rt.disabled=!0,rt.overrideTotalTime(Bt.totalTime),void i.push(rt);let Rr=li;if(ai.size>1){let Xi=Ne;const el=[];for(;Xi=Xi.parentNode;){const Bn=ai.get(Xi);if(Bn){Rr=Bn;break}el.push(Xi)}el.forEach(Bn=>ai.set(Bn,Rr))}const xo=this._buildAnimation(rt.namespaceId,Bt,fn,s,xr,Yr);if(rt.setRealPlayer(xo),Rr===li)zr.push(rt);else{const Xi=this.playersByElement.get(Rr);Xi&&Xi.length&&(rt.parentPlayer=Ja(Xi)),i.push(rt)}}else Gl(Ne,Bt.fromStyles),rt.onDestroy(()=>Io(Ne,Bt.toStyles)),Oo.push(rt),c.has(Ne)&&i.push(rt)}),Oo.forEach(ye=>{const Ne=s.get(ye.element);if(Ne&&Ne.length){const rt=Ja(Ne);ye.setRealPlayer(rt)}}),i.forEach(ye=>{ye.parentPlayer?ye.syncPlayerEvents(ye.parentPlayer):ye.destroy()});for(let ye=0;ye<M.length;ye++){const Ne=M[ye],rt=Ne[Cs];if(Hc(Ne,Zg),rt&&rt.hasAnimation)continue;let Bt=[];if(a.size){let xo=a.get(Ne);xo&&xo.length&&Bt.push(...xo);let Xi=this.driver.query(Ne,BC,!0);for(let el=0;el<Xi.length;el++){let Bn=a.get(Xi[el]);Bn&&Bn.length&&Bt.push(...Bn)}}const Rr=Bt.filter(xo=>!xo.destroyed);Rr.length?koe(this,Ne,Rr):this.processLeaveNode(Ne)}return M.length=0,zr.forEach(ye=>{this.players.push(ye),ye.onDone(()=>{ye.destroy();const Ne=this.players.indexOf(ye);this.players.splice(Ne,1)}),ye.play()}),zr}elementContainsData(n,t){let r=!1;const i=t[Cs];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(n).elementContainsData(t)||r}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(n);a&&(o=a)}else{const a=this.playersByElement.get(n);if(a){const l=!s||s==ah;a.forEach(u=>{u.queued||!l&&u.triggerName!=i||o.push(u)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(n,t,r){const s=t.element,o=t.isRemovalTransition?void 0:n,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const u=l.element,c=u!==s,d=Ki(r,u,[]);this._getPreviousPlayers(u,c,o,a,t.toState).forEach(h=>{const p=h.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),h.destroy(),d.push(h)})}Gl(s,t.fromStyles)}_buildAnimation(n,t,r,i,s,o){const a=t.triggerName,l=t.element,u=[],c=new Set,d=new Set,f=t.timelines.map(p=>{const g=p.element;c.add(g);const M=g[Cs];if(M&&M.removedBeforeQueried)return new Zf(p.duration,p.delay);const O=g!==l,Y=function Eoe(e){const n=[];return VN(e,n),n}((r.get(g)||boe).map(fn=>fn.getRealPlayer())).filter(fn=>!!fn.element&&fn.element===g),B=s.get(g),ue=o.get(g),nt=cN(0,this._normalizer,0,p.keyframes,B,ue),it=this._buildPlayer(p,nt,Y);if(p.subTimeline&&i&&d.add(g),O){const fn=new XC(n,a,g);fn.setRealPlayer(it),u.push(fn)}return it});u.forEach(p=>{Ki(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function Toe(e,n,t){let r=e.get(n);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&e.delete(n)}return r}(this.playersByQueriedElement,p.element,p))}),c.forEach(p=>Ts(p,vN));const h=Ja(f);return h.onDestroy(()=>{c.forEach(p=>Hc(p,vN)),Io(l,t.toStyles)}),d.forEach(p=>{Ki(i,p,[]).push(h)}),h}_buildPlayer(n,t,r){return t.length>0?this.driver.animate(n.element,t,n.duration,n.delay,n.easing,r):new Zf(n.duration,n.delay)}}class XC{constructor(n,t,r){this.namespaceId=n,this.triggerName=t,this.element=r,this._player=new Zf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>xC(n,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const t=this._player;t.triggerCallback&&n.onStart(()=>t.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,t){Ki(this._queuedCallbacks,n,[]).push(t)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const t=this._player;t.triggerCallback&&t.triggerCallback(n)}}function l_(e){return e&&1===e.nodeType}function PN(e,n){const t=e.style.display;return e.style.display=n??"none",t}function NN(e,n,t,r,i){const s=[];t.forEach(l=>s.push(PN(l)));const o=[];r.forEach((l,u)=>{const c=new Map;l.forEach(d=>{const f=n.computeStyle(u,d,i);c.set(d,f),(!f||0==f.length)&&(u[Cs]=woe,o.push(u))}),e.set(u,c)});let a=0;return t.forEach(l=>PN(l,s[a++])),o}function FN(e,n){const t=new Map;if(e.forEach(a=>t.set(a,[])),0==n.length)return t;const r=1,i=new Set(n),s=new Map;function o(a){if(!a)return r;let l=s.get(a);if(l)return l;const u=a.parentNode;return l=t.has(u)?u:i.has(u)?r:o(u),s.set(a,l),l}return n.forEach(a=>{const l=o(a);l!==r&&t.get(l).push(a)}),t}function Ts(e,n){e.classList?.add(n)}function Hc(e,n){e.classList?.remove(n)}function koe(e,n,t){Ja(t).onDone(()=>e.processLeaveNode(n))}function VN(e,n){for(let t=0;t<e.length;t++){const r=e[t];r instanceof mP?VN(r.players,n):n.push(r)}}function BN(e,n,t){const r=t.get(e);if(!r)return!1;let i=n.get(e);return i?r.forEach(s=>i.add(s)):n.set(e,r),t.delete(e),!0}class u_{constructor(n,t,r){this.bodyNode=n,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new Coe(n,t,r),this._timelineEngine=new moe(n,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(n,t,r,i,s){const o=n+"-"+i;let a=this._triggerCache[o];if(!a){const l=[],u=[],c=UC(this._driver,s,l,u);if(l.length)throw function hse(e,n){return new z(3404,!1)}();a=function doe(e,n,t){return new foe(e,n,t)}(i,c,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(n,t){this._transitionEngine.register(n,t)}destroy(n,t){this._transitionEngine.destroy(n,t)}onInsert(n,t,r,i){this._transitionEngine.insertNode(n,t,r,i)}onRemove(n,t,r,i){this._transitionEngine.removeNode(n,t,i||!1,r)}disableAnimations(n,t){this._transitionEngine.markElementAsDisabled(n,t)}process(n,t,r,i){if("@"==r.charAt(0)){const[s,o]=dN(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(n,t,r,i)}listen(n,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=dN(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(n,t,r,i,s)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Ooe=(()=>{class e{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=e.initialStylesByElement.get(t);s||e.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Io(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Io(this._element,this._initialStyles),this._endStyles&&(Io(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(Gl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Gl(this._element,this._endStyles),this._endStyles=null),Io(this._element,this._initialStyles),this._state=3)}}return e.initialStylesByElement=new WeakMap,e})();function e0(e){let n=null;return e.forEach((t,r)=>{(function xoe(e){return"display"===e||"position"===e})(r)&&(n=n||new Map,n.set(r,t))}),n}class HN{constructor(n,t,r,i){this.element=n,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(n){const t=[];return n.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(n,t,r){return n.animate(this._convertKeyframesToObject(t),r)}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&n.set(i,this._finished?r:MN(this.element,i))}),this.currentSnapshot=n}triggerCallback(n){const t="start"===n?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Roe{validateStyleProperty(n){return!0}validateAnimatableStyleProperty(n){return!0}matchesElement(n,t){return!1}containsElement(n,t){return mN(n,t)}getParentElement(n){return NC(n)}query(n,t,r){return gN(n,t,r)}computeStyle(n,t,r){return window.getComputedStyle(n)[t]}animate(n,t,r,i,s,o=[]){const l={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(l.easing=s);const u=new Map,c=o.filter(h=>h instanceof HN);(function Fse(e,n){return 0===e||0===n})(r,i)&&c.forEach(h=>{h.currentSnapshot.forEach((p,g)=>u.set(g,p))});let d=function Rse(e){return e.length?e[0]instanceof Map?e:e.map(n=>bN(n)):[]}(t).map(h=>Xa(h));d=function Vse(e,n,t){if(t.size&&n.length){let r=n[0],i=[];if(t.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<n.length;s++){let o=n[s];i.forEach(a=>o.set(a,MN(e,a)))}}return n}(n,d,u);const f=function Ioe(e,n){let t=null,r=null;return Array.isArray(n)&&n.length?(t=e0(n[0]),n.length>1&&(r=e0(n[n.length-1]))):n instanceof Map&&(t=e0(n)),t||r?new Ooe(e,t,r):null}(n,d);return new HN(n,d,l,f)}}let Loe=(()=>{class e extends Gf{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:Es.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?fP(t):t;return $N(this._renderer,null,r,"register",[i]),new Poe(r,this._renderer)}}return e.\u0275fac=function(t){return new(t||e)(J(ul),J(Jn))},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})();class Poe extends mX{constructor(n,t){super(),this._id=n,this._renderer=t}create(n,t){return new Noe(this._id,n,t||{},this._renderer)}}class Noe{constructor(n,t,r,i){this.id=n,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(n,t){return this._renderer.listen(this.element,`@@${this.id}:${n}`,t)}_command(n,...t){return $N(this._renderer,this.element,this.id,n,t)}onDone(n){this._listen("done",n)}onStart(n){this._listen("start",n)}onDestroy(n){this._listen("destroy",n)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(n){this._command("setPosition",n)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function $N(e,n,t,r,i){return e.setProperty(n,`@@${t}:${r}`,i)}const jN="@.disabled";let Foe=(()=>{class e{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let c=this._rendererCache.get(s);return c||(c=new UN("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,c)),c}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=c=>{Array.isArray(c)?c.forEach(l):this.engine.registerTrigger(o,a,t,c.name,c)};return r.data.animation.forEach(l),new Voe(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return e.\u0275fac=function(t){return new(t||e)(J(ul),J(u_),J(mn))},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})();class UN{constructor(n,t,r,i){this.namespaceId=n,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(n,t){return this.delegate.createElement(n,t)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,t){this.delegate.appendChild(n,t),this.engine.onInsert(this.namespaceId,t,n,!1)}insertBefore(n,t,r,i=!0){this.delegate.insertBefore(n,t,r),this.engine.onInsert(this.namespaceId,t,n,i)}removeChild(n,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(n,t){return this.delegate.selectRootElement(n,t)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,t,r,i){this.delegate.setAttribute(n,t,r,i)}removeAttribute(n,t,r){this.delegate.removeAttribute(n,t,r)}addClass(n,t){this.delegate.addClass(n,t)}removeClass(n,t){this.delegate.removeClass(n,t)}setStyle(n,t,r,i){this.delegate.setStyle(n,t,r,i)}removeStyle(n,t,r){this.delegate.removeStyle(n,t,r)}setProperty(n,t,r){"@"==t.charAt(0)&&t==jN?this.disableAnimations(n,!!r):this.delegate.setProperty(n,t,r)}setValue(n,t){this.delegate.setValue(n,t)}listen(n,t,r){return this.delegate.listen(n,t,r)}disableAnimations(n,t){this.engine.disableAnimations(n,t)}}class Voe extends UN{constructor(n,t,r,i,s){super(t,r,i,s),this.factory=n,this.namespaceId=t}setProperty(n,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==jN?this.disableAnimations(n,r=void 0===r||!!r):this.engine.process(this.namespaceId,n,t.slice(1),r):this.delegate.setProperty(n,t,r)}listen(n,t,r){if("@"==t.charAt(0)){const i=function Boe(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(n);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function Hoe(e){const n=e.indexOf(".");return[e.substring(0,n),e.slice(n+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(n,t,r)}}let $oe=(()=>{class e extends u_{constructor(t,r,i,s){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return e.\u0275fac=function(t){return new(t||e)(J(Jn),J(FC),J(GC),J(Yu))},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})();const YN=[{provide:Gf,useClass:Loe},{provide:GC,useFactory:function joe(){return new aoe}},{provide:u_,useClass:$oe},{provide:ul,useFactory:function Uoe(e,n,t){return new Foe(e,n,t)},deps:[Bp,u_,mn]}],t0=[{provide:FC,useFactory:()=>new Roe},{provide:h1,useValue:"BrowserAnimations"},...YN],zN=[{provide:FC,useClass:_N},{provide:h1,useValue:"NoopAnimations"},...YN];let Yoe=(()=>{class e{static withConfig(t){return{ngModule:e,providers:t.disableAnimations?zN:t0}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Sr({type:e}),e.\u0275inj=pr({providers:t0,imports:[RE]}),e})();class zoe{handleError(n){const t=window.open("about:blank","_blank");null!=t?(t.document.open(),t.document.write(`<head><title>Error Report</title></head>\n            <body style="white-space: pre-line; overflow-wrap: anywhere;">An Error occured. Sorry for the inconvenience. <br/>______________<br/>Error Message: ${co.serailize(n)}</body>`),t.document.close()):console.error("Create error report failed!")}}let Woe=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Sr({type:e,bootstrap:[zie]}),e.\u0275inj=pr({providers:[{provide:cl,useClass:zoe},{provide:Ew,useFactory:Qq.getAxiosService},...iZ.map(n=>({provide:vR,useClass:n,multi:!0})),...Une.map(n=>({provide:XP,useClass:n,multi:!0})),...Dne.map(n=>({provide:JP,useClass:n,multi:!0})),...rre.map(n=>({provide:tN,useClass:n,multi:!0}))],imports:[RE,Yie,Pz,_re.forRoot(),Yoe,wre.forRoot(),_Q.forRoot(),Ste.forRoot(),dP.forRoot(),_P.forRoot()]}),e})();D4().bootstrapModule(Woe).catch(e=>console.error(e))},590:(Ht,U)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.config={sort_key:!1}},586:(Ht,U,ce)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0});const Z=ce(241),ge=ce(902),oe=ce(636);function Se(R,le){if(""===le||"_"===le)return null;const H=R[ge.decodeKey(le)];if(null===H)return H;switch(typeof H){case"undefined":case"number":return H;case"string":switch(H[0]+H[1]){case"b|":return ge.decodeBool(H);case"o|":return function de(R,le){if("o|"===le)return{};const De={},H=le.split("|");let te=Se(R,H[1]);const re=H.length;re-2==1&&!Array.isArray(te)&&(te=[te]);for(let xe=2;xe<re;xe++){const Ie=te[xe-2];let Ze=H[xe];Ze=Se(R,Ze),De[Ie]=Ze}return De}(R,H);case"n|":return ge.decodeNum(H);case"a|":return function ze(R,le){if("a|"===le)return[];const De=le.split("|"),H=De.length-1,ne=new Array(H);for(let te=0;te<H;te++){let re=De[te+1];re=Se(R,re),ne[te]=re}return ne}(R,H);default:return ge.decodeStr(H)}}return Z.throwUnknownDataType(H)}U.compress=function he(R){const le=oe.makeInMemoryMemory(),De=oe.addValue(le,R,void 0);return[oe.memToValues(le),De]},U.decode=Se,U.decompress=function pe(R){const[le,De]=R;return Se(le,De)}},241:(Ht,U)=>{"use strict";function ce(ge){return Object.prototype.toString.call(ge)}Object.defineProperty(U,"__esModule",{value:!0}),U.getType=ce,U.throwUnknownDataType=function Z(ge){throw new TypeError("unsupported data type: "+ce(ge))}},902:(Ht,U,ce)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0});const Z=ce(897);U.encodeNum=function ge(R){return"n|"+Z.num_to_s(R)},U.decodeNum=function oe(R){return R=R.replace("n|",""),Z.s_to_num(R)},U.decodeKey=function he(R){return"number"==typeof R?R:Z.s_to_int(R)},U.encodeBool=function de(R){return R?"b|T":"b|F"},U.decodeBool=function ze(R){switch(R){case"b|T":return!0;case"b|F":return!1}return!!R},U.encodeStr=function Se(R){switch(R[0]+R[1]){case"b|":case"o|":case"n|":case"a|":case"s|":R="s|"+R}return R},U.decodeStr=function pe(R){return R[0]+R[1]==="s|"?R.substr(2):R}},944:(Ht,U)=>{"use strict";function ge(oe,he){he.add(oe);for(const de in oe)if(void 0===oe[de])delete oe[de];else{const ze=oe[de];ze&&"object"==typeof ze&&!he.has(ze)&&ge(ze,he)}}Object.defineProperty(U,"__esModule",{value:!0}),U.trimUndefined=function ce(oe){for(const he in oe)void 0===oe[he]&&delete oe[he]},U.trimUndefinedRecursively=function Z(oe){ge(oe,new Set)}},667:(Ht,U,ce)=>{"use strict";var ge=ce(586);U.nN=ge.compress,U.Lj=ge.decompress,ce(586),ce(636);ce(944)},636:(Ht,U,ce)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0});const Z=ce(590),ge=ce(241),oe=ce(902),he=ce(897);function ze(){const H=[];return{forEach(ne){for(let te=0;te<H.length;te++)if("break"===ne(H[te]))return},add(ne){H.push(ne)},toArray:()=>H}}function Se(){const H=Object.create(null),ne=Object.create(null);return{getValue:te=>H[te],getSchema:te=>ne[te],forEachValue(te){for(const[re,xe]of Object.entries(H))if("break"===te(re,xe))return},forEachSchema(te){for(const[re,xe]of Object.entries(ne))if("break"===te(re,xe))return},setValue(te,re){H[te]=re},setSchema(te,re){ne[te]=re},hasValue:te=>te in H,hasSchema:te=>te in ne}}function R(H,ne){if(H.cache.hasValue(ne))return H.cache.getValue(ne);const te=H.keyCount++,re=he.num_to_s(te);return H.store.add(ne),H.cache.setValue(ne,re),re}U.memToValues=function de(H){return H.store.toArray()},U.makeInMemoryStore=ze,U.makeInMemoryCache=Se,U.makeInMemoryMemory=function pe(){return{store:ze(),cache:Se(),keyCount:0}},U.addValue=function De(H,ne,te){if(null===ne)return"";switch(typeof ne){case"undefined":if(Array.isArray(te))return De(H,null,te);break;case"object":if(null===ne)return R(H,null);if(Array.isArray(ne)){let re="a";for(let xe=0;xe<ne.length;xe++){const Ie=ne[xe];re+="|"+(null===Ie?"_":De(H,Ie,ne))}return"a"===re&&(re="a|"),R(H,re)}{const re=Object.keys(ne);if(0===re.length)return R(H,"o|");let xe="o";const Ie=function le(H,ne){Z.config.sort_key&&ne.sort();const te=ne.join(",");if(H.cache.hasSchema(te))return H.cache.getSchema(te);const re=De(H,ne,void 0);return H.cache.setSchema(te,re),re}(H,re);xe+="|"+Ie;for(const Ze of re)xe+="|"+De(H,ne[Ze],ne);return R(H,xe)}case"boolean":return R(H,oe.encodeBool(ne));case"number":return R(H,oe.encodeNum(ne));case"string":return R(H,oe.encodeStr(ne))}return ge.throwUnknownDataType(ne)}},897:(Ht,U)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0});let ce="";for(let H=0;H<10;H++){const ne=String.fromCharCode(48+H);ce+=ne}for(let H=0;H<26;H++){const ne=String.fromCharCode(65+H);ce+=ne}for(let H=0;H<26;H++){const ne=String.fromCharCode(97+H);ce+=ne}const Z=ce.length,ge={};for(let H=0;H<Z;H++)ge[ce[H]]=H;function oe(H){let ne=0,te=1;for(let re=H.length-1;re>=0;re--){let Ie=ge[H[re]];Ie*=te,ne+=Ie,te*=Z}return ne}function he(H){let ne=BigInt(0),te=BigInt(1);const re=BigInt(Z);for(let xe=H.length-1;xe>=0;xe--){let Ze=BigInt(ge[H[xe]]);Ze*=te,ne+=Ze,te*=re}return ne}function de(H){if(0===H)return ce[0];const ne=[];for(;0!==H;){const te=H%Z;ne.push(ce[te]),H-=te,H/=Z}return ne.reverse().join("")}function ze(H){const ne=BigInt(0),te=BigInt(Z);if(H===ne)return ce[0];const re=[];for(;H!==ne;){const xe=H%te,Ie=ce[Number(xe)];re.push(Ie),H-=xe,H/=te}return re.reverse().join("")}function Se(H){return H.split("").reverse().join("")}function R(H){const ne=+H;return ne.toString()===H?de(ne):":"+ze(BigInt(H))}function le(H){return":"===H[0]?he(H.substring(1)).toString():oe(H).toString()}U.s_to_int=oe,U.s_to_big_int=he,U.int_to_s=de,U.big_int_to_s=ze,U.num_to_s=function pe(H){if(H<0)return"-"+pe(-H);let re,[ne,te]=H.toString().split(".");if(!te)return de(H);te&&([te,re]=te.split("e")),ne=R(ne),te=Se(te),te=R(te);let xe=ne+"."+te;if(re){switch(xe+=".",re[0]){case"+":re=re.slice(1);break;case"-":xe+="-",re=re.slice(1)}re=Se(re),re=R(re),xe+=re}return xe},U.int_str_to_s=R,U.s_to_num=function De(H){if("-"===H[0])return-De(H.substr(1));let[ne,te,re]=H.split(".");if(!te)return oe(ne);ne=le(ne),te=le(te),te=Se(te);let xe=ne+"."+te;if(re){xe+="e";let Ie=!1;"-"===re[0]&&(Ie=!0,re=re.slice(1)),re=le(re),re=Se(re),xe+=Ie?-re:+re}return+xe}},316:(Ht,U)=>{"use strict";var ce,ge;Object.defineProperty(U,"__esModule",{value:!0}),U.Doctype=U.CDATA=U.Tag=U.Style=U.Script=U.Comment=U.Directive=U.Text=U.Root=U.isTag=U.ElementType=void 0,(ge=ce=U.ElementType||(U.ElementType={})).Root="root",ge.Text="text",ge.Directive="directive",ge.Comment="comment",ge.Script="script",ge.Style="style",ge.Tag="tag",ge.CDATA="cdata",ge.Doctype="doctype",U.isTag=function Z(ge){return ge.type===ce.Tag||ge.type===ce.Script||ge.type===ce.Style},U.Root=ce.Root,U.Text=ce.Text,U.Directive=ce.Directive,U.Comment=ce.Comment,U.Script=ce.Script,U.Style=ce.Style,U.Tag=ce.Tag,U.CDATA=ce.CDATA,U.Doctype=ce.Doctype},993:(Ht,U)=>{U.CASE_SENSITIVE_TAG_NAMES=["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"]},191:Ht=>{var U="html",Z="body",ge=/<([a-zA-Z]+[0-9]?)/,oe=/<head[^]*>/i,he=/<body[^]*>/i,de=function(){throw new Error("This browser does not support `document.implementation.createHTMLDocument`")},ze=function(){throw new Error("This browser does not support `DOMParser.prototype.parseFromString`")},Se="object"==typeof window&&window.DOMParser;if("function"==typeof Se){var pe=new Se;de=ze=function(te,re){return re&&(te="<"+re+">"+te+"</"+re+">"),pe.parseFromString(te,"text/html")}}if("object"==typeof document&&document.implementation){var le=document.implementation.createHTMLDocument();de=function(te,re){return re?(le.documentElement.querySelector(re).innerHTML=te,le):(le.documentElement.innerHTML=te,le)}}var H,De="object"==typeof document?document.createElement("template"):{};De.content&&(H=function(te){return De.innerHTML=te,De.content.childNodes}),Ht.exports=function ne(te){var re,Ie,Ze,hn,xe=te.match(ge);switch(xe&&xe[1]&&(re=xe[1].toLowerCase()),re){case U:return Ie=ze(te),oe.test(te)||(Ze=Ie.querySelector("head"))&&Ze.parentNode.removeChild(Ze),he.test(te)||(Ze=Ie.querySelector(Z))&&Ze.parentNode.removeChild(Ze),Ie.querySelectorAll(U);case"head":case Z:return hn=(Ie=de(te)).querySelectorAll(re),he.test(te)&&oe.test(te)?hn[0].parentNode.childNodes:hn;default:return H?H(te):(Ze=de(te,Z).querySelector(Z)).childNodes}}},867:(Ht,U,ce)=>{for(var le,ge=ce(860),he=ce(993).CASE_SENSITIVE_TAG_NAMES,de=ge.Comment,ze=ge.Element,Se=ge.ProcessingInstruction,pe=ge.Text,R={},De=0,H=he.length;De<H;De++)R[(le=he[De]).toLowerCase()]=le;function te(Ie){for(var hn,Ze={},Qt=0,rr=Ie.length;Qt<rr;Qt++)Ze[(hn=Ie[Qt]).name]=hn.value;return Ze}function re(Ie){return function ne(Ie){return R[Ie]}(Ie=Ie.toLowerCase())||Ie}U.e=function xe(Ie,Ze,hn){Ze=Ze||null;for(var rr,Qt=[],N=0,ae=Ie.length;N<ae;N++){var k,Q=Ie[N];switch(Q.nodeType){case 1:rr=re(Q.nodeName),(k=new ze(rr,te(Q.attributes))).children=xe("template"===rr?Q.content.childNodes:Q.childNodes,k);break;case 3:k=new pe(Q.nodeValue);break;case 8:k=new de(Q.nodeValue);break;default:continue}var A=Qt[N-1]||null;A&&(A.next=k),k.parent=Ze,k.prev=A,k.next=null,Qt.push(k)}return hn&&((k=new Se(hn.substring(0,hn.indexOf(" ")).toLowerCase(),hn)).next=Qt[0]||null,k.parent=Ze,Qt.unshift(k),Qt[1]&&(Qt[1].prev=Qt[0])),Qt}},860:function(Ht,U,ce){"use strict";var Z=this&&this.__createBinding||(Object.create?function(Se,pe,R,le){void 0===le&&(le=R);var De=Object.getOwnPropertyDescriptor(pe,R);(!De||("get"in De?!pe.__esModule:De.writable||De.configurable))&&(De={enumerable:!0,get:function(){return pe[R]}}),Object.defineProperty(Se,le,De)}:function(Se,pe,R,le){void 0===le&&(le=R),Se[le]=pe[R]}),ge=this&&this.__exportStar||function(Se,pe){for(var R in Se)"default"!==R&&!Object.prototype.hasOwnProperty.call(pe,R)&&Z(pe,Se,R)};Object.defineProperty(U,"__esModule",{value:!0}),U.DomHandler=void 0;var oe=ce(316),he=ce(31);ge(ce(31),U);var de={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},ze=function(){function Se(pe,R,le){this.dom=[],this.root=new he.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,"function"==typeof R&&(le=R,R=de),"object"==typeof pe&&(R=pe,pe=void 0),this.callback=pe??null,this.options=R??de,this.elementCB=le??null}return Se.prototype.onparserinit=function(pe){this.parser=pe},Se.prototype.onreset=function(){this.dom=[],this.root=new he.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},Se.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},Se.prototype.onerror=function(pe){this.handleCallback(pe)},Se.prototype.onclosetag=function(){this.lastNode=null;var pe=this.tagStack.pop();this.options.withEndIndices&&(pe.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(pe)},Se.prototype.onopentag=function(pe,R){var De=new he.Element(pe,R,void 0,this.options.xmlMode?oe.ElementType.Tag:void 0);this.addNode(De),this.tagStack.push(De)},Se.prototype.ontext=function(pe){var R=this.lastNode;if(R&&R.type===oe.ElementType.Text)R.data+=pe,this.options.withEndIndices&&(R.endIndex=this.parser.endIndex);else{var le=new he.Text(pe);this.addNode(le),this.lastNode=le}},Se.prototype.oncomment=function(pe){if(this.lastNode&&this.lastNode.type===oe.ElementType.Comment)this.lastNode.data+=pe;else{var R=new he.Comment(pe);this.addNode(R),this.lastNode=R}},Se.prototype.oncommentend=function(){this.lastNode=null},Se.prototype.oncdatastart=function(){var pe=new he.Text(""),R=new he.CDATA([pe]);this.addNode(R),pe.parent=R,this.lastNode=pe},Se.prototype.oncdataend=function(){this.lastNode=null},Se.prototype.onprocessinginstruction=function(pe,R){var le=new he.ProcessingInstruction(pe,R);this.addNode(le)},Se.prototype.handleCallback=function(pe){if("function"==typeof this.callback)this.callback(pe,this.dom);else if(pe)throw pe},Se.prototype.addNode=function(pe){var R=this.tagStack[this.tagStack.length-1],le=R.children[R.children.length-1];this.options.withStartIndices&&(pe.startIndex=this.parser.startIndex),this.options.withEndIndices&&(pe.endIndex=this.parser.endIndex),R.children.push(pe),le&&(pe.prev=le,le.next=pe),pe.parent=R,this.lastNode=null},Se}();U.DomHandler=ze,U.default=ze},31:function(Ht,U,ce){"use strict";var N,Z=this&&this.__extends||(N=function(ae,Q){return(N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,A){k.__proto__=A}||function(k,A){for(var K in A)Object.prototype.hasOwnProperty.call(A,K)&&(k[K]=A[K])})(ae,Q)},function(ae,Q){if("function"!=typeof Q&&null!==Q)throw new TypeError("Class extends value "+String(Q)+" is not a constructor or null");function k(){this.constructor=ae}N(ae,Q),ae.prototype=null===Q?Object.create(Q):(k.prototype=Q.prototype,new k)}),ge=this&&this.__assign||function(){return ge=Object.assign||function(N){for(var ae,Q=1,k=arguments.length;Q<k;Q++)for(var A in ae=arguments[Q])Object.prototype.hasOwnProperty.call(ae,A)&&(N[A]=ae[A]);return N},ge.apply(this,arguments)};Object.defineProperty(U,"__esModule",{value:!0}),U.cloneNode=U.hasChildren=U.isDocument=U.isDirective=U.isComment=U.isText=U.isCDATA=U.isTag=U.Element=U.Document=U.CDATA=U.NodeWithChildren=U.ProcessingInstruction=U.Comment=U.Text=U.DataNode=U.Node=void 0;var oe=ce(316),he=function(){function N(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(N.prototype,"parentNode",{get:function(){return this.parent},set:function(ae){this.parent=ae},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"previousSibling",{get:function(){return this.prev},set:function(ae){this.prev=ae},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"nextSibling",{get:function(){return this.next},set:function(ae){this.next=ae},enumerable:!1,configurable:!0}),N.prototype.cloneNode=function(ae){return void 0===ae&&(ae=!1),Qt(this,ae)},N}();U.Node=he;var de=function(N){function ae(Q){var k=N.call(this)||this;return k.data=Q,k}return Z(ae,N),Object.defineProperty(ae.prototype,"nodeValue",{get:function(){return this.data},set:function(Q){this.data=Q},enumerable:!1,configurable:!0}),ae}(he);U.DataNode=de;var ze=function(N){function ae(){var Q=null!==N&&N.apply(this,arguments)||this;return Q.type=oe.ElementType.Text,Q}return Z(ae,N),Object.defineProperty(ae.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),ae}(de);U.Text=ze;var Se=function(N){function ae(){var Q=null!==N&&N.apply(this,arguments)||this;return Q.type=oe.ElementType.Comment,Q}return Z(ae,N),Object.defineProperty(ae.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),ae}(de);U.Comment=Se;var pe=function(N){function ae(Q,k){var A=N.call(this,k)||this;return A.name=Q,A.type=oe.ElementType.Directive,A}return Z(ae,N),Object.defineProperty(ae.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),ae}(de);U.ProcessingInstruction=pe;var R=function(N){function ae(Q){var k=N.call(this)||this;return k.children=Q,k}return Z(ae,N),Object.defineProperty(ae.prototype,"firstChild",{get:function(){var Q;return null!==(Q=this.children[0])&&void 0!==Q?Q:null},enumerable:!1,configurable:!0}),Object.defineProperty(ae.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(ae.prototype,"childNodes",{get:function(){return this.children},set:function(Q){this.children=Q},enumerable:!1,configurable:!0}),ae}(he);U.NodeWithChildren=R;var le=function(N){function ae(){var Q=null!==N&&N.apply(this,arguments)||this;return Q.type=oe.ElementType.CDATA,Q}return Z(ae,N),Object.defineProperty(ae.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),ae}(R);U.CDATA=le;var De=function(N){function ae(){var Q=null!==N&&N.apply(this,arguments)||this;return Q.type=oe.ElementType.Root,Q}return Z(ae,N),Object.defineProperty(ae.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),ae}(R);U.Document=De;var H=function(N){function ae(Q,k,A,K){void 0===A&&(A=[]),void 0===K&&(K="script"===Q?oe.ElementType.Script:"style"===Q?oe.ElementType.Style:oe.ElementType.Tag);var fe=N.call(this,A)||this;return fe.name=Q,fe.attribs=k,fe.type=K,fe}return Z(ae,N),Object.defineProperty(ae.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(ae.prototype,"tagName",{get:function(){return this.name},set:function(Q){this.name=Q},enumerable:!1,configurable:!0}),Object.defineProperty(ae.prototype,"attributes",{get:function(){var Q=this;return Object.keys(this.attribs).map(function(k){var A,K;return{name:k,value:Q.attribs[k],namespace:null===(A=Q["x-attribsNamespace"])||void 0===A?void 0:A[k],prefix:null===(K=Q["x-attribsPrefix"])||void 0===K?void 0:K[k]}})},enumerable:!1,configurable:!0}),ae}(R);function ne(N){return(0,oe.isTag)(N)}function te(N){return N.type===oe.ElementType.CDATA}function re(N){return N.type===oe.ElementType.Text}function xe(N){return N.type===oe.ElementType.Comment}function Ie(N){return N.type===oe.ElementType.Directive}function Ze(N){return N.type===oe.ElementType.Root}function Qt(N,ae){var Q;if(void 0===ae&&(ae=!1),re(N))Q=new ze(N.data);else if(xe(N))Q=new Se(N.data);else if(ne(N)){var k=ae?rr(N.children):[],A=new H(N.name,ge({},N.attribs),k);k.forEach(function(ke){return ke.parent=A}),null!=N.namespace&&(A.namespace=N.namespace),N["x-attribsNamespace"]&&(A["x-attribsNamespace"]=ge({},N["x-attribsNamespace"])),N["x-attribsPrefix"]&&(A["x-attribsPrefix"]=ge({},N["x-attribsPrefix"])),Q=A}else if(te(N)){k=ae?rr(N.children):[];var K=new le(k);k.forEach(function(Qe){return Qe.parent=K}),Q=K}else if(Ze(N)){k=ae?rr(N.children):[];var fe=new De(k);k.forEach(function(Qe){return Qe.parent=fe}),N["x-mode"]&&(fe["x-mode"]=N["x-mode"]),Q=fe}else{if(!Ie(N))throw new Error("Not implemented yet: ".concat(N.type));var ve=new pe(N.name,N.data);null!=N["x-name"]&&(ve["x-name"]=N["x-name"],ve["x-publicId"]=N["x-publicId"],ve["x-systemId"]=N["x-systemId"]),Q=ve}return Q.startIndex=N.startIndex,Q.endIndex=N.endIndex,null!=N.sourceCodeLocation&&(Q.sourceCodeLocation=N.sourceCodeLocation),Q}function rr(N){for(var ae=N.map(function(k){return Qt(k,!0)}),Q=1;Q<ae.length;Q++)ae[Q].prev=ae[Q-1],ae[Q-1].next=ae[Q];return ae}U.Element=H,U.isTag=ne,U.isCDATA=te,U.isText=re,U.isComment=xe,U.isDirective=Ie,U.isDocument=Ze,U.hasChildren=function hn(N){return Object.prototype.hasOwnProperty.call(N,"children")},U.cloneNode=Qt},395:Ht=>{"use strict";const U=oe=>"object"==typeof oe&&null!==oe,ce=Symbol("skip"),Z=oe=>U(oe)&&!(oe instanceof RegExp)&&!(oe instanceof Error)&&!(oe instanceof Date),ge=(oe,he,de,ze=new WeakMap)=>{if(de={deep:!1,target:{},...de},ze.has(oe))return ze.get(oe);ze.set(oe,de.target);const{target:Se}=de;delete de.target;const pe=R=>R.map(le=>Z(le)?ge(le,he,de,ze):le);if(Array.isArray(oe))return pe(oe);for(const[R,le]of Object.entries(oe)){const De=he(R,le,oe);if(De===ce)continue;let[H,ne,{shouldRecurse:te=!0}={}]=De;"__proto__"!==H&&(de.deep&&te&&Z(ne)&&(ne=Array.isArray(ne)?pe(ne):ge(ne,he,de,ze)),Se[H]=ne)}return Se};Ht.exports=(oe,he,de)=>{if(!U(oe))throw new TypeError(`Expected an object, got \`${oe}\` (${typeof oe})`);return ge(oe,he,de)},Ht.exports.mapObjectSkip=ce},28:function(Ht,U){var ce,ge;ce=function oe(){"use strict";var he=typeof self<"u"?self:typeof window<"u"?window:void 0!==he?he:{},de=!he.document&&!!he.postMessage,ze=he.IS_PAPA_WORKER||!1,Se={},pe=0,R={parse:function(k,A){var K=(A=A||{}).dynamicTyping||!1;if(Q(K)&&(A.dynamicTypingFunction=K,K={}),A.dynamicTyping=K,A.transform=!!Q(A.transform)&&A.transform,A.worker&&R.WORKERS_SUPPORTED){var fe=function(){if(!R.WORKERS_SUPPORTED)return!1;var an,We,ke=(an=he.URL||he.webkitURL||null,We=oe.toString(),R.BLOB_URL||(R.BLOB_URL=an.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",We,")();"],{type:"text/javascript"})))),Qe=new he.Worker(ke);return Qe.onmessage=hn,Qe.id=pe++,Se[Qe.id]=Qe}();return fe.userStep=A.step,fe.userChunk=A.chunk,fe.userComplete=A.complete,fe.userError=A.error,A.step=Q(A.step),A.chunk=Q(A.chunk),A.complete=Q(A.complete),A.error=Q(A.error),delete A.worker,void fe.postMessage({input:k,config:A,workerId:fe.id})}var ke,ve=null;return"string"==typeof k?(k=65279===(ke=k).charCodeAt(0)?ke.slice(1):ke,ve=A.download?new H(A):new te(A)):!0===k.readable&&Q(k.read)&&Q(k.on)?ve=new re(A):(he.File&&k instanceof File||k instanceof Object)&&(ve=new ne(A)),ve.stream(k)},unparse:function(k,A){var K=!1,fe=!0,ve=",",ke="\r\n",Qe='"',an=Qe+Qe,We=!1,Ee=null,nn=!1;!function(){if("object"==typeof A){if("string"!=typeof A.delimiter||R.BAD_DELIMITERS.filter(function(Ce){return-1!==A.delimiter.indexOf(Ce)}).length||(ve=A.delimiter),("boolean"==typeof A.quotes||"function"==typeof A.quotes||Array.isArray(A.quotes))&&(K=A.quotes),"boolean"!=typeof A.skipEmptyLines&&"string"!=typeof A.skipEmptyLines||(We=A.skipEmptyLines),"string"==typeof A.newline&&(ke=A.newline),"string"==typeof A.quoteChar&&(Qe=A.quoteChar),"boolean"==typeof A.header&&(fe=A.header),Array.isArray(A.columns)){if(0===A.columns.length)throw new Error("Option columns is empty");Ee=A.columns}void 0!==A.escapeChar&&(an=A.escapeChar+Qe),("boolean"==typeof A.escapeFormulae||A.escapeFormulae instanceof RegExp)&&(nn=A.escapeFormulae instanceof RegExp?A.escapeFormulae:/^[=+\-@\t\r].*$/)}}();var Ve=new RegExp(Ie(Qe),"g");if("string"==typeof k&&(k=JSON.parse(k)),Array.isArray(k)){if(!k.length||Array.isArray(k[0]))return cr(null,k,We);if("object"==typeof k[0])return cr(Ee||Object.keys(k[0]),k,We)}else if("object"==typeof k)return"string"==typeof k.data&&(k.data=JSON.parse(k.data)),Array.isArray(k.data)&&(k.fields||(k.fields=k.meta&&k.meta.fields||Ee),k.fields||(k.fields=Array.isArray(k.data[0])?k.fields:"object"==typeof k.data[0]?Object.keys(k.data[0]):[]),Array.isArray(k.data[0])||"object"==typeof k.data[0]||(k.data=[k.data])),cr(k.fields||[],k.data||[],We);throw new Error("Unable to serialize unrecognized input");function cr(Ce,Ut,ft){var Xe="";"string"==typeof Ce&&(Ce=JSON.parse(Ce)),"string"==typeof Ut&&(Ut=JSON.parse(Ut));var Mn=Array.isArray(Ce)&&0<Ce.length,Ae=!Array.isArray(Ut[0]);if(Mn&&fe){for(var ln=0;ln<Ce.length;ln++)0<ln&&(Xe+=ve),Xe+=kt(Ce[ln],ln);0<Ut.length&&(Xe+=ke)}for(var Be=0;Be<Ut.length;Be++){var yt=Mn?Ce.length:Ut[Be].length,rn=!1,un=Mn?0===Object.keys(Ut[Be]).length:0===Ut[Be].length;if(ft&&!Mn&&(rn="greedy"===ft?""===Ut[Be].join("").trim():1===Ut[Be].length&&0===Ut[Be][0].length),"greedy"===ft&&Mn){for(var Pt=[],Hn=0;Hn<yt;Hn++)Pt.push(Ut[Be][Ae?Ce[Hn]:Hn]);rn=""===Pt.join("").trim()}if(!rn){for(var I=0;I<yt;I++)0<I&&!un&&(Xe+=ve),Xe+=kt(Ut[Be][Mn&&Ae?Ce[I]:I],I);Be<Ut.length-1&&(!ft||0<yt&&!un)&&(Xe+=ke)}}return Xe}function kt(Ce,Ut){if(null==Ce)return"";if(Ce.constructor===Date)return JSON.stringify(Ce).slice(1,25);var ft=!1;nn&&"string"==typeof Ce&&nn.test(Ce)&&(Ce="'"+Ce,ft=!0);var Xe=Ce.toString().replace(Ve,an);return(ft=ft||!0===K||"function"==typeof K&&K(Ce,Ut)||Array.isArray(K)&&K[Ut]||function(Mn,Ae){for(var ln=0;ln<Ae.length;ln++)if(-1<Mn.indexOf(Ae[ln]))return!0;return!1}(Xe,R.BAD_DELIMITERS)||-1<Xe.indexOf(ve)||" "===Xe.charAt(0)||" "===Xe.charAt(Xe.length-1))?Qe+Xe+Qe:Xe}}};if(R.RECORD_SEP=String.fromCharCode(30),R.UNIT_SEP=String.fromCharCode(31),R.BYTE_ORDER_MARK="\ufeff",R.BAD_DELIMITERS=["\r","\n",'"',R.BYTE_ORDER_MARK],R.WORKERS_SUPPORTED=!de&&!!he.Worker,R.NODE_STREAM_INPUT=1,R.LocalChunkSize=10485760,R.RemoteChunkSize=5242880,R.DefaultDelimiter=",",R.Parser=Ze,R.ParserHandle=xe,R.NetworkStreamer=H,R.FileStreamer=ne,R.StringStreamer=te,R.ReadableStreamStreamer=re,he.jQuery){var le=he.jQuery;le.fn.parse=function(k){var A=k.config||{},K=[];return this.each(function(ke){if("INPUT"!==le(this).prop("tagName").toUpperCase()||"file"!==le(this).attr("type").toLowerCase()||!he.FileReader||!this.files||0===this.files.length)return!0;for(var Qe=0;Qe<this.files.length;Qe++)K.push({file:this.files[Qe],inputElem:this,instanceConfig:le.extend({},A)})}),fe(),this;function fe(){if(0!==K.length){var Qe,an,We,Ee=K[0];if(Q(k.before)){var nn=k.before(Ee.file,Ee.inputElem);if("object"==typeof nn){if("abort"===nn.action)return"AbortError",Qe=Ee.file,an=Ee.inputElem,We=nn.reason,void(Q(k.error)&&k.error({name:"AbortError"},Qe,an,We));if("skip"===nn.action)return void ve();"object"==typeof nn.config&&(Ee.instanceConfig=le.extend(Ee.instanceConfig,nn.config))}else if("skip"===nn)return void ve()}var Ve=Ee.instanceConfig.complete;Ee.instanceConfig.complete=function(cr){Q(Ve)&&Ve(cr,Ee.file,Ee.inputElem),ve()},R.parse(Ee.file,Ee.instanceConfig)}else Q(k.complete)&&k.complete()}function ve(){K.splice(0,1),fe()}}}function De(k){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(A){var K=N(A);K.chunkSize=parseInt(K.chunkSize),A.step||A.chunk||(K.chunkSize=null),this._handle=new xe(K),(this._handle.streamer=this)._config=K}.call(this,k),this.parseChunk=function(A,K){if(this.isFirstChunk&&Q(this._config.beforeFirstChunk)){var fe=this._config.beforeFirstChunk(A);void 0!==fe&&(A=fe)}this.isFirstChunk=!1,this._halted=!1;var ve=this._partialLine+A;this._partialLine="";var ke=this._handle.parse(ve,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var Qe=ke.meta.cursor;this._finished||(this._partialLine=ve.substring(Qe-this._baseIndex),this._baseIndex=Qe),ke&&ke.data&&(this._rowCount+=ke.data.length);var an=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(ze)he.postMessage({results:ke,workerId:R.WORKER_ID,finished:an});else if(Q(this._config.chunk)&&!K){if(this._config.chunk(ke,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);ke=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(ke.data),this._completeResults.errors=this._completeResults.errors.concat(ke.errors),this._completeResults.meta=ke.meta),this._completed||!an||!Q(this._config.complete)||ke&&ke.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),an||ke&&ke.meta.paused||this._nextChunk(),ke}this._halted=!0},this._sendError=function(A){Q(this._config.error)?this._config.error(A):ze&&this._config.error&&he.postMessage({workerId:R.WORKER_ID,error:A,finished:!1})}}function H(k){var A;(k=k||{}).chunkSize||(k.chunkSize=R.RemoteChunkSize),De.call(this,k),this._nextChunk=de?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(K){this._input=K,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(A=new XMLHttpRequest,this._config.withCredentials&&(A.withCredentials=this._config.withCredentials),de||(A.onload=ae(this._chunkLoaded,this),A.onerror=ae(this._chunkError,this)),A.open(this._config.downloadRequestBody?"POST":"GET",this._input,!de),this._config.downloadRequestHeaders){var K=this._config.downloadRequestHeaders;for(var fe in K)A.setRequestHeader(fe,K[fe])}this._config.chunkSize&&A.setRequestHeader("Range","bytes="+this._start+"-"+(this._start+this._config.chunkSize-1));try{A.send(this._config.downloadRequestBody)}catch(ke){this._chunkError(ke.message)}de&&0===A.status&&this._chunkError()}},this._chunkLoaded=function(){var fe;4===A.readyState&&(A.status<200||400<=A.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:A.responseText.length,this._finished=!this._config.chunkSize||this._start>=(null===(fe=A.getResponseHeader("Content-Range"))?-1:parseInt(fe.substring(fe.lastIndexOf("/")+1))),this.parseChunk(A.responseText)))},this._chunkError=function(K){this._sendError(new Error(A.statusText||K))}}function ne(k){var A,K;(k=k||{}).chunkSize||(k.chunkSize=R.LocalChunkSize),De.call(this,k);var fe=typeof FileReader<"u";this.stream=function(ve){this._input=ve,K=ve.slice||ve.webkitSlice||ve.mozSlice,fe?((A=new FileReader).onload=ae(this._chunkLoaded,this),A.onerror=ae(this._chunkError,this)):A=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var ve=this._input;if(this._config.chunkSize){var ke=Math.min(this._start+this._config.chunkSize,this._input.size);ve=K.call(ve,this._start,ke)}var Qe=A.readAsText(ve,this._config.encoding);fe||this._chunkLoaded({target:{result:Qe}})},this._chunkLoaded=function(ve){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(ve.target.result)},this._chunkError=function(){this._sendError(A.error)}}function te(k){var A;De.call(this,k=k||{}),this.stream=function(K){return A=K,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var K,fe=this._config.chunkSize;return fe?(K=A.substring(0,fe),A=A.substring(fe)):(K=A,A=""),this._finished=!A,this.parseChunk(K)}}}function re(k){De.call(this,k=k||{});var A=[],K=!0,fe=!1;this.pause=function(){De.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){De.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(ve){this._input=ve,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){fe&&1===A.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),A.length?this.parseChunk(A.shift()):K=!0},this._streamData=ae(function(ve){try{A.push("string"==typeof ve?ve:ve.toString(this._config.encoding)),K&&(K=!1,this._checkIsFinished(),this.parseChunk(A.shift()))}catch(ke){this._streamError(ke)}},this),this._streamError=ae(function(ve){this._streamCleanUp(),this._sendError(ve)},this),this._streamEnd=ae(function(){this._streamCleanUp(),fe=!0,this._streamData("")},this),this._streamCleanUp=ae(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function xe(k){var A,K,fe,ve=Math.pow(2,53),ke=-ve,Qe=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,an=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,We=this,Ee=0,nn=0,Ve=!1,cr=!1,kt=[],Ce={data:[],errors:[],meta:{}};if(Q(k.step)){var Ut=k.step;k.step=function(Be){if(Ce=Be,Mn())Xe();else{if(Xe(),0===Ce.data.length)return;Ee+=Be.data.length,k.preview&&Ee>k.preview?K.abort():(Ce.data=Ce.data[0],Ut(Ce,We))}}}function ft(Be){return"greedy"===k.skipEmptyLines?""===Be.join("").trim():1===Be.length&&0===Be[0].length}function Xe(){return Ce&&fe&&(ln("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+R.DefaultDelimiter+"'"),fe=!1),k.skipEmptyLines&&(Ce.data=Ce.data.filter(function(Be){return!ft(Be)})),Mn()&&function(){if(Ce)if(Array.isArray(Ce.data[0])){for(var yt=0;Mn()&&yt<Ce.data.length;yt++)Ce.data[yt].forEach(Be);Ce.data.splice(0,1)}else Ce.data.forEach(Be);function Be(rn,un){Q(k.transformHeader)&&(rn=k.transformHeader(rn,un)),kt.push(rn)}}(),function(){if(!Ce||!k.header&&!k.dynamicTyping&&!k.transform)return Ce;function Be(rn,un){var Pt,Hn=k.header?{}:[];for(Pt=0;Pt<rn.length;Pt++){var x=Pt,I=rn[Pt];k.header&&(x=Pt>=kt.length?"__parsed_extra":kt[Pt]),k.transform&&(I=k.transform(I,x)),I=Ae(x,I),"__parsed_extra"===x?(Hn[x]=Hn[x]||[],Hn[x].push(I)):Hn[x]=I}return k.header&&(Pt>kt.length?ln("FieldMismatch","TooManyFields","Too many fields: expected "+kt.length+" fields but parsed "+Pt,nn+un):Pt<kt.length&&ln("FieldMismatch","TooFewFields","Too few fields: expected "+kt.length+" fields but parsed "+Pt,nn+un)),Hn}var yt=1;return!Ce.data.length||Array.isArray(Ce.data[0])?(Ce.data=Ce.data.map(Be),yt=Ce.data.length):Ce.data=Be(Ce.data,0),k.header&&Ce.meta&&(Ce.meta.fields=kt),nn+=yt,Ce}()}function Mn(){return k.header&&0===kt.length}function Ae(Be,yt){return rn=Be,k.dynamicTypingFunction&&void 0===k.dynamicTyping[rn]&&(k.dynamicTyping[rn]=k.dynamicTypingFunction(rn)),!0===(k.dynamicTyping[rn]||k.dynamicTyping)?"true"===yt||"TRUE"===yt||"false"!==yt&&"FALSE"!==yt&&(function(un){if(Qe.test(un)){var Pt=parseFloat(un);if(ke<Pt&&Pt<ve)return!0}return!1}(yt)?parseFloat(yt):an.test(yt)?new Date(yt):""===yt?null:yt):yt;var rn}function ln(Be,yt,rn,un){var Pt={type:Be,code:yt,message:rn};void 0!==un&&(Pt.row=un),Ce.errors.push(Pt)}this.parse=function(Be,yt,rn){if(k.newline||(k.newline=function(x,I){x=x.substring(0,1048576);var F=new RegExp(Ie(I)+"([^]*?)"+Ie(I),"gm"),W=(x=x.replace(F,"")).split("\r"),ie=x.split("\n");if(1===W.length||1<ie.length&&ie[0].length<W[0].length)return"\n";for(var At=0,be=0;be<W.length;be++)"\n"===W[be][0]&&At++;return At>=W.length/2?"\r\n":"\r"}(Be,k.quoteChar||'"')),fe=!1,k.delimiter)Q(k.delimiter)&&(k.delimiter=k.delimiter(Be),Ce.meta.delimiter=k.delimiter);else{var Pt=function(x,I,F,W,ie){var me,At,be,Te;ie=ie||[",","\t","|",";",R.RECORD_SEP,R.UNIT_SEP];for(var xt=0;xt<ie.length;xt++){var bt=ie[xt],dr=0,Lr=0,Rn=0;be=void 0;for(var Sn=new Ze({comments:W,delimiter:bt,newline:I,preview:10}).parse(x),Wr=0;Wr<Sn.data.length;Wr++)if(F&&ft(Sn.data[Wr]))Rn++;else{var Nt=Sn.data[Wr].length;Lr+=Nt,void 0!==be?0<Nt&&(dr+=Math.abs(Nt-be),be=Nt):be=Nt}0<Sn.data.length&&(Lr/=Sn.data.length-Rn),(void 0===At||dr<=At)&&(void 0===Te||Te<Lr)&&1.99<Lr&&(At=dr,me=bt,Te=Lr)}return{successful:!!(k.delimiter=me),bestDelimiter:me}}(Be,k.newline,k.skipEmptyLines,k.comments,k.delimitersToGuess);Pt.successful?k.delimiter=Pt.bestDelimiter:(fe=!0,k.delimiter=R.DefaultDelimiter),Ce.meta.delimiter=k.delimiter}var Hn=N(k);return k.preview&&k.header&&Hn.preview++,A=Be,K=new Ze(Hn),Ce=K.parse(A,yt,rn),Xe(),Ve?{meta:{paused:!0}}:Ce||{meta:{paused:!1}}},this.paused=function(){return Ve},this.pause=function(){Ve=!0,K.abort(),A=Q(k.chunk)?"":A.substring(K.getCharIndex())},this.resume=function(){We.streamer._halted?(Ve=!1,We.streamer.parseChunk(A,!0)):setTimeout(We.resume,3)},this.aborted=function(){return cr},this.abort=function(){cr=!0,K.abort(),Ce.meta.aborted=!0,Q(k.complete)&&k.complete(Ce),A=""}}function Ie(k){return k.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Ze(k){var A,K=(k=k||{}).delimiter,fe=k.newline,ve=k.comments,ke=k.step,Qe=k.preview,an=k.fastMode,We=A=null==k.quoteChar?'"':k.quoteChar;if(void 0!==k.escapeChar&&(We=k.escapeChar),("string"!=typeof K||-1<R.BAD_DELIMITERS.indexOf(K))&&(K=","),ve===K)throw new Error("Comment character same as delimiter");!0===ve?ve="#":("string"!=typeof ve||-1<R.BAD_DELIMITERS.indexOf(ve))&&(ve=!1),"\n"!==fe&&"\r"!==fe&&"\r\n"!==fe&&(fe="\n");var Ee=0,nn=!1;this.parse=function(Ve,cr,kt){if("string"!=typeof Ve)throw new Error("Input must be a string");var Ce=Ve.length,Ut=K.length,ft=fe.length,Xe=ve.length,Mn=Q(ke),Ae=[],ln=[],Be=[],yt=Ee=0;if(!Ve)return Gn();if(k.header&&!cr){var rn=Ve.split(fe)[0].split(K),un=[],Pt={},Hn=!1;for(var x in rn){var I=rn[x];Q(k.transformHeader)&&(I=k.transformHeader(I,x));var F=I,W=Pt[I]||0;for(0<W&&(Hn=!0,F=I+"_"+W),Pt[I]=W+1;un.includes(F);)F=F+"_"+W;un.push(F)}if(Hn){var ie=Ve.split(fe);ie[0]=un.join(K),Ve=ie.join(fe)}}if(an||!1!==an&&-1===Ve.indexOf(A)){for(var me=Ve.split(fe),At=0;At<me.length;At++){if(Ee+=(Be=me[At]).length,At!==me.length-1)Ee+=fe.length;else if(kt)return Gn();if(!ve||Be.substring(0,Xe)!==ve){if(Mn){if(Ae=[],Rn(Be.split(K)),Ss(),nn)return Gn()}else Rn(Be.split(K));if(Qe&&Qe<=At)return Ae=Ae.slice(0,Qe),Gn(!0)}}return Gn()}for(var be=Ve.indexOf(K,Ee),Te=Ve.indexOf(fe,Ee),xt=new RegExp(Ie(We)+Ie(A),"g"),bt=Ve.indexOf(A,Ee);;)if(Ve[Ee]!==A)if(ve&&0===Be.length&&Ve.substring(Ee,Ee+Xe)===ve){if(-1===Te)return Gn();Te=Ve.indexOf(fe,Ee=Te+ft),be=Ve.indexOf(K,Ee)}else if(-1!==be&&(be<Te||-1===Te))Be.push(Ve.substring(Ee,be)),be=Ve.indexOf(K,Ee=be+Ut);else{if(-1===Te)break;if(Be.push(Ve.substring(Ee,Te)),Nt(Te+ft),Mn&&(Ss(),nn))return Gn();if(Qe&&Ae.length>=Qe)return Gn(!0)}else for(bt=Ee,Ee++;;){if(-1===(bt=Ve.indexOf(A,bt+1)))return kt||ln.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Ae.length,index:Ee}),Wr();if(bt===Ce-1)return Wr(Ve.substring(Ee,bt).replace(xt,A));if(A!==We||Ve[bt+1]!==We){if(A===We||0===bt||Ve[bt-1]!==We){-1!==be&&be<bt+1&&(be=Ve.indexOf(K,bt+1)),-1!==Te&&Te<bt+1&&(Te=Ve.indexOf(fe,bt+1));var dr=Sn(-1===Te?be:Math.min(be,Te));if(Ve.substr(bt+1+dr,Ut)===K){Be.push(Ve.substring(Ee,bt).replace(xt,A)),Ve[Ee=bt+1+dr+Ut]!==A&&(bt=Ve.indexOf(A,Ee)),be=Ve.indexOf(K,Ee),Te=Ve.indexOf(fe,Ee);break}var Lr=Sn(Te);if(Ve.substring(bt+1+Lr,bt+1+Lr+ft)===fe){if(Be.push(Ve.substring(Ee,bt).replace(xt,A)),Nt(bt+1+Lr+ft),be=Ve.indexOf(K,Ee),bt=Ve.indexOf(A,Ee),Mn&&(Ss(),nn))return Gn();if(Qe&&Ae.length>=Qe)return Gn(!0);break}ln.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Ae.length,index:Ee}),bt++}}else bt++}return Wr();function Rn(fr){Ae.push(fr),yt=Ee}function Sn(fr){var va=0;if(-1!==fr){var ba=Ve.substring(bt+1,fr);ba&&""===ba.trim()&&(va=ba.length)}return va}function Wr(fr){return kt||(void 0===fr&&(fr=Ve.substring(Ee)),Be.push(fr),Ee=Ce,Rn(Be),Mn&&Ss()),Gn()}function Nt(fr){Ee=fr,Rn(Be),Be=[],Te=Ve.indexOf(fe,Ee)}function Gn(fr){return{data:Ae,errors:ln,meta:{delimiter:K,linebreak:fe,aborted:nn,truncated:!!fr,cursor:yt+(cr||0)}}}function Ss(){ke(Gn()),Ae=[],ln=[]}},this.abort=function(){nn=!0},this.getCharIndex=function(){return Ee}}function hn(k){var A=k.data,K=Se[A.workerId],fe=!1;if(A.error)K.userError(A.error,A.file);else if(A.results&&A.results.data){var ve={abort:function(){fe=!0,Qt(A.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:rr,resume:rr};if(Q(K.userStep)){for(var ke=0;ke<A.results.data.length&&(K.userStep({data:A.results.data[ke],errors:A.results.errors,meta:A.results.meta},ve),!fe);ke++);delete A.results}else Q(K.userChunk)&&(K.userChunk(A.results,ve,A.file),delete A.results)}A.finished&&!fe&&Qt(A.workerId,A.results)}function Qt(k,A){var K=Se[k];Q(K.userComplete)&&K.userComplete(A),K.terminate(),delete Se[k]}function rr(){throw new Error("Not implemented.")}function N(k){if("object"!=typeof k||null===k)return k;var A=Array.isArray(k)?[]:{};for(var K in k)A[K]=N(k[K]);return A}function ae(k,A){return function(){k.apply(A,arguments)}}function Q(k){return"function"==typeof k}return ze&&(he.onmessage=function(k){var A=k.data;if(void 0===R.WORKER_ID&&A&&(R.WORKER_ID=A.workerId),"string"==typeof A.input)he.postMessage({workerId:R.WORKER_ID,results:R.parse(A.input,A.config),finished:!0});else if(he.File&&A.input instanceof File||A.input instanceof Object){var K=R.parse(A.input,A.config);K&&he.postMessage({workerId:R.WORKER_ID,results:K,finished:!0})}}),(H.prototype=Object.create(De.prototype)).constructor=H,(ne.prototype=Object.create(De.prototype)).constructor=ne,(te.prototype=Object.create(te.prototype)).constructor=te,(re.prototype=Object.create(De.prototype)).constructor=re,R},void 0!==(ge=ce.apply(U,[]))&&(Ht.exports=ge)},139:(Ht,U,ce)=>{"use strict";ce.d(U,{Dg:()=>jc});var Z=ce(861);function ge(T){return T.arrayBuffer?T.arrayBuffer():new Promise((S,L)=>{const X=new FileReader;X.addEventListener("loadend",()=>{S(X.result)}),X.addEventListener("error",L),X.readAsArrayBuffer(T)})}function oe(T){return he.apply(this,arguments)}function he(){return(he=(0,Z.Z)(function*(T){const S=yield ge(T);return new Uint8Array(S)})).apply(this,arguments)}function de(T){return typeof Blob<"u"&&T instanceof Blob}function ze(T){return typeof SharedArrayBuffer<"u"&&T instanceof SharedArrayBuffer}Ht=ce.hmd(Ht);const Se=typeof process<"u"&&process.versions&&typeof process.versions.node<"u"&&typeof process.versions.electron>"u";class R{constructor(S){this.typedArray=S instanceof ArrayBuffer||ze(S)?new Uint8Array(S):new Uint8Array(S.buffer,S.byteOffset,S.byteLength)}getLength(){var S=this;return(0,Z.Z)(function*(){return S.typedArray.byteLength})()}read(S,L){var X=this;return(0,Z.Z)(function*(){return new Uint8Array(X.typedArray.buffer,X.typedArray.byteOffset+S,L)})()}}class le{constructor(S){this.blob=S}getLength(){var S=this;return(0,Z.Z)(function*(){return S.blob.size})()}read(S,L){var X=this;return(0,Z.Z)(function*(){const se=X.blob.slice(S,S+L),Re=yield ge(se);return new Uint8Array(Re)})()}sliceAsBlob(S,L,X=""){var se=this;return(0,Z.Z)(function*(){return se.blob.slice(S,S+L,X)})()}}function ne(T,S){var L=T.length;if(S<=L)return T;var X=new Uint8Array(Math.max(L<<1,S));return X.set(T,0),X}function te(T,S,L,X,se,Re){for(var Ue=hn,at=rr,Rt=0;Rt<L;){var yn=T[at(X,se)&S];se+=15&yn;var wt=yn>>>4;if(wt<=15)Re[Rt]=wt,Rt++;else{var Yt=0,It=0;16==wt?(It=3+Ue(X,se,2),se+=2,Yt=Re[Rt-1]):17==wt?(It=3+Ue(X,se,3),se+=3):18==wt&&(It=11+Ue(X,se,7),se+=7);for(var je=Rt+It;Rt<je;)Re[Rt]=Yt,Rt++}}return se}function re(T,S,L,X){for(var se=0,Re=0,Ue=X.length>>>1;Re<L;){var at=T[Re+S];X[Re<<1]=0,X[1+(Re<<1)]=at,at>se&&(se=at),Re++}for(;Re<Ue;)X[Re<<1]=0,X[1+(Re<<1)]=0,Re++;return se}function xe(T,S){for(var X,se,Re,at,L=T.length,Rt=N.bl_count,Ue=0;Ue<=S;Ue++)Rt[Ue]=0;for(Ue=1;Ue<L;Ue+=2)Rt[T[Ue]]++;var yn=N.next_code;for(X=0,Rt[0]=0,se=1;se<=S;se++)yn[se]=X=X+Rt[se-1]<<1;for(Re=0;Re<L;Re+=2)0!=(at=T[Re+1])&&(T[Re]=yn[at],yn[at]++)}function Ie(T,S,L){for(var X=T.length,se=N.rev15,Re=0;Re<X;Re+=2)if(0!=T[Re+1])for(var at=T[Re+1],Rt=Re>>1<<4|at,yn=S-at,wt=T[Re]<<yn,Yt=wt+(1<<yn);wt!=Yt;)L[se[wt]>>>15-S]=Rt,wt++}function Ze(T,S){for(var L=N.rev15,X=15-S,se=0;se<T.length;se+=2)T[se]=L[T[se]<<S-T[se+1]]>>>X}function hn(T,S,L){return(T[S>>>3]|T[1+(S>>>3)]<<8)>>>(7&S)&(1<<L)-1}function Qt(T,S,L){return(T[S>>>3]|T[1+(S>>>3)]<<8|T[2+(S>>>3)]<<16)>>>(7&S)&(1<<L)-1}function rr(T,S){return(T[S>>>3]|T[1+(S>>>3)]<<8|T[2+(S>>>3)]<<16)>>>(7&S)}const N=(T=Uint16Array,S=Uint32Array,{next_code:new T(16),bl_count:new T(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new T(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new S(32),flmap:new T(512),fltree:[],fdmap:new T(32),fdtree:[],lmap:new T(32768),ltree:[],ttree:[],dmap:new T(32768),dtree:[],imap:new T(512),itree:[],rev15:new T(32768),lhst:new S(286),dhst:new S(30),ihst:new S(19),lits:new S(15e3),strt:new T(65536),prev:new T(32768)});var T,S;!function(){for(var S=0;S<32768;S++){var L=S;N.rev15[S]=((L=(4278255360&(L=(4042322160&(L=(3435973836&(L=(2863311530&L)>>>1|(1431655765&L)<<1))>>>2|(858993459&L)<<2))>>>4|(252645135&L)<<4))>>>8|(16711935&L)<<8)>>>16|L<<16)>>>17}function X(se,Re,Ue){for(;0!=Re--;)se.push(0,Ue)}for(S=0;S<32;S++)N.ldef[S]=N.of0[S]<<3|N.exb[S],N.ddef[S]=N.df0[S]<<4|N.dxb[S];X(N.fltree,144,8),X(N.fltree,112,9),X(N.fltree,24,7),X(N.fltree,8,8),xe(N.fltree,9),Ie(N.fltree,9,N.flmap),Ze(N.fltree,9),X(N.fdtree,32,5),xe(N.fdtree,5),Ie(N.fdtree,5,N.fdmap),Ze(N.fdtree,5),X(N.itree,19,0),X(N.ltree,286,0),X(N.dtree,30,0),X(N.ttree,320,0)}();const ae={table:function(){for(var T=new Uint32Array(256),S=0;S<256;S++){for(var L=S,X=0;X<8;X++)1&L?L=3988292384^L>>>1:L>>>=1;T[S]=L}return T}(),update:function(T,S,L,X){for(var se=0;se<X;se++)T=ae.table[255&(T^S[L+se])]^T>>>8;return T},crc:function(T,S,L){return 4294967295^ae.update(4294967295,T,S,L)}};const k={numWorkers:1,workerURL:"",useWorkers:!1};let A=0,K=0,fe=!0;const ve=[],ke=[],Qe=[],an=new Map;function We(T){cr(T.target);const{id:S,error:L,data:X}=T.data,se=an.get(S);an.delete(S),L?se.reject(L):se.resolve(X)}function Ee(T){return new Promise((S,L)=>{const X=new Worker(T);X.onmessage=se=>{"start"===se.data?(X.onerror=void 0,X.onmessage=void 0,S(X)):L(new Error(`unexpected message: ${se.data}`))},X.onerror=L})}const Ve=function(){if(Se){const{Worker:T}=function nn(T,S){return T.require?T.require(S):{}}(Ht,"worker_threads");return{createWorker:S=>(0,Z.Z)(function*(){return new T(S)})(),addEventListener(S,L){S.on("message",X=>{L({target:S,data:X})})},terminate:S=>(0,Z.Z)(function*(){yield S.terminate()})()}}return{createWorker:T=>(0,Z.Z)(function*(){try{return yield Ee(T)}catch{console.warn("could not load worker:",T)}let S;try{const L=yield fetch(T,{mode:"cors"});if(!L.ok)throw new Error(`could not load: ${T}`);S=yield L.text(),T=URL.createObjectURL(new Blob([S],{type:"application/javascript"}));const X=yield Ee(T);return k.workerURL=T,X}catch{console.warn("could not load worker via fetch:",T)}if(void 0!==S)try{T=`data:application/javascript;base64,${btoa(S)}`;const L=yield Ee(T);return k.workerURL=T,L}catch{console.warn("could not load worker via dataURI")}throw console.warn("workers will not be used"),new Error("can not start workers")})(),addEventListener(T,S){T.addEventListener("message",S)},terminate:T=>(0,Z.Z)(function*(){T.terminate()})()}}();function cr(T){ke.push(T),ft()}function Ce(){return Ce=(0,Z.Z)(function*(){if(0===ke.length&&K<k.numWorkers){++K;try{const T=yield Ve.createWorker(k.workerURL);ve.push(T),ke.push(T),Ve.addEventListener(T,We)}catch{fe=!1}}return ke.pop()}),Ce.apply(this,arguments)}function Ut(T,S,L,X){const se=new Uint8Array(S);(function Q(T,S){return function H(T,S){var L=Uint8Array;if(3==T[0]&&0==T[1])return S||new L(0);var X=Qt,se=hn,Re=te,Ue=rr,at=null==S;at&&(S=new L(T.length>>>2<<3));for(var Ri,ks,Rt=0,yn=0,wt=0,Yt=0,It=0,je=0,$n=0,vn=0,$t=0;0==Rt;)if(Rt=X(T,$t,1),yn=X(T,$t+1,2),$t+=3,0!=yn){if(at&&(S=ne(S,vn+(1<<17))),1==yn&&(Ri=N.flmap,ks=N.fdmap,je=511,$n=31),2==yn){wt=se(T,$t,5)+257,Yt=se(T,$t+5,5)+1,It=se(T,$t+10,4)+4,$t+=14;for(var kn=0;kn<38;kn+=2)N.itree[kn]=0,N.itree[kn+1]=0;var ci=1;for(kn=0;kn<It;kn++){var eu=se(T,$t+3*kn,3);N.itree[1+(N.ordr[kn]<<1)]=eu,eu>ci&&(ci=eu)}$t+=3*It,xe(N.itree,ci),Ie(N.itree,ci,N.imap),Ri=N.lmap,ks=N.dmap,$t=Re(N.imap,(1<<ci)-1,wt+Yt,T,$t,N.ttree);var Uc=re(N.ttree,0,wt,N.ltree);je=(1<<Uc)-1;var Yc=re(N.ttree,wt,Yt,N.dtree);$n=(1<<Yc)-1,xe(N.ltree,Uc),Ie(N.ltree,Uc,Ri),xe(N.dtree,Yc),Ie(N.dtree,Yc,ks)}for(;;){var uh=Ri[Ue(T,$t)&je];$t+=15&uh;var wa=uh>>>4;if(wa>>>8){if(256==wa)break;var tu=vn+wa-254;if(wa>264){var zc=N.ldef[wa-257];tu=vn+(zc>>>3)+se(T,$t,7&zc),$t+=7&zc}var ch=ks[Ue(T,$t)&$n],nu=N.ddef[ch>>>4],ru=(nu>>>4)+X(T,$t+=15&ch,15&nu);for($t+=15&nu,at&&(S=ne(S,vn+(1<<17)));vn<tu;)S[vn]=S[vn++-ru],S[vn]=S[vn++-ru],S[vn]=S[vn++-ru],S[vn]=S[vn++-ru];vn=tu}else S[vn++]=wa}}else{7&$t&&($t+=8-(7&$t));var Zn=4+($t>>>3),hr=T[Zn-4]|T[Zn-3]<<8;at&&(S=ne(S,vn+hr)),S.set(new L(T.buffer,T.byteOffset+Zn,hr),vn),$t=Zn+hr<<3,vn+=hr}return S.length==vn?S:S.slice(0,vn)}(T,S)})(T,se),X(L?new Blob([se],{type:L}):se.buffer)}function ft(){return Xe.apply(this,arguments)}function Xe(){return Xe=(0,Z.Z)(function*(){if(0!==Qe.length){if(k.useWorkers&&fe){const T=yield function kt(){return Ce.apply(this,arguments)}();if(fe){if(T){if(0===Qe.length)return void cr(T);const{id:S,src:L,uncompressedSize:X,type:se,resolve:Re,reject:Ue}=Qe.shift();an.set(S,{id:S,resolve:Re,reject:Ue}),T.postMessage({type:"inflate",data:{id:S,type:se,src:L,uncompressedSize:X}},[])}return}}for(;Qe.length;){const{src:T,uncompressedSize:S,type:L,resolve:X}=Qe.shift();let se=T;de(T)&&(se=yield oe(T)),Ut(se,S,L,X)}}}),Xe.apply(this,arguments)}function Ae(T,S,L){return new Promise((X,se)=>{Qe.push({src:T,uncompressedSize:S,type:L,resolve:X,reject:se,id:A++}),ft()})}class un{constructor(S,L){this._reader=S,this._rawEntry=L,this.name=L.name,this.nameBytes=L.nameBytes,this.size=L.uncompressedSize,this.compressedSize=L.compressedSize,this.comment=L.comment,this.commentBytes=L.commentBytes,this.compressionMethod=L.compressionMethod,this.lastModDate=function rn(T,S){return new Date(1980+(T>>9&127),(T>>5&15)-1,31&T,S>>11&31,S>>5&63,2*(31&S),0)}(L.lastModFileDate,L.lastModFileTime),this.isDirectory=0===L.uncompressedSize&&L.name.endsWith("/"),this.encrypted=!!(1&L.generalPurposeBitFlag),this.externalFileAttributes=L.externalFileAttributes,this.versionMadeBy=L.versionMadeBy}blob(S="application/octet-stream"){var L=this;return(0,Z.Z)(function*(){return yield function $c(T,S,L){return Kl.apply(this,arguments)}(L._reader,L._rawEntry,S)})()}arrayBuffer(){var S=this;return(0,Z.Z)(function*(){return yield function r0(T,S){return lh.apply(this,arguments)}(S._reader,S._rawEntry)})()}text(){var S=this;return(0,Z.Z)(function*(){const L=yield S.arrayBuffer();return dr(new Uint8Array(L))})()}json(){var S=this;return(0,Z.Z)(function*(){const L=yield S.text();return JSON.parse(L)})()}}const Pt=22,Hn=65535,x=101010256,I=101075792;function F(T,S,L){return W.apply(this,arguments)}function W(){return W=(0,Z.Z)(function*(T,S,L){return yield T.read(S,L)}),W.apply(this,arguments)}function ie(T,S,L,X){return me.apply(this,arguments)}function me(){return me=(0,Z.Z)(function*(T,S,L,X){return T.sliceAsBlob?yield T.sliceAsBlob(S,L,X):yield T.read(S,L)}),me.apply(this,arguments)}const At={unsigned:()=>0};function be(T,S){return T[S]+256*T[S+1]}function Te(T,S){return T[S]+256*T[S+1]+65536*T[S+2]+16777216*T[S+3]}function xt(T,S){return Te(T,S)+4294967296*Te(T,S+4)}const bt=new TextDecoder;function dr(T,S){return ze(T.buffer)&&(T=new Uint8Array(T)),bt.decode(T)}function Rn(){return Rn=(0,Z.Z)(function*(T,S){const L=Math.min(Pt+Hn,S),X=S-L,se=yield F(T,X,L);for(let Re=L-Pt;Re>=0;--Re){if(Te(se,Re)!==x)continue;const Ue=new Uint8Array(se.buffer,se.byteOffset+Re,se.byteLength-Re),at=be(Ue,4);if(0!==at)throw new Error(`multi-volume zip files are not supported. This is volume: ${at}`);const Rt=be(Ue,10),yn=Te(Ue,12),wt=Te(Ue,16),Yt=be(Ue,20),It=Ue.length-Pt;if(Yt!==It)throw new Error(`invalid comment length. expected: ${It}, actual: ${Yt}`);const je=new Uint8Array(Ue.buffer,Ue.byteOffset+22,Yt),$n=dr(je);return 65535===Rt||4294967295===wt?yield Wr(T,X+Re,$n,je):yield Ss(T,wt,yn,Rt,$n,je)}throw new Error("could not find end of central directory. maybe not zip file")}),Rn.apply(this,arguments)}const Sn=117853008;function Wr(T,S,L,X){return Nt.apply(this,arguments)}function Nt(){return Nt=(0,Z.Z)(function*(T,S,L,X){const se=S-20,Re=yield F(T,se,20);if(Te(Re,0)!==Sn)throw new Error("invalid zip64 end of central directory locator signature");const Ue=xt(Re,8),at=yield F(T,Ue,56);if(Te(at,0)!==I)throw new Error("invalid zip64 end of central directory record signature");const Rt=xt(at,32),yn=xt(at,40);return Ss(T,xt(at,48),yn,Rt,L,X)}),Nt.apply(this,arguments)}const Gn=33639248;function Ss(T,S,L,X,se,Re){return fr.apply(this,arguments)}function fr(){return fr=(0,Z.Z)(function*(T,S,L,X,se,Re){let Ue=0;const at=yield F(T,S,L),Rt=[];for(let wt=0;wt<X;++wt){const Yt=at.subarray(Ue,Ue+46),It=Te(Yt,0);if(It!==Gn)throw new Error(`invalid central directory file header signature: 0x${It.toString(16)}`);const je={versionMadeBy:be(Yt,4),versionNeededToExtract:be(Yt,6),generalPurposeBitFlag:be(Yt,8),compressionMethod:be(Yt,10),lastModFileTime:be(Yt,12),lastModFileDate:be(Yt,14),crc32:Te(Yt,16),compressedSize:Te(Yt,20),uncompressedSize:Te(Yt,24),fileNameLength:be(Yt,28),extraFieldLength:be(Yt,30),fileCommentLength:be(Yt,32),internalFileAttributes:be(Yt,36),externalFileAttributes:Te(Yt,38),relativeOffsetOfLocalHeader:Te(Yt,42)};if(64&je.generalPurposeBitFlag)throw new Error("strong encryption is not supported");Ue+=46;const $n=at.subarray(Ue,Ue+je.fileNameLength+je.extraFieldLength+je.fileCommentLength);je.nameBytes=$n.slice(0,je.fileNameLength),je.name=dr(je.nameBytes);const vn=je.fileNameLength+je.extraFieldLength,$t=$n.slice(je.fileNameLength,vn);je.extraFields=[];let Ri=0;for(;Ri<$t.length-3;){const Zn=be($t,Ri+0),kn=Ri+4,ci=kn+be($t,Ri+2);if(ci>$t.length)throw new Error("extra field length exceeds extra field buffer size");je.extraFields.push({id:Zn,data:$t.slice(kn,ci)}),Ri=ci}if(je.commentBytes=$n.slice(vn,vn+je.fileCommentLength),je.comment=dr(je.commentBytes),Ue+=$n.length,4294967295===je.uncompressedSize||4294967295===je.compressedSize||4294967295===je.relativeOffsetOfLocalHeader){const Zn=je.extraFields.find(ci=>1===ci.id);if(!Zn)throw new Error("expected zip64 extended information extra field");const hr=Zn.data;let kn=0;if(4294967295===je.uncompressedSize){if(kn+8>hr.length)throw new Error("zip64 extended information extra field does not include uncompressed size");je.uncompressedSize=xt(hr,kn),kn+=8}if(4294967295===je.compressedSize){if(kn+8>hr.length)throw new Error("zip64 extended information extra field does not include compressed size");je.compressedSize=xt(hr,kn),kn+=8}if(4294967295===je.relativeOffsetOfLocalHeader){if(kn+8>hr.length)throw new Error("zip64 extended information extra field does not include relative header offset");je.relativeOffsetOfLocalHeader=xt(hr,kn),kn+=8}}const ks=je.extraFields.find(Zn=>28789===Zn.id&&Zn.data.length>=6&&1===Zn.data[0]&&Te(Zn.data,1),At.unsigned(je.nameBytes));if(ks&&(je.fileName=dr(ks.data.slice(5))),0===je.compressionMethod){let Zn=je.uncompressedSize;if(1&je.generalPurposeBitFlag&&(Zn+=12),je.compressedSize!==Zn)throw new Error(`compressed size mismatch for stored file: ${je.compressedSize} != ${Zn}`)}Rt.push(je)}return{zip:{comment:se,commentBytes:Re},entries:Rt.map(wt=>new un(T,wt))}}),fr.apply(this,arguments)}function va(T,S){return ba.apply(this,arguments)}function ba(){return ba=(0,Z.Z)(function*(T,S){if(1&S.generalPurposeBitFlag)throw new Error("encrypted entries not supported");const L=yield F(T,S.relativeOffsetOfLocalHeader,30),X=yield T.getLength(),se=Te(L,0);if(67324752!==se)throw new Error(`invalid local file header signature: 0x${se.toString(16)}`);const Re=be(L,26),Ue=be(L,28),at=S.relativeOffsetOfLocalHeader+L.length+Re+Ue;let Rt;if(0===S.compressionMethod)Rt=!1;else{if(8!==S.compressionMethod)throw new Error(`unsupported compression method: ${S.compressionMethod}`);Rt=!0}const yn=at;if(0!==S.compressedSize&&yn+S.compressedSize>X)throw new Error(`file data overflows file bounds: ${yn} +  ${S.compressedSize}  > ${X}`);return{decompress:Rt,fileDataStart:yn}}),ba.apply(this,arguments)}function lh(){return lh=(0,Z.Z)(function*(T,S){const{decompress:L,fileDataStart:X}=yield va(T,S);if(!L){const Ue=yield F(T,X,S.compressedSize);return function pe(T){return 0===T.byteOffset&&T.byteLength===T.buffer.byteLength}(Ue)?Ue.buffer:Ue.slice().buffer}const se=yield ie(T,X,S.compressedSize);return yield Ae(se,S.uncompressedSize)}),lh.apply(this,arguments)}function Kl(){return Kl=(0,Z.Z)(function*(T,S,L){const{decompress:X,fileDataStart:se}=yield va(T,S);if(!X){const at=yield ie(T,se,S.compressedSize,L);return de(at)?at:new Blob([ze(at.buffer)?new Uint8Array(at):at],{type:L})}const Re=yield ie(T,se,S.compressedSize);return yield Ae(Re,S.uncompressedSize,L)}),Kl.apply(this,arguments)}function jc(T){return Jl.apply(this,arguments)}function Jl(){return Jl=(0,Z.Z)(function*(T){let S;if(typeof Blob<"u"&&T instanceof Blob)S=new le(T);else if(T instanceof ArrayBuffer||T&&T.buffer&&T.buffer instanceof ArrayBuffer)S=new R(T);else if(ze(T)||ze(T.buffer))S=new R(T);else if("string"==typeof T){const X=yield fetch(T);if(!X.ok)throw new Error(`failed http request ${T}, status: ${X.status}: ${X.statusText}`);const se=yield X.blob();S=new le(se)}else{if("function"!=typeof T.getLength||"function"!=typeof T.read)throw new Error("unsupported source type");S=T}const L=yield S.getLength();if(L>Number.MAX_SAFE_INTEGER)throw new Error(`file too large. size: ${L}. Only file sizes up 4503599627370496 bytes are supported`);return yield function Lr(T,S){return Rn.apply(this,arguments)}(S,L)}),Jl.apply(this,arguments)}},321:()=>{"use strict";const Ht=":";class kt extends Error{constructor(I){super(`No translation found for ${Ae(I)}.`),this.parsedMessage=I,this.type="MissingTranslationError"}}const un=function(x,...I){if(un.translate){const W=un.translate(x,I);x=W[0],I=W[1]}let F=Hn(x[0],x.raw[0]);for(let W=1;W<x.length;W++)F+=I[W-1]+Hn(x[W],x.raw[W]);return F},Pt=":";function Hn(x,I){return I.charAt(0)===Pt?x.substring(function cr(x,I){for(let F=1,W=1;F<x.length;F++,W++)if("\\"===I[W])W++;else if(x[F]===Ht)return F;throw new Error(`Unterminated $localize metadata block in "${I}".`)}(x,I)+1):x}(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)().$localize=un},861:(Ht,U,ce)=>{"use strict";function Z(oe,he,de,ze,Se,pe,R){try{var le=oe[pe](R),De=le.value}catch(H){return void de(H)}le.done?he(De):Promise.resolve(De).then(ze,Se)}function ge(oe){return function(){var he=this,de=arguments;return new Promise(function(ze,Se){var pe=oe.apply(he,de);function R(De){Z(pe,ze,Se,R,le,"next",De)}function le(De){Z(pe,ze,Se,R,le,"throw",De)}R(void 0)})}}ce.d(U,{Z:()=>ge})}},Ht=>{var U=Z=>Ht(Ht.s=Z);U(321),U(131)}]);