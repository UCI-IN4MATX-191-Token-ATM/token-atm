(self.webpackChunktoken_atm_spa=self.webpackChunktoken_atm_spa||[]).push([[179],{355:(Xt,j,de)=>{"use strict";function Q(t){return"function"==typeof t}function ge(t){const e=t(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const De=ge(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function me(t,n){if(t){const e=t.indexOf(n);0<=e&&t.splice(e,1)}}class ve{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const s of e)s.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(Q(i))try{i()}catch(s){n=s instanceof De?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{pe(s)}catch(o){n=n??[],o instanceof De?n=[...n,...o.errors]:n.push(o)}}if(n)throw new De(n)}}add(n){var e;if(n&&n!==this)if(this.closed)pe(n);else{if(n instanceof ve){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(n)}}_hasParent(n){const{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){const{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&me(e,n)}remove(n){const{_finalizers:e}=this;e&&me(e,n),n instanceof ve&&n._removeParent(this)}}ve.EMPTY=(()=>{const t=new ve;return t.closed=!0,t})();const at=ve.EMPTY;function Re(t){return t instanceof ve||t&&"closed"in t&&Q(t.remove)&&Q(t.add)&&Q(t.unsubscribe)}function pe(t){Q(t)?t():t.unsubscribe()}const N={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ae={setTimeout(t,n,...e){const{delegate:i}=ae;return i?.setTimeout?i.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){const{delegate:n}=ae;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Ee(t){ae.setTimeout(()=>{const{onUnhandledError:n}=N;if(!n)throw t;n(t)})}function B(){}const ie=Ne("C",void 0,void 0);function Ne(t,n,e){return{kind:t,value:n,error:e}}let xe=null;function Ze(t){if(N.useDeprecatedSynchronousErrorHandling){const n=!xe;if(n&&(xe={errorThrown:!1,error:null}),t(),n){const{errorThrown:e,error:i}=xe;if(xe=null,e)throw i}}else t()}class Wt extends ve{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Re(n)&&n.add(this)):this.destination=le}static create(n,e,i){return new G(n,e,i)}next(n){this.isStopped?Z(function te(t){return Ne("N",t,void 0)}(n),this):this._next(n)}error(n){this.isStopped?Z(function ee(t){return Ne("E",void 0,t)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Z(ie,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Jn=Function.prototype.bind;function x(t,n){return Jn.call(t,n)}class se{constructor(n){this.partialObserver=n}next(n){const{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(i){k(i)}}error(n){const{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(i){k(i)}else k(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){k(e)}}}class G extends Wt{constructor(n,e,i){let r;if(super(),Q(n)||!n)r={next:n??void 0,error:e??void 0,complete:i??void 0};else{let s;this&&N.useDeprecatedNextContext?(s=Object.create(n),s.unsubscribe=()=>this.unsubscribe(),r={next:n.next&&x(n.next,s),error:n.error&&x(n.error,s),complete:n.complete&&x(n.complete,s)}):r=n}this.destination=new se(r)}}function k(t){N.useDeprecatedSynchronousErrorHandling?function fn(t){N.useDeprecatedSynchronousErrorHandling&&xe&&(xe.errorThrown=!0,xe.error=t)}(t):Ee(t)}function Z(t,n){const{onStoppedNotification:e}=N;e&&ae.setTimeout(()=>e(t,n))}const le={closed:!0,next:B,error:function E(t){throw t},complete:B},be="function"==typeof Symbol&&Symbol.observable||"@@observable";function Oe(t){return t}function sn(t){return 0===t.length?Oe:1===t.length?t[0]:function(e){return t.reduce((i,r)=>r(i),e)}}let We=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new t;return i.source=this,i.operator=e,i}subscribe(e,i,r){const s=function je(t){return t&&t instanceof Wt||function en(t){return t&&Q(t.next)&&Q(t.error)&&Q(t.complete)}(t)&&Re(t)}(e)?e:new G(e,i,r);return Ze(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=Ie(i))((r,s)=>{const o=new G({next:a=>{try{e(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[be](){return this}pipe(...e){return sn(e)(this)}toPromise(e){return new(e=Ie(e))((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return t.create=n=>new t(n),t})();function Ie(t){var n;return null!==(n=t??N.Promise)&&void 0!==n?n:Promise}const ii=ge(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let It=(()=>{class t extends We{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new Te(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new ii}next(e){Ze(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){Ze(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){Ze(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:s}=this;return i||r?at:(this.currentObservers=null,s.push(e),new ve(()=>{this.currentObservers=null,me(s,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:s}=this;i?e.error(r):s&&e.complete()}asObservable(){const e=new We;return e.source=this,e}}return t.create=(n,e)=>new Te(n,e),t})();class Te extends It{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,n)}error(n){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,n)}complete(){var n,e;null===(e=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===e||e.call(n)}_subscribe(n){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(n))&&void 0!==i?i:at}}function $t(t){return Q(t?.lift)}function pt(t){return n=>{if($t(n))return n.lift(function(e){try{return t(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Xe(t,n,e,i,r){return new Cn(t,n,e,i,r)}class Cn extends Wt{constructor(n,e,i,r,s,o){super(n),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=e?function(a){try{e(a)}catch(l){n.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function Ae(t,n){return pt((e,i)=>{let r=0;e.subscribe(Xe(i,s=>{i.next(t.call(n,s,r++))}))})}function Y(t,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,n)}function On(t){return this instanceof On?(this.v=t,this):new On(t)}function Pt(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=function ke(t){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&t[n],i=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(s){e[s]=t[s]&&function(o){return new Promise(function(a,l){!function r(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}(a,l,(o=t[s](o)).done,o.value)})}}}const ac=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function Cl(t){return Q(t?.then)}function c_(t){return Q(t[be])}function lc(t){return Symbol.asyncIterator&&Q(t?.[Symbol.asyncIterator])}function Dl(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Tl=function AC(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function d_(t){return Q(t?.[Tl])}function C(t){return function Dn(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=e.apply(t,n||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(f){i[f]&&(r[f]=function(h){return new Promise(function(p,v){s.push([f,h,p,v])>1||a(f,h)})})}function a(f,h){try{!function l(f){f.value instanceof On?Promise.resolve(f.value.v).then(u,c):d(s[0][2],f)}(i[f](h))}catch(p){d(s[0][3],p)}}function u(f){a("next",f)}function c(f){a("throw",f)}function d(f,h){f(h),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const e=t.getReader();try{for(;;){const{value:i,done:r}=yield On(e.read());if(r)return yield On(void 0);yield yield On(i)}}finally{e.releaseLock()}})}function T(t){return Q(t?.getReader)}function R(t){if(t instanceof We)return t;if(null!=t){if(c_(t))return function K(t){return new We(n=>{const e=t[be]();if(Q(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(ac(t))return function re(t){return new We(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}(t);if(Cl(t))return function Le(t){return new We(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,Ee)})}(t);if(lc(t))return ut(t);if(d_(t))return function ze(t){return new We(n=>{for(const e of t)if(n.next(e),n.closed)return;n.complete()})}(t);if(T(t))return function Ft(t){return ut(C(t))}(t)}throw Dl(t)}function ut(t){return new We(n=>{(function _n(t,n){var e,i,r,s;return function ne(t,n,e,i){return new(e||(e=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):function r(s){return s instanceof e?s:new e(function(o){o(s)})}(c.value).then(a,l)}u((i=i.apply(t,n||[])).next())})}(this,void 0,void 0,function*(){try{for(e=Pt(t);!(i=yield e.next()).done;)if(n.next(i.value),n.closed)return}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=e.return)&&(yield s.call(e))}finally{if(r)throw r.error}}n.complete()})})(t,n).catch(e=>n.error(e))})}function Tt(t,n,e,i=0,r=!1){const s=n.schedule(function(){e(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(s),!r)return s}function Rt(t,n,e=1/0){return Q(n)?Rt((i,r)=>Ae((s,o)=>n(i,s,r,o))(R(t(i,r))),e):("number"==typeof n&&(e=n),pt((i,r)=>function jt(t,n,e,i,r,s,o,a){const l=[];let u=0,c=0,d=!1;const f=()=>{d&&!l.length&&!u&&n.complete()},h=v=>u<i?p(v):l.push(v),p=v=>{s&&n.next(v),u++;let M=!1;R(e(v,c++)).subscribe(Xe(n,I=>{r?.(I),s?h(I):n.next(I)},()=>{M=!0},void 0,()=>{if(M)try{for(u--;l.length&&u<i;){const I=l.shift();o?Tt(n,o,()=>p(I)):p(I)}f()}catch(I){n.error(I)}}))};return t.subscribe(Xe(n,h,()=>{d=!0,f()})),()=>{a?.()}}(i,r,t,e)))}function Ye(t=1/0){return Rt(Oe,t)}const Pn=new We(t=>t.complete());function yr(t){return t&&Q(t.schedule)}function us(t){return t[t.length-1]}function Yn(t){return Q(us(t))?t.pop():void 0}function oi(t){return yr(us(t))?t.pop():void 0}function Xi(t,n=0){return pt((e,i)=>{e.subscribe(Xe(i,r=>Tt(i,t,()=>i.next(r),n),()=>Tt(i,t,()=>i.complete(),n),r=>Tt(i,t,()=>i.error(r),n)))})}function kl(t,n=0){return pt((e,i)=>{i.add(t.schedule(()=>e.subscribe(i),n))})}function Ml(t,n){if(!t)throw new Error("Iterable cannot be null");return new We(e=>{Tt(e,n,()=>{const i=t[Symbol.asyncIterator]();Tt(e,n,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function Vn(t,n){return n?function Cf(t,n){if(null!=t){if(c_(t))return function uc(t,n){return R(t).pipe(kl(n),Xi(n))}(t,n);if(ac(t))return function wf(t,n){return new We(e=>{let i=0;return n.schedule(function(){i===t.length?e.complete():(e.next(t[i++]),e.closed||this.schedule())})})}(t,n);if(Cl(t))return function cc(t,n){return R(t).pipe(kl(n),Xi(n))}(t,n);if(lc(t))return Ml(t,n);if(d_(t))return function Qo(t,n){return new We(e=>{let i;return Tt(e,n,()=>{i=t[Tl](),Tt(e,n,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){return void e.error(o)}s?e.complete():e.next(r)},0,!0)}),()=>Q(i?.return)&&i.return()})}(t,n);if(T(t))return function dc(t,n){return Ml(C(t),n)}(t,n)}throw Dl(t)}(t,n):R(t)}function Sl(...t){const n=oi(t),e=function Tn(t,n){return"number"==typeof us(t)?t.pop():n}(t,1/0),i=t;return i.length?1===i.length?R(i[0]):Ye(e)(Vn(i,n)):Pn}function f_(t,n,...e){if(!0===n)return void t();if(!1===n)return;const i=new G({next:()=>{i.unsubscribe(),t()}});return R(n(...e)).subscribe(i)}function ln(t){for(let n in t)if(t[n]===ln)return n;throw Error("Could not find renamed property on target object.")}function h_(t,n){for(const e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function hn(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(hn).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const e=n.indexOf("\n");return-1===e?n:n.substring(0,e)}function p_(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const yF=ln({__forward_ref__:ln});function Ut(t){return t.__forward_ref__=Ut,t.toString=function(){return hn(this())},t}function Ke(t){return m_(t)?t():t}function m_(t){return"function"==typeof t&&t.hasOwnProperty(yF)&&t.__forward_ref__===Ut}function __(t){return t&&!!t.\u0275providers}const Df="https://g.co/ng/security#xss";class U extends Error{constructor(n,e){super(Tf(n,e)),this.code=n}}function Tf(t,n){return`NG0${Math.abs(t)}${n?": "+n.trim():""}`}function ct(t){return"string"==typeof t?t:null==t?"":String(t)}function kf(t,n){throw new U(-201,!1)}function Hr(t,n){null==t&&function Zt(t,n,e,i){throw new Error(`ASSERTION ERROR: ${t}`+(null==i?"":` [Expected=> ${e} ${i} ${n} <=Actual]`))}(n,t,null,"!=")}function z(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ai(t){return{providers:t.providers||[],imports:t.imports||[]}}function Mf(t){return RC(t,Sf)||RC(t,FC)}function RC(t,n){return t.hasOwnProperty(n)?t[n]:null}function xC(t){return t&&(t.hasOwnProperty(g_)||t.hasOwnProperty(SF))?t[g_]:null}const Sf=ln({\u0275prov:ln}),g_=ln({\u0275inj:ln}),FC=ln({ngInjectableDef:ln}),SF=ln({ngInjectorDef:ln});var Je=(()=>((Je=Je||{})[Je.Default=0]="Default",Je[Je.Host=1]="Host",Je[Je.Self=2]="Self",Je[Je.SkipSelf=4]="SkipSelf",Je[Je.Optional=8]="Optional",Je))();let y_;function $r(t){const n=y_;return y_=t,n}function NC(t,n,e){const i=Mf(t);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&Je.Optional?null:void 0!==n?n:void kf(hn(t))}const yn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),fc={},v_="__NG_DI_FLAG__",Ef="ngTempTokenPath",OF="ngTokenPath",IF=/\n/gm,AF="\u0275",LC="__source";let hc;function Ol(t){const n=hc;return hc=t,n}function RF(t,n=Je.Default){if(void 0===hc)throw new U(-203,!1);return null===hc?NC(t,void 0,n):hc.get(t,n&Je.Optional?null:void 0,n)}function X(t,n=Je.Default){return(function EF(){return y_}()||RF)(Ke(t),n)}function Ct(t,n=Je.Default){return X(t,Of(n))}function Of(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function b_(t){const n=[];for(let e=0;e<t.length;e++){const i=Ke(t[e]);if(Array.isArray(i)){if(0===i.length)throw new U(900,!1);let r,s=Je.Default;for(let o=0;o<i.length;o++){const a=i[o],l=xF(a);"number"==typeof l?-1===l?r=a.token:s|=l:r=a}n.push(X(r,s))}else n.push(X(i))}return n}function pc(t,n){return t[v_]=n,t.prototype[v_]=n,t}function xF(t){return t[v_]}function lo(t){return{toString:t}.toString()}var Ss=(()=>((Ss=Ss||{})[Ss.OnPush=0]="OnPush",Ss[Ss.Default=1]="Default",Ss))(),cs=(()=>{return(t=cs||(cs={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",cs;var t})();const uo={},Yt=[],If=ln({\u0275cmp:ln}),w_=ln({\u0275dir:ln}),C_=ln({\u0275pipe:ln}),VC=ln({\u0275mod:ln}),co=ln({\u0275fac:ln}),mc=ln({__NG_ELEMENT_ID__:ln});let LF=0;function He(t){return lo(()=>{const n=HC(t),e={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Ss.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,data:t.data||{},encapsulation:t.encapsulation||cs.Emulated,id:"c"+LF++,styles:t.styles||Yt,_:null,schemas:t.schemas||null,tView:null};$C(e);const i=t.dependencies;return e.directiveDefs=Af(i,!1),e.pipeDefs=Af(i,!0),e})}function VF(t){return Qt(t)||Pi(t)}function BF(t){return null!==t}function _i(t){return lo(()=>({type:t.type,bootstrap:t.bootstrap||Yt,declarations:t.declarations||Yt,imports:t.imports||Yt,exports:t.exports||Yt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function BC(t,n){if(null==t)return uo;const e={};for(const i in t)if(t.hasOwnProperty(i)){let r=t[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),e[r]=i,n&&(n[r]=s)}return e}function Ve(t){return lo(()=>{const n=HC(t);return $C(n),n})}function ar(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Qt(t){return t[If]||null}function Pi(t){return t[w_]||null}function lr(t){return t[C_]||null}function br(t,n){const e=t[VC]||null;if(!e&&!0===n)throw new Error(`Type ${hn(t)} does not have '\u0275mod' property.`);return e}function HC(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,exportAs:t.exportAs||null,standalone:!0===t.standalone,selectors:t.selectors||Yt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:BC(t.inputs,n),outputs:BC(t.outputs)}}function $C(t){t.features?.forEach(n=>n(t))}function Af(t,n){if(!t)return null;const e=n?lr:VF;return()=>("function"==typeof t?t():t).map(i=>e(i)).filter(BF)}const fo=0,Ce=1,mt=2,Bn=3,ds=4,Ea=5,Vi=6,Al=7,zn=8,Rf=9,xf=10,vt=11,D_=12,_c=13,jC=14,Rl=15,Bi=16,gc=17,xl=18,Es=19,yc=20,UC=21,vn=22,T_=1,YC=2,Ff=7,Nf=8,Fl=9,er=10;function wr(t){return Array.isArray(t)&&"object"==typeof t[T_]}function fs(t){return Array.isArray(t)&&!0===t[T_]}function k_(t){return 0!=(4&t.flags)}function vc(t){return t.componentOffset>-1}function Lf(t){return 1==(1&t.flags)}function hs(t){return!!t.template}function $F(t){return 0!=(256&t[mt])}function Oa(t,n){return t.hasOwnProperty(co)?t[co]:null}class YF{constructor(n,e,i){this.previousValue=n,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function Hi(){return WC}function WC(t){return t.type.prototype.ngOnChanges&&(t.setInput=qF),zF}function zF(){const t=ZC(this),n=t?.current;if(n){const e=t.previous;if(e===uo)t.previous=n;else for(let i in n)e[i]=n[i];t.current=null,this.ngOnChanges(n)}}function qF(t,n,e,i){const r=this.declaredInputs[e],s=ZC(t)||function WF(t,n){return t[GC]=n}(t,{previous:uo,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[r];o[r]=new YF(l&&l.currentValue,n,a===uo),t[i]=n}Hi.ngInherit=!0;const GC="__ngSimpleChanges__";function ZC(t){return t[GC]||null}const jr=function(t,n,e){};function ki(t){for(;Array.isArray(t);)t=t[fo];return t}function Pf(t,n){return ki(n[t])}function Cr(t,n){return ki(n[t.index])}function JC(t,n){return t.data[n]}function Nl(t,n){return t[n]}function Dr(t,n){const e=n[t];return wr(e)?e:e[fo]}function Vf(t){return 64==(64&t[mt])}function Jo(t,n){return null==n?null:t[n]}function XC(t){t[xl]=0}function S_(t,n){t[Ea]+=n;let e=t,i=t[Bn];for(;null!==i&&(1===n&&1===e[Ea]||-1===n&&0===e[Ea]);)i[Ea]+=n,e=i,i=i[Bn]}const dt={lFrame:uD(null),bindingsEnabled:!0};function tD(){return dt.bindingsEnabled}function J(){return dt.lFrame.lView}function Nt(){return dt.lFrame.tView}function H(t){return dt.lFrame.contextLView=t,t[zn]}function $(t){return dt.lFrame.contextLView=null,t}function Mi(){let t=nD();for(;null!==t&&64===t.type;)t=t.parent;return t}function nD(){return dt.lFrame.currentTNode}function Os(t,n){const e=dt.lFrame;e.currentTNode=t,e.isParent=n}function E_(){return dt.lFrame.isParent}function O_(){dt.lFrame.isParent=!1}function tr(){const t=dt.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function Ll(){return dt.lFrame.bindingIndex++}function po(t){const n=dt.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function oN(t,n){const e=dt.lFrame;e.bindingIndex=e.bindingRootIndex=t,I_(n)}function I_(t){dt.lFrame.currentDirectiveIndex=t}function oD(){return dt.lFrame.currentQueryIndex}function R_(t){dt.lFrame.currentQueryIndex=t}function lN(t){const n=t[Ce];return 2===n.type?n.declTNode:1===n.type?t[Vi]:null}function aD(t,n,e){if(e&Je.SkipSelf){let r=n,s=t;for(;!(r=r.parent,null!==r||e&Je.Host||(r=lN(s),null===r||(s=s[Rl],10&r.type))););if(null===r)return!1;n=r,t=s}const i=dt.lFrame=lD();return i.currentTNode=n,i.lView=t,!0}function x_(t){const n=lD(),e=t[Ce];dt.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function lD(){const t=dt.lFrame,n=null===t?null:t.child;return null===n?uD(t):n}function uD(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function cD(){const t=dt.lFrame;return dt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const dD=cD;function F_(){const t=cD();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function nr(){return dt.lFrame.selectedIndex}function Ia(t){dt.lFrame.selectedIndex=t}function In(){const t=dt.lFrame;return JC(t.tView,t.selectedIndex)}function Bf(t,n){for(let e=n.directiveStart,i=n.directiveEnd;e<i;e++){const s=t.data[e].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:c}=s;o&&(t.contentHooks??(t.contentHooks=[])).push(-e,o),a&&((t.contentHooks??(t.contentHooks=[])).push(e,a),(t.contentCheckHooks??(t.contentCheckHooks=[])).push(e,a)),l&&(t.viewHooks??(t.viewHooks=[])).push(-e,l),u&&((t.viewHooks??(t.viewHooks=[])).push(e,u),(t.viewCheckHooks??(t.viewCheckHooks=[])).push(e,u)),null!=c&&(t.destroyHooks??(t.destroyHooks=[])).push(e,c)}}function Hf(t,n,e){fD(t,n,3,e)}function $f(t,n,e,i){(3&t[mt])===e&&fD(t,n,e,i)}function N_(t,n){let e=t[mt];(3&e)===n&&(e&=2047,e+=1,t[mt]=e)}function fD(t,n,e,i){const s=i??-1,o=n.length-1;let a=0;for(let l=void 0!==i?65535&t[xl]:0;l<o;l++)if("number"==typeof n[l+1]){if(a=n[l],null!=i&&a>=i)break}else n[l]<0&&(t[xl]+=65536),(a<s||-1==s)&&(gN(t,e,n,l),t[xl]=(4294901760&t[xl])+l+2),l++}function gN(t,n,e,i){const r=e[i]<0,s=e[i+1],a=t[r?-e[i]:e[i]];if(r){if(t[mt]>>11<t[xl]>>16&&(3&t[mt])===n){t[mt]+=2048,jr(4,a,s);try{s.call(a)}finally{jr(5,a,s)}}}else{jr(4,a,s);try{s.call(a)}finally{jr(5,a,s)}}}const Pl=-1;class wc{constructor(n,e,i){this.factory=n,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function P_(t,n,e){let i=0;for(;i<e.length;){const r=e[i];if("number"==typeof r){if(0!==r)break;i++;const s=e[i++],o=e[i++],a=e[i++];t.setAttribute(n,o,a,s)}else{const s=r,o=e[++i];pD(s)?t.setProperty(n,s,o):t.setAttribute(n,s,o),i++}}return i}function hD(t){return 3===t||4===t||6===t}function pD(t){return 64===t.charCodeAt(0)}function Cc(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let e=-1;for(let i=0;i<n.length;i++){const r=n[i];"number"==typeof r?e=r:0===e||mD(t,e,r,null,-1===e||2===e?n[++i]:null)}}return t}function mD(t,n,e,i,r){let s=0,o=t.length;if(-1===n)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===n){o=-1;break}if(a>n){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==r&&(t[s+1]=r));if(i===t[s+1])return void(t[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(t.splice(o,0,n),s=o+1),t.splice(s++,0,e),null!==i&&t.splice(s++,0,i),null!==r&&t.splice(s++,0,r)}function _D(t){return t!==Pl}function jf(t){return 32767&t}function Uf(t,n){let e=function wN(t){return t>>16}(t),i=n;for(;e>0;)i=i[Rl],e--;return i}let V_=!0;function Yf(t){const n=V_;return V_=t,n}const gD=255,yD=5;let CN=0;const Is={};function zf(t,n){const e=vD(t,n);if(-1!==e)return e;const i=n[Ce];i.firstCreatePass&&(t.injectorIndex=n.length,B_(i.data,t),B_(n,null),B_(i.blueprint,null));const r=H_(t,n),s=t.injectorIndex;if(_D(r)){const o=jf(r),a=Uf(r,n),l=a[Ce].data;for(let u=0;u<8;u++)n[s+u]=a[o+u]|l[o+u]}return n[s+8]=r,s}function B_(t,n){t.push(0,0,0,0,0,0,0,0,n)}function vD(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function H_(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let e=0,i=null,r=n;for(;null!==r;){if(i=MD(r),null===i)return Pl;if(e++,r=r[Rl],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return Pl}function $_(t,n,e){!function DN(t,n,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(mc)&&(i=e[mc]),null==i&&(i=e[mc]=CN++);const r=i&gD;n.data[t+(r>>yD)]|=1<<r}(t,n,e)}function bD(t,n,e){if(e&Je.Optional||void 0!==t)return t;kf()}function wD(t,n,e,i){if(e&Je.Optional&&void 0===i&&(i=null),!(e&(Je.Self|Je.Host))){const r=t[Rf],s=$r(void 0);try{return r?r.get(n,i,e&Je.Optional):NC(n,i,e&Je.Optional)}finally{$r(s)}}return bD(i,0,e)}function CD(t,n,e,i=Je.Default,r){if(null!==t){if(1024&n[mt]){const o=function EN(t,n,e,i,r){let s=t,o=n;for(;null!==s&&null!==o&&1024&o[mt]&&!(256&o[mt]);){const a=DD(s,o,e,i|Je.Self,Is);if(a!==Is)return a;let l=s.parent;if(!l){const u=o[UC];if(u){const c=u.get(e,Is,i);if(c!==Is)return c}l=MD(o),o=o[Rl]}s=l}return r}(t,n,e,i,Is);if(o!==Is)return o}const s=DD(t,n,e,i,Is);if(s!==Is)return s}return wD(n,e,i,r)}function DD(t,n,e,i,r){const s=function MN(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(mc)?t[mc]:void 0;return"number"==typeof n?n>=0?n&gD:SN:n}(e);if("function"==typeof s){if(!aD(n,t,i))return i&Je.Host?bD(r,0,i):wD(n,e,i,r);try{const o=s(i);if(null!=o||i&Je.Optional)return o;kf()}finally{dD()}}else if("number"==typeof s){let o=null,a=vD(t,n),l=Pl,u=i&Je.Host?n[Bi][Vi]:null;for((-1===a||i&Je.SkipSelf)&&(l=-1===a?H_(t,n):n[a+8],l!==Pl&&kD(i,!1)?(o=n[Ce],a=jf(l),n=Uf(l,n)):a=-1);-1!==a;){const c=n[Ce];if(TD(s,a,c.data)){const d=kN(a,n,e,o,i,u);if(d!==Is)return d}l=n[a+8],l!==Pl&&kD(i,n[Ce].data[a+8]===u)&&TD(s,a,n)?(o=c,a=jf(l),n=Uf(l,n)):a=-1}}return r}function kN(t,n,e,i,r,s){const o=n[Ce],a=o.data[t+8],c=qf(a,o,e,null==i?vc(a)&&V_:i!=o&&0!=(3&a.type),r&Je.Host&&s===a);return null!==c?Aa(n,o,c,a):Is}function qf(t,n,e,i,r){const s=t.providerIndexes,o=n.data,a=1048575&s,l=t.directiveStart,c=s>>20,f=r?a+c:t.directiveEnd;for(let h=i?a:a+c;h<f;h++){const p=o[h];if(h<l&&e===p||h>=l&&p.type===e)return h}if(r){const h=o[l];if(h&&hs(h)&&h.type===e)return l}return null}function Aa(t,n,e,i){let r=t[e];const s=n.data;if(function yN(t){return t instanceof wc}(r)){const o=r;o.resolving&&function vF(t,n){const e=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new U(-200,`Circular dependency in DI detected for ${t}${e}`)}(function Gt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ct(t)}(s[e]));const a=Yf(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?$r(o.injectImpl):null;aD(t,i,Je.Default);try{r=t[e]=o.factory(void 0,s,t,i),n.firstCreatePass&&e>=i.directiveStart&&function _N(t,n,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=n.type.prototype;if(i){const o=WC(n);(e.preOrderHooks??(e.preOrderHooks=[])).push(t,o),(e.preOrderCheckHooks??(e.preOrderCheckHooks=[])).push(t,o)}r&&(e.preOrderHooks??(e.preOrderHooks=[])).push(0-t,r),s&&((e.preOrderHooks??(e.preOrderHooks=[])).push(t,s),(e.preOrderCheckHooks??(e.preOrderCheckHooks=[])).push(t,s))}(e,s[e],n)}finally{null!==l&&$r(l),Yf(a),o.resolving=!1,dD()}}return r}function TD(t,n,e){return!!(e[n+(t>>yD)]&1<<t)}function kD(t,n){return!(t&Je.Self||t&Je.Host&&n)}class Vl{constructor(n,e){this._tNode=n,this._lView=e}get(n,e,i){return CD(this._tNode,this._lView,n,Of(i),e)}}function SN(){return new Vl(Mi(),J())}function lt(t){return lo(()=>{const n=t.prototype.constructor,e=n[co]||j_(n),i=Object.prototype;let r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){const s=r[co]||j_(r);if(s&&s!==e)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function j_(t){return m_(t)?()=>{const n=j_(Ke(t));return n&&n()}:Oa(t)}function MD(t){const n=t[Ce],e=n.type;return 2===e?n.declTNode:1===e?t[Vi]:null}const Hl="__parameters__";function jl(t,n,e){return lo(()=>{const i=function U_(t){return function(...e){if(t){const i=t(...e);for(const r in i)this[r]=i[r]}}}(n);function r(...s){if(this instanceof r)return i.apply(this,s),this;const o=new r(...s);return a.annotation=o,a;function a(l,u,c){const d=l.hasOwnProperty(Hl)?l[Hl]:Object.defineProperty(l,Hl,{value:[]})[Hl];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(o),l}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}class Pe{constructor(n,e){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=z({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ra(t,n){t.forEach(e=>Array.isArray(e)?Ra(e,n):n(e))}function ED(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function Gf(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function kc(t,n){const e=[];for(let i=0;i<t;i++)e.push(n);return e}function Tr(t,n,e){let i=Ul(t,n);return i>=0?t[1|i]=e:(i=~i,function RN(t,n,e,i){let r=t.length;if(r==n)t.push(e,i);else if(1===r)t.push(i,t[0]),t[0]=e;else{for(r--,t.push(t[r-1],t[r]);r>n;)t[r]=t[r-2],r--;t[n]=e,t[n+1]=i}}(t,i,n,e)),i}function z_(t,n){const e=Ul(t,n);if(e>=0)return t[1|e]}function Ul(t,n){return function OD(t,n,e){let i=0,r=t.length>>e;for(;r!==i;){const s=i+(r-i>>1),o=t[s<<e];if(n===o)return s<<e;o>n?r=s:i=s+1}return~(r<<e)}(t,n,1)}const Mc=pc(jl("Optional"),8),Sc=pc(jl("SkipSelf"),4);var ur=(()=>((ur=ur||{})[ur.Important=1]="Important",ur[ur.DashCase=2]="DashCase",ur))();const K_=new Map;let eL=0;const X_="__ngContext__";function $i(t,n){wr(n)?(t[X_]=n[yc],function nL(t){K_.set(t[yc],t)}(n)):t[X_]=n}let eg;function tg(t,n){return eg(t,n)}function Ac(t){const n=t[Bn];return fs(n)?n[Bn]:n}function ng(t){return ZD(t[_c])}function ig(t){return ZD(t[ds])}function ZD(t){for(;null!==t&&!fs(t);)t=t[ds];return t}function zl(t,n,e,i,r){if(null!=i){let s,o=!1;fs(i)?s=i:wr(i)&&(o=!0,i=i[fo]);const a=ki(i);0===t&&null!==e?null==r?t0(n,e,a):xa(n,e,a,r||null,!0):1===t&&null!==e?xa(n,e,a,r||null,!0):2===t?function cg(t,n,e){const i=Jf(t,n);i&&function CL(t,n,e,i){t.removeChild(n,e,i)}(t,i,n,e)}(n,a,o):3===t&&n.destroyNode(a),null!=s&&function kL(t,n,e,i,r){const s=e[Ff];s!==ki(e)&&zl(n,t,i,s,r);for(let a=er;a<e.length;a++){const l=e[a];Rc(l[Ce],l,t,n,i,s)}}(n,t,s,e,r)}}function sg(t,n,e){return t.createElement(n,e)}function KD(t,n){const e=t[Fl],i=e.indexOf(n),r=n[Bn];512&n[mt]&&(n[mt]&=-513,S_(r,-1)),e.splice(i,1)}function og(t,n){if(t.length<=er)return;const e=er+n,i=t[e];if(i){const r=i[gc];null!==r&&r!==t&&KD(r,i),n>0&&(t[e-1][ds]=i[ds]);const s=Gf(t,er+n);!function pL(t,n){Rc(t,n,n[vt],2,null,null),n[fo]=null,n[Vi]=null}(i[Ce],i);const o=s[Es];null!==o&&o.detachView(s[Ce]),i[Bn]=null,i[ds]=null,i[mt]&=-65}return i}function JD(t,n){if(!(128&n[mt])){const e=n[vt];e.destroyNode&&Rc(t,n,e,3,null,null),function gL(t){let n=t[_c];if(!n)return ag(t[Ce],t);for(;n;){let e=null;if(wr(n))e=n[_c];else{const i=n[er];i&&(e=i)}if(!e){for(;n&&!n[ds]&&n!==t;)wr(n)&&ag(n[Ce],n),n=n[Bn];null===n&&(n=t),wr(n)&&ag(n[Ce],n),e=n&&n[ds]}n=e}}(n)}}function ag(t,n){if(!(128&n[mt])){n[mt]&=-65,n[mt]|=128,function wL(t,n){let e;if(null!=t&&null!=(e=t.destroyHooks))for(let i=0;i<e.length;i+=2){const r=n[e[i]];if(!(r instanceof wc)){const s=e[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=r[s[o]],l=s[o+1];jr(4,a,l);try{l.call(a)}finally{jr(5,a,l)}}else{jr(4,r,s);try{s.call(r)}finally{jr(5,r,s)}}}}}(t,n),function bL(t,n){const e=t.cleanup,i=n[Al];let r=-1;if(null!==e)for(let s=0;s<e.length-1;s+=2)if("string"==typeof e[s]){const o=e[s+3];o>=0?i[r=o]():i[r=-o].unsubscribe(),s+=2}else{const o=i[r=e[s+1]];e[s].call(o)}if(null!==i){for(let s=r+1;s<i.length;s++)(0,i[s])();n[Al]=null}}(t,n),1===n[Ce].type&&n[vt].destroy();const e=n[gc];if(null!==e&&fs(n[Bn])){e!==n[Bn]&&KD(e,n);const i=n[Es];null!==i&&i.detachView(t)}!function iL(t){K_.delete(t[yc])}(n)}}function XD(t,n,e){return function e0(t,n,e){let i=n;for(;null!==i&&40&i.type;)i=(n=i).parent;if(null===i)return e[fo];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:s}=t.data[i.directiveStart+r];if(s===cs.None||s===cs.Emulated)return null}return Cr(i,e)}}(t,n.parent,e)}function xa(t,n,e,i,r){t.insertBefore(n,e,i,r)}function t0(t,n,e){t.appendChild(n,e)}function n0(t,n,e,i,r){null!==i?xa(t,n,e,i,r):t0(t,n,e)}function Jf(t,n){return t.parentNode(n)}function r0(t,n,e){return o0(t,n,e)}let lg,th,hg,nh,o0=function s0(t,n,e){return 40&t.type?Cr(t,e):null};function Xf(t,n,e,i){const r=XD(t,i,n),s=n[vt],a=r0(i.parent||n[Vi],i,n);if(null!=r)if(Array.isArray(e))for(let l=0;l<e.length;l++)n0(s,r,e[l],a,!1);else n0(s,r,e,a,!1);void 0!==lg&&lg(s,i,n,e,r)}function eh(t,n){if(null!==n){const e=n.type;if(3&e)return Cr(n,t);if(4&e)return ug(-1,t[n.index]);if(8&e){const i=n.child;if(null!==i)return eh(t,i);{const r=t[n.index];return fs(r)?ug(-1,r):ki(r)}}if(32&e)return tg(n,t)()||ki(t[n.index]);{const i=l0(t,n);return null!==i?Array.isArray(i)?i[0]:eh(Ac(t[Bi]),i):eh(t,n.next)}}return null}function l0(t,n){return null!==n?t[Bi][Vi].projection[n.projection]:null}function ug(t,n){const e=er+t+1;if(e<n.length){const i=n[e],r=i[Ce].firstChild;if(null!==r)return eh(i,r)}return n[Ff]}function dg(t,n,e,i,r,s,o){for(;null!=e;){const a=i[e.index],l=e.type;if(o&&0===n&&(a&&$i(ki(a),i),e.flags|=2),32!=(32&e.flags))if(8&l)dg(t,n,e.child,i,r,s,!1),zl(n,t,r,a,s);else if(32&l){const u=tg(e,i);let c;for(;c=u();)zl(n,t,r,c,s);zl(n,t,r,a,s)}else 16&l?u0(t,n,i,e,r,s):zl(n,t,r,a,s);e=o?e.projectionNext:e.next}}function Rc(t,n,e,i,r,s){dg(e,i,t.firstChild,n,r,s,!1)}function u0(t,n,e,i,r,s){const o=e[Bi],l=o[Vi].projection[i.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)zl(n,t,r,l[u],s);else dg(t,n,l,o[Bn],r,s,!0)}function c0(t,n,e){""===e?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e)}function d0(t,n,e){const{mergedAttrs:i,classes:r,styles:s}=e;null!==i&&P_(t,n,i),null!==r&&c0(t,n,r),null!==s&&function SL(t,n,e){t.setAttribute(n,"style",e)}(t,n,s)}function ql(t){return function fg(){if(void 0===th&&(th=null,yn.trustedTypes))try{th=yn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return th}()?.createHTML(t)||t}function m0(t){return function pg(){if(void 0===nh&&(nh=null,yn.trustedTypes))try{nh=yn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return nh}()?.createScriptURL(t)||t}class Fa{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Df})`}}class RL extends Fa{getTypeName(){return"HTML"}}class xL extends Fa{getTypeName(){return"Style"}}class FL extends Fa{getTypeName(){return"Script"}}class NL extends Fa{getTypeName(){return"URL"}}class LL extends Fa{getTypeName(){return"ResourceURL"}}function kr(t){return t instanceof Fa?t.changingThisBreaksApplicationSecurity:t}function As(t,n){const e=function PL(t){return t instanceof Fa&&t.getTypeName()||null}(t);if(null!=e&&e!==n){if("ResourceURL"===e&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${e} (see ${Df})`)}return e===n}class UL{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const e=(new window.DOMParser).parseFromString(ql(n),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(n):(e.removeChild(e.firstChild),e)}catch{return null}}}class YL{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const e=this.inertDocument.createElement("template");return e.innerHTML=ql(n),e}}const qL=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ih(t){return(t=String(t)).match(qL)?t:"unsafe:"+t}function mo(t){const n={};for(const e of t.split(","))n[e]=!0;return n}function xc(...t){const n={};for(const e of t)for(const i in e)e.hasOwnProperty(i)&&(n[i]=!0);return n}const g0=mo("area,br,col,hr,img,wbr"),y0=mo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),v0=mo("rp,rt"),mg=xc(g0,xc(y0,mo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),xc(v0,mo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),xc(v0,y0)),_g=mo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),b0=xc(_g,mo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),mo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),WL=mo("script,style,template");class GL{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let e=n.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(n){const e=n.nodeName.toLowerCase();if(!mg.hasOwnProperty(e))return this.sanitizedSomething=!0,!WL.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=n.attributes;for(let r=0;r<i.length;r++){const s=i.item(r),o=s.name,a=o.toLowerCase();if(!b0.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;_g[a]&&(l=ih(l)),this.buf.push(" ",o,'="',w0(l),'"')}return this.buf.push(">"),!0}endElement(n){const e=n.nodeName.toLowerCase();mg.hasOwnProperty(e)&&!g0.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(n){this.buf.push(w0(n))}checkClobberedElement(n,e){if(e&&(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return e}}const ZL=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,QL=/([^\#-~ |!])/g;function w0(t){return t.replace(/&/g,"&amp;").replace(ZL,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(QL,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let rh;function C0(t,n){let e=null;try{rh=rh||function _0(t){const n=new YL(t);return function zL(){try{return!!(new window.DOMParser).parseFromString(ql(""),"text/html")}catch{return!1}}()?new UL(n):n}(t);let i=n?String(n):"";e=rh.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=e.innerHTML,e=rh.getInertBodyElement(i)}while(i!==s);return ql((new GL).sanitizeChildren(gg(e)||e))}finally{if(e){const i=gg(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function gg(t){return"content"in t&&function KL(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var un=(()=>((un=un||{})[un.NONE=0]="NONE",un[un.HTML=1]="HTML",un[un.STYLE=2]="STYLE",un[un.SCRIPT=3]="SCRIPT",un[un.URL=4]="URL",un[un.RESOURCE_URL=5]="RESOURCE_URL",un))();function yg(t){const n=Fc();return n?n.sanitize(un.URL,t)||"":As(t,"URL")?kr(t):ih(ct(t))}function D0(t){const n=Fc();if(n)return m0(n.sanitize(un.RESOURCE_URL,t)||"");if(As(t,"ResourceURL"))return m0(kr(t));throw new U(904,!1)}function Fc(){const t=J();return t&&t[D_]}const sh=new Pe("ENVIRONMENT_INITIALIZER"),k0=new Pe("INJECTOR",-1),M0=new Pe("INJECTOR_DEF_TYPES");class S0{get(n,e=fc){if(e===fc){const i=new Error(`NullInjectorError: No provider for ${hn(n)}!`);throw i.name="NullInjectorError",i}return e}}function rP(...t){return{\u0275providers:E0(0,t),\u0275fromNgModule:!0}}function E0(t,...n){const e=[],i=new Set;let r;return Ra(n,s=>{const o=s;vg(o,e,[],i)&&(r||(r=[]),r.push(o))}),void 0!==r&&O0(r,e),e}function O0(t,n){for(let e=0;e<t.length;e++){const{providers:r}=t[e];bg(r,s=>{n.push(s)})}}function vg(t,n,e,i){if(!(t=Ke(t)))return!1;let r=null,s=xC(t);const o=!s&&Qt(t);if(s||o){if(o&&!o.standalone)return!1;r=t}else{const l=t.ngModule;if(s=xC(l),!s)return!1;r=l}const a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const u of l)vg(u,n,e,i)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let u;i.add(r);try{Ra(s.imports,c=>{vg(c,n,e,i)&&(u||(u=[]),u.push(c))})}finally{}void 0!==u&&O0(u,n)}if(!a){const u=Oa(r)||(()=>new r);n.push({provide:r,useFactory:u,deps:Yt},{provide:M0,useValue:r,multi:!0},{provide:sh,useValue:()=>X(r),multi:!0})}const l=s.providers;null==l||a||bg(l,c=>{n.push(c)})}}return r!==t&&void 0!==t.providers}function bg(t,n){for(let e of t)__(e)&&(e=e.\u0275providers),Array.isArray(e)?bg(e,n):n(e)}const sP=ln({provide:String,useValue:ln});function wg(t){return null!==t&&"object"==typeof t&&sP in t}function Na(t){return"function"==typeof t}const Cg=new Pe("Set Injector scope."),oh={},aP={};let Dg;function ah(){return void 0===Dg&&(Dg=new S0),Dg}class _o{}class R0 extends _o{get destroyed(){return this._destroyed}constructor(n,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,kg(n,o=>this.processProvider(o)),this.records.set(k0,Wl(void 0,this)),r.has("environment")&&this.records.set(_o,Wl(void 0,this));const s=this.records.get(Cg);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(M0.multi,Yt,Je.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();for(const n of this._onDestroyHooks)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(n){this._onDestroyHooks.push(n)}runInContext(n){this.assertNotDestroyed();const e=Ol(this),i=$r(void 0);try{return n()}finally{Ol(e),$r(i)}}get(n,e=fc,i=Je.Default){this.assertNotDestroyed(),i=Of(i);const r=Ol(this),s=$r(void 0);try{if(!(i&Je.SkipSelf)){let a=this.records.get(n);if(void 0===a){const l=function fP(t){return"function"==typeof t||"object"==typeof t&&t instanceof Pe}(n)&&Mf(n);a=l&&this.injectableDefInScope(l)?Wl(Tg(n),oh):null,this.records.set(n,a)}if(null!=a)return this.hydrate(n,a)}return(i&Je.Self?ah():this.parent).get(n,e=i&Je.Optional&&e===fc?null:e)}catch(o){if("NullInjectorError"===o.name){if((o[Ef]=o[Ef]||[]).unshift(hn(n)),r)throw o;return function FF(t,n,e,i){const r=t[Ef];throw n[LC]&&r.unshift(n[LC]),t.message=function NF(t,n,e,i=null){t=t&&"\n"===t.charAt(0)&&t.charAt(1)==AF?t.slice(2):t;let r=hn(n);if(Array.isArray(n))r=n.map(hn).join(" -> ");else if("object"==typeof n){let s=[];for(let o in n)if(n.hasOwnProperty(o)){let a=n[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):hn(a)))}r=`{${s.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${t.replace(IF,"\n  ")}`}("\n"+t.message,r,e,i),t[OF]=r,t[Ef]=null,t}(o,n,"R3InjectorError",this.source)}throw o}finally{$r(s),Ol(r)}}resolveInjectorInitializers(){const n=Ol(this),e=$r(void 0);try{const i=this.get(sh.multi,Yt,Je.Self);for(const r of i)r()}finally{Ol(n),$r(e)}}toString(){const n=[],e=this.records;for(const i of e.keys())n.push(hn(i));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new U(205,!1)}processProvider(n){let e=Na(n=Ke(n))?n:Ke(n&&n.provide);const i=function uP(t){return wg(t)?Wl(void 0,t.useValue):Wl(x0(t),oh)}(n);if(Na(n)||!0!==n.multi)this.records.get(e);else{let r=this.records.get(e);r||(r=Wl(void 0,oh,!0),r.factory=()=>b_(r.multi),this.records.set(e,r)),e=n,r.multi.push(n)}this.records.set(e,i)}hydrate(n,e){return e.value===oh&&(e.value=aP,e.value=e.factory()),"object"==typeof e.value&&e.value&&function dP(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(n){if(!n.providedIn)return!1;const e=Ke(n.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}}function Tg(t){const n=Mf(t),e=null!==n?n.factory:Oa(t);if(null!==e)return e;if(t instanceof Pe)throw new U(204,!1);if(t instanceof Function)return function lP(t){const n=t.length;if(n>0)throw kc(n,"?"),new U(204,!1);const e=function kF(t){const n=t&&(t[Sf]||t[FC]);return n?(function MF(t){if(t.hasOwnProperty("name"))return t.name;(""+t).match(/^function\s*([^\s(]+)/)}(t),n):null}(t);return null!==e?()=>e.factory(t):()=>new t}(t);throw new U(204,!1)}function x0(t,n,e){let i;if(Na(t)){const r=Ke(t);return Oa(r)||Tg(r)}if(wg(t))i=()=>Ke(t.useValue);else if(function A0(t){return!(!t||!t.useFactory)}(t))i=()=>t.useFactory(...b_(t.deps||[]));else if(function I0(t){return!(!t||!t.useExisting)}(t))i=()=>X(Ke(t.useExisting));else{const r=Ke(t&&(t.useClass||t.provide));if(!function cP(t){return!!t.deps}(t))return Oa(r)||Tg(r);i=()=>new r(...b_(t.deps))}return i}function Wl(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function kg(t,n){for(const e of t)Array.isArray(e)?kg(e,n):e&&__(e)?kg(e.\u0275providers,n):n(e)}class hP{}class F0{}class mP{resolveComponentFactory(n){throw function pP(t){const n=Error(`No component factory found for ${hn(t)}. Did you add it to @NgModule.entryComponents?`);return n.ngComponent=t,n}(n)}}let Gl=(()=>{class t{}return t.NULL=new mP,t})();function _P(){return Zl(Mi(),J())}function Zl(t,n){return new zt(Cr(t,n))}let zt=(()=>{class t{constructor(e){this.nativeElement=e}}return t.__NG_ELEMENT_ID__=_P,t})();function gP(t){return t instanceof zt?t.nativeElement:t}class La{}let kn=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function yP(){const t=J(),e=Dr(Mi().index,t);return(wr(e)?e:t)[vt]}(),t})(),vP=(()=>{class t{}return t.\u0275prov=z({token:t,providedIn:"root",factory:()=>null}),t})();class Nc{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const bP=new Nc("15.2.6"),Mg={},Sg="ngOriginalError";function Eg(t){return t[Sg]}class Pa{constructor(){this._console=console}handleError(n){const e=this._findOriginalError(n);this._console.error("ERROR",n),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(n){let e=n&&Eg(n);for(;e&&Eg(e);)e=Eg(e);return e||null}}function Og(t){return t.ownerDocument.defaultView}function go(t){return t instanceof Function?t():t}function P0(t,n,e){let i=t.length;for(;;){const r=t.indexOf(n,e);if(-1===r)return r;if(0===r||t.charCodeAt(r-1)<=32){const s=n.length;if(r+s===i||t.charCodeAt(r+s)<=32)return r}e=r+1}}const V0="ng-template";function IP(t,n,e){let i=0,r=!0;for(;i<t.length;){let s=t[i++];if("string"==typeof s&&r){const o=t[i++];if(e&&"class"===s&&-1!==P0(o.toLowerCase(),n,0))return!0}else{if(1===s){for(;i<t.length&&"string"==typeof(s=t[i++]);)if(s.toLowerCase()===n)return!0;return!1}"number"==typeof s&&(r=!1)}}return!1}function B0(t){return 4===t.type&&t.value!==V0}function AP(t,n,e){return n===(4!==t.type||e?t.value:V0)}function RP(t,n,e){let i=4;const r=t.attrs||[],s=function NP(t){for(let n=0;n<t.length;n++)if(hD(t[n]))return n;return t.length}(r);let o=!1;for(let a=0;a<n.length;a++){const l=n[a];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!AP(t,l,e)||""===l&&1===n.length){if(ps(i))return!1;o=!0}}else{const u=8&i?l:n[++a];if(8&i&&null!==t.attrs){if(!IP(t.attrs,u,e)){if(ps(i))return!1;o=!0}continue}const d=xP(8&i?"class":l,r,B0(t),e);if(-1===d){if(ps(i))return!1;o=!0;continue}if(""!==u){let f;f=d>s?"":r[d+1].toLowerCase();const h=8&i?f:null;if(h&&-1!==P0(h,u,0)||2&i&&u!==f){if(ps(i))return!1;o=!0}}}}else{if(!o&&!ps(i)&&!ps(l))return!1;if(o&&ps(l))continue;o=!1,i=l|1&i}}return ps(i)||o}function ps(t){return 0==(1&t)}function xP(t,n,e,i){if(null===n)return-1;let r=0;if(i||!e){let s=!1;for(;r<n.length;){const o=n[r];if(o===t)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=n[++r];for(;"string"==typeof a;)a=n[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function LP(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){const i=t[e];if("number"==typeof i)return-1;if(i===n)return e;e++}return-1}(n,t)}function H0(t,n,e=!1){for(let i=0;i<n.length;i++)if(RP(t,n[i],e))return!0;return!1}function PP(t,n){e:for(let e=0;e<n.length;e++){const i=n[e];if(t.length===i.length){for(let r=0;r<t.length;r++)if(t[r]!==i[r])continue e;return!0}}return!1}function $0(t,n){return t?":not("+n.trim()+")":n}function VP(t){let n=t[0],e=1,i=2,r="",s=!1;for(;e<t.length;){let o=t[e];if("string"==typeof o)if(2&i){const a=t[++e];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""!==r&&!ps(o)&&(n+=$0(s,r),r=""),i=o,s=s||!ps(i);e++}return""!==r&&(n+=$0(s,r)),n}const ft={};function m(t){j0(Nt(),J(),nr()+t,!1)}function j0(t,n,e,i){if(!i)if(3==(3&n[mt])){const s=t.preOrderCheckHooks;null!==s&&Hf(n,s,e)}else{const s=t.preOrderHooks;null!==s&&$f(n,s,0,e)}Ia(e)}function q0(t,n=null,e=null,i){const r=W0(t,n,e,i);return r.resolveInjectorInitializers(),r}function W0(t,n=null,e=null,i,r=new Set){const s=[e||Yt,rP(t)];return i=i||("object"==typeof t?void 0:hn(t)),new R0(s,n||ah(),i||null,r)}let dr=(()=>{class t{static create(e,i){if(Array.isArray(e))return q0({name:""},i,e,"");{const r=e.name??"";return q0({name:r},e.parent,e.providers,r)}}}return t.THROW_IF_NOT_FOUND=fc,t.NULL=new S0,t.\u0275prov=z({token:t,providedIn:"any",factory:()=>X(k0)}),t.__NG_ELEMENT_ID__=-1,t})();function D(t,n=Je.Default){const e=J();return null===e?X(t,n):CD(Mi(),e,Ke(t),n)}function tT(t,n){const e=t.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const s=e[i+1];if(-1!==s){const o=t.data[s];R_(e[i]),o.contentQueries(2,n[s],s)}}}function uh(t,n,e,i,r,s,o,a,l,u,c){const d=n.blueprint.slice();return d[fo]=r,d[mt]=76|i,(null!==c||t&&1024&t[mt])&&(d[mt]|=1024),XC(d),d[Bn]=d[Rl]=t,d[zn]=e,d[xf]=o||t&&t[xf],d[vt]=a||t&&t[vt],d[D_]=l||t&&t[D_]||null,d[Rf]=u||t&&t[Rf]||null,d[Vi]=s,d[yc]=function tL(){return eL++}(),d[UC]=c,d[Bi]=2==n.type?t[Bi]:d,d}function Jl(t,n,e,i,r){let s=t.data[n];if(null===s)s=function Fg(t,n,e,i,r){const s=nD(),o=E_(),l=t.data[n]=function d2(t,n,e,i,r,s){return{type:e,index:i,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,e,n,i,r);return null===t.firstChild&&(t.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(t,n,e,i,r),function sN(){return dt.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=e,s.value=i,s.attrs=r;const o=function bc(){const t=dt.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Os(s,!0),s}function Lc(t,n,e,i){if(0===e)return-1;const r=n.length;for(let s=0;s<e;s++)n.push(i),t.blueprint.push(i),t.data.push(null);return r}function Ng(t,n,e){x_(n);try{const i=t.viewQuery;null!==i&&zg(1,i,e);const r=t.template;null!==r&&nT(t,n,r,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&tT(t,n),t.staticViewQueries&&zg(2,t.viewQuery,e);const s=t.components;null!==s&&function l2(t,n){for(let e=0;e<n.length;e++)I2(t,n[e])}(n,s)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{n[mt]&=-5,F_()}}function ch(t,n,e,i){const r=n[mt];if(128!=(128&r)){x_(n);try{XC(n),function rD(t){return dt.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==e&&nT(t,n,e,2,i);const o=3==(3&r);if(o){const u=t.preOrderCheckHooks;null!==u&&Hf(n,u,null)}else{const u=t.preOrderHooks;null!==u&&$f(n,u,0,null),N_(n,0)}if(function E2(t){for(let n=ng(t);null!==n;n=ig(n)){if(!n[YC])continue;const e=n[Fl];for(let i=0;i<e.length;i++){const r=e[i];512&r[mt]||S_(r[Bn],1),r[mt]|=512}}}(n),function S2(t){for(let n=ng(t);null!==n;n=ig(n))for(let e=er;e<n.length;e++){const i=n[e],r=i[Ce];Vf(i)&&ch(r,i,r.template,i[zn])}}(n),null!==t.contentQueries&&tT(t,n),o){const u=t.contentCheckHooks;null!==u&&Hf(n,u)}else{const u=t.contentHooks;null!==u&&$f(n,u,1),N_(n,1)}!function o2(t,n){const e=t.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const r=e[i];if(r<0)Ia(~r);else{const s=r,o=e[++i],a=e[++i];oN(o,s),a(2,n[s])}}}finally{Ia(-1)}}(t,n);const a=t.components;null!==a&&function a2(t,n){for(let e=0;e<n.length;e++)O2(t,n[e])}(n,a);const l=t.viewQuery;if(null!==l&&zg(2,l,i),o){const u=t.viewCheckHooks;null!==u&&Hf(n,u)}else{const u=t.viewHooks;null!==u&&$f(n,u,2),N_(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[mt]&=-41,512&n[mt]&&(n[mt]&=-513,S_(n[Bn],-1))}finally{F_()}}}function nT(t,n,e,i,r){const s=nr(),o=2&i;try{Ia(-1),o&&n.length>vn&&j0(t,n,vn,!1),jr(o?2:0,r),e(i,r)}finally{Ia(s),jr(o?3:1,r)}}function Lg(t,n,e){if(k_(n)){const r=n.directiveEnd;for(let s=n.directiveStart;s<r;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,e[s],s)}}}function Pg(t,n,e){tD()&&(function g2(t,n,e,i){const r=e.directiveStart,s=e.directiveEnd;vc(e)&&function T2(t,n,e){const i=Cr(n,t),r=iT(e),s=t[xf],o=dh(t,uh(t,r,null,e.onPush?32:16,i,n,s,s.createRenderer(i,e),null,null,null));t[n.index]=o}(n,e,t.data[r+e.componentOffset]),t.firstCreatePass||zf(e,n),$i(i,n);const o=e.initialInputs;for(let a=r;a<s;a++){const l=t.data[a],u=Aa(n,t,a,e);$i(u,n),null!==o&&k2(0,a-r,u,l,0,o),hs(l)&&(Dr(e.index,n)[zn]=Aa(n,t,a,e))}}(t,n,e,Cr(e,n)),64==(64&e.flags)&&uT(t,n,e))}function Vg(t,n,e=Cr){const i=n.localNames;if(null!==i){let r=n.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?e(n,t):t[o];t[r++]=a}}}function iT(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Bg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):n}function Bg(t,n,e,i,r,s,o,a,l,u){const c=vn+i,d=c+r,f=function u2(t,n){const e=[];for(let i=0;i<n;i++)e.push(i<t?null:ft);return e}(c,d),h="function"==typeof u?u():u;return f[Ce]={type:t,blueprint:f,template:e,queries:null,viewQuery:a,declTNode:n,data:f.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:h,incompleteFirstPass:!1}}function rT(t,n,e,i){const r=dT(n);null===e?r.push(i):(r.push(e),t.firstCreatePass&&fT(t).push(i,r.length-1))}function sT(t,n,e,i){for(let r in t)if(t.hasOwnProperty(r)){e=null===e?{}:e;const s=t[r];null===i?oT(e,n,r,s):i.hasOwnProperty(r)&&oT(e,n,i[r],s)}return e}function oT(t,n,e,i){t.hasOwnProperty(e)?t[e].push(n,i):t[e]=[n,i]}function Mr(t,n,e,i,r,s,o,a){const l=Cr(n,e);let c,u=n.inputs;!a&&null!=u&&(c=u[i])?(qg(t,e,c,i,r),vc(n)&&aT(e,n.index)):3&n.type&&(i=function h2(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(i),r=null!=o?o(r,n.value||"",i):r,s.setProperty(l,i,r))}function aT(t,n){const e=Dr(n,t);16&e[mt]||(e[mt]|=32)}function Hg(t,n,e,i){if(tD()){const r=null===i?null:{"":-1},s=function v2(t,n){const e=t.directiveRegistry;let i=null,r=null;if(e)for(let s=0;s<e.length;s++){const o=e[s];if(H0(n,o.selectors,!1))if(i||(i=[]),hs(o))if(null!==o.findHostDirectiveDefs){const a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o),$g(t,n,a.length)}else i.unshift(o),$g(t,n,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return null===i?null:[i,r]}(t,e);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&lT(t,n,e,o,r,a),r&&function b2(t,n,e){if(n){const i=t.localNames=[];for(let r=0;r<n.length;r+=2){const s=e[n[r+1]];if(null==s)throw new U(-301,!1);i.push(n[r],s)}}}(e,i,r)}e.mergedAttrs=Cc(e.mergedAttrs,e.attrs)}function lT(t,n,e,i,r,s){for(let u=0;u<i.length;u++)$_(zf(e,n),t,i[u].type);!function C2(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}(e,t.data.length,i.length);for(let u=0;u<i.length;u++){const c=i[u];c.providersResolver&&c.providersResolver(c)}let o=!1,a=!1,l=Lc(t,n,i.length,null);for(let u=0;u<i.length;u++){const c=i[u];e.mergedAttrs=Cc(e.mergedAttrs,c.hostAttrs),D2(t,e,n,l,c),w2(l,c,r),null!==c.contentQueries&&(e.flags|=4),(null!==c.hostBindings||null!==c.hostAttrs||0!==c.hostVars)&&(e.flags|=64);const d=c.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??(t.preOrderHooks=[])).push(e.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(e.index),a=!0),l++}!function f2(t,n,e){const r=n.directiveEnd,s=t.data,o=n.attrs,a=[];let l=null,u=null;for(let c=n.directiveStart;c<r;c++){const d=s[c],f=e?e.get(d):null,p=f?f.outputs:null;l=sT(d.inputs,c,l,f?f.inputs:null),u=sT(d.outputs,c,u,p);const v=null===l||null===o||B0(n)?null:M2(l,c,o);a.push(v)}null!==l&&(l.hasOwnProperty("class")&&(n.flags|=8),l.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=a,n.inputs=l,n.outputs=u}(t,e,s)}function uT(t,n,e){const i=e.directiveStart,r=e.directiveEnd,s=e.index,o=function aN(){return dt.lFrame.currentDirectiveIndex}();try{Ia(s);for(let a=i;a<r;a++){const l=t.data[a],u=n[a];I_(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&y2(l,u)}}finally{Ia(-1),I_(o)}}function y2(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function $g(t,n,e){n.componentOffset=e,(t.components??(t.components=[])).push(n.index)}function w2(t,n,e){if(e){if(n.exportAs)for(let i=0;i<n.exportAs.length;i++)e[n.exportAs[i]]=t;hs(n)&&(e[""]=t)}}function D2(t,n,e,i,r){t.data[i]=r;const s=r.factory||(r.factory=Oa(r.type)),o=new wc(s,hs(r),D);t.blueprint[i]=o,e[i]=o,function m2(t,n,e,i,r){const s=r.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~n.index;(function _2(t){let n=t.length;for(;n>0;){const e=t[--n];if("number"==typeof e&&e<0)return e}return 0})(o)!=a&&o.push(a),o.push(e,i,s)}}(t,n,i,Lc(t,e,r.hostVars,ft),r)}function Rs(t,n,e,i,r,s){const o=Cr(t,n);!function jg(t,n,e,i,r,s,o){if(null==s)t.removeAttribute(n,r,e);else{const a=null==o?ct(s):o(s,i||"",r);t.setAttribute(n,r,a,e)}}(n[vt],o,s,t.value,e,i,r)}function k2(t,n,e,i,r,s){const o=s[n];if(null!==o){const a=i.setInput;for(let l=0;l<o.length;){const u=o[l++],c=o[l++],d=o[l++];null!==a?i.setInput(e,d,u,c):e[c]=d}}}function M2(t,n,e){let i=null,r=0;for(;r<e.length;){const s=e[r];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===i&&(i=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===n){i.push(s,o[a+1],e[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function cT(t,n,e,i){return[t,!0,!1,n,null,0,i,e,null,null]}function O2(t,n){const e=Dr(n,t);if(Vf(e)){const i=e[Ce];48&e[mt]?ch(i,e,i.template,e[zn]):e[Ea]>0&&Ug(e)}}function Ug(t){for(let i=ng(t);null!==i;i=ig(i))for(let r=er;r<i.length;r++){const s=i[r];if(Vf(s))if(512&s[mt]){const o=s[Ce];ch(o,s,o.template,s[zn])}else s[Ea]>0&&Ug(s)}const e=t[Ce].components;if(null!==e)for(let i=0;i<e.length;i++){const r=Dr(e[i],t);Vf(r)&&r[Ea]>0&&Ug(r)}}function I2(t,n){const e=Dr(n,t),i=e[Ce];(function A2(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])})(i,e),Ng(i,e,e[zn])}function dh(t,n){return t[_c]?t[jC][ds]=n:t[_c]=n,t[jC]=n,n}function Yg(t){for(;t;){t[mt]|=32;const n=Ac(t);if($F(t)&&!n)return t;t=n}return null}function fh(t,n,e,i=!0){const r=n[xf];r.begin&&r.begin();try{ch(t,n,t.template,e)}catch(o){throw i&&pT(n,o),o}finally{r.end&&r.end()}}function zg(t,n,e){R_(0),n(t,e)}function dT(t){return t[Al]||(t[Al]=[])}function fT(t){return t.cleanup||(t.cleanup=[])}function pT(t,n){const e=t[Rf],i=e?e.get(Pa,null):null;i&&i.handleError(n)}function qg(t,n,e,i,r){for(let s=0;s<e.length;){const o=e[s++],a=e[s++],l=n[o],u=t.data[o];null!==u.setInput?u.setInput(l,r,i,a):l[a]=r}}function yo(t,n,e){const i=Pf(n,t);!function QD(t,n,e){t.setValue(n,e)}(t[vt],i,e)}function hh(t,n,e){let i=e?t.styles:null,r=e?t.classes:null,s=0;if(null!==n)for(let o=0;o<n.length;o++){const a=n[o];"number"==typeof a?s=a:1==s?r=p_(r,a):2==s&&(i=p_(i,a+": "+n[++o]+";"))}e?t.styles=i:t.stylesWithoutHost=i,e?t.classes=r:t.classesWithoutHost=r}function ph(t,n,e,i,r=!1){for(;null!==e;){const s=n[e.index];if(null!==s&&i.push(ki(s)),fs(s))for(let a=er;a<s.length;a++){const l=s[a],u=l[Ce].firstChild;null!==u&&ph(l[Ce],l,u,i)}const o=e.type;if(8&o)ph(t,n,e.child,i);else if(32&o){const a=tg(e,n);let l;for(;l=a();)i.push(l)}else if(16&o){const a=l0(n,e);if(Array.isArray(a))i.push(...a);else{const l=Ac(n[Bi]);ph(l[Ce],l,a,i,!0)}}e=r?e.projectionNext:e.next}return i}class Pc{get rootNodes(){const n=this._lView,e=n[Ce];return ph(e,n,e.firstChild,[])}constructor(n,e){this._lView=n,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[zn]}set context(n){this._lView[zn]=n}get destroyed(){return 128==(128&this._lView[mt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Bn];if(fs(n)){const e=n[Nf],i=e?e.indexOf(this):-1;i>-1&&(og(n,i),Gf(e,i))}this._attachedToViewContainer=!1}JD(this._lView[Ce],this._lView)}onDestroy(n){rT(this._lView[Ce],this._lView,null,n)}markForCheck(){Yg(this._cdRefInjectingView||this._lView)}detach(){this._lView[mt]&=-65}reattach(){this._lView[mt]|=64}detectChanges(){fh(this._lView[Ce],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new U(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function _L(t,n){Rc(t,n,n[vt],2,null,null)}(this._lView[Ce],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new U(902,!1);this._appRef=n}}class R2 extends Pc{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;fh(n[Ce],n,n[zn],!1)}checkNoChanges(){}get context(){return null}}class mT extends Gl{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const e=Qt(n);return new Vc(e,this.ngModule)}}function _T(t){const n=[];for(let e in t)t.hasOwnProperty(e)&&n.push({propName:t[e],templateName:e});return n}class F2{constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,i){i=Of(i);const r=this.injector.get(n,Mg,i);return r!==Mg||e===Mg?r:this.parentInjector.get(n,e,i)}}class Vc extends F0{get inputs(){return _T(this.componentDef.inputs)}get outputs(){return _T(this.componentDef.outputs)}constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=function BP(t){return t.map(VP).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}create(n,e,i,r){let s=(r=r||this.ngModule)instanceof _o?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new F2(n,s):n,a=o.get(La,null);if(null===a)throw new U(407,!1);const l=o.get(vP,null),u=a.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",d=i?function c2(t,n,e){return t.selectRootElement(n,e===cs.ShadowDom)}(u,i,this.componentDef.encapsulation):sg(u,c,function x2(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(c)),f=this.componentDef.onPush?288:272,h=Bg(0,null,null,1,0,null,null,null,null,null),p=uh(null,h,null,f,null,null,a,u,l,o,null);let v,M;x_(p);try{const I=this.componentDef;let q,P=null;I.findHostDirectiveDefs?(q=[],P=new Map,I.findHostDirectiveDefs(I,q,P),q.push(I)):q=[I];const oe=function L2(t,n){const e=t[Ce],i=vn;return t[i]=n,Jl(e,i,2,"#host",null)}(p,d),tt=function P2(t,n,e,i,r,s,o,a){const l=r[Ce];!function V2(t,n,e,i){for(const r of t)n.mergedAttrs=Cc(n.mergedAttrs,r.hostAttrs);null!==n.mergedAttrs&&(hh(n,n.mergedAttrs,!0),null!==e&&d0(i,e,n))}(i,t,n,o);const u=s.createRenderer(n,e),c=uh(r,iT(e),null,e.onPush?32:16,r[t.index],t,s,u,a||null,null,null);return l.firstCreatePass&&$g(l,t,i.length-1),dh(r,c),r[t.index]=c}(oe,d,I,q,p,a,u);M=JC(h,vn),d&&function H2(t,n,e,i){if(i)P_(t,e,["ng-version",bP.full]);else{const{attrs:r,classes:s}=function HP(t){const n=[],e=[];let i=1,r=2;for(;i<t.length;){let s=t[i];if("string"==typeof s)2===r?""!==s&&n.push(s,t[++i]):8===r&&e.push(s);else{if(!ps(r))break;r=s}i++}return{attrs:n,classes:e}}(n.selectors[0]);r&&P_(t,e,r),s&&s.length>0&&c0(t,e,s.join(" "))}}(u,I,d,i),void 0!==e&&function $2(t,n,e){const i=t.projection=[];for(let r=0;r<n.length;r++){const s=e[r];i.push(null!=s?Array.from(s):null)}}(M,this.ngContentSelectors,e),v=function B2(t,n,e,i,r,s){const o=Mi(),a=r[Ce],l=Cr(o,r);lT(a,r,o,e,null,i);for(let c=0;c<e.length;c++)$i(Aa(r,a,o.directiveStart+c,o),r);uT(a,r,o),l&&$i(l,r);const u=Aa(r,a,o.directiveStart+o.componentOffset,o);if(t[zn]=r[zn]=u,null!==s)for(const c of s)c(u,n);return Lg(a,o,t),u}(tt,I,q,P,p,[j2]),Ng(h,p,null)}finally{F_()}return new N2(this.componentType,v,Zl(M,p),p,M)}}class N2 extends hP{constructor(n,e,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.instance=e,this.hostView=this.changeDetectorRef=new R2(r),this.componentType=n}setInput(n,e){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[n])){const s=this._rootLView;qg(s[Ce],s,r,n,e),aT(s,this._tNode.index)}}get injector(){return new Vl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function j2(){const t=Mi();Bf(J()[Ce],t)}function _t(t){let n=function gT(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),e=!0;const i=[t];for(;n;){let r;if(hs(t))r=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new U(903,!1);r=n.\u0275dir}if(r){if(e){i.push(r);const o=t;o.inputs=Wg(t.inputs),o.declaredInputs=Wg(t.declaredInputs),o.outputs=Wg(t.outputs);const a=r.hostBindings;a&&q2(t,a);const l=r.viewQuery,u=r.contentQueries;if(l&&Y2(t,l),u&&z2(t,u),h_(t.inputs,r.inputs),h_(t.declaredInputs,r.declaredInputs),h_(t.outputs,r.outputs),hs(r)&&r.data.animation){const c=t.data;c.animation=(c.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===_t&&(e=!1)}}n=Object.getPrototypeOf(n)}!function U2(t){let n=0,e=null;for(let i=t.length-1;i>=0;i--){const r=t[i];r.hostVars=n+=r.hostVars,r.hostAttrs=Cc(r.hostAttrs,e=Cc(e,r.hostAttrs))}}(i)}function Wg(t){return t===uo?{}:t===Yt?[]:t}function Y2(t,n){const e=t.viewQuery;t.viewQuery=e?(i,r)=>{n(i,r),e(i,r)}:n}function z2(t,n){const e=t.contentQueries;t.contentQueries=e?(i,r,s)=>{n(i,r,s),e(i,r,s)}:n}function q2(t,n){const e=t.hostBindings;t.hostBindings=e?(i,r)=>{n(i,r),e(i,r)}:n}function mh(t){return!!Gg(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Gg(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function xs(t,n,e){return t[n]=e}function ji(t,n,e){return!Object.is(t[n],e)&&(t[n]=e,!0)}function qn(t,n,e,i){const r=J();return ji(r,Ll(),n)&&(Nt(),Rs(In(),r,t,n,e,i)),qn}function eu(t,n,e,i){return ji(t,Ll(),e)?n+ct(e)+i:ft}function tu(t,n,e,i,r,s){const a=function Va(t,n,e,i){const r=ji(t,n,e);return ji(t,n+1,i)||r}(t,function ho(){return dt.lFrame.bindingIndex}(),e,r);return po(2),a?n+ct(e)+i+ct(r)+s:ft}function V(t,n,e,i,r,s,o,a){const l=J(),u=Nt(),c=t+vn,d=u.firstCreatePass?function nV(t,n,e,i,r,s,o,a,l){const u=n.consts,c=Jl(n,t,4,o||null,Jo(u,a));Hg(n,e,c,Jo(u,l)),Bf(n,c);const d=c.tView=Bg(2,c,i,r,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,u);return null!==n.queries&&(n.queries.template(n,c),d.queries=n.queries.embeddedTView(c)),c}(c,u,l,n,e,i,r,s,o):u.data[c];Os(d,!1);const f=l[vt].createComment("");Xf(u,l,f,d),$i(f,l),dh(l,l[c]=cT(f,l,f,d)),Lf(d)&&Pg(u,l,d),null!=o&&Vg(l,d,a)}function Fs(t){return Nl(function rN(){return dt.lFrame.contextLView}(),vn+t)}function y(t,n,e){const i=J();return ji(i,Ll(),n)&&Mr(Nt(),In(),i,t,n,i[vt],e,!1),y}function Zg(t,n,e,i,r){const o=r?"class":"style";qg(t,e,n.inputs[o],o,i)}function _(t,n,e,i){const r=J(),s=Nt(),o=vn+t,a=r[vt],l=s.firstCreatePass?function rV(t,n,e,i,r,s){const o=n.consts,l=Jl(n,t,2,i,Jo(o,r));return Hg(n,e,l,Jo(o,s)),null!==l.attrs&&hh(l,l.attrs,!1),null!==l.mergedAttrs&&hh(l,l.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,l),l}(o,s,r,n,e,i):s.data[o],u=r[o]=sg(a,n,function mN(){return dt.lFrame.currentNamespace}()),c=Lf(l);return Os(l,!0),d0(a,u,l),32!=(32&l.flags)&&Xf(s,r,u,l),0===function XF(){return dt.lFrame.elementDepthCount}()&&$i(u,r),function eN(){dt.lFrame.elementDepthCount++}(),c&&(Pg(s,r,l),Lg(s,l,r)),null!==i&&Vg(r,l),_}function g(){let t=Mi();E_()?O_():(t=t.parent,Os(t,!1));const n=t;!function tN(){dt.lFrame.elementDepthCount--}();const e=Nt();return e.firstCreatePass&&(Bf(e,t),k_(t)&&e.queries.elementEnd(t)),null!=n.classesWithoutHost&&function vN(t){return 0!=(8&t.flags)}(n)&&Zg(e,n,J(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function bN(t){return 0!=(16&t.flags)}(n)&&Zg(e,n,J(),n.stylesWithoutHost,!1),g}function Se(t,n,e,i){return _(t,n,e,i),g(),Se}function Hn(t,n,e){const i=J(),r=Nt(),s=t+vn,o=r.firstCreatePass?function sV(t,n,e,i,r){const s=n.consts,o=Jo(s,i),a=Jl(n,t,8,"ng-container",o);return null!==o&&hh(a,o,!0),Hg(n,e,a,Jo(s,r)),null!==n.queries&&n.queries.elementStart(n,a),a}(s,r,i,n,e):r.data[s];Os(o,!0);const a=i[s]=i[vt].createComment("");return Xf(r,i,a,o),$i(a,i),Lf(o)&&(Pg(r,i,o),Lg(r,o,i)),null!=e&&Vg(i,o),Hn}function $n(){let t=Mi();const n=Nt();return E_()?O_():(t=t.parent,Os(t,!1)),n.firstCreatePass&&(Bf(n,t),k_(t)&&n.queries.elementEnd(t)),$n}function Fe(){return J()}function Hc(t){return!!t&&"function"==typeof t.then}function AT(t){return!!t&&"function"==typeof t.subscribe}const Qg=AT;function F(t,n,e,i){const r=J(),s=Nt(),o=Mi();return function xT(t,n,e,i,r,s,o){const a=Lf(i),u=t.firstCreatePass&&fT(t),c=n[zn],d=dT(n);let f=!0;if(3&i.type||o){const v=Cr(i,n),M=o?o(v):v,I=d.length,q=o?oe=>o(ki(oe[i.index])):i.index;let P=null;if(!o&&a&&(P=function oV(t,n,e,i){const r=t.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===e&&r[s+1]===i){const a=n[Al],l=r[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(t,n,r,i.index)),null!==P)(P.__ngLastListenerFn__||P).__ngNextListenerFn__=s,P.__ngLastListenerFn__=s,f=!1;else{s=NT(i,n,c,s,!1);const oe=e.listen(M,r,s);d.push(s,oe),u&&u.push(r,q,I,I+1)}}else s=NT(i,n,c,s,!1);const h=i.outputs;let p;if(f&&null!==h&&(p=h[r])){const v=p.length;if(v)for(let M=0;M<v;M+=2){const tt=n[p[M]][p[M+1]].subscribe(s),rt=d.length;d.push(s,tt),u&&u.push(r,i.index,rt,-(rt+1))}}}(s,r,r[vt],o,t,n,i),F}function FT(t,n,e,i){try{return jr(6,n,e),!1!==e(i)}catch(r){return pT(t,r),!1}finally{jr(7,n,e)}}function NT(t,n,e,i,r){return function s(o){if(o===Function)return i;Yg(t.componentOffset>-1?Dr(t.index,n):n);let l=FT(n,e,i,o),u=s.__ngNextListenerFn__;for(;u;)l=FT(n,e,u,o)&&l,u=u.__ngNextListenerFn__;return r&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function w(t=1){return function uN(t){return(dt.lFrame.contextLView=function cN(t,n){for(;t>0;)n=n[Rl],t--;return n}(t,dt.lFrame.contextLView))[zn]}(t)}function aV(t,n){let e=null;const i=function FP(t){const n=t.attrs;if(null!=n){const e=n.indexOf(5);if(!(1&e))return n[e+1]}return null}(t);for(let r=0;r<n.length;r++){const s=n[r];if("*"!==s){if(null===i?H0(t,s,!0):PP(i,s))return r}else e=r}return e}function $c(t){const n=J()[Bi][Vi];if(!n.projection){const i=n.projection=kc(t?t.length:1,null),r=i.slice();let s=n.child;for(;null!==s;){const o=t?aV(s,t):0;null!==o&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s),s=s.next}}}function lu(t,n=0,e){const i=J(),r=Nt(),s=Jl(r,vn+t,16,null,e||null);null===s.projection&&(s.projection=n),O_(),32!=(32&s.flags)&&function TL(t,n,e){u0(n[vt],0,n,e,XD(t,e,n),r0(e.parent||n[Vi],e,n))}(r,i,s)}function gh(t,n,e){return Kg(t,"",n,"",e),gh}function Kg(t,n,e,i,r){const s=J(),o=eu(s,n,e,i);return o!==ft&&Mr(Nt(),In(),s,t,o,s[vt],r,!1),Kg}function yh(t,n){return t<<17|n<<2}function Xo(t){return t>>17&32767}function Jg(t){return 2|t}function Ba(t){return(131068&t)>>2}function Xg(t,n){return-131069&t|n<<2}function ey(t){return 1|t}function YT(t,n,e,i,r){const s=t[e+1],o=null===n;let a=i?Xo(s):Ba(s),l=!1;for(;0!==a&&(!1===l||o);){const c=t[a+1];hV(t[a],n)&&(l=!0,t[a+1]=i?ey(c):Jg(c)),a=i?Xo(c):Ba(c)}l&&(t[e+1]=i?Jg(s):ey(s))}function hV(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Ul(t,n)>=0}const ui={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function zT(t){return t.substring(ui.key,ui.keyEnd)}function qT(t,n){const e=ui.textEnd;return e===n?-1:(n=ui.keyEnd=function gV(t,n,e){for(;n<e&&t.charCodeAt(n)>32;)n++;return n}(t,ui.key=n,e),uu(t,n,e))}function uu(t,n,e){for(;n<e&&t.charCodeAt(n)<=32;)n++;return n}function vo(t,n,e){return ms(t,n,e,!1),vo}function st(t,n){return ms(t,n,null,!0),st}function ty(t){!function _s(t,n,e,i){const r=Nt(),s=po(2);r.firstUpdatePass&&JT(r,null,s,i);const o=J();if(e!==ft&&ji(o,s,e)){const a=r.data[nr()];if(nk(a,i)&&!KT(r,s)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(e=p_(l,e||"")),Zg(r,a,o,e,i)}else!function MV(t,n,e,i,r,s,o,a){r===ft&&(r=Yt);let l=0,u=0,c=0<r.length?r[0]:null,d=0<s.length?s[0]:null;for(;null!==c||null!==d;){const f=l<r.length?r[l+1]:void 0,h=u<s.length?s[u+1]:void 0;let v,p=null;c===d?(l+=2,u+=2,f!==h&&(p=d,v=h)):null===d||null!==c&&c<d?(l+=2,p=c):(u+=2,p=d,v=h),null!==p&&ek(t,n,e,i,p,v,o,a),c=l<r.length?r[l]:null,d=u<s.length?s[u]:null}}(r,a,o,o[vt],o[s+1],o[s+1]=function kV(t,n,e){if(null==e||""===e)return Yt;const i=[],r=kr(e);if(Array.isArray(r))for(let s=0;s<r.length;s++)t(i,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&t(i,s,r[s]);else"string"==typeof r&&n(i,r);return i}(t,n,e),i,s)}}(Tr,Ls,t,!0)}function Ls(t,n){for(let e=function mV(t){return function GT(t){ui.key=0,ui.keyEnd=0,ui.value=0,ui.valueEnd=0,ui.textEnd=t.length}(t),qT(t,uu(t,0,ui.textEnd))}(n);e>=0;e=qT(n,e))Tr(t,zT(n),!0)}function ms(t,n,e,i){const r=J(),s=Nt(),o=po(2);s.firstUpdatePass&&JT(s,t,o,i),n!==ft&&ji(r,o,n)&&ek(s,s.data[nr()],r,r[vt],t,r[o+1]=function SV(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=hn(kr(t)))),t}(n,e),i,o)}function KT(t,n){return n>=t.expandoStartIndex}function JT(t,n,e,i){const r=t.data;if(null===r[e+1]){const s=r[nr()],o=KT(t,e);nk(s,i)&&null===n&&!o&&(n=!1),n=function wV(t,n,e,i){const r=function A_(t){const n=dt.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let s=i?n.residualClasses:n.residualStyles;if(null===r)0===(i?n.classBindings:n.styleBindings)&&(e=jc(e=ny(null,t,n,e,i),n.attrs,i),s=null);else{const o=n.directiveStylingLast;if(-1===o||t[o]!==r)if(e=ny(r,t,n,e,i),null===s){let l=function CV(t,n,e){const i=e?n.classBindings:n.styleBindings;if(0!==Ba(i))return t[Xo(i)]}(t,n,i);void 0!==l&&Array.isArray(l)&&(l=ny(null,t,n,l[1],i),l=jc(l,n.attrs,i),function DV(t,n,e,i){t[Xo(e?n.classBindings:n.styleBindings)]=i}(t,n,i,l))}else s=function TV(t,n,e){let i;const r=n.directiveEnd;for(let s=1+n.directiveStylingLast;s<r;s++)i=jc(i,t[s].hostAttrs,e);return jc(i,n.attrs,e)}(t,n,i)}return void 0!==s&&(i?n.residualClasses=s:n.residualStyles=s),e}(r,s,n,i),function dV(t,n,e,i,r,s){let o=s?n.classBindings:n.styleBindings,a=Xo(o),l=Ba(o);t[i]=e;let c,u=!1;if(Array.isArray(e)?(c=e[1],(null===c||Ul(e,c)>0)&&(u=!0)):c=e,r)if(0!==l){const f=Xo(t[a+1]);t[i+1]=yh(f,a),0!==f&&(t[f+1]=Xg(t[f+1],i)),t[a+1]=function uV(t,n){return 131071&t|n<<17}(t[a+1],i)}else t[i+1]=yh(a,0),0!==a&&(t[a+1]=Xg(t[a+1],i)),a=i;else t[i+1]=yh(l,0),0===a?a=i:t[l+1]=Xg(t[l+1],i),l=i;u&&(t[i+1]=Jg(t[i+1])),YT(t,c,i,!0),YT(t,c,i,!1),function fV(t,n,e,i,r){const s=r?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof n&&Ul(s,n)>=0&&(e[i+1]=ey(e[i+1]))}(n,c,t,i,s),o=yh(a,l),s?n.classBindings=o:n.styleBindings=o}(r,s,n,e,o,i)}}function ny(t,n,e,i,r){let s=null;const o=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<o&&(s=n[a],i=jc(i,s.hostAttrs,r),s!==t);)a++;return null!==t&&(e.directiveStylingLast=a),i}function jc(t,n,e){const i=e?1:2;let r=-1;if(null!==n)for(let s=0;s<n.length;s++){const o=n[s];"number"==typeof o?r=o:r===i&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Tr(t,o,!!e||n[++s]))}return void 0===t?null:t}function ek(t,n,e,i,r,s,o,a){if(!(3&n.type))return;const l=t.data,u=l[a+1],c=function cV(t){return 1==(1&t)}(u)?tk(l,n,e,r,Ba(u),o):void 0;vh(c)||(vh(s)||function lV(t){return 2==(2&t)}(u)&&(s=tk(l,null,e,r,a,o)),function ML(t,n,e,i,r){if(n)r?t.addClass(e,i):t.removeClass(e,i);else{let s=-1===i.indexOf("-")?void 0:ur.DashCase;null==r?t.removeStyle(e,i,s):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=ur.Important),t.setStyle(e,i,r,s))}}(i,o,Pf(nr(),e),r,s))}function tk(t,n,e,i,r,s){const o=null===n;let a;for(;r>0;){const l=t[r],u=Array.isArray(l),c=u?l[1]:l,d=null===c;let f=e[r+1];f===ft&&(f=d?Yt:void 0);let h=d?z_(f,i):c===i?f:void 0;if(u&&!vh(h)&&(h=z_(l,i)),vh(h)&&(a=h,o))return a;const p=t[r+1];r=o?Xo(p):Ba(p)}if(null!==n){let l=s?n.residualClasses:n.residualStyles;null!=l&&(a=z_(l,i))}return a}function vh(t){return void 0!==t}function nk(t,n){return 0!=(t.flags&(n?8:16))}function S(t,n=""){const e=J(),i=Nt(),r=t+vn,s=i.firstCreatePass?Jl(i,r,1,n,null):i.data[r],o=e[r]=function rg(t,n){return t.createText(n)}(e[vt],n);Xf(i,e,o,s),Os(s,!1)}function it(t){return qt("",t,""),it}function qt(t,n,e){const i=J(),r=eu(i,t,n,e);return r!==ft&&yo(i,nr(),r),qt}function iy(t,n,e,i,r){const s=J(),o=tu(s,t,n,e,i,r);return o!==ft&&yo(s,nr(),o),iy}const du="en-US";let Dk=du;function oy(t,n,e,i,r){if(t=Ke(t),Array.isArray(t))for(let s=0;s<t.length;s++)oy(t[s],n,e,i,r);else{const s=Nt(),o=J();let a=Na(t)?t:Ke(t.provide),l=x0(t);const u=Mi(),c=1048575&u.providerIndexes,d=u.directiveStart,f=u.providerIndexes>>20;if(Na(t)||!t.multi){const h=new wc(l,r,D),p=ly(a,n,r?c:c+f,d);-1===p?($_(zf(u,o),s,a),ay(s,t,n.length),n.push(a),u.directiveStart++,u.directiveEnd++,r&&(u.providerIndexes+=1048576),e.push(h),o.push(h)):(e[p]=h,o[p]=h)}else{const h=ly(a,n,c+f,d),p=ly(a,n,c,c+f),M=p>=0&&e[p];if(r&&!M||!r&&!(h>=0&&e[h])){$_(zf(u,o),s,a);const I=function zB(t,n,e,i,r){const s=new wc(t,e,D);return s.multi=[],s.index=n,s.componentProviders=0,Gk(s,r,i&&!e),s}(r?YB:UB,e.length,r,i,l);!r&&M&&(e[p].providerFactory=I),ay(s,t,n.length,0),n.push(a),u.directiveStart++,u.directiveEnd++,r&&(u.providerIndexes+=1048576),e.push(I),o.push(I)}else ay(s,t,h>-1?h:p,Gk(e[r?p:h],l,!r&&i));!r&&i&&M&&e[p].componentProviders++}}}function ay(t,n,e,i){const r=Na(n),s=function oP(t){return!!t.useClass}(n);if(r||s){const l=(s?Ke(n.useClass):n).prototype.ngOnDestroy;if(l){const u=t.destroyHooks||(t.destroyHooks=[]);if(!r&&n.multi){const c=u.indexOf(e);-1===c?u.push(e,[i,l]):u[c+1].push(i,l)}else u.push(e,l)}}}function Gk(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function ly(t,n,e,i){for(let r=e;r<i;r++)if(n[r]===t)return r;return-1}function UB(t,n,e,i){return uy(this.multi,[])}function YB(t,n,e,i){const r=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Aa(e,e[Ce],this.providerFactory.index,i);s=a.slice(0,o),uy(r,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],uy(r,s);return s}function uy(t,n){for(let e=0;e<t.length;e++)n.push((0,t[e])());return n}function Kt(t,n=[]){return e=>{e.providersResolver=(i,r)=>function jB(t,n,e){const i=Nt();if(i.firstCreatePass){const r=hs(t);oy(e,i.data,i.blueprint,r,!0),oy(n,i.data,i.blueprint,r,!1)}}(i,r?r(t):t,n)}}class fu{}class Zk{}class Qk extends fu{constructor(n,e){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new mT(this);const i=br(n);this._bootstrapComponents=go(i.bootstrap),this._r3Injector=W0(n,e,[{provide:fu,useValue:this},{provide:Gl,useValue:this.componentFactoryResolver}],hn(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class cy extends Zk{constructor(n){super(),this.moduleType=n}create(n){return new Qk(this.moduleType,n)}}class WB extends fu{constructor(n,e,i){super(),this.componentFactoryResolver=new mT(this),this.instance=null;const r=new R0([...n,{provide:fu,useValue:this},{provide:Gl,useValue:this.componentFactoryResolver}],e||ah(),i,new Set(["environment"]));this.injector=r,r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function Th(t,n,e=null){return new WB(t,n,e).injector}let GB=(()=>{class t{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e.id)){const i=E0(0,e.type),r=i.length>0?Th([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e.id,r)}return this.cachedInjectors.get(e.id)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=z({token:t,providedIn:"environment",factory:()=>new t(X(_o))}),t})();function Kk(t){t.getStandaloneInjector=n=>n.get(GB).getOrCreateStandaloneInjector(t)}function oM(t,n,e,i,r,s){const o=n+e;return ji(t,o,r)?xs(t,o+1,s?i.call(s,r):i(r)):function Gc(t,n){const e=t[n];return e===ft?void 0:e}(t,o+1)}function fr(t,n){const e=Nt();let i;const r=t+vn;e.firstCreatePass?(i=function d3(t,n){if(n)for(let e=n.length-1;e>=0;e--){const i=n[e];if(t===i.name)return i}}(n,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks??(e.destroyHooks=[])).push(r,i.onDestroy)):i=e.data[r];const s=i.factory||(i.factory=Oa(i.type)),o=$r(D);try{const a=Yf(!1),l=s();return Yf(a),function iV(t,n,e,i){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),n[e]=i}(e,J(),r,l),l}finally{$r(o)}}function hr(t,n,e){const i=t+vn,r=J(),s=Nl(r,i);return function Zc(t,n){return t[Ce].data[n].pure}(r,i)?oM(r,tr(),n,s.transform,e,s):s.transform(e)}function fy(t){return n=>{setTimeout(t,void 0,n)}}const Me=class _3 extends It{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,e,i){let r=n,s=e||(()=>null),o=i;if(n&&"object"==typeof n){const l=n;r=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=fy(s),r&&(r=fy(r)),o&&(o=fy(o)));const a=super.subscribe({next:r,error:s,complete:o});return n instanceof ve&&n.add(a),a}};function g3(){return this._results[Symbol.iterator]()}class hy{get changes(){return this._changes||(this._changes=new Me)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=hy.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=g3)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){const i=this;i.dirty=!1;const r=function Ur(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function IN(t,n,e){if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],s=n[i];if(e&&(r=e(r),s=e(s)),s!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let gs=(()=>{class t{}return t.__NG_ELEMENT_ID__=b3,t})();const y3=gs,v3=class extends y3{constructor(n,e,i){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(n,e){const i=this._declarationTContainer.tView,r=uh(this._declarationLView,i,n,16,null,i.declTNode,null,null,null,null,e||null);r[gc]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[Es];return null!==o&&(r[Es]=o.createEmbeddedView(i)),Ng(i,r,n),new Pc(r)}};function b3(){return kh(Mi(),J())}function kh(t,n){return 4&t.type?new v3(n,t,Zl(t,n)):null}let Si=(()=>{class t{}return t.__NG_ELEMENT_ID__=w3,t})();function w3(){return hM(Mi(),J())}const C3=Si,dM=class extends C3{constructor(n,e,i){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=i}get element(){return Zl(this._hostTNode,this._hostLView)}get injector(){return new Vl(this._hostTNode,this._hostLView)}get parentInjector(){const n=H_(this._hostTNode,this._hostLView);if(_D(n)){const e=Uf(n,this._hostLView),i=jf(n);return new Vl(e[Ce].data[i+8],e)}return new Vl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const e=fM(this._lContainer);return null!==e&&e[n]||null}get length(){return this._lContainer.length-er}createEmbeddedView(n,e,i){let r,s;"number"==typeof i?r=i:null!=i&&(r=i.index,s=i.injector);const o=n.createEmbeddedView(e||{},s);return this.insert(o,r),o}createComponent(n,e,i,r,s){const o=n&&!function Tc(t){return"function"==typeof t}(n);let a;if(o)a=e;else{const d=e||{};a=d.index,i=d.injector,r=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const l=o?n:new Vc(Qt(n)),u=i||this.parentInjector;if(!s&&null==l.ngModule){const f=(o?u:this.parentInjector).get(_o,null);f&&(s=f)}const c=l.create(u,r,void 0,s);return this.insert(c.hostView,a),c}insert(n,e){const i=n._lView,r=i[Ce];if(function JF(t){return fs(t[Bn])}(i)){const c=this.indexOf(n);if(-1!==c)this.detach(c);else{const d=i[Bn],f=new dM(d,d[Vi],d[Bn]);f.detach(f.indexOf(n))}}const s=this._adjustIndex(e),o=this._lContainer;!function yL(t,n,e,i){const r=er+i,s=e.length;i>0&&(e[r-1][ds]=n),i<s-er?(n[ds]=e[r],ED(e,er+i,n)):(e.push(n),n[ds]=null),n[Bn]=e;const o=n[gc];null!==o&&e!==o&&function vL(t,n){const e=t[Fl];n[Bi]!==n[Bn][Bn][Bi]&&(t[YC]=!0),null===e?t[Fl]=[n]:e.push(n)}(o,n);const a=n[Es];null!==a&&a.insertView(t),n[mt]|=64}(r,i,o,s);const a=ug(s,o),l=i[vt],u=Jf(l,o[Ff]);return null!==u&&function mL(t,n,e,i,r,s){i[fo]=r,i[Vi]=n,Rc(t,i,e,1,r,s)}(r,o[Vi],l,i,u,a),n.attachToViewContainerRef(),ED(py(o),s,n),n}move(n,e){return this.insert(n,e)}indexOf(n){const e=fM(this._lContainer);return null!==e?e.indexOf(n):-1}remove(n){const e=this._adjustIndex(n,-1),i=og(this._lContainer,e);i&&(Gf(py(this._lContainer),e),JD(i[Ce],i))}detach(n){const e=this._adjustIndex(n,-1),i=og(this._lContainer,e);return i&&null!=Gf(py(this._lContainer),e)?new Pc(i):null}_adjustIndex(n,e=0){return n??this.length+e}};function fM(t){return t[Nf]}function py(t){return t[Nf]||(t[Nf]=[])}function hM(t,n){let e;const i=n[t.index];if(fs(i))e=i;else{let r;if(8&t.type)r=ki(i);else{const s=n[vt];r=s.createComment("");const o=Cr(t,n);xa(s,Jf(s,o),r,function DL(t,n){return t.nextSibling(n)}(s,o),!1)}n[t.index]=e=cT(i,n,r,t),dh(n,e)}return new dM(e,t,n)}class my{constructor(n){this.queryList=n,this.matches=null}clone(){return new my(this.queryList)}setDirty(){this.queryList.setDirty()}}class _y{constructor(n=[]){this.queries=n}createEmbeddedView(n){const e=n.queries;if(null!==e){const i=null!==n.contentQueries?n.contentQueries[0]:e.length,r=[];for(let s=0;s<i;s++){const o=e.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new _y(r)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)null!==vM(n,e).matches&&this.queries[e].setDirty()}}class pM{constructor(n,e,i=null){this.predicate=n,this.flags=e,this.read=i}}class gy{constructor(n=[]){this.queries=n}elementStart(n,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,s=this.getByIndex(i).embeddedTView(n,r);s&&(s.indexInDeclarationView=i,null!==e?e.push(s):e=[s])}return null!==e?new gy(e):null}template(n,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class yy{constructor(n,e=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new yy(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=n.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(n,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(n,e,D3(e,s)),this.matchTNodeWithReadOption(n,e,qf(e,n,s,!1,!1))}else i===gs?4&e.type&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,qf(e,n,i,!1,!1))}matchTNodeWithReadOption(n,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===zt||r===Si||r===gs&&4&e.type)this.addMatch(e.index,-2);else{const s=qf(e,n,r,!1,!1);null!==s&&this.addMatch(e.index,s)}else this.addMatch(e.index,i)}}addMatch(n,e){null===this.matches?this.matches=[n,e]:this.matches.push(n,e)}}function D3(t,n){const e=t.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===n)return e[i+1];return null}function k3(t,n,e,i){return-1===e?function T3(t,n){return 11&t.type?Zl(t,n):4&t.type?kh(t,n):null}(n,t):-2===e?function M3(t,n,e){return e===zt?Zl(n,t):e===gs?kh(n,t):e===Si?hM(n,t):void 0}(t,n,i):Aa(t,t[Ce],e,n)}function mM(t,n,e,i){const r=n[Es].queries[i];if(null===r.matches){const s=t.data,o=e.matches,a=[];for(let l=0;l<o.length;l+=2){const u=o[l];a.push(u<0?null:k3(n,s[u],o[l+1],e.metadata.read))}r.matches=a}return r.matches}function vy(t,n,e,i){const r=t.queries.getByIndex(e),s=r.matches;if(null!==s){const o=mM(t,n,r,e);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)i.push(o[a/2]);else{const u=s[a+1],c=n[-l];for(let d=er;d<c.length;d++){const f=c[d];f[gc]===f[Bn]&&vy(f[Ce],f,u,i)}if(null!==c[Fl]){const d=c[Fl];for(let f=0;f<d.length;f++){const h=d[f];vy(h[Ce],h,u,i)}}}}}return i}function ue(t){const n=J(),e=Nt(),i=oD();R_(i+1);const r=vM(e,i);if(t.dirty&&function KF(t){return 4==(4&t[mt])}(n)===(2==(2&r.metadata.flags))){if(null===r.matches)t.reset([]);else{const s=r.crossesNgTemplate?vy(e,n,i,[]):mM(e,n,r,i);t.reset(s,gP),t.notifyOnChanges()}return!0}return!1}function he(t,n,e){const i=Nt();i.firstCreatePass&&(yM(i,new pM(t,n,e),-1),2==(2&n)&&(i.staticViewQueries=!0)),gM(i,J(),n)}function ce(){return function S3(t,n){return t[Es].queries[n].queryList}(J(),oD())}function gM(t,n,e){const i=new hy(4==(4&e));rT(t,n,i,i.destroy),null===n[Es]&&(n[Es]=new _y),n[Es].queries.push(new my(i))}function yM(t,n,e){null===t.queries&&(t.queries=new gy),t.queries.track(new yy(n,e))}function vM(t,n){return t.queries.getByIndex(n)}function pr(t,n){return kh(t,n)}function Sh(...t){}const Eh=new Pe("Application Initializer");let Oh=(()=>{class t{constructor(e){this.appInits=e,this.resolve=Sh,this.reject=Sh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const e=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const s=this.appInits[r]();if(Hc(s))e.push(s);else if(Qg(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});e.push(o)}}Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(X(Eh,8))},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Kc=new Pe("AppId",{providedIn:"root",factory:function PM(){return`${ky()}${ky()}${ky()}`}});function ky(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const VM=new Pe("Platform Initializer"),Ih=new Pe("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),BM=new Pe("AnimationModuleType");let G3=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const bo=new Pe("LocaleId",{providedIn:"root",factory:()=>Ct(bo,Je.Optional|Je.SkipSelf)||function Z3(){return typeof $localize<"u"&&$localize.locale||du}()});class K3{constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}}let HM=(()=>{class t{compileModuleSync(e){return new cy(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),s=go(br(e).declarations).reduce((o,a)=>{const l=Qt(a);return l&&o.push(new Vc(l)),o},[]);return new K3(i,s)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const eH=(()=>Promise.resolve(0))();function My(t){typeof Zone>"u"?eH.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class pn{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Me(!1),this.onMicrotaskEmpty=new Me(!1),this.onStable=new Me(!1),this.onError=new Me(!1),typeof Zone>"u")throw new U(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function tH(){let t=yn.requestAnimationFrame,n=yn.cancelAnimationFrame;if(typeof Zone<"u"&&t&&n){const e=t[Zone.__symbol__("OriginalDelegate")];e&&(t=e);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function rH(t){const n=()=>{!function iH(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(yn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ey(t),t.isCheckStableRunning=!0,Sy(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ey(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,s,o,a)=>{try{return UM(t),e.invokeTask(r,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&n(),YM(t)}},onInvoke:(e,i,r,s,o,a,l)=>{try{return UM(t),e.invoke(r,s,o,a,l)}finally{t.shouldCoalesceRunChangeDetection&&n(),YM(t)}},onHasTask:(e,i,r,s)=>{e.hasTask(r,s),i===r&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Ey(t),Sy(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(e,i,r,s)=>(e.handleError(r,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!pn.isInAngularZone())throw new U(909,!1)}static assertNotInAngularZone(){if(pn.isInAngularZone())throw new U(909,!1)}run(n,e,i){return this._inner.run(n,e,i)}runTask(n,e,i,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,n,nH,Sh,Sh);try{return s.runTask(o,e,i)}finally{s.cancelTask(o)}}runGuarded(n,e,i){return this._inner.runGuarded(n,e,i)}runOutsideAngular(n){return this._outer.run(n)}}const nH={};function Sy(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ey(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function UM(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function YM(t){t._nesting--,Sy(t)}class sH{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Me,this.onMicrotaskEmpty=new Me,this.onStable=new Me,this.onError=new Me}run(n,e,i){return n.apply(e,i)}runGuarded(n,e,i){return n.apply(e,i)}runOutsideAngular(n){return n()}runTask(n,e,i,r){return n.apply(e,i)}}const zM=new Pe(""),Ah=new Pe("");let Ay,Oy=(()=>{class t{constructor(e,i,r){this._ngZone=e,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Ay||(function oH(t){Ay=t}(r),r.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{pn.assertNotInAngularZone(),My(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())My(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:s,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,r){return[]}}return t.\u0275fac=function(e){return new(e||t)(X(pn),X(Iy),X(Ah))},t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})(),Iy=(()=>{class t{constructor(){this._applications=new Map}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return Ay?.findTestabilityInTree(this,e,i)??null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const wo=!1;let ea=null;const qM=new Pe("AllowMultipleToken"),Ry=new Pe("PlatformDestroyListeners"),WM=new Pe("appBootstrapListener");class GM{constructor(n,e){this.name=n,this.token=e}}function QM(t,n,e=[]){const i=`Platform: ${n}`,r=new Pe(i);return(s=[])=>{let o=xy();if(!o||o.injector.get(qM,!1)){const a=[...e,...s,{provide:r,useValue:!0}];t?t(a):function uH(t){if(ea&&!ea.get(qM,!1))throw new U(400,!1);ea=t;const n=t.get(JM);(function ZM(t){const n=t.get(VM,null);n&&n.forEach(e=>e())})(t)}(function KM(t=[],n){return dr.create({name:n,providers:[{provide:Cg,useValue:"platform"},{provide:Ry,useValue:new Set([()=>ea=null])},...t]})}(a,i))}return function dH(t){const n=xy();if(!n)throw new U(401,!1);return n}()}}function xy(){return ea?.get(JM)??null}let JM=(()=>{class t{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const r=function eS(t,n){let e;return e="noop"===t?new sH:("zone.js"===t?void 0:t)||new pn(n),e}(i?.ngZone,function XM(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(i)),s=[{provide:pn,useValue:r}];return r.run(()=>{const o=dr.create({providers:s,parent:this.injector,name:e.moduleType.name}),a=e.create(o),l=a.injector.get(Pa,null);if(!l)throw new U(402,!1);return r.runOutsideAngular(()=>{const u=r.onError.subscribe({next:c=>{l.handleError(c)}});a.onDestroy(()=>{Rh(this._modules,a),u.unsubscribe()})}),function tS(t,n,e){try{const i=e();return Hc(i)?i.catch(r=>{throw n.runOutsideAngular(()=>t.handleError(r)),r}):i}catch(i){throw n.runOutsideAngular(()=>t.handleError(i)),i}}(l,r,()=>{const u=a.injector.get(Oh);return u.runInitializers(),u.donePromise.then(()=>(function Tk(t){Hr(t,"Expected localeId to be defined"),"string"==typeof t&&(Dk=t.toLowerCase().replace(/_/g,"-"))}(a.injector.get(bo,du)||du),this._moduleDoBootstrap(a),a))})})}bootstrapModule(e,i=[]){const r=nS({},i);return function aH(t,n,e){const i=new cy(e);return Promise.resolve(i)}(0,0,e).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(e){const i=e.injector.get(mu);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new U(-403,!1);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new U(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(Ry,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(X(dr))},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function nS(t,n){return Array.isArray(n)?n.reduce(nS,t):{...t,...n}}let mu=(()=>{class t{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(e,i,r){this._zone=e,this._injector=i,this._exceptionHandler=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new We(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new We(a=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{pn.assertNotInAngularZone(),My(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const u=this._zone.onUnstable.subscribe(()=>{pn.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),u.unsubscribe()}});this.isStable=Sl(s,o.pipe(function El(t={}){const{connector:n=(()=>new It),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=t;return s=>{let o,a,l,u=0,c=!1,d=!1;const f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),o=l=void 0,c=d=!1},p=()=>{const v=o;h(),v?.unsubscribe()};return pt((v,M)=>{u++,!d&&!c&&f();const I=l=l??n();M.add(()=>{u--,0===u&&!d&&!c&&(a=f_(p,r))}),I.subscribe(M),!o&&u>0&&(o=new G({next:q=>I.next(q),error:q=>{d=!0,f(),a=f_(h,e,q),I.error(q)},complete:()=>{c=!0,f(),a=f_(h,i),I.complete()}}),R(v).subscribe(o))})(s)}}()))}bootstrap(e,i){const r=e instanceof F0;if(!this._injector.get(Oh).done){!r&&function Il(t){const n=Qt(t)||Pi(t)||lr(t);return null!==n&&n.standalone}(e);throw new U(405,wo)}let o;o=r?e:this._injector.get(Gl).resolveComponentFactory(e),this.componentTypes.push(o.componentType);const a=function lH(t){return t.isBoundToModule}(o)?void 0:this._injector.get(fu),u=o.create(dr.NULL,[],i||o.selector,a),c=u.location.nativeElement,d=u.injector.get(zM,null);return d?.registerApplication(c),u.onDestroy(()=>{this.detachView(u.hostView),Rh(this.components,u),d?.unregisterApplication(c)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new U(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;Rh(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const i=this._injector.get(WM,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>Rh(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new U(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(e){return new(e||t)(X(pn),X(_o),X(Pa))},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Rh(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}let Co=(()=>{class t{}return t.__NG_ELEMENT_ID__=hH,t})();function hH(t){return function pH(t,n,e){if(vc(t)&&!e){const i=Dr(t.index,n);return new Pc(i,i)}return 47&t.type?new Pc(n[Bi],n):null}(Mi(),J(),16==(16&t))}class aS{constructor(){}supports(n){return mh(n)}create(n){return new bH(n)}}const vH=(t,n)=>n;class bH{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||vH}forEachItem(n){let e;for(e=this._itHead;null!==e;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,i=this._removalsHead,r=0,s=null;for(;e||i;){const o=!i||e&&e.currentIndex<uS(i,r,s)?e:i,a=uS(o,r,s),l=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{s||(s=[]);const u=a-r,c=l-r;if(u!=c){for(let f=0;f<u;f++){const h=f<s.length?s[f]:s[f]=0,p=h+f;c<=p&&p<u&&(s[f]=h+1)}s[o.previousIndex]=c-u}}a!==l&&n(o,a,l)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)n(e)}diff(n){if(null==n&&(n=[]),!mh(n))throw new U(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let r,s,o,e=this._itHead,i=!1;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)s=n[a],o=this._trackByFn(a,s),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,s,o,a)),Object.is(e.item,s)||this._addIdentityChange(e,s)):(e=this._mismatch(e,s,o,a),i=!0),e=e._next}else r=0,function X2(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{const e=t[Symbol.iterator]();let i;for(;!(i=e.next()).done;)n(i.value)}}(n,a=>{o=this._trackByFn(r,a),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,a,o,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,o,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,i,r){let s;return null===n?s=this._itTail:(s=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,s,r)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,s,r)):n=this._addAfter(new wH(e,i),s,r),n}_verifyReinsertion(n,e,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?n=this._reinsertAfter(s,n._prev,r):n.currentIndex!=r&&(n.currentIndex=r,this._addToMoves(n,r)),n}_truncate(n){for(;null!==n;){const e=n._next;this._addToRemovals(this._unlink(n)),n=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const r=n._prevRemoved,s=n._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(n,e,i),this._addToMoves(n,i),n}_moveAfter(n,e,i){return this._unlink(n),this._insertAfter(n,e,i),this._addToMoves(n,i),n}_addAfter(n,e,i){return this._insertAfter(n,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,e,i){const r=null===e?this._itHead:e._next;return n._next=r,n._prev=e,null===r?this._itTail=n:r._prev=n,null===e?this._itHead=n:e._next=n,null===this._linkedRecords&&(this._linkedRecords=new lS),this._linkedRecords.put(n),n.currentIndex=i,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const e=n._prev,i=n._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new lS),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class wH{constructor(n,e){this.item=n,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class CH{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,n))return i;return null}remove(n){const e=n._prevDup,i=n._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class lS{constructor(){this.map=new Map}put(n){const e=n.trackById;let i=this.map.get(e);i||(i=new CH,this.map.set(e,i)),i.add(n)}get(n,e){const r=this.map.get(n);return r?r.get(n,e):null}remove(n){const e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function uS(t,n,e){const i=t.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+n+r}class cS{constructor(){}supports(n){return n instanceof Map||Gg(n)}create(){return new DH}}class DH{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let e;for(e=this._mapHead;null!==e;e=e._next)n(e)}forEachPreviousItem(n){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)n(e)}forEachChangedItem(n){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}diff(n){if(n){if(!(n instanceof Map||Gg(n)))throw new U(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(n,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const s=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,s)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,e){if(n){const i=n._prev;return e._next=n,e._prev=i,n._prev=e,i&&(i._next=e),n===this._mapHead&&(this._mapHead=e),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(n,e){if(this._records.has(n)){const r=this._records.get(n);this._maybeAddToChanges(r,e);const s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}const i=new TH(n);return this._records.set(n,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,e){Object.is(e,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=e,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,e){n instanceof Map?n.forEach(e):Object.keys(n).forEach(i=>e(n[i],i))}}class TH{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function dS(){return new Lh([new aS])}let Lh=(()=>{class t{constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new t(e)}static extend(e){return{provide:t,useFactory:i=>t.create(e,i||dS()),deps:[[t,new Sc,new Mc]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new U(901,!1)}}return t.\u0275prov=z({token:t,providedIn:"root",factory:dS}),t})();function fS(){return new Jc([new cS])}let Jc=(()=>{class t{constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new t(e)}static extend(e){return{provide:t,useFactory:i=>t.create(e,i||fS()),deps:[[t,new Sc,new Mc]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(i)return i;throw new U(901,!1)}}return t.\u0275prov=z({token:t,providedIn:"root",factory:fS}),t})();const SH=QM(null,"core",[]);let EH=(()=>{class t{constructor(e){}}return t.\u0275fac=function(e){return new(e||t)(X(mu))},t.\u0275mod=_i({type:t}),t.\u0275inj=ai({}),t})();function _u(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let Vy=null;function Do(){return Vy}class AH{}const Wn=new Pe("DocumentToken");let By=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=z({token:t,factory:function(){return function RH(){return X(hS)}()},providedIn:"platform"}),t})();const xH=new Pe("Location Initialized");let hS=(()=>{class t extends By{constructor(e){super(),this._doc=e,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Do().getBaseHref(this._doc)}onPopState(e){const i=Do().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=Do().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){pS()?this._history.pushState(e,i,r):this._location.hash=r}replaceState(e,i,r){pS()?this._history.replaceState(e,i,r):this._location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(X(Wn))},t.\u0275prov=z({token:t,factory:function(){return function FH(){return new hS(X(Wn))}()},providedIn:"platform"}),t})();function pS(){return!!window.history.pushState}function Hy(t,n){if(0==t.length)return n;if(0==n.length)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,2==e?t+n.substring(1):1==e?t+n:t+"/"+n}function mS(t){const n=t.match(/#|\?|$/),e=n&&n.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function To(t){return t&&"?"!==t[0]?"?"+t:t}let ja=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=z({token:t,factory:function(){return Ct(gS)},providedIn:"root"}),t})();const _S=new Pe("appBaseHref");let gS=(()=>{class t extends ja{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Ct(Wn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Hy(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+To(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const o=this.prepareExternalUrl(r+To(s));this._platformLocation.pushState(e,i,o)}replaceState(e,i,r,s){const o=this.prepareExternalUrl(r+To(s));this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return t.\u0275fac=function(e){return new(e||t)(X(By),X(_S,8))},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),NH=(()=>{class t extends ja{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Hy(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let o=this.prepareExternalUrl(r+To(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(e,i,o)}replaceState(e,i,r,s){let o=this.prepareExternalUrl(r+To(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return t.\u0275fac=function(e){return new(e||t)(X(By),X(_S,8))},t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})(),$y=(()=>{class t{constructor(e){this._subject=new Me,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function VH(t){if(new RegExp("^(https?:)?//").test(t)){const[,e]=t.split(/\/\/[^\/]+/);return e}return t}(mS(yS(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+To(i))}normalize(e){return t.stripTrailingSlash(function PH(t,n){if(!t||!n.startsWith(t))return n;const e=n.substring(t.length);return""===e||["/",";","?","#"].includes(e[0])?e:n}(this._basePath,yS(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+To(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+To(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return t.normalizeQueryParams=To,t.joinWithSlash=Hy,t.stripTrailingSlash=mS,t.\u0275fac=function(e){return new(e||t)(X(ja))},t.\u0275prov=z({token:t,factory:function(){return function LH(){return new $y(X(ja))}()},providedIn:"root"}),t})();function yS(t){return t.replace(/\/index.html$/,"")}const Ky=/\s+/,SS=[];let qh=(()=>{class t{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this.initialClasses=SS,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(Ky):SS}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(Ky):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,Boolean(e[i]));this._applyStateDiff()}_updateState(e,i){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(Ky).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return t.\u0275fac=function(e){return new(e||t)(D(Lh),D(Jc),D(zt),D(kn))},t.\u0275dir=Ve({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),t})();class D${constructor(n,e,i,r){this.$implicit=n,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ei=(()=>{class t{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,o)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new D$(r.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)i.remove(null===s?void 0:s);else if(null!==s){const a=i.get(s);i.move(a,o),IS(a,r)}});for(let r=0,s=i.length;r<s;r++){const a=i.get(r).context;a.index=r,a.count=s,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{IS(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return t.\u0275fac=function(e){return new(e||t)(D(Si),D(gs),D(Lh))},t.\u0275dir=Ve({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function IS(t,n){t.context.$implicit=n.item}let Jt=(()=>{class t{constructor(e,i){this._viewContainer=e,this._context=new k$,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){AS("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){AS("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return t.\u0275fac=function(e){return new(e||t)(D(Si),D(gs))},t.\u0275dir=Ve({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class k${constructor(){this.$implicit=null,this.ngIf=null}}function AS(t,n){if(n&&!n.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${hn(n)}'.`)}class Jy{constructor(n,e){this._viewContainerRef=n,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(n){n&&!this._created?this.create():!n&&this._created&&this.destroy()}}let td=(()=>{class t{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const i of this._defaultViews)i.enforceState(e)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ve({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),t})(),Xy=(()=>{class t{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new Jy(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(D(Si),D(gs),D(td,9))},t.\u0275dir=Ve({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),t})();class S${createSubscription(n,e){return n.subscribe({next:e,error:i=>{throw i}})}dispose(n){n.unsubscribe()}}class E${createSubscription(n,e){return n.then(e,i=>{throw i})}dispose(n){}}const O$=new E$,I$=new S$;let ev=(()=>{class t{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if(Hc(e))return O$;if(AT(e))return I$;throw function bs(t,n){return new U(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(D(Co,16))},t.\u0275pipe=ar({name:"async",type:t,pure:!1,standalone:!0}),t})(),xS=(()=>{class t{constructor(e){this.differs=e,this.keyValues=[],this.compareFn=FS}transform(e,i=FS){if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ||(this.differ=this.differs.find(e).create());const r=this.differ.diff(e),s=i!==this.compareFn;return r&&(this.keyValues=[],r.forEachItem(o=>{this.keyValues.push(function U$(t,n){return{key:t,value:n}}(o.key,o.currentValue))})),(r||s)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}}return t.\u0275fac=function(e){return new(e||t)(D(Jc,16))},t.\u0275pipe=ar({name:"keyvalue",type:t,pure:!1,standalone:!0}),t})();function FS(t,n){const e=t.key,i=n.key;if(e===i)return 0;if(void 0===e)return 1;if(void 0===i)return-1;if(null===e)return 1;if(null===i)return-1;if("string"==typeof e&&"string"==typeof i)return e<i?-1:1;if("number"==typeof e&&"number"==typeof i)return e-i;if("boolean"==typeof e&&"boolean"==typeof i)return e<i?-1:1;const r=String(e),s=String(i);return r==s?0:r<s?-1:1}let gu=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=_i({type:t}),t.\u0275inj=ai({}),t})();const NS="browser";function LS(t){return t===NS}let Q$=(()=>{class t{}return t.\u0275prov=z({token:t,providedIn:"root",factory:()=>new K$(X(Wn),window)}),t})();class K${constructor(n,e){this.document=n,this.window=e,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const e=function J$(t,n){const e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(n)||s.querySelector(`[name="${n}"]`);if(o)return o}r=i.nextNode()}}return null}(this.document,n);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=n)}}scrollToElement(n){const e=n.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=PS(this.window.history)||PS(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function PS(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Mj extends AH{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class sv extends Mj{static makeCurrent(){!function IH(t){Vy||(Vy=t)}(new sv)}onAndCancel(n,e,i){return n.addEventListener(e,i,!1),()=>{n.removeEventListener(e,i,!1)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=function Sj(){return id=id||document.querySelector("base"),id?id.getAttribute("href"):null}();return null==e?null:function Ej(t){Zh=Zh||document.createElement("a"),Zh.setAttribute("href",t);const n=Zh.pathname;return"/"===n.charAt(0)?n:`/${n}`}(e)}resetBaseElement(){id=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return function w$(t,n){n=encodeURIComponent(n);for(const e of t.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===n)return decodeURIComponent(s)}return null}(document.cookie,n)}}let Zh,id=null;const jS=new Pe("TRANSITION_ID"),Ij=[{provide:Eh,useFactory:function Oj(t,n,e){return()=>{e.get(Oh).donePromise.then(()=>{const i=Do(),r=n.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[jS,Wn,dr],multi:!0}];let Rj=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})();const Qh=new Pe("EventManagerPlugins");let Kh=(()=>{class t{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const o=r[s];if(o.supports(e))return this._eventNameToPlugin.set(e,o),o}throw new Error(`No event manager plugin found for event ${e}`)}}return t.\u0275fac=function(e){return new(e||t)(X(Qh),X(pn))},t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})();class US{constructor(n){this._doc=n}addGlobalEventListener(n,e,i){const r=Do().getGlobalEventTarget(this._doc,n);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let YS=(()=>{class t{constructor(){this.usageCount=new Map}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)0===this.changeUsageCount(i,-1)&&this.onStyleRemoved(i)}onStyleRemoved(e){}onStyleAdded(e){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(e,i){const r=this.usageCount;let s=r.get(e)??0;return s+=i,s>0?r.set(e,s):r.delete(e),s}ngOnDestroy(){for(const e of this.getAllStyles())this.onStyleRemoved(e);this.usageCount.clear()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})(),rd=(()=>{class t extends YS{constructor(e){super(),this.doc=e,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.forEach(s=>s.remove()),i.delete(e)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}addStyleToHost(e,i){const r=this.doc.createElement("style");r.textContent=i,e.appendChild(r);const s=this.styleRef.get(i);s?s.push(r):this.styleRef.set(i,[r])}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}}return t.\u0275fac=function(e){return new(e||t)(X(Wn))},t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})();const ov={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},av=/%COMP%/g,WS=new Pe("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function GS(t,n){return n.flat(100).map(e=>e.replace(av,t))}function ZS(t){return n=>{if("__ngUnwrap__"===n)return t;!1===t(n)&&(n.preventDefault(),n.returnValue=!1)}}let Jh=(()=>{class t{constructor(e,i,r,s){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new lv(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;const r=this.getOrCreateRenderer(e,i);return r instanceof JS?r.applyToHost(e):r instanceof uv&&r.applyStyles(),r}getOrCreateRenderer(e,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const o=this.eventManager,a=this.sharedStylesHost,l=this.removeStylesOnCompDestory;switch(i.encapsulation){case cs.Emulated:s=new JS(o,a,i,this.appId,l);break;case cs.ShadowDom:return new Bj(o,a,e,i);default:s=new uv(o,a,i,l)}s.onDestroy=()=>r.delete(i.id),r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(X(Kh),X(rd),X(Kc),X(WS))},t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})();class lv{constructor(n){this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,e){return e?document.createElementNS(ov[e]||e,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,e){(KS(n)?n.content:n).appendChild(e)}insertBefore(n,e,i){n&&(KS(n)?n.content:n).insertBefore(e,i)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let i="string"==typeof n?document.querySelector(n):n;if(!i)throw new Error(`The selector "${n}" did not match any elements`);return e||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,i,r){if(r){e=r+":"+e;const s=ov[r];s?n.setAttributeNS(s,e,i):n.setAttribute(e,i)}else n.setAttribute(e,i)}removeAttribute(n,e,i){if(i){const r=ov[i];r?n.removeAttributeNS(r,e):n.removeAttribute(`${i}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,i,r){r&(ur.DashCase|ur.Important)?n.style.setProperty(e,i,r&ur.Important?"important":""):n.style[e]=i}removeStyle(n,e,i){i&ur.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,i){n[e]=i}setValue(n,e){n.nodeValue=e}listen(n,e,i){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,e,ZS(i)):this.eventManager.addEventListener(n,e,ZS(i))}}function KS(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class Bj extends lv{constructor(n,e,i,r){super(n),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=GS(r.id,r.styles);for(const o of s){const a=document.createElement("style");a.textContent=o,this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,i){return super.insertBefore(this.nodeOrShadowRoot(n),e,i)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class uv extends lv{constructor(n,e,i,r,s=i.id){super(n),this.sharedStylesHost=e,this.removeStylesOnCompDestory=r,this.rendererUsageCount=0,this.styles=GS(s,i.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class JS extends uv{constructor(n,e,i,r,s){const o=r+"-"+i.id;super(n,e,i,s,o),this.contentAttr=function Lj(t){return"_ngcontent-%COMP%".replace(av,t)}(o),this.hostAttr=function Pj(t){return"_nghost-%COMP%".replace(av,t)}(o)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){const i=super.createElement(n,e);return super.setAttribute(i,this.contentAttr,""),i}}let Hj=(()=>{class t extends US{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return t.\u0275fac=function(e){return new(e||t)(X(Wn))},t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})();const XS=["alt","control","meta","shift"],$j={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},jj={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Uj=(()=>{class t extends US{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,i,r){const s=t.parseEventName(i),o=t.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Do().onAndCancel(e,s.domEventName,o))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=t._normalizeKey(i.pop());let o="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),o="code."),XS.forEach(u=>{const c=i.indexOf(u);c>-1&&(i.splice(c,1),o+=u+".")}),o+=s,0!=i.length||0===s.length)return null;const l={};return l.domEventName=r,l.fullKey=o,l}static matchEventFullKeyCode(e,i){let r=$j[e.key]||e.key,s="";return i.indexOf("code.")>-1&&(r=e.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),XS.forEach(o=>{o!==r&&(0,jj[o])(e)&&(s+=o+".")}),s+=r,s===i)}static eventCallback(e,i,r){return s=>{t.matchEventFullKeyCode(s,e)&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return t.\u0275fac=function(e){return new(e||t)(X(Wn))},t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})();const t1=[{provide:Ih,useValue:NS},{provide:VM,useValue:function Yj(){sv.makeCurrent()},multi:!0},{provide:Wn,useFactory:function qj(){return function AL(t){hg=t}(document),document},deps:[]}],Wj=QM(SH,"browser",t1),n1=new Pe(""),r1=[{provide:Ah,useClass:class Aj{addToWindow(n){yn.getAngularTestability=(i,r=!0)=>{const s=n.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},yn.getAllAngularTestabilities=()=>n.getAllTestabilities(),yn.getAllAngularRootElements=()=>n.getAllRootElements(),yn.frameworkStabilizers||(yn.frameworkStabilizers=[]),yn.frameworkStabilizers.push(i=>{const r=yn.getAllAngularTestabilities();let s=r.length,o=!1;const a=function(l){o=o||l,s--,0==s&&i(o)};r.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(n,e,i){return null==e?null:n.getTestability(e)??(i?Do().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null)}},deps:[]},{provide:zM,useClass:Oy,deps:[pn,Iy,Ah]},{provide:Oy,useClass:Oy,deps:[pn,Iy,Ah]}],s1=[{provide:Cg,useValue:"root"},{provide:Pa,useFactory:function zj(){return new Pa},deps:[]},{provide:Qh,useClass:Hj,multi:!0,deps:[Wn,pn,Ih]},{provide:Qh,useClass:Uj,multi:!0,deps:[Wn]},{provide:Jh,useClass:Jh,deps:[Kh,rd,Kc,WS]},{provide:La,useExisting:Jh},{provide:YS,useExisting:rd},{provide:rd,useClass:rd,deps:[Wn]},{provide:Kh,useClass:Kh,deps:[Qh,pn]},{provide:class X${},useClass:Rj,deps:[]},[]];let o1=(()=>{class t{constructor(e){}static withServerTransition(e){return{ngModule:t,providers:[{provide:Kc,useValue:e.appId},{provide:jS,useExisting:Kc},Ij]}}}return t.\u0275fac=function(e){return new(e||t)(X(n1,12))},t.\u0275mod=_i({type:t}),t.\u0275inj=ai({providers:[...s1,...r1],imports:[gu,EH]}),t})(),a1=(()=>{class t{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return t.\u0275fac=function(e){return new(e||t)(X(Wn))},t.\u0275prov=z({token:t,factory:function(e){let i=null;return i=e?new e:function Zj(){return new a1(X(Wn))}(),i},providedIn:"root"}),t})();typeof window<"u"&&window;let c1=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=z({token:t,factory:function(e){let i=null;return i=e?new(e||t):X(d1),i},providedIn:"root"}),t})(),d1=(()=>{class t extends c1{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case un.NONE:return i;case un.HTML:return As(i,"HTML")?kr(i):C0(this._doc,String(i)).toString();case un.STYLE:return As(i,"Style")?kr(i):i;case un.SCRIPT:if(As(i,"Script"))return kr(i);throw new Error("unsafe value used in a script context");case un.URL:return As(i,"URL")?kr(i):ih(String(i));case un.RESOURCE_URL:if(As(i,"ResourceURL"))return kr(i);throw new Error(`unsafe value used in a resource URL context (see ${Df})`);default:throw new Error(`Unexpected SecurityContext ${e} (see ${Df})`)}}bypassSecurityTrustHtml(e){return function VL(t){return new RL(t)}(e)}bypassSecurityTrustStyle(e){return function BL(t){return new xL(t)}(e)}bypassSecurityTrustScript(e){return function HL(t){return new FL(t)}(e)}bypassSecurityTrustUrl(e){return function $L(t){return new NL(t)}(e)}bypassSecurityTrustResourceUrl(e){return function jL(t){return new LL(t)}(e)}}return t.\u0275fac=function(e){return new(e||t)(X(Wn))},t.\u0275prov=z({token:t,factory:function(e){let i=null;return i=e?new e:function eU(t){return new d1(t.get(Wn))}(X(dr)),i},providedIn:"root"}),t})();const{isArray:tU}=Array,{getPrototypeOf:nU,prototype:iU,keys:rU}=Object;function f1(t){if(1===t.length){const n=t[0];if(tU(n))return{args:n,keys:null};if(function sU(t){return t&&"object"==typeof t&&nU(t)===iU}(n)){const e=rU(n);return{args:e.map(i=>n[i]),keys:e}}}return{args:t,keys:null}}const{isArray:oU}=Array;function fv(t){return Ae(n=>function aU(t,n){return oU(n)?t(...n):t(n)}(t,n))}function h1(t,n){return t.reduce((e,i,r)=>(e[i]=n[r],e),{})}let p1=(()=>{class t{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return t.\u0275fac=function(e){return new(e||t)(D(kn),D(zt))},t.\u0275dir=Ve({type:t}),t})(),Ua=(()=>{class t extends p1{}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275dir=Ve({type:t,features:[_t]}),t})();const Sr=new Pe("NgValueAccessor"),uU={provide:Sr,useExisting:Ut(()=>hv),multi:!0};let hv=(()=>{class t extends Ua{writeValue(e){this.setProperty("checked",e)}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275dir=Ve({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,i){1&e&&F("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},features:[Kt([uU]),_t]}),t})();const cU={provide:Sr,useExisting:Ut(()=>Ps),multi:!0},fU=new Pe("CompositionEventMode");let Ps=(()=>{class t extends p1{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function dU(){const t=Do()?Do().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return t.\u0275fac=function(e){return new(e||t)(D(kn),D(zt),D(fU,8))},t.\u0275dir=Ve({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&F("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Kt([cU]),_t]}),t})();const hU=!1,gi=new Pe("NgValidators"),ia=new Pe("NgAsyncValidators");function T1(t){return null!=t}function k1(t){const n=Hc(t)?Vn(t):t;if(hU&&!Qg(n)){let e="Expected async validator to return Promise or Observable.";throw"object"==typeof t&&(e+=" Are you using a synchronous validator where an async validator is expected?"),new U(-1101,e)}return n}function M1(t){let n={};return t.forEach(e=>{n=null!=e?{...n,...e}:n}),0===Object.keys(n).length?null:n}function S1(t,n){return n.map(e=>e(t))}function E1(t){return t.map(n=>function mU(t){return!t.validate}(n)?n:e=>n.validate(e))}function pv(t){return null!=t?function O1(t){if(!t)return null;const n=t.filter(T1);return 0==n.length?null:function(e){return M1(S1(e,n))}}(E1(t)):null}function mv(t){return null!=t?function I1(t){if(!t)return null;const n=t.filter(T1);return 0==n.length?null:function(e){return function lU(...t){const n=Yn(t),{args:e,keys:i}=f1(t),r=new We(s=>{const{length:o}=e;if(!o)return void s.complete();const a=new Array(o);let l=o,u=o;for(let c=0;c<o;c++){let d=!1;R(e[c]).subscribe(Xe(s,f=>{d||(d=!0,u--),a[c]=f},()=>l--,void 0,()=>{(!l||!d)&&(u||s.next(i?h1(i,a):a),s.complete())}))}});return n?r.pipe(fv(n)):r}(S1(e,n).map(k1)).pipe(Ae(M1))}}(E1(t)):null}function A1(t,n){return null===t?[n]:Array.isArray(t)?[...t,n]:[t,n]}function _v(t){return t?Array.isArray(t)?t:[t]:[]}function ep(t,n){return Array.isArray(t)?t.includes(n):t===n}function F1(t,n){const e=_v(n);return _v(t).forEach(r=>{ep(e,r)||e.push(r)}),e}function N1(t,n){return _v(n).filter(e=>!ep(t,e))}class L1{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=pv(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=mv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,e){return!!this.control&&this.control.hasError(n,e)}getError(n,e){return this.control?this.control.getError(n,e):null}}class sr extends L1{get formDirective(){return null}get path(){return null}}class ra extends L1{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class P1{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Er=(()=>{class t extends P1{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(D(ra,2))},t.\u0275dir=Ve({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&st("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[_t]}),t})(),V1=(()=>{class t extends P1{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(D(sr,10))},t.\u0275dir=Ve({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&st("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[_t]}),t})();function B1(t,n){return t?`with name: '${n}'`:`at index: ${n}`}const vv=!1,sd="VALID",np="INVALID",yu="PENDING",od="DISABLED";function bv(t){return(ip(t)?t.validators:t)||null}function wv(t,n){return(ip(n)?n.asyncValidators:t)||null}function ip(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class j1{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===sd}get invalid(){return this.status===np}get pending(){return this.status==yu}get disabled(){return this.status===od}get enabled(){return this.status!==od}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(F1(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(F1(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(N1(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(N1(n,this._rawAsyncValidators))}hasValidator(n){return ep(this._rawValidators,n)}hasAsyncValidator(n){return ep(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=yu,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=od,this.errors=null,this._forEachChild(i=>{i.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=sd,this._forEachChild(i=>{i.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===sd||this.status===yu)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?od:sd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=yu,this._hasOwnPendingAsyncValidator=!0;const e=k1(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent)}get(n){let e=n;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(n,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new Me,this.statusChanges=new Me}_calculateStatus(){return this._allControlsDisabled()?od:this.errors?np:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(yu)?yu:this._anyControlsHaveStatus(np)?np:sd}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){ip(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function CU(t){return Array.isArray(t)?pv(t):t||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function DU(t){return Array.isArray(t)?mv(t):t||null}(this._rawAsyncValidators)}}class Cv extends j1{constructor(n,e,i){super(bv(e),wv(i,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,i={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){(function $1(t,n,e){t._forEachChild((i,r)=>{if(void 0===e[r])throw new U(1002,vv?function wU(t,n){return`Must supply a value for form control ${B1(t,n)}`}(n,r):"")})})(this,!0,n),Object.keys(n).forEach(i=>{(function H1(t,n,e){const i=t.controls;if(!(n?Object.keys(i):i).length)throw new U(1e3,vv?function vU(t){return`\n    There are no form controls registered with this ${t?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(n):"");if(!i[e])throw new U(1001,vv?function bU(t,n){return`Cannot find form control ${B1(t,n)}`}(n,e):"")})(this,!0,i),this.controls[i].setValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(Object.keys(n).forEach(i=>{const r=this.controls[i];r&&r.patchValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((i,r)=>{i.reset(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,i)=>(n[i]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&n(i,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&n(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(n,e){let i=n;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}const vu=new Pe("CallSetDisabledState",{providedIn:"root",factory:()=>rp}),rp="always";function ad(t,n,e=rp){Dv(t,n),n.valueAccessor.writeValue(t.value),(t.disabled||"always"===e)&&n.valueAccessor.setDisabledState?.(t.disabled),function MU(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&U1(t,n)})}(t,n),function EU(t,n){const e=(i,r)=>{n.valueAccessor.writeValue(i),r&&n.viewToModelUpdate(i)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}(t,n),function SU(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&U1(t,n),"submit"!==t.updateOn&&t.markAsTouched()})}(t,n),function kU(t,n){if(n.valueAccessor.setDisabledState){const e=i=>{n.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}(t,n)}function ap(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function Dv(t,n){const e=function R1(t){return t._rawValidators}(t);null!==n.validator?t.setValidators(A1(e,n.validator)):"function"==typeof e&&t.setValidators([e]);const i=function x1(t){return t._rawAsyncValidators}(t);null!==n.asyncValidator?t.setAsyncValidators(A1(i,n.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]);const r=()=>t.updateValueAndValidity();ap(n._rawValidators,r),ap(n._rawAsyncValidators,r)}function U1(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const xU={provide:sr,useExisting:Ut(()=>up)},ld=(()=>Promise.resolve())();let up=(()=>{class t extends sr{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Me,this.form=new Cv({},pv(e),mv(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){ld.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),ad(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){ld.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){ld.then(()=>{const i=this._findContainer(e.path),r=new Cv({});(function Y1(t,n){Dv(t,n)})(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){ld.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){ld.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,function z1(t,n){t._syncPendingControls(),n.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return t.\u0275fac=function(e){return new(e||t)(D(gi,10),D(ia,10),D(vu,8))},t.\u0275dir=Ve({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&F("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Kt([xU]),_t]}),t})();function q1(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}function W1(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const G1=class extends j1{constructor(n=null,e,i){super(bv(e),wv(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ip(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=W1(n)?n.value:n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){q1(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){q1(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){W1(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},LU={provide:ra,useExisting:Ut(()=>_r)},K1=(()=>Promise.resolve())();let _r=(()=>{class t extends ra{constructor(e,i,r,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new G1,this._registered=!1,this.update=new Me,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function Mv(t,n){if(!n)return null;let e,i,r;return Array.isArray(n),n.forEach(s=>{s.constructor===Ps?e=s:function AU(t){return Object.getPrototypeOf(t.constructor)===Ua}(s)?i=s:r=s}),r||i||e||null}(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function kv(t,n){if(!t.hasOwnProperty("model"))return!1;const e=t.model;return!!e.isFirstChange()||!Object.is(n,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ad(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){K1.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&_u(i);K1.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function sp(t,n){return[...n.path,t]}(e,this._parent):[e]}}return t.\u0275fac=function(e){return new(e||t)(D(sr,9),D(gi,10),D(ia,10),D(Sr,10),D(Co,8),D(vu,8))},t.\u0275dir=Ve({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Kt([LU]),_t,Hi]}),t})(),J1=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ve({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const PU={provide:Sr,useExisting:Ut(()=>cp),multi:!0};let cp=(()=>{class t extends Ua{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275dir=Ve({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&F("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[Kt([PU]),_t]}),t})(),X1=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=_i({type:t}),t.\u0275inj=ai({}),t})();const qU={provide:Sr,useExisting:Ut(()=>Ya),multi:!0};function oE(t,n){return null==t?`${n}`:(n&&"object"==typeof n&&(n="Object"),`${t}: ${n}`.slice(0,50))}let Ya=(()=>{class t extends Ua{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const r=oE(this._getOptionId(e),e);this.setProperty("value",r)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){const i=function WU(t){return t.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i):e}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275dir=Ve({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,i){1&e&&F("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Kt([qU]),_t]}),t})(),ud=(()=>{class t{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(oE(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(D(zt),D(kn),D(Ya,9))},t.\u0275dir=Ve({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const GU={provide:Sr,useExisting:Ut(()=>Iv),multi:!0};function aE(t,n){return null==t?`${n}`:("string"==typeof n&&(n=`'${n}'`),n&&"object"==typeof n&&(n="Object"),`${t}: ${n}`.slice(0,50))}let Iv=(()=>{class t extends Ua{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let i;if(this.value=e,Array.isArray(e)){const r=e.map(s=>this._getOptionId(s));i=(s,o)=>{s._setSelected(r.indexOf(o.toString())>-1)}}else i=(r,s)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{const r=[],s=i.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const u=this._getOptionValue(o[a].value);r.push(u)}}else{const o=i.options;for(let a=0;a<o.length;a++){const l=o[a];if(l.selected){const u=this._getOptionValue(l.value);r.push(u)}}}this.value=r,e(r)}}_registerOption(e){const i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){const i=function ZU(t){return t.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275dir=Ve({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,i){1&e&&F("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Kt([GU]),_t]}),t})(),cd=(()=>{class t{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(aE(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(aE(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(D(zt),D(kn),D(Iv,9))},t.\u0275dir=Ve({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})(),rY=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=_i({type:t}),t.\u0275inj=ai({imports:[X1]}),t})(),oY=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:vu,useValue:e.callSetDisabledState??rp}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=_i({type:t}),t.\u0275inj=ai({imports:[rY]}),t})();function qe(...t){return Vn(t,oi(t))}class yi extends It{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){const{hasError:n,thrownError:e,_value:i}=this;if(n)throw e;return this._throwIfClosed(),i}next(n){super.next(this._value=n)}}const dd=ge(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Rv(...t){const n=oi(t),e=Yn(t),{args:i,keys:r}=f1(t);if(0===i.length)return Vn([],n);const s=new We(function aY(t,n,e=Oe){return i=>{gE(n,()=>{const{length:r}=t,s=new Array(r);let o=r,a=r;for(let l=0;l<r;l++)gE(n,()=>{const u=Vn(t[l],n);let c=!1;u.subscribe(Xe(i,d=>{s[l]=d,c||(c=!0,a--),a||i.next(e(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}(i,n,r?o=>h1(r,o):Oe));return e?s.pipe(fv(e)):s}function gE(t,n,e){t?Tt(e,t,n):n()}function xv(...t){return function lY(){return Ye(1)}()(Vn(t,oi(t)))}function yE(t){return new We(n=>{R(t()).subscribe(n)})}function fd(t,n){const e=Q(t)?t:()=>t,i=r=>r.error(e());return new We(n?r=>n.schedule(i,0,r):i)}function Fv(){return pt((t,n)=>{let e=null;t._refCount++;const i=Xe(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(e=null);const r=t._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),n.unsubscribe()});t.subscribe(i),i.closed||(e=t.connect())})}class vE extends We{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,$t(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new ve;const e=this.getSubject();n.add(this.source.subscribe(Xe(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),n.closed&&(this._connection=null,n=ve.EMPTY)}return n}refCount(){return Fv()(this)}}function Vs(t,n){return pt((e,i)=>{let r=null,s=0,o=!1;const a=()=>o&&!r&&i.complete();e.subscribe(Xe(i,l=>{r?.unsubscribe();let u=0;const c=s++;R(t(l,c)).subscribe(r=Xe(i,d=>i.next(n?n(l,d,c,u++):d),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function Mo(t){return t<=0?()=>Pn:pt((n,e)=>{let i=0;n.subscribe(Xe(e,r=>{++i<=t&&(e.next(r),t<=i&&e.complete())}))})}function Mn(t,n){return pt((e,i)=>{let r=0;e.subscribe(Xe(i,s=>t.call(n,s,r++)&&i.next(s)))})}function dp(t){return pt((n,e)=>{let i=!1;n.subscribe(Xe(e,r=>{i=!0,e.next(r)},()=>{i||e.next(t),e.complete()}))})}function bE(t=cY){return pt((n,e)=>{let i=!1;n.subscribe(Xe(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(t())))})}function cY(){return new dd}function sa(t,n){const e=arguments.length>=2;return i=>i.pipe(t?Mn((r,s)=>t(r,s,i)):Oe,Mo(1),e?dp(n):bE(()=>new dd))}function qa(t,n){return Q(n)?Rt(t,n,1):Rt(t,1)}function Ui(t,n,e){const i=Q(t)||n||e?{next:t,error:n,complete:e}:t;return i?pt((r,s)=>{var o;null===(o=i.subscribe)||void 0===o||o.call(i);let a=!0;r.subscribe(Xe(s,l=>{var u;null===(u=i.next)||void 0===u||u.call(i,l),s.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),s.complete()},l=>{var u;a=!1,null===(u=i.error)||void 0===u||u.call(i,l),s.error(l)},()=>{var l,u;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(u=i.finalize)||void 0===u||u.call(i)}))}):Oe}function oa(t){return pt((n,e)=>{let s,i=null,r=!1;i=n.subscribe(Xe(e,void 0,void 0,o=>{s=R(t(o,oa(t)(n))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}function Nv(t,n){return pt(function dY(t,n,e,i,r){return(s,o)=>{let a=e,l=n,u=0;s.subscribe(Xe(o,c=>{const d=u++;l=a?t(l,c,d):(a=!0,c),i&&o.next(l)},r&&(()=>{a&&o.next(l),o.complete()})))}}(t,n,arguments.length>=2,!0))}function Lv(t){return t<=0?()=>Pn:pt((n,e)=>{let i=[];n.subscribe(Xe(e,r=>{i.push(r),t<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function wE(t,n){const e=arguments.length>=2;return i=>i.pipe(t?Mn((r,s)=>t(r,s,i)):Oe,Lv(1),e?dp(n):bE(()=>new dd))}function Pv(t){return pt((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}const ht="primary",hd=Symbol("RouteTitle");class pY{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function bu(t){return new pY(t)}function mY(t,n,e){const i=e.path.split("/");if(i.length>t.length||"full"===e.pathMatch&&(n.hasChildren()||i.length<t.length))return null;const r={};for(let s=0;s<i.length;s++){const o=i[s],a=t[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function Bs(t,n){const e=t?Object.keys(t):void 0,i=n?Object.keys(n):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!CE(t[r],n[r]))return!1;return!0}function CE(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;const e=[...t].sort(),i=[...n].sort();return e.every((r,s)=>i[s]===r)}return t===n}function DE(t){return Array.prototype.concat.apply([],t)}function TE(t){return t.length>0?t[t.length-1]:null}function Oi(t,n){for(const e in t)t.hasOwnProperty(e)&&n(t[e],e)}function aa(t){return Qg(t)?t:Hc(t)?Vn(Promise.resolve(t)):qe(t)}const fp=!1,gY={exact:function SE(t,n,e){if(!Wa(t.segments,n.segments)||!hp(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children)if(!t.children[i]||!SE(t.children[i],n.children[i],e))return!1;return!0},subset:EE},kE={exact:function yY(t,n){return Bs(t,n)},subset:function vY(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>CE(t[e],n[e]))},ignored:()=>!0};function ME(t,n,e){return gY[e.paths](t.root,n.root,e.matrixParams)&&kE[e.queryParams](t.queryParams,n.queryParams)&&!("exact"===e.fragment&&t.fragment!==n.fragment)}function EE(t,n,e){return OE(t,n,n.segments,e)}function OE(t,n,e,i){if(t.segments.length>e.length){const r=t.segments.slice(0,e.length);return!(!Wa(r,e)||n.hasChildren()||!hp(r,e,i))}if(t.segments.length===e.length){if(!Wa(t.segments,e)||!hp(t.segments,e,i))return!1;for(const r in n.children)if(!t.children[r]||!EE(t.children[r],n.children[r],i))return!1;return!0}{const r=e.slice(0,t.segments.length),s=e.slice(t.segments.length);return!!(Wa(t.segments,r)&&hp(t.segments,r,i)&&t.children[ht])&&OE(t.children[ht],n,s,i)}}function hp(t,n,e){return n.every((i,r)=>kE[e](t[r].parameters,i.parameters))}class la{constructor(n=new bt([],{}),e={},i=null){this.root=n,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bu(this.queryParams)),this._queryParamMap}toString(){return CY.serialize(this)}}class bt{constructor(n,e){this.segments=n,this.children=e,this.parent=null,Oi(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return pp(this)}}class pd{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=bu(this.parameters)),this._parameterMap}toString(){return RE(this)}}function Wa(t,n){return t.length===n.length&&t.every((e,i)=>e.path===n[i].path)}let md=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=z({token:t,factory:function(){return new Vv},providedIn:"root"}),t})();class Vv{parse(n){const e=new AY(n);return new la(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){const e=`/${_d(n.root,!0)}`,i=function kY(t){const n=Object.keys(t).map(e=>{const i=t[e];return Array.isArray(i)?i.map(r=>`${mp(e)}=${mp(r)}`).join("&"):`${mp(e)}=${mp(i)}`}).filter(e=>!!e);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${e}${i}${"string"==typeof n.fragment?`#${function DY(t){return encodeURI(t)}(n.fragment)}`:""}`}}const CY=new Vv;function pp(t){return t.segments.map(n=>RE(n)).join("/")}function _d(t,n){if(!t.hasChildren())return pp(t);if(n){const e=t.children[ht]?_d(t.children[ht],!1):"",i=[];return Oi(t.children,(r,s)=>{s!==ht&&i.push(`${s}:${_d(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function wY(t,n){let e=[];return Oi(t.children,(i,r)=>{r===ht&&(e=e.concat(n(i,r)))}),Oi(t.children,(i,r)=>{r!==ht&&(e=e.concat(n(i,r)))}),e}(t,(i,r)=>r===ht?[_d(t.children[ht],!1)]:[`${r}:${_d(i,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ht]?`${pp(t)}/${e[0]}`:`${pp(t)}/(${e.join("//")})`}}function IE(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function mp(t){return IE(t).replace(/%3B/gi,";")}function Bv(t){return IE(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _p(t){return decodeURIComponent(t)}function AE(t){return _p(t.replace(/\+/g,"%20"))}function RE(t){return`${Bv(t.path)}${function TY(t){return Object.keys(t).map(n=>`;${Bv(n)}=${Bv(t[n])}`).join("")}(t.parameters)}`}const MY=/^[^\/()?;=#]+/;function gp(t){const n=t.match(MY);return n?n[0]:""}const SY=/^[^=?&#]+/,OY=/^[^&#]+/;class AY{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new bt([],{}):new bt([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(i[ht]=new bt(n,e)),i}parseSegment(){const n=gp(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new U(4009,fp);return this.capture(n),new pd(_p(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const e=gp(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=gp(this.remaining);r&&(i=r,this.capture(i))}n[_p(e)]=_p(i)}parseQueryParam(n){const e=function EY(t){const n=t.match(SY);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const o=function IY(t){const n=t.match(OY);return n?n[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const r=AE(e),s=AE(i);if(n.hasOwnProperty(r)){let o=n[r];Array.isArray(o)||(o=[o],n[r]=o),o.push(s)}else n[r]=s}parseParens(n){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=gp(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new U(4010,fp);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):n&&(s=ht);const o=this.parseChildren();e[s]=1===Object.keys(o).length?o[ht]:new bt([],o),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new U(4011,fp)}}function Hv(t){return t.segments.length>0?new bt([],{[ht]:t}):t}function yp(t){const n={};for(const i of Object.keys(t.children)){const s=yp(t.children[i]);(s.segments.length>0||s.hasChildren())&&(n[i]=s)}return function RY(t){if(1===t.numberOfChildren&&t.children[ht]){const n=t.children[ht];return new bt(t.segments.concat(n.segments),n.children)}return t}(new bt(t.segments,n))}function Ga(t){return t instanceof la}const $v=!1;function gd(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function yd(t){return"object"==typeof t&&null!=t&&t.outlets}function wu(t,n,e,i,r){let o,s={};i&&Oi(i,(l,u)=>{s[u]=Array.isArray(l)?l.map(c=>`${c}`):`${l}`}),o=t===n?e:NE(t,n,e);const a=Hv(yp(o));return new la(a,s,r)}function NE(t,n,e){const i={};return Oi(t.children,(r,s)=>{i[s]=r===n?e:NE(r,n,e)}),new bt(t.segments,i)}class LE{constructor(n,e,i){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=i,n&&i.length>0&&gd(i[0]))throw new U(4003,$v&&"Root segment cannot have matrix parameters");const r=i.find(yd);if(r&&r!==TE(i))throw new U(4004,$v&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}function PE(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new LE(!0,0,t);let n=0,e=!1;const i=t.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Oi(s.outlets,(l,u)=>{a[u]="string"==typeof l?l.split("/"):l}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?e=!0:".."===a?n++:""!=a&&r.push(a))}),r):[...r,s]},[]);return new LE(e,n,i)}class Cu{constructor(n,e,i){this.segmentGroup=n,this.processChildren=e,this.index=i}}function VE(t,n,e){let i=t,r=n,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new U(4005,$v&&"Invalid number of '../'");r=i.segments.length}return new Cu(i,!1,r-s)}function jv(t,n,e){if(t||(t=new bt([],{})),0===t.segments.length&&t.hasChildren())return Du(t,n,e);const i=function VY(t,n,e){let i=0,r=n;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=e.length)return s;const o=t.segments[r],a=e[i];if(yd(a))break;const l=`${a}`,u=i<e.length-1?e[i+1]:null;if(r>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!HE(l,u,o))return s;i+=2}else{if(!HE(l,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(t,n,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const s=new bt(t.segments.slice(0,i.pathIndex),{});return s.children[ht]=new bt(t.segments.slice(i.pathIndex),t.children),Du(s,0,r)}return i.match&&0===r.length?new bt(t.segments,{}):i.match&&!t.hasChildren()?Uv(t,n,e):i.match?Du(t,0,r):Uv(t,n,e)}function Du(t,n,e){if(0===e.length)return new bt(t.segments,{});{const i=function PY(t){return yd(t[0])?t[0].outlets:{[ht]:t}}(e),r={};if(!i[ht]&&t.children[ht]&&1===t.numberOfChildren&&0===t.children[ht].segments.length){const s=Du(t.children[ht],n,e);return new bt(t.segments,s.children)}return Oi(i,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=jv(t.children[o],n,s))}),Oi(t.children,(s,o)=>{void 0===i[o]&&(r[o]=s)}),new bt(t.segments,r)}}function Uv(t,n,e){const i=t.segments.slice(0,n);let r=0;for(;r<e.length;){const s=e[r];if(yd(s)){const l=BY(s.outlets);return new bt(i,l)}if(0===r&&gd(e[0])){i.push(new pd(t.segments[n].path,BE(e[0]))),r++;continue}const o=yd(s)?s.outlets[ht]:`${s}`,a=r<e.length-1?e[r+1]:null;o&&a&&gd(a)?(i.push(new pd(o,BE(a))),r+=2):(i.push(new pd(o,{})),r++)}return new bt(i,{})}function BY(t){const n={};return Oi(t,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(n[i]=Uv(new bt([],{}),0,e))}),n}function BE(t){const n={};return Oi(t,(e,i)=>n[i]=`${e}`),n}function HE(t,n,e){return t==e.path&&Bs(n,e.parameters)}const vd="imperative";class Hs{constructor(n,e){this.id=n,this.url=e}}class Yv extends Hs{constructor(n,e,i="imperative",r=null){super(n,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ua extends Hs{constructor(n,e,i){super(n,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class vp extends Hs{constructor(n,e,i,r){super(n,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class bp extends Hs{constructor(n,e,i,r){super(n,e),this.reason=i,this.code=r,this.type=16}}class zv extends Hs{constructor(n,e,i,r){super(n,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class HY extends Hs{constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $Y extends Hs{constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jY extends Hs{constructor(n,e,i,r,s){super(n,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class UY extends Hs{constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class YY extends Hs{constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zY{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class qY{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class WY{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class GY{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ZY{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class QY{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $E{constructor(n,e,i){this.routerEvent=n,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let XY=(()=>{class t{createUrlTree(e,i,r,s,o,a){const u=function FY(t,n,e,i,r){if(0===e.length)return wu(n.root,n.root,n.root,i,r);const s=PE(e);return s.toRoot()?wu(n.root,n.root,new bt([],{}),i,r):function o(l){const u=function LY(t,n,e,i){return t.isAbsolute?new Cu(n.root,!0,0):-1===i?new Cu(e,e===n.root,0):VE(e,i+(gd(t.commands[0])?0:1),t.numberOfDoubleDots)}(s,n,t.snapshot?._urlSegment,l),c=u.processChildren?Du(u.segmentGroup,u.index,s.commands):jv(u.segmentGroup,u.index,s.commands);return wu(n.root,u.segmentGroup,c,i,r)}(t.snapshot?._lastPathIndex)}(e||i.root,r,s,o,a);return u}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})(),t4=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=z({token:t,factory:function(n){return XY.\u0275fac(n)},providedIn:"root"}),t})();class jE{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){const e=qv(n,this._root);return e?e.children.map(i=>i.value):[]}firstChild(n){const e=qv(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){const e=Wv(n,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==n)}pathFromRoot(n){return Wv(n,this._root).map(e=>e.value)}}function qv(t,n){if(t===n.value)return n;for(const e of n.children){const i=qv(t,e);if(i)return i}return null}function Wv(t,n){if(t===n.value)return[n];for(const e of n.children){const i=Wv(t,e);if(i.length)return i.unshift(n),i}return[]}class So{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}}function Tu(t){const n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}class UE extends jE{constructor(n,e){super(n),this.snapshot=e,Gv(this,n)}toString(){return this.snapshot.toString()}}function YE(t,n){const e=function n4(t,n){const o=new wp([],{},{},"",{},ht,n,null,t.root,-1,{});return new qE("",new So(o,[]))}(t,n),i=new yi([new pd("",{})]),r=new yi({}),s=new yi({}),o=new yi({}),a=new yi(""),l=new ku(i,r,o,a,s,ht,n,e.root);return l.snapshot=e.root,new UE(new So(l,[]),e)}class ku{constructor(n,e,i,r,s,o,a,l){this.url=n,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(Ae(u=>u[hd]))??qe(void 0),this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ae(n=>bu(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ae(n=>bu(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function zE(t,n="emptyOnly"){const e=t.pathFromRoot;let i=0;if("always"!==n)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function i4(t){return t.reduce((n,e)=>({params:{...n.params,...e.params},data:{...n.data,...e.data},resolve:{...e.data,...n.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class wp{get title(){return this.data?.[hd]}constructor(n,e,i,r,s,o,a,l,u,c,d){this.url=n,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=u,this._lastPathIndex=c,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=bu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class qE extends jE{constructor(n,e){super(e),this.url=n,Gv(this,e)}toString(){return WE(this._root)}}function Gv(t,n){n.value._routerState=t,n.children.forEach(e=>Gv(t,e))}function WE(t){const n=t.children.length>0?` { ${t.children.map(WE).join(", ")} } `:"";return`${t.value}${n}`}function Zv(t){if(t.snapshot){const n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,Bs(n.queryParams,e.queryParams)||t.queryParams.next(e.queryParams),n.fragment!==e.fragment&&t.fragment.next(e.fragment),Bs(n.params,e.params)||t.params.next(e.params),function _Y(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!Bs(t[e],n[e]))return!1;return!0}(n.url,e.url)||t.url.next(e.url),Bs(n.data,e.data)||t.data.next(e.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Qv(t,n){const e=Bs(t.params,n.params)&&function bY(t,n){return Wa(t,n)&&t.every((e,i)=>Bs(e.parameters,n[i].parameters))}(t.url,n.url);return e&&!(!t.parent!=!n.parent)&&(!t.parent||Qv(t.parent,n.parent))}function bd(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=n.value;const r=function s4(t,n,e){return n.children.map(i=>{for(const r of e.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return bd(t,i,r);return bd(t,i)})}(t,n,e);return new So(i,r)}{if(t.shouldAttach(n.value)){const s=t.retrieve(n.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=n.value,o.children=n.children.map(a=>bd(t,a)),o}}const i=function o4(t){return new ku(new yi(t.url),new yi(t.params),new yi(t.queryParams),new yi(t.fragment),new yi(t.data),t.outlet,t.component,t)}(n.value),r=n.children.map(s=>bd(t,s));return new So(i,r)}}const Kv="ngNavigationCancelingError";function GE(t,n){const{redirectTo:e,navigationBehaviorOptions:i}=Ga(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,r=ZE(!1,0,n);return r.url=e,r.navigationBehaviorOptions=i,r}function ZE(t,n,e){const i=new Error("NavigationCancelingError: "+(t||""));return i[Kv]=!0,i.cancellationCode=n,e&&(i.url=e),i}function QE(t){return KE(t)&&Ga(t.url)}function KE(t){return t&&t[Kv]}class a4{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new wd,this.attachRef=null}}let wd=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new a4,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Cp=!1;let Dp=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ht,this.activateEvents=new Me,this.deactivateEvents=new Me,this.attachEvents=new Me,this.detachEvents=new Me,this.parentContexts=Ct(wd),this.location=Ct(Si),this.changeDetector=Ct(Co),this.environmentInjector=Ct(_o)}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new U(4012,Cp);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new U(4012,Cp);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new U(4012,Cp);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new U(4013,Cp);this._activatedRoute=e;const r=this.location,o=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new l4(e,a,r.injector);if(i&&function u4(t){return!!t.resolveComponentFactory}(i)){const u=i.resolveComponentFactory(o);this.activated=r.createComponent(u,r.length,l)}else this.activated=r.createComponent(o,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ve({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Hi]}),t})();class l4{constructor(n,e,i){this.route=n,this.childContexts=e,this.parent=i}get(n,e){return n===ku?this.route:n===wd?this.childContexts:this.parent.get(n,e)}}let Jv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["ng-component"]],standalone:!0,features:[Kk],decls:1,vars:0,template:function(e,i){1&e&&Se(0,"router-outlet")},dependencies:[Dp],encapsulation:2}),t})();function JE(t,n){return t.providers&&!t._injector&&(t._injector=Th(t.providers,n,`Route: ${t.path}`)),t._injector??n}function eb(t){const n=t.children&&t.children.map(eb),e=n?{...t,children:n}:{...t};return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==ht&&(e.component=Jv),e}function Wr(t){return t.outlet||ht}function XE(t,n){const e=t.filter(i=>Wr(i)===n);return e.push(...t.filter(i=>Wr(i)!==n)),e}function Cd(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){const e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class p4{constructor(n,e,i,r){this.routeReuseStrategy=n,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(n){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,n),Zv(this.futureState.root),this.activateChildRoutes(e,i,n)}deactivateChildRoutes(n,e,i){const r=Tu(e);n.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Oi(r,(s,o)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(n,e,i){const r=n.value,s=e?e.value:null;if(r===s)if(r.component){const o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(n,e,o.children)}else this.deactivateChildRoutes(n,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){const i=e.getContext(n.value.outlet),r=i&&n.value.component?i.children:e,s=Tu(n);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);if(i&&i.outlet){const o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:o,route:n,contexts:a})}}deactivateRouteAndOutlet(n,e){const i=e.getContext(n.value.outlet),r=i&&n.value.component?i.children:e,s=Tu(n);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(n,e,i){const r=Tu(e);n.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new QY(s.value.snapshot))}),n.children.length&&this.forwardEvent(new GY(n.value.snapshot))}activateRoutes(n,e,i){const r=n.value,s=e?e.value:null;if(Zv(r),r===s)if(r.component){const o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(n,e,o.children)}else this.activateChildRoutes(n,e,i);else if(r.component){const o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Zv(a.route.value),this.activateChildRoutes(n,null,o.children)}else{const a=Cd(r.snapshot),l=a?.get(Gl)??null;o.attachRef=null,o.route=r,o.resolver=l,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(n,null,o.children)}}else this.activateChildRoutes(n,null,i)}}class eO{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class Tp{constructor(n,e){this.component=n,this.route=e}}function m4(t,n,e){const i=t._root;return Dd(i,n?n._root:null,e,[i.value])}function Mu(t,n){const e=Symbol(),i=n.get(t,e);return i===e?"function"!=typeof t||function TF(t){return null!==Mf(t)}(t)?n.get(t):t:i}function Dd(t,n,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Tu(n);return t.children.forEach(o=>{(function g4(t,n,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=n?n.value:null,a=e?e.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function y4(t,n,e){if("function"==typeof e)return e(t,n);switch(e){case"pathParamsChange":return!Wa(t.url,n.url);case"pathParamsOrQueryParamsChange":return!Wa(t.url,n.url)||!Bs(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Qv(t,n)||!Bs(t.queryParams,n.queryParams);default:return!Qv(t,n)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new eO(i)):(s.data=o.data,s._resolvedData=o._resolvedData),Dd(t,n,s.component?a?a.children:null:e,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Tp(a.outlet.component,o))}else o&&Td(n,a,r),r.canActivateChecks.push(new eO(i)),Dd(t,null,s.component?a?a.children:null:e,i,r)})(o,s[o.value.outlet],e,i.concat([o.value]),r),delete s[o.value.outlet]}),Oi(s,(o,a)=>Td(o,e.getContext(a),r)),r}function Td(t,n,e){const i=Tu(t),r=t.value;Oi(i,(s,o)=>{Td(s,r.component?n?n.children.getContext(o):null:n,e)}),e.canDeactivateChecks.push(new Tp(r.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,r))}function kd(t){return"function"==typeof t}function tb(t){return t instanceof dd||"EmptyError"===t?.name}const kp=Symbol("INITIAL_VALUE");function Su(){return Vs(t=>Rv(t.map(n=>n.pipe(Mo(1),function uY(...t){const n=oi(t);return pt((e,i)=>{(n?xv(t,e,n):xv(t,e)).subscribe(i)})}(kp)))).pipe(Ae(n=>{for(const e of n)if(!0!==e){if(e===kp)return kp;if(!1===e||e instanceof la)return e}return!0}),Mn(n=>n!==kp),Mo(1)))}function tO(t){return function Qe(...t){return sn(t)}(Ui(n=>{if(Ga(n))throw GE(0,n)}),Ae(n=>!0===n))}const nb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function nO(t,n,e,i,r){const s=ib(t,n,e);return s.matched?function N4(t,n,e,i){const r=n.canMatch;return r&&0!==r.length?qe(r.map(o=>{const a=Mu(o,t);return aa(function T4(t){return t&&kd(t.canMatch)}(a)?a.canMatch(n,e):t.runInContext(()=>a(n,e)))})).pipe(Su(),tO()):qe(!0)}(i=JE(n,i),n,e).pipe(Ae(o=>!0===o?s:{...nb})):qe(s)}function ib(t,n,e){if(""===n.path)return"full"===n.pathMatch&&(t.hasChildren()||e.length>0)?{...nb}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(n.matcher||mY)(e,t,n);if(!r)return{...nb};const s={};Oi(r.posParams,(a,l)=>{s[l]=a.path});const o=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function Mp(t,n,e,i){if(e.length>0&&function V4(t,n,e){return e.some(i=>Sp(t,n,i)&&Wr(i)!==ht)}(t,e,i)){const s=new bt(n,function P4(t,n,e,i){const r={};r[ht]=i,i._sourceSegment=t,i._segmentIndexShift=n.length;for(const s of e)if(""===s.path&&Wr(s)!==ht){const o=new bt([],{});o._sourceSegment=t,o._segmentIndexShift=n.length,r[Wr(s)]=o}return r}(t,n,i,new bt(e,t.children)));return s._sourceSegment=t,s._segmentIndexShift=n.length,{segmentGroup:s,slicedSegments:[]}}if(0===e.length&&function B4(t,n,e){return e.some(i=>Sp(t,n,i))}(t,e,i)){const s=new bt(t.segments,function L4(t,n,e,i,r){const s={};for(const o of i)if(Sp(t,e,o)&&!r[Wr(o)]){const a=new bt([],{});a._sourceSegment=t,a._segmentIndexShift=n.length,s[Wr(o)]=a}return{...r,...s}}(t,n,e,i,t.children));return s._sourceSegment=t,s._segmentIndexShift=n.length,{segmentGroup:s,slicedSegments:e}}const r=new bt(t.segments,t.children);return r._sourceSegment=t,r._segmentIndexShift=n.length,{segmentGroup:r,slicedSegments:e}}function Sp(t,n,e){return(!(t.hasChildren()||n.length>0)||"full"!==e.pathMatch)&&""===e.path}function iO(t,n,e,i){return!!(Wr(t)===i||i!==ht&&Sp(n,e,t))&&("**"===t.path||ib(n,t,e).matched)}function rO(t,n,e){return 0===n.length&&!t.children[e]}const Ep=!1;class Op{constructor(n){this.segmentGroup=n||null}}class sO{constructor(n){this.urlTree=n}}function Md(t){return fd(new Op(t))}function oO(t){return fd(new sO(t))}class U4{constructor(n,e,i,r,s){this.injector=n,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0}apply(){const n=Mp(this.urlTree.root,[],[],this.config).segmentGroup,e=new bt(n.segments,n.children);return this.expandSegmentGroup(this.injector,this.config,e,ht).pipe(Ae(s=>this.createUrlTree(yp(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(oa(s=>{if(s instanceof sO)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Op?this.noMatchError(s):s}))}match(n){return this.expandSegmentGroup(this.injector,this.config,n.root,ht).pipe(Ae(r=>this.createUrlTree(yp(r),n.queryParams,n.fragment))).pipe(oa(r=>{throw r instanceof Op?this.noMatchError(r):r}))}noMatchError(n){return new U(4002,Ep)}createUrlTree(n,e,i){const r=Hv(n);return new la(r,e,i)}expandSegmentGroup(n,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(n,e,i).pipe(Ae(s=>new bt([],s))):this.expandSegment(n,i,e,i.segments,r,!0)}expandChildren(n,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return Vn(r).pipe(qa(s=>{const o=i.children[s],a=XE(e,s);return this.expandSegmentGroup(n,a,o,s).pipe(Ae(l=>({segment:l,outlet:s})))}),Nv((s,o)=>(s[o.outlet]=o.segment,s),{}),wE())}expandSegment(n,e,i,r,s,o){return Vn(i).pipe(qa(a=>this.expandSegmentAgainstRoute(n,e,i,a,r,s,o).pipe(oa(u=>{if(u instanceof Op)return qe(null);throw u}))),sa(a=>!!a),oa((a,l)=>{if(tb(a))return rO(e,r,s)?qe(new bt([],{})):Md(e);throw a}))}expandSegmentAgainstRoute(n,e,i,r,s,o,a){return iO(r,e,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(n,e,r,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,e,i,r,s,o):Md(e):Md(e)}expandSegmentAgainstRouteUsingRedirect(n,e,i,r,s,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,i,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(n,e,i,r,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,e,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?oO(s):this.lineralizeSegments(i,s).pipe(Rt(o=>{const a=new bt(o,{});return this.expandSegment(n,a,e,o,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,e,i,r,s,o){const{matched:a,consumedSegments:l,remainingSegments:u,positionalParamSegments:c}=ib(e,r,s);if(!a)return Md(e);const d=this.applyRedirectCommands(l,r.redirectTo,c);return r.redirectTo.startsWith("/")?oO(d):this.lineralizeSegments(r,d).pipe(Rt(f=>this.expandSegment(n,e,i,f.concat(u),o,!1)))}matchSegmentAgainstRoute(n,e,i,r,s){return"**"===i.path?(n=JE(i,n),i.loadChildren?(i._loadedRoutes?qe({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(n,i)).pipe(Ae(a=>(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,new bt(r,{})))):qe(new bt(r,{}))):nO(e,i,r,n).pipe(Vs(({matched:o,consumedSegments:a,remainingSegments:l})=>o?this.getChildConfig(n=i._injector??n,i,r).pipe(Rt(c=>{const d=c.injector??n,f=c.routes,{segmentGroup:h,slicedSegments:p}=Mp(e,a,l,f),v=new bt(h.segments,h.children);if(0===p.length&&v.hasChildren())return this.expandChildren(d,f,v).pipe(Ae(P=>new bt(a,P)));if(0===f.length&&0===p.length)return qe(new bt(a,{}));const M=Wr(i)===s;return this.expandSegment(d,v,f,p,M?ht:s,!0).pipe(Ae(q=>new bt(a.concat(q.segments),q.children)))})):Md(e)))}getChildConfig(n,e,i){return e.children?qe({routes:e.children,injector:n}):e.loadChildren?void 0!==e._loadedRoutes?qe({routes:e._loadedRoutes,injector:e._loadedInjector}):function F4(t,n,e,i){const r=n.canLoad;return void 0===r||0===r.length?qe(!0):qe(r.map(o=>{const a=Mu(o,t);return aa(function b4(t){return t&&kd(t.canLoad)}(a)?a.canLoad(n,e):t.runInContext(()=>a(n,e)))})).pipe(Su(),tO())}(n,e,i).pipe(Rt(r=>r?this.configLoader.loadChildren(n,e).pipe(Ui(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function $4(t){return fd(ZE(Ep,3))}())):qe({routes:[],injector:n})}lineralizeSegments(n,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return qe(i);if(r.numberOfChildren>1||!r.children[ht])return n.redirectTo,fd(new U(4e3,Ep));r=r.children[ht]}}applyRedirectCommands(n,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),n,i)}applyRedirectCreateUrlTree(n,e,i,r){const s=this.createSegmentGroup(n,e.root,i,r);return new la(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){const i={};return Oi(n,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const a=r.substring(1);i[s]=e[a]}else i[s]=r}),i}createSegmentGroup(n,e,i,r){const s=this.createSegments(n,e.segments,i,r);let o={};return Oi(e.children,(a,l)=>{o[l]=this.createSegmentGroup(n,a,i,r)}),new bt(s,o)}createSegments(n,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(n,s,r):this.findOrReturn(s,i))}findPosParam(n,e,i){const r=i[e.path.substring(1)];if(!r)throw new U(4001,Ep);return r}findOrReturn(n,e){let i=0;for(const r of e){if(r.path===n.path)return e.splice(i),r;i++}return n}}class z4{}class G4{constructor(n,e,i,r,s,o,a){this.injector=n,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a}recognize(){const n=Mp(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,ht).pipe(Ae(e=>{if(null===e)return null;const i=new wp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ht,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new So(i,e),s=new qE(this.url,r);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(n){const e=n.value,i=zE(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),n.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(n,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(n,e,i):this.processSegment(n,e,i,i.segments,r)}processChildren(n,e,i){return Vn(Object.keys(i.children)).pipe(qa(r=>{const s=i.children[r],o=XE(e,r);return this.processSegmentGroup(n,o,s,r)}),Nv((r,s)=>r&&s?(r.push(...s),r):null),function fY(t,n=!1){return pt((e,i)=>{let r=0;e.subscribe(Xe(i,s=>{const o=t(s,r++);(o||n)&&i.next(s),!o&&i.complete()}))})}(r=>null!==r),dp(null),wE(),Ae(r=>{if(null===r)return null;const s=lO(r);return function Z4(t){t.sort((n,e)=>n.value.outlet===ht?-1:e.value.outlet===ht?1:n.value.outlet.localeCompare(e.value.outlet))}(s),s}))}processSegment(n,e,i,r,s){return Vn(e).pipe(qa(o=>this.processSegmentAgainstRoute(o._injector??n,o,i,r,s)),sa(o=>!!o),oa(o=>{if(tb(o))return rO(i,r,s)?qe([]):qe(null);throw o}))}processSegmentAgainstRoute(n,e,i,r,s){if(e.redirectTo||!iO(e,i,r,s))return qe(null);let o;if("**"===e.path){const a=r.length>0?TE(r).parameters:{},l=cO(i)+r.length;o=qe({snapshot:new wp(r,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,dO(e),Wr(e),e.component??e._loadedComponent??null,e,uO(i),l,fO(e)),consumedSegments:[],remainingSegments:[]})}else o=nO(i,e,r,n).pipe(Ae(({matched:a,consumedSegments:l,remainingSegments:u,parameters:c})=>{if(!a)return null;const d=cO(i)+l.length;return{snapshot:new wp(l,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,dO(e),Wr(e),e.component??e._loadedComponent??null,e,uO(i),d,fO(e)),consumedSegments:l,remainingSegments:u}}));return o.pipe(Vs(a=>{if(null===a)return qe(null);const{snapshot:l,consumedSegments:u,remainingSegments:c}=a;n=e._injector??n;const d=e._loadedInjector??n,f=function Q4(t){return t.children?t.children:t.loadChildren?t._loadedRoutes:[]}(e),{segmentGroup:h,slicedSegments:p}=Mp(i,u,c,f.filter(M=>void 0===M.redirectTo));if(0===p.length&&h.hasChildren())return this.processChildren(d,f,h).pipe(Ae(M=>null===M?null:[new So(l,M)]));if(0===f.length&&0===p.length)return qe([new So(l,[])]);const v=Wr(e)===s;return this.processSegment(d,f,h,p,v?ht:s).pipe(Ae(M=>null===M?null:[new So(l,M)]))}))}}function K4(t){const n=t.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function lO(t){const n=[],e=new Set;for(const i of t){if(!K4(i)){n.push(i);continue}const r=n.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):n.push(i)}for(const i of e){const r=lO(i.children);n.push(new So(i.value,r))}return n.filter(i=>!e.has(i))}function uO(t){let n=t;for(;n._sourceSegment;)n=n._sourceSegment;return n}function cO(t){let n=t,e=n._segmentIndexShift??0;for(;n._sourceSegment;)n=n._sourceSegment,e+=n._segmentIndexShift??0;return e-1}function dO(t){return t.data||{}}function fO(t){return t.resolve||{}}function hO(t){return"string"==typeof t.title||null===t.title}function rb(t){return Vs(n=>{const e=t(n);return e?Vn(e).pipe(Ae(()=>n)):qe(n)})}const Eu=new Pe("ROUTES");let sb=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Ct(HM)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return qe(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=aa(e.loadComponent()).pipe(Ae(mO),Ui(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),Pv(()=>{this.componentLoaders.delete(e)})),r=new vE(i,()=>new It).pipe(Fv());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return qe({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe(Ae(a=>{this.onLoadEndListener&&this.onLoadEndListener(i);let l,u,c=!1;Array.isArray(a)?u=a:(l=a.create(e).injector,u=DE(l.get(Eu,[],Je.Self|Je.Optional)));return{routes:u.map(eb),injector:l}}),Pv(()=>{this.childrenLoaders.delete(i)})),o=new vE(s,()=>new It).pipe(Fv());return this.childrenLoaders.set(i,o),o}loadModuleFactoryOrRoutes(e){return aa(e()).pipe(Ae(mO),Rt(i=>i instanceof Zk||Array.isArray(i)?qe(i):Vn(this.compiler.compileModuleAsync(i))))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function mO(t){return function sz(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Ap=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new It,this.configLoader=Ct(sb),this.environmentInjector=Ct(_o),this.urlSerializer=Ct(md),this.rootContexts=Ct(wd),this.navigationId=0,this.afterPreactivation=()=>qe(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new qY(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new zY(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e){return this.transitions=new yi({id:0,targetPageId:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:vd,restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Mn(i=>0!==i.id),Ae(i=>({...i,extractedUrl:e.urlHandlingStrategy.extract(i.rawUrl)})),Vs(i=>{let r=!1,s=!1;return qe(i).pipe(Ui(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Vs(o=>{const a=e.browserUrlTree.toString(),l=!e.navigated||o.extractedUrl.toString()!==a||a!==e.currentUrlTree.toString();if(!l&&"reload"!==(o.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const c="";return this.events.next(new bp(o.id,e.serializeUrl(i.rawUrl),c,0)),e.rawUrlTree=o.rawUrl,o.resolve(null),Pn}if(e.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return _O(o.source)&&(e.browserUrlTree=o.extractedUrl),qe(o).pipe(Vs(c=>{const d=this.transitions?.getValue();return this.events.next(new Yv(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),d!==this.transitions?.getValue()?Pn:Promise.resolve(c)}),function Y4(t,n,e,i){return Vs(r=>function j4(t,n,e,i,r){return new U4(t,n,e,i,r).apply()}(t,n,e,r.extractedUrl,i).pipe(Ae(s=>({...r,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,e.config),Ui(c=>{this.currentNavigation={...this.currentNavigation,finalUrl:c.urlAfterRedirects},i.urlAfterRedirects=c.urlAfterRedirects}),function X4(t,n,e,i,r){return Rt(s=>function W4(t,n,e,i,r,s,o="emptyOnly"){return new G4(t,n,e,i,r,o,s).recognize().pipe(Vs(a=>null===a?function q4(t){return new We(n=>n.error(t))}(new z4):qe(a)))}(t,n,e,s.urlAfterRedirects,i.serialize(s.urlAfterRedirects),i,r).pipe(Ae(o=>({...s,targetSnapshot:o}))))}(this.environmentInjector,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),Ui(c=>{if(i.targetSnapshot=c.targetSnapshot,"eager"===e.urlUpdateStrategy){if(!c.extras.skipLocationChange){const f=e.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl);e.setBrowserUrl(f,c)}e.browserUrlTree=c.urlAfterRedirects}const d=new HY(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}));if(l&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:c,extractedUrl:d,source:f,restoredState:h,extras:p}=o,v=new Yv(c,this.urlSerializer.serialize(d),f,h);this.events.next(v);const M=YE(d,this.rootComponentType).snapshot;return qe(i={...o,targetSnapshot:M,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const c="";return this.events.next(new bp(o.id,e.serializeUrl(i.extractedUrl),c,1)),e.rawUrlTree=o.rawUrl,o.resolve(null),Pn}}),Ui(o=>{const a=new $Y(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),Ae(o=>i={...o,guards:m4(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function M4(t,n){return Rt(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=e;return 0===o.length&&0===s.length?qe({...e,guardsResult:!0}):function S4(t,n,e,i){return Vn(t).pipe(Rt(r=>function x4(t,n,e,i,r){const s=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return s&&0!==s.length?qe(s.map(a=>{const l=Cd(n)??r,u=Mu(a,l);return aa(function D4(t){return t&&kd(t.canDeactivate)}(u)?u.canDeactivate(t,n,e,i):l.runInContext(()=>u(t,n,e,i))).pipe(sa())})).pipe(Su()):qe(!0)}(r.component,r.route,e,n,i)),sa(r=>!0!==r,!0))}(o,i,r,t).pipe(Rt(a=>a&&function v4(t){return"boolean"==typeof t}(a)?function E4(t,n,e,i){return Vn(n).pipe(qa(r=>xv(function I4(t,n){return null!==t&&n&&n(new WY(t)),qe(!0)}(r.route.parent,i),function O4(t,n){return null!==t&&n&&n(new ZY(t)),qe(!0)}(r.route,i),function R4(t,n,e){const i=n[n.length-1],s=n.slice(0,n.length-1).reverse().map(o=>function _4(t){const n=t.routeConfig?t.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:t,guards:n}:null}(o)).filter(o=>null!==o).map(o=>yE(()=>qe(o.guards.map(l=>{const u=Cd(o.node)??e,c=Mu(l,u);return aa(function C4(t){return t&&kd(t.canActivateChild)}(c)?c.canActivateChild(i,t):u.runInContext(()=>c(i,t))).pipe(sa())})).pipe(Su())));return qe(s).pipe(Su())}(t,r.path,e),function A4(t,n,e){const i=n.routeConfig?n.routeConfig.canActivate:null;if(!i||0===i.length)return qe(!0);const r=i.map(s=>yE(()=>{const o=Cd(n)??e,a=Mu(s,o);return aa(function w4(t){return t&&kd(t.canActivate)}(a)?a.canActivate(n,t):o.runInContext(()=>a(n,t))).pipe(sa())}));return qe(r).pipe(Su())}(t,r.route,e))),sa(r=>!0!==r,!0))}(i,s,t,n):qe(a)),Ae(a=>({...e,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),Ui(o=>{if(i.guardsResult=o.guardsResult,Ga(o.guardsResult))throw GE(0,o.guardsResult);const a=new jY(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),Mn(o=>!!o.guardsResult||(e.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),rb(o=>{if(o.guards.canActivateChecks.length)return qe(o).pipe(Ui(a=>{const l=new UY(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),Vs(a=>{let l=!1;return qe(a).pipe(function ez(t,n){return Rt(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return qe(e);let s=0;return Vn(r).pipe(qa(o=>function tz(t,n,e,i){const r=t.routeConfig,s=t._resolve;return void 0!==r?.title&&!hO(r)&&(s[hd]=r.title),function nz(t,n,e,i){const r=function iz(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===r.length)return qe({});const s={};return Vn(r).pipe(Rt(o=>function rz(t,n,e,i){const r=Cd(n)??i,s=Mu(t,r);return aa(s.resolve?s.resolve(n,e):r.runInContext(()=>s(n,e)))}(t[o],n,e,i).pipe(sa(),Ui(a=>{s[o]=a}))),Lv(1),function hY(t){return Ae(()=>t)}(s),oa(o=>tb(o)?Pn:fd(o)))}(s,t,n,i).pipe(Ae(o=>(t._resolvedData=o,t.data=zE(t,e).resolve,r&&hO(r)&&(t.data[hd]=r.title),null)))}(o.route,i,t,n)),Ui(()=>s++),Lv(1),Rt(o=>s===r.length?qe(e):Pn))})}(e.paramsInheritanceStrategy,this.environmentInjector),Ui({next:()=>l=!0,complete:()=>{l||(e.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),Ui(a=>{const l=new YY(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),rb(o=>{const a=l=>{const u=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(l.routeConfig).pipe(Ui(c=>{l.component=c}),Ae(()=>{})));for(const c of l.children)u.push(...a(c));return u};return Rv(a(o.targetSnapshot.root)).pipe(dp(),Mo(1))}),rb(()=>this.afterPreactivation()),Ae(o=>{const a=function r4(t,n,e){const i=bd(t,n._root,e?e._root:void 0);return new UE(i,n)}(e.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return i={...o,targetRouterState:a}}),Ui(o=>{e.currentUrlTree=o.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),e.routerState=o.targetRouterState,"deferred"===e.urlUpdateStrategy&&(o.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,o),e.browserUrlTree=o.urlAfterRedirects)}),((t,n,e)=>Ae(i=>(new p4(n,i.targetRouterState,i.currentRouterState,e).activate(t),i)))(this.rootContexts,e.routeReuseStrategy,o=>this.events.next(o)),Mo(1),Ui({next:o=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new ua(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{r=!0}}),Pv(()=>{r||s||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),oa(o=>{if(s=!0,KE(o)){QE(o)||(e.navigated=!0,e.restoreHistory(i,!0));const a=new vp(i.id,this.urlSerializer.serialize(i.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),QE(o)){const l=e.urlHandlingStrategy.merge(o.url,e.rawUrlTree),u={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||_O(i.source)};e.scheduleNavigation(l,vd,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{e.restoreHistory(i,!0);const a=new zv(i.id,this.urlSerializer.serialize(i.extractedUrl),o,i.targetSnapshot??void 0);this.events.next(a);try{i.resolve(e.errorHandler(o))}catch(l){i.reject(l)}}return Pn}))}))}cancelNavigationTransition(e,i,r){const s=new vp(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(s),e.resolve(!1)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function _O(t){return t!==vd}let gO=(()=>{class t{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===ht);return i}getResolvedTitleForRoute(e){return e.data[hd]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=z({token:t,factory:function(){return Ct(oz)},providedIn:"root"}),t})(),oz=(()=>{class t extends gO{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return t.\u0275fac=function(e){return new(e||t)(X(a1))},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),az=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=z({token:t,factory:function(){return Ct(uz)},providedIn:"root"}),t})();class lz{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}}let uz=(()=>{class t extends lz{}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Rp=new Pe("",{providedIn:"root",factory:()=>({})});let dz=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=z({token:t,factory:function(){return Ct(fz)},providedIn:"root"}),t})(),fz=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function hz(t){throw t}function pz(t,n,e){return n.parse("/")}const mz={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_z={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Yi=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Ct(G3),this.isNgZoneEnabled=!1,this.options=Ct(Rp,{optional:!0})||{},this.errorHandler=this.options.errorHandler||hz,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||pz,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Ct(dz),this.routeReuseStrategy=Ct(az),this.urlCreationStrategy=Ct(t4),this.titleStrategy=Ct(gO),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=DE(Ct(Eu,{optional:!0})??[]),this.navigationTransitions=Ct(Ap),this.urlSerializer=Ct(md),this.location=Ct($y),this.isNgZoneEnabled=Ct(pn)instanceof pn&&pn.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new la,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=YE(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),vd,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,r){const s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){const l={...r};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(e);this.scheduleNavigation(a,i,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(e){this.config=e.map(eb),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=i,u=l?this.currentUrlTree.fragment:o;let c=null;switch(a){case"merge":c={...this.currentUrlTree.queryParams,...s};break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=s||null}return null!==c&&(c=this.removeEmptyProps(c)),this.urlCreationStrategy.createUrlTree(r,this.routerState,this.currentUrlTree,e,c,u??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=Ga(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,vd,null,i)}navigate(e,i={skipLocationChange:!1}){return function gz(t){for(let n=0;n<t.length;n++){const e=t[n];if(null==e)throw new U(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...mz}:!1===i?{..._z}:i,Ga(e))return ME(this.currentUrlTree,e,r);const s=this.parseUrl(e);return ME(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}scheduleNavigation(e,i,r,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,u,c;return o?(a=o.resolve,l=o.reject,u=o.promise):u=new Promise((d,f)=>{a=d,l=f}),c="computed"===this.canceledNavigationResolution?r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:c,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:s,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),s={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===r?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),xp=(()=>{class t{constructor(e,i,r,s,o,a){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=o,this.locationStrategy=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new It;const l=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=e.events.subscribe(u=>{u instanceof ua&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=_u(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=_u(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=_u(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,r,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||r||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:function T0(t,n,e){return function iP(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?D0:yg}(n,e)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const r=this.renderer,s=this.el.nativeElement;null!==i?r.setAttribute(s,e,i):r.removeAttribute(s,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return t.\u0275fac=function(e){return new(e||t)(D(Yi),D(ku),function Wf(t){return function TN(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const e=t.attrs;if(e){const i=e.length;let r=0;for(;r<i;){const s=e[r];if(hD(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<i&&"string"==typeof e[r];)r++;else{if(s===n)return e[r+1];r+=2}}}return null}(Mi(),t)}("tabindex"),D(kn),D(zt),D(ja))},t.\u0275dir=Ve({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(e,i){1&e&&F("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&e&&qn("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[Hi]}),t})(),yO=(()=>{class t{get isActive(){return this._isActive}constructor(e,i,r,s,o){this.router=e,this.element=i,this.renderer=r,this.cdr=s,this.link=o,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Me,this.routerEventsSubscription=e.events.subscribe(a=>{a instanceof ua&&this.update()})}ngAfterContentInit(){qe(this.links.changes,qe(null)).pipe(Ye()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=Vn(e).pipe(Ye()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function yz(t){return!!t.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&e.isActive(r.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}}return t.\u0275fac=function(e){return new(e||t)(D(Yi),D(zt),D(kn),D(Co),D(xp,8))},t.\u0275dir=Ve({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(e,i,r){if(1&e&&function _M(t,n,e,i){const r=Nt();if(r.firstCreatePass){const s=Mi();yM(r,new pM(n,e,i),s.index),function E3(t,n){const e=t.contentQueries||(t.contentQueries=[]);n!==(e.length?e[e.length-1]:-1)&&e.push(t.queries.length-1,n)}(r,t),2==(2&e)&&(r.staticContentQueries=!0)}gM(r,J(),e)}(r,xp,5),2&e){let s;ue(s=ce())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Hi]}),t})();class vO{}let vz=(()=>{class t{constructor(e,i,r,s,o){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Mn(e=>e instanceof ua),qa(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=Th(s.providers,e,`Route: ${s.path}`));const o=s._injector??e,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Vn(r).pipe(Ye())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):qe(null);const s=r.pipe(Rt(o=>null===o?qe(void 0):(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,this.processRoutes(o.injector??e,o.routes))));return i.loadComponent&&!i._loadedComponent?Vn([s,this.loader.loadComponent(i)]).pipe(Ye()):s})}}return t.\u0275fac=function(e){return new(e||t)(X(Yi),X(HM),X(_o),X(vO),X(sb))},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const ab=new Pe("");let bO=(()=>{class t{constructor(e,i,r,s,o={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Yv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof ua&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof $E&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new $E(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return t.\u0275fac=function(e){!function eT(){throw new Error("invalid")}()},t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})();var Or=(()=>((Or=Or||{})[Or.COMPLETE=0]="COMPLETE",Or[Or.FAILED=1]="FAILED",Or[Or.REDIRECTING=2]="REDIRECTING",Or))();const Ou=!1;function ca(t,n){return{\u0275kind:t,\u0275providers:n}}const lb=new Pe("",{providedIn:"root",factory:()=>!1});function CO(){const t=Ct(dr);return n=>{const e=t.get(mu);if(n!==e.components[0])return;const i=t.get(Yi),r=t.get(DO);1===t.get(ub)&&i.initialNavigation(),t.get(TO,null,Je.Optional)?.setUpPreloading(),t.get(ab,null,Je.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const DO=new Pe(Ou?"bootstrap done indicator":"",{factory:()=>new It}),ub=new Pe(Ou?"initial navigation":"",{providedIn:"root",factory:()=>1});function Tz(){let t=[];return t=Ou?[{provide:sh,multi:!0,useFactory:()=>{const n=Ct(Yi);return()=>n.events.subscribe(e=>{console.group?.(`Router Event: ${e.constructor.name}`),console.log(function KY(t){if(!("type"in t))return`Unknown Router Event: ${t.constructor.name}`;switch(t.type){case 14:return`ActivationEnd(path: '${t.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${t.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${t.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${t.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state}, shouldActivate: ${t.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 2:return`NavigationCancel(id: ${t.id}, url: '${t.url}')`;case 16:return`NavigationSkipped(id: ${t.id}, url: '${t.url}')`;case 1:return`NavigationEnd(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${t.id}, url: '${t.url}', error: ${t.error})`;case 0:return`NavigationStart(id: ${t.id}, url: '${t.url}')`;case 6:return`ResolveEnd(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 5:return`ResolveStart(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 10:return`RouteConfigLoadEnd(path: ${t.route.path})`;case 9:return`RouteConfigLoadStart(path: ${t.route.path})`;case 4:return`RoutesRecognized(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 15:return`Scroll(anchor: '${t.anchor}', position: '${t.position?`${t.position[0]}, ${t.position[1]}`:null}')`}}(e)),console.log(e),console.groupEnd?.()})}}]:[],ca(1,t)}const TO=new Pe(Ou?"router preloader":"");function kz(t){return ca(0,[{provide:TO,useExisting:vz},{provide:vO,useExisting:t}])}const Sd=!1,kO=new Pe(Sd?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Mz=[$y,{provide:md,useClass:Vv},Yi,wd,{provide:ku,useFactory:function wO(t){return t.routerState.root},deps:[Yi]},sb,Sd?{provide:lb,useValue:!0}:[]];function Sz(){return new GM("Router",Yi)}let MO=(()=>{class t{constructor(e){}static forRoot(e,i){return{ngModule:t,providers:[Mz,Sd&&i?.enableTracing?Tz().\u0275providers:[],{provide:Eu,multi:!0,useValue:e},{provide:kO,useFactory:Az,deps:[[Yi,new Mc,new Sc]]},{provide:Rp,useValue:i||{}},i?.useHash?{provide:ja,useClass:NH}:{provide:ja,useClass:gS},{provide:ab,useFactory:()=>{const t=Ct(Q$),n=Ct(pn),e=Ct(Rp),i=Ct(Ap),r=Ct(md);return e.scrollOffset&&t.setOffset(e.scrollOffset),new bO(r,i,t,n,e)}},i?.preloadingStrategy?kz(i.preloadingStrategy).\u0275providers:[],{provide:GM,multi:!0,useFactory:Sz},i?.initialNavigation?Rz(i):[],[{provide:SO,useFactory:CO},{provide:WM,multi:!0,useExisting:SO}]]}}static forChild(e){return{ngModule:t,providers:[{provide:Eu,multi:!0,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)(X(kO,8))},t.\u0275mod=_i({type:t}),t.\u0275inj=ai({imports:[Jv]}),t})();function Az(t){if(Sd&&t)throw new U(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Rz(t){return["disabled"===t.initialNavigation?ca(3,[{provide:Eh,multi:!0,useFactory:()=>{const n=Ct(Yi);return()=>{n.setUpLocationChangeListener()}}},{provide:ub,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?ca(2,[{provide:ub,useValue:0},{provide:Eh,multi:!0,deps:[dr],useFactory:n=>{const e=n.get(xH,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const r=n.get(Yi),s=n.get(DO);(function bz(t,n){t.events.pipe(Mn(e=>e instanceof ua||e instanceof vp||e instanceof zv||e instanceof bp),Ae(e=>e instanceof ua||e instanceof bp?Or.COMPLETE:e instanceof vp&&(0===e.code||1===e.code)?Or.REDIRECTING:Or.FAILED),Mn(e=>e!==Or.REDIRECTING),Mo(1)).subscribe(()=>{n()})})(r,()=>{i(!0)}),n.get(Ap).afterPreactivation=()=>(i(!0),s.closed?qe(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const SO=new Pe(Sd?"Router Initializer":"");var b=de(861);class $s{constructor(n="",e="",i="text",r="",s=""){this.propertyID="",this.propertyName="",this.propertyType="text",this.inputPlaceholder="",this.tooltip="",this.propertyID=n,this.propertyName=e,this.propertyType=i,this.inputPlaceholder=r,this.tooltip=s}}function EO(t,n){if(n.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function js(t,n,e){EO(t,n),n.set(t,e)}function OO(t,n,e){if(!n.has(t))throw new TypeError("attempted to "+e+" private field on non-instance");return n.get(t)}function Qn(t,n,e){return function Fz(t,n,e){if(n.set)n.set.call(t,e);else{if(!n.writable)throw new TypeError("attempted to set read only private field");n.value=e}}(t,OO(t,n,"set"),e),e}function nn(t,n){return function Nz(t,n){return n.get?n.get.call(t):n.value}(t,OO(t,n,"get"))}function vi(t){var n,e,i,r=2;for(typeof Symbol<"u"&&(e=Symbol.asyncIterator,i=Symbol.iterator);r--;){if(e&&null!=(n=t[e]))return n.call(t);if(i&&null!=(n=t[i]))return new Fp(n.call(t));e="@@asyncIterator",i="@@iterator"}throw new TypeError("Object is not async iterable")}function Fp(t){function n(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var i=e.done;return Promise.resolve(e.value).then(function(r){return{value:r,done:i}})}return(Fp=function(i){this.s=i,this.n=i.next}).prototype={s:null,n:null,next:function(){return n(this.n.apply(this.s,arguments))},return:function(i){var r=this.s.return;return void 0===r?Promise.resolve({value:i,done:!0}):n(r.apply(this.s,arguments))},throw:function(i){var r=this.s.return;return void 0===r?Promise.reject(i):n(r.apply(this.s,arguments))}},new Fp(t)}class cb{constructor(n,e,i){this._id=n,this._name=e,this._term=i}get id(){return this._id}get name(){return this._name}get term(){return this._term}static deserialize(n){if("string"!=typeof n.id||"string"!=typeof n.name||"string"!=typeof n.term?.name)throw new Error("Invalid data");return new cb(n.id,n.name,n.term.name)}}class Np{constructor(n,e,i,r,s){this._id=n,this._moduleId=e,this._type=i,this._contentId=r,this._pointsPossible=s}get id(){return this._id}get moduleId(){return this._moduleId}get type(){return this._type}get contentId(){return this._contentId}get pointsPossible(){return this._pointsPossible??0}static deserialize(n){if("string"!=typeof n.id||"string"!=typeof n.module_id||"string"!=typeof n.type||typeof n.content_id<"u"&&"string"!=typeof n.content_id||typeof n.content_details?.points_possible<"u"&&"number"!=typeof n.content_details?.points_possible)throw new Error("Invalid data");return new Np(n.id,n.module_id,n.type,n.content_id,n.content_details?.points_possible)}}class db{constructor(n,e,i,r){this._id=n,this._quizId=e,this._studentId=i,this._attempt=r}get id(){return this._id}get quizId(){return this._quizId}get studentId(){return this._studentId}get attempt(){return this._attempt}static deserialize(n){if("string"!=typeof n.id||"string"!=typeof n.quiz_id||"string"!=typeof n.user_id||"number"!=typeof n.attempt||"string"!=typeof n.workflow_state)throw new Error("Invalid data");return new db(n.id,n.quiz_id,n.user_id,n.attempt-("untaken"==n.workflow_state?1:0))}}class Ed{constructor(n,e,i){this._id=n,this._name=e,this._email=i}get id(){return this._id}get name(){return this._name}get email(){return this._email??""}static deserialize(n){if("string"!=typeof n.id||"string"!=typeof n.name||typeof n.email<"u"&&"string"!=typeof n.email)throw new Error("Invalid data");return new Ed(n.id,n.name,n.email)}}class Iu{constructor(n,e,i){this._id=n,this._content=e,this._createdAt=i}get id(){return this._id}get content(){return this._content}get createdAt(){return this._createdAt}static deserialize(n){if("string"!=typeof n.id||"string"!=typeof n.comment||"string"!=typeof n.created_at)throw new Error("Invalid data");return new Iu(n.id,n.comment,new Date(n.created_at))}}function IO(t,n){this.v=t,this.k=n}function Od(t){var n,e;function i(s,o){try{var a=t[s](o),l=a.value,u=l instanceof IO;Promise.resolve(u?l.v:l).then(function(c){if(u){var d="return"===s?"return":"next";if(!l.k||c.done)return i(d,c);c=t[d](c).value}r(a.done?"return":"normal",c)},function(c){i("throw",c)})}catch(c){r("throw",c)}}function r(s,o){switch(s){case"return":n.resolve({value:o,done:!0});break;case"throw":n.reject(o);break;default:n.resolve({value:o,done:!1})}(n=n.next)?i(n.key,n.arg):e=null}this._invoke=function(s,o){return new Promise(function(a,l){var u={key:s,arg:o,resolve:a,reject:l,next:null};e?e=e.next=u:(n=e=u,i(s,o))})},"function"!=typeof t.return&&(this.return=void 0)}Od.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Od.prototype.next=function(t){return this._invoke("next",t)},Od.prototype.throw=function(t){return this._invoke("throw",t)},Od.prototype.return=function(t){return this._invoke("return",t)};class zi{constructor(n,e,i){this.data=i(n.data),this.nextURL=this.extractNextURL(n),this.requestHandler=e,this.dataProcessor=i}extractNextURL(n){const e=n.headers.link;if(e)for(const i of e.split(","))if(i.endsWith('rel="next"')){const r=i.split(";")[0];return r?.substring(1,r.length-1)}}hasNextPage(){return null!=this.nextURL}fetchNextPage(){var n=this;return(0,b.Z)(function*(){if(!n.nextURL)return;const e=yield n.requestHandler(n.nextURL);n.data.push(...n.dataProcessor(e.data)),n.nextURL=n.extractNextURL(e)})()}generator(){var n=this;return function Pz(t){return function(){return new Od(t.apply(this,arguments))}}(function*(){let e=0;for(;n.hasNextPage()||e!=n.data.length;){e==n.data.length&&(yield(t=n.fetchNextPage(),new IO(t,0)));const i=n.data[e++];if(!i)throw new Error("Index out of bound");yield i}var t})()}[Symbol.asyncIterator](){return this.generator()}}class Vz{constructor(n,e,i){this.data=i(n.data),this.extractURLs(n),this.requestHandler=e,this.dataProcessor=i}extractURLs(n){const e=n.headers.link;if(this.prevURL=void 0,this.nextURL=void 0,e)for(const i of e.split(","))if(i.endsWith('rel="next"')){const r=i.split(";")[0];this.nextURL=r?.substring(1,r.length-1)}else if(i.endsWith('rel="prev"')){const r=i.split(";")[0];this.prevURL=r?.substring(1,r.length-1)}}hasPrevPage(){return null!=this.prevURL}prev(){var n=this;return(0,b.Z)(function*(){if(!n.prevURL)return;const e=yield n.requestHandler(n.prevURL);n.data=n.dataProcessor(e.data),n.extractURLs(e)})()}hasNextPage(){return null!=this.nextURL}next(){var n=this;return(0,b.Z)(function*(){if(!n.nextURL)return;const e=yield n.requestHandler(n.nextURL);n.data=n.dataProcessor(e.data),n.extractURLs(e)})()}*generator(){for(const n of this.data)yield n}[Symbol.iterator](){return this.generator()}}Math.pow(10,8);var AO=6e4,RO=36e5;function cn(t,n){if(n.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+n.length+" present")}function Ii(t){if(null===t||!0===t||!1===t)return NaN;var n=Number(t);return isNaN(n)?n:n<0?Math.ceil(n):Math.floor(n)}function FO(t,n){var e;cn(1,arguments);var i=Ii(null!==(e=n?.additionalDigits)&&void 0!==e?e:2);if(2!==i&&1!==i&&0!==i)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!=typeof t&&"[object String]"!==Object.prototype.toString.call(t))return new Date(NaN);var s,r=function Wz(t){var i,n={},e=t.split(Lp.dateTimeDelimiter);if(e.length>2)return n;if(/:/.test(e[0])?i=e[0]:(n.date=e[0],i=e[1],Lp.timeZoneDelimiter.test(n.date)&&(n.date=t.split(Lp.timeZoneDelimiter)[0],i=t.substr(n.date.length,t.length))),i){var r=Lp.timezone.exec(i);r?(n.time=i.replace(r[1],""),n.timezone=r[1]):n.time=i}return n}(t);if(r.date){var o=function Gz(t,n){var e=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+n)+"})|(\\d{2}|[+-]\\d{"+(2+n)+"})$)"),i=t.match(e);if(!i)return{year:NaN,restDateString:""};var r=i[1]?parseInt(i[1]):null,s=i[2]?parseInt(i[2]):null;return{year:null===s?r:100*s,restDateString:t.slice((i[1]||i[2]).length)}}(r.date,i);s=function Zz(t,n){if(null===n)return new Date(NaN);var e=t.match(Yz);if(!e)return new Date(NaN);var i=!!e[4],r=Id(e[1]),s=Id(e[2])-1,o=Id(e[3]),a=Id(e[4]),l=Id(e[5])-1;if(i)return function nq(t,n,e){return n>=1&&n<=53&&e>=0&&e<=6}(0,a,l)?function Jz(t,n,e){var i=new Date(0);i.setUTCFullYear(t,0,4);var s=7*(n-1)+e+1-(i.getUTCDay()||7);return i.setUTCDate(i.getUTCDate()+s),i}(n,a,l):new Date(NaN);var u=new Date(0);return function eq(t,n,e){return n>=0&&n<=11&&e>=1&&e<=(Xz[n]||(NO(t)?29:28))}(n,s,o)&&function tq(t,n){return n>=1&&n<=(NO(t)?366:365)}(n,r)?(u.setUTCFullYear(n,s,Math.max(r,o)),u):new Date(NaN)}(o.restDateString,o.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);var u,a=s.getTime(),l=0;if(r.time&&(l=function Qz(t){var n=t.match(zz);if(!n)return NaN;var e=fb(n[1]),i=fb(n[2]),r=fb(n[3]);return function iq(t,n,e){return 24===t?0===n&&0===e:e>=0&&e<60&&n>=0&&n<60&&t>=0&&t<25}(e,i,r)?e*RO+i*AO+1e3*r:NaN}(r.time),isNaN(l)))return new Date(NaN);if(!r.timezone){var c=new Date(a+l),d=new Date(0);return d.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),d.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),d}return u=function Kz(t){if("Z"===t)return 0;var n=t.match(qz);if(!n)return 0;var e="+"===n[1]?-1:1,i=parseInt(n[2]),r=n[3]&&parseInt(n[3])||0;return function rq(t,n){return n>=0&&n<=59}(0,r)?e*(i*RO+r*AO):NaN}(r.timezone),isNaN(u)?new Date(NaN):new Date(a+l+u)}var Lp={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Yz=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,zz=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,qz=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Id(t){return t?parseInt(t):1}function fb(t){return t&&parseFloat(t.replace(",","."))||0}var Xz=[31,null,31,30,31,30,31,31,30,31,30,31];function NO(t){return t%400==0||t%4==0&&t%100!=0}function Ad(t){return(Ad="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(t)}function Kn(t){cn(1,arguments);var n=Object.prototype.toString.call(t);return t instanceof Date||"object"===Ad(t)&&"[object Date]"===n?new Date(t.getTime()):"number"==typeof t||"[object Number]"===n?new Date(t):(("string"==typeof t||"[object String]"===n)&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function Mt(t,n){for(var e=t<0?"-":"",i=Math.abs(t).toString();i.length<n;)i="0"+i;return e+i}function Pp(t,n){var e,i;cn(1,arguments);var r=Kn(t);if(isNaN(r.getTime()))throw new RangeError("Invalid time value");var s=String(null!==(e=n?.format)&&void 0!==e?e:"extended"),o=String(null!==(i=n?.representation)&&void 0!==i?i:"complete");if("extended"!==s&&"basic"!==s)throw new RangeError("format must be 'extended' or 'basic'");if("date"!==o&&"time"!==o&&"complete"!==o)throw new RangeError("representation must be 'date', 'time', or 'complete'");var a="",l="",u="extended"===s?"-":"",c="extended"===s?":":"";if("time"!==o){var d=Mt(r.getDate(),2),f=Mt(r.getMonth()+1,2),h=Mt(r.getFullYear(),4);a="".concat(h).concat(u).concat(f).concat(u).concat(d)}if("date"!==o){var p=r.getTimezoneOffset();if(0!==p){var v=Math.abs(p),M=Mt(Math.floor(v/60),2),I=Mt(v%60,2);l="".concat(p<0?"+":"-").concat(M,":").concat(I)}else l="Z";var rt=""===a?"":"T",dn=[Mt(r.getHours(),2),Mt(r.getMinutes(),2),Mt(r.getSeconds(),2)].join(c);a="".concat(a).concat(rt).concat(dn).concat(l)}return a}function Vp(t,n){cn(2,arguments);var e=Kn(t),i=Kn(n),r=e.getTime()-i.getTime();return r<0?-1:r>0?1:r}function LO(t,n){return function(){return t.apply(n,arguments)}}const{toString:PO}=Object.prototype,{getPrototypeOf:hb}=Object,pb=(t=Object.create(null),n=>{const e=PO.call(n);return t[e]||(t[e]=e.slice(8,-1).toLowerCase())}),Eo=t=>(t=t.toLowerCase(),n=>pb(n)===t),Bp=t=>n=>typeof n===t,{isArray:Au}=Array,Rd=Bp("undefined");var t;const VO=Eo("ArrayBuffer"),aq=Bp("string"),da=Bp("function"),BO=Bp("number"),mb=t=>null!==t&&"object"==typeof t,Hp=t=>{if("object"!==pb(t))return!1;const n=hb(t);return!(null!==n&&n!==Object.prototype&&null!==Object.getPrototypeOf(n)||Symbol.toStringTag in t||Symbol.iterator in t)},uq=Eo("Date"),cq=Eo("File"),dq=Eo("Blob"),fq=Eo("FileList"),mq=Eo("URLSearchParams");function xd(t,n,{allOwnKeys:e=!1}={}){if(null===t||typeof t>"u")return;let i,r;if("object"!=typeof t&&(t=[t]),Au(t))for(i=0,r=t.length;i<r;i++)n.call(null,t[i],i,t);else{const s=e?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(i=0;i<o;i++)a=s[i],n.call(null,t[a],a,t)}}function HO(t,n){n=n.toLowerCase();const e=Object.keys(t);let r,i=e.length;for(;i-- >0;)if(r=e[i],n===r.toLowerCase())return r;return null}const $O=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,jO=t=>!Rd(t)&&t!==$O,Dq=(t=>n=>t&&n instanceof t)(typeof Uint8Array<"u"&&hb(Uint8Array)),Mq=Eo("HTMLFormElement"),UO=(({hasOwnProperty:t})=>(n,e)=>t.call(n,e))(Object.prototype),Eq=Eo("RegExp"),YO=(t,n)=>{const e=Object.getOwnPropertyDescriptors(t),i={};xd(e,(r,s)=>{!1!==n(r,s,t)&&(i[s]=r)}),Object.defineProperties(t,i)},gb="abcdefghijklmnopqrstuvwxyz",zO="0123456789",qO={DIGIT:zO,ALPHA:gb,ALPHA_DIGIT:gb+gb.toUpperCase()+zO},W={isArray:Au,isArrayBuffer:VO,isBuffer:function sq(t){return null!==t&&!Rd(t)&&null!==t.constructor&&!Rd(t.constructor)&&da(t.constructor.isBuffer)&&t.constructor.isBuffer(t)},isFormData:t=>{const n="[object FormData]";return t&&("function"==typeof FormData&&t instanceof FormData||PO.call(t)===n||da(t.toString)&&t.toString()===n)},isArrayBufferView:function oq(t){let n;return n=typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&VO(t.buffer),n},isString:aq,isNumber:BO,isBoolean:t=>!0===t||!1===t,isObject:mb,isPlainObject:Hp,isUndefined:Rd,isDate:uq,isFile:cq,isBlob:dq,isRegExp:Eq,isFunction:da,isStream:t=>mb(t)&&da(t.pipe),isURLSearchParams:mq,isTypedArray:Dq,isFileList:fq,forEach:xd,merge:function _b(){const{caseless:t}=jO(this)&&this||{},n={},e=(i,r)=>{const s=t&&HO(n,r)||r;n[s]=Hp(n[s])&&Hp(i)?_b(n[s],i):Hp(i)?_b({},i):Au(i)?i.slice():i};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&xd(arguments[i],e);return n},extend:(t,n,e,{allOwnKeys:i}={})=>(xd(n,(r,s)=>{t[s]=e&&da(r)?LO(r,e):r},{allOwnKeys:i}),t),trim:t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:t=>(65279===t.charCodeAt(0)&&(t=t.slice(1)),t),inherits:(t,n,e,i)=>{t.prototype=Object.create(n.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:n.prototype}),e&&Object.assign(t.prototype,e)},toFlatObject:(t,n,e,i)=>{let r,s,o;const a={};if(n=n||{},null==t)return n;do{for(r=Object.getOwnPropertyNames(t),s=r.length;s-- >0;)o=r[s],(!i||i(o,t,n))&&!a[o]&&(n[o]=t[o],a[o]=!0);t=!1!==e&&hb(t)}while(t&&(!e||e(t,n))&&t!==Object.prototype);return n},kindOf:pb,kindOfTest:Eo,endsWith:(t,n,e)=>{t=String(t),(void 0===e||e>t.length)&&(e=t.length);const i=t.indexOf(n,e-=n.length);return-1!==i&&i===e},toArray:t=>{if(!t)return null;if(Au(t))return t;let n=t.length;if(!BO(n))return null;const e=new Array(n);for(;n-- >0;)e[n]=t[n];return e},forEachEntry:(t,n)=>{const i=(t&&t[Symbol.iterator]).call(t);let r;for(;(r=i.next())&&!r.done;){const s=r.value;n.call(t,s[0],s[1])}},matchAll:(t,n)=>{let e;const i=[];for(;null!==(e=t.exec(n));)i.push(e);return i},isHTMLForm:Mq,hasOwnProperty:UO,hasOwnProp:UO,reduceDescriptors:YO,freezeMethods:t=>{YO(t,(n,e)=>{if(da(t)&&-1!==["arguments","caller","callee"].indexOf(e))return!1;if(da(t[e])){if(n.enumerable=!1,"writable"in n)return void(n.writable=!1);n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+e+"'")})}})},toObjectSet:(t,n)=>{const e={},i=r=>{r.forEach(s=>{e[s]=!0})};return Au(t)?i(t):i(String(t).split(n)),e},toCamelCase:t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,i,r){return i.toUpperCase()+r}),noop:()=>{},toFiniteNumber:(t,n)=>(t=+t,Number.isFinite(t)?t:n),findKey:HO,global:$O,isContextDefined:jO,ALPHABET:qO,generateString:(t=16,n=qO.ALPHA_DIGIT)=>{let e="";const{length:i}=n;for(;t--;)e+=n[Math.random()*i|0];return e},isSpecCompliantForm:function Fq(t){return!!(t&&da(t.append)&&"FormData"===t[Symbol.toStringTag]&&t[Symbol.iterator])},toJSONObject:t=>{const n=new Array(10),e=(i,r)=>{if(mb(i)){if(n.indexOf(i)>=0)return;if(!("toJSON"in i)){n[r]=i;const s=Au(i)?[]:{};return xd(i,(o,a)=>{const l=e(o,r+1);!Rd(l)&&(s[a]=l)}),n[r]=void 0,s}}return i};return e(t,0)}};function Ru(t,n,e,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=t,this.name="AxiosError",n&&(this.code=n),e&&(this.config=e),i&&(this.request=i),r&&(this.response=r)}W.inherits(Ru,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:W.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const WO=Ru.prototype,GO={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{GO[t]={value:t}}),Object.defineProperties(Ru,GO),Object.defineProperty(WO,"isAxiosError",{value:!0}),Ru.from=(t,n,e,i,r,s)=>{const o=Object.create(WO);return W.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>"isAxiosError"!==a),Ru.call(o,t.message,n,e,i,r),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const rn=Ru;function yb(t){return W.isPlainObject(t)||W.isArray(t)}function QO(t){return W.endsWith(t,"[]")?t.slice(0,-2):t}function KO(t,n,e){return t?t.concat(n).map(function(r,s){return r=QO(r),!e&&s?"["+r+"]":r}).join(e?".":""):n}const Lq=W.toFlatObject(W,{},null,function(n){return/^is[A-Z]/.test(n)}),$p=function Pq(t,n,e){if(!W.isObject(t))throw new TypeError("target must be an object");n=n||new FormData;const i=(e=W.toFlatObject(e,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,M){return!W.isUndefined(M[v])})).metaTokens,r=e.visitor||c,s=e.dots,o=e.indexes,l=(e.Blob||typeof Blob<"u"&&Blob)&&W.isSpecCompliantForm(n);if(!W.isFunction(r))throw new TypeError("visitor must be a function");function u(p){if(null===p)return"";if(W.isDate(p))return p.toISOString();if(!l&&W.isBlob(p))throw new rn("Blob is not supported. Use a Buffer instead.");return W.isArrayBuffer(p)||W.isTypedArray(p)?l&&"function"==typeof Blob?new Blob([p]):Buffer.from(p):p}function c(p,v,M){let I=p;if(p&&!M&&"object"==typeof p)if(W.endsWith(v,"{}"))v=i?v:v.slice(0,-2),p=JSON.stringify(p);else if(W.isArray(p)&&function Nq(t){return W.isArray(t)&&!t.some(yb)}(p)||(W.isFileList(p)||W.endsWith(v,"[]"))&&(I=W.toArray(p)))return v=QO(v),I.forEach(function(P,oe){!W.isUndefined(P)&&null!==P&&n.append(!0===o?KO([v],oe,s):null===o?v:v+"[]",u(P))}),!1;return!!yb(p)||(n.append(KO(M,v,s),u(p)),!1)}const d=[],f=Object.assign(Lq,{defaultVisitor:c,convertValue:u,isVisitable:yb});if(!W.isObject(t))throw new TypeError("data must be an object");return function h(p,v){if(!W.isUndefined(p)){if(-1!==d.indexOf(p))throw Error("Circular reference detected in "+v.join("."));d.push(p),W.forEach(p,function(I,q){!0===(!(W.isUndefined(I)||null===I)&&r.call(n,I,W.isString(q)?q.trim():q,v,f))&&h(I,v?v.concat(q):[q])}),d.pop()}}(t),n};function JO(t){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return n[i]})}function XO(t,n){this._pairs=[],t&&$p(t,this,n)}const eI=XO.prototype;eI.append=function(n,e){this._pairs.push([n,e])},eI.toString=function(n){const e=n?function(i){return n.call(this,i,JO)}:JO;return this._pairs.map(function(r){return e(r[0])+"="+e(r[1])},"").join("&")};const tI=XO;function Vq(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function nI(t,n,e){if(!n)return t;const i=e&&e.encode||Vq,r=e&&e.serialize;let s;if(s=r?r(n,e):W.isURLSearchParams(n)?n.toString():new tI(n,e).toString(i),s){const o=t.indexOf("#");-1!==o&&(t=t.slice(0,o)),t+=(-1===t.indexOf("?")?"?":"&")+s}return t}const iI=class Bq{constructor(){this.handlers=[]}use(n,e,i){return this.handlers.push({fulfilled:n,rejected:e,synchronous:!!i&&i.synchronous,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){W.forEach(this.handlers,function(i){null!==i&&n(i)})}},rI={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Hq=typeof URLSearchParams<"u"?URLSearchParams:tI,$q=typeof FormData<"u"?FormData:null,jq=typeof Blob<"u"?Blob:null,Uq=(()=>{let t;return(!(typeof navigator<"u")||"ReactNative"!==(t=navigator.product)&&"NativeScript"!==t&&"NS"!==t)&&typeof window<"u"&&typeof document<"u"})(),Us={isBrowser:!0,classes:{URLSearchParams:Hq,FormData:$q,Blob:jq},isStandardBrowserEnv:Uq,isStandardBrowserWebWorkerEnv:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,protocols:["http","https","file","blob","url","data"]},sI=function Gq(t){function n(e,i,r,s){let o=e[s++];const a=Number.isFinite(+o),l=s>=e.length;return o=!o&&W.isArray(r)?r.length:o,l?(r[o]=W.hasOwnProp(r,o)?[r[o],i]:i,!a):((!r[o]||!W.isObject(r[o]))&&(r[o]=[]),n(e,i,r[o],s)&&W.isArray(r[o])&&(r[o]=function Wq(t){const n={},e=Object.keys(t);let i;const r=e.length;let s;for(i=0;i<r;i++)s=e[i],n[s]=t[s];return n}(r[o])),!a)}if(W.isFormData(t)&&W.isFunction(t.entries)){const e={};return W.forEachEntry(t,(i,r)=>{n(function qq(t){return W.matchAll(/\w+|\[(\w*)]/g,t).map(n=>"[]"===n[0]?"":n[1]||n[0])}(i),r,e,0)}),e}return null},Zq={"Content-Type":void 0},jp={transitional:rI,adapter:["xhr","http"],transformRequest:[function(n,e){const i=e.getContentType()||"",r=i.indexOf("application/json")>-1,s=W.isObject(n);if(s&&W.isHTMLForm(n)&&(n=new FormData(n)),W.isFormData(n))return r&&r?JSON.stringify(sI(n)):n;if(W.isArrayBuffer(n)||W.isBuffer(n)||W.isStream(n)||W.isFile(n)||W.isBlob(n))return n;if(W.isArrayBufferView(n))return n.buffer;if(W.isURLSearchParams(n))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let a;if(s){if(i.indexOf("application/x-www-form-urlencoded")>-1)return function zq(t,n){return $p(t,new Us.classes.URLSearchParams,Object.assign({visitor:function(e,i,r,s){return Us.isNode&&W.isBuffer(e)?(this.append(i,e.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},n))}(n,this.formSerializer).toString();if((a=W.isFileList(n))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return $p(a?{"files[]":n}:n,l&&new l,this.formSerializer)}}return s||r?(e.setContentType("application/json",!1),function Qq(t,n,e){if(W.isString(t))try{return(n||JSON.parse)(t),W.trim(t)}catch(i){if("SyntaxError"!==i.name)throw i}return(e||JSON.stringify)(t)}(n)):n}],transformResponse:[function(n){const e=this.transitional||jp.transitional,i=e&&e.forcedJSONParsing,r="json"===this.responseType;if(n&&W.isString(n)&&(i&&!this.responseType||r)){const o=!(e&&e.silentJSONParsing)&&r;try{return JSON.parse(n)}catch(a){if(o)throw"SyntaxError"===a.name?rn.from(a,rn.ERR_BAD_RESPONSE,this,null,this.response):a}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Us.classes.FormData,Blob:Us.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};W.forEach(["delete","get","head"],function(n){jp.headers[n]={}}),W.forEach(["post","put","patch"],function(n){jp.headers[n]=W.merge(Zq)});const vb=jp,Kq=W.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),oI=Symbol("internals");function Fd(t){return t&&String(t).trim().toLowerCase()}function Up(t){return!1===t||null==t?t:W.isArray(t)?t.map(Up):String(t)}function bb(t,n,e,i,r){if(W.isFunction(i))return i.call(this,n,e);if(r&&(n=e),W.isString(n)){if(W.isString(i))return-1!==n.indexOf(i);if(W.isRegExp(i))return i.test(n)}}class Yp{constructor(n){n&&this.set(n)}set(n,e,i){const r=this;function s(a,l,u){const c=Fd(l);if(!c)throw new Error("header name must be a non-empty string");const d=W.findKey(r,c);(!d||void 0===r[d]||!0===u||void 0===u&&!1!==r[d])&&(r[d||l]=Up(a))}const o=(a,l)=>W.forEach(a,(u,c)=>s(u,c,l));return W.isPlainObject(n)||n instanceof this.constructor?o(n,e):W.isString(n)&&(n=n.trim())&&!(t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim()))(n)?o((t=>{const n={};let e,i,r;return t&&t.split("\n").forEach(function(o){r=o.indexOf(":"),e=o.substring(0,r).trim().toLowerCase(),i=o.substring(r+1).trim(),!(!e||n[e]&&Kq[e])&&("set-cookie"===e?n[e]?n[e].push(i):n[e]=[i]:n[e]=n[e]?n[e]+", "+i:i)}),n})(n),e):null!=n&&s(e,n,i),this}get(n,e){if(n=Fd(n)){const i=W.findKey(this,n);if(i){const r=this[i];if(!e)return r;if(!0===e)return function Xq(t){const n=Object.create(null),e=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=e.exec(t);)n[i[1]]=i[2];return n}(r);if(W.isFunction(e))return e.call(this,r,i);if(W.isRegExp(e))return e.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,e){if(n=Fd(n)){const i=W.findKey(this,n);return!(!i||void 0===this[i]||e&&!bb(0,this[i],i,e))}return!1}delete(n,e){const i=this;let r=!1;function s(o){if(o=Fd(o)){const a=W.findKey(i,o);a&&(!e||bb(0,i[a],a,e))&&(delete i[a],r=!0)}}return W.isArray(n)?n.forEach(s):s(n),r}clear(n){const e=Object.keys(this);let i=e.length,r=!1;for(;i--;){const s=e[i];(!n||bb(0,this[s],s,n,!0))&&(delete this[s],r=!0)}return r}normalize(n){const e=this,i={};return W.forEach(this,(r,s)=>{const o=W.findKey(i,s);if(o)return e[o]=Up(r),void delete e[s];const a=n?function tW(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,e,i)=>e.toUpperCase()+i)}(s):String(s).trim();a!==s&&delete e[s],e[a]=Up(r),i[a]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const e=Object.create(null);return W.forEach(this,(i,r)=>{null!=i&&!1!==i&&(e[r]=n&&W.isArray(i)?i.join(", "):i)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,e])=>n+": "+e).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...e){const i=new this(n);return e.forEach(r=>i.set(r)),i}static accessor(n){const i=(this[oI]=this[oI]={accessors:{}}).accessors,r=this.prototype;function s(o){const a=Fd(o);i[a]||(function nW(t,n){const e=W.toCamelCase(" "+n);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+e,{value:function(r,s,o){return this[i].call(this,n,r,s,o)},configurable:!0})})}(r,o),i[a]=!0)}return W.isArray(n)?n.forEach(s):s(n),this}}Yp.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),W.freezeMethods(Yp.prototype),W.freezeMethods(Yp);const Oo=Yp;function wb(t,n){const e=this||vb,i=n||e,r=Oo.from(i.headers);let s=i.data;return W.forEach(t,function(a){s=a.call(e,s,r.normalize(),n?n.status:void 0)}),r.normalize(),s}function aI(t){return!(!t||!t.__CANCEL__)}function lI(t,n,e){rn.call(this,t??"canceled",rn.ERR_CANCELED,n,e),this.name="CanceledError"}W.inherits(lI,rn,{__CANCEL__:!0});const zp=lI,rW=Us.isStandardBrowserEnv?{write:function(e,i,r,s,o,a){const l=[];l.push(e+"="+encodeURIComponent(i)),W.isNumber(r)&&l.push("expires="+new Date(r).toGMTString()),W.isString(s)&&l.push("path="+s),W.isString(o)&&l.push("domain="+o),!0===a&&l.push("secure"),document.cookie=l.join("; ")},read:function(e){const i=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function uI(t,n){return t&&!function sW(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}(n)?function oW(t,n){return n?t.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):t}(t,n):n}const aW=Us.isStandardBrowserEnv?function(){const n=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a");let i;function r(s){let o=s;return n&&(e.setAttribute("href",o),o=e.href),e.setAttribute("href",o),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:"/"===e.pathname.charAt(0)?e.pathname:"/"+e.pathname}}return i=r(window.location.href),function(o){const a=W.isString(o)?r(o):o;return a.protocol===i.protocol&&a.host===i.host}}():function(){return!0},cW=function uW(t,n){t=t||10;const e=new Array(t),i=new Array(t);let o,r=0,s=0;return n=void 0!==n?n:1e3,function(l){const u=Date.now(),c=i[s];o||(o=u),e[r]=l,i[r]=u;let d=s,f=0;for(;d!==r;)f+=e[d++],d%=t;if(r=(r+1)%t,r===s&&(s=(s+1)%t),u-o<n)return;const h=c&&u-c;return h?Math.round(1e3*f/h):void 0}};function cI(t,n){let e=0;const i=cW(50,250);return r=>{const s=r.loaded,o=r.lengthComputable?r.total:void 0,a=s-e,l=i(a);e=s;const c={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&s<=o?(o-s)/l:void 0,event:r};c[n?"download":"upload"]=!0,t(c)}}const qp={http:null,xhr:typeof XMLHttpRequest<"u"&&function(t){return new Promise(function(e,i){let r=t.data;const s=Oo.from(t.headers).normalize(),o=t.responseType;let a;function l(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}W.isFormData(r)&&(Us.isStandardBrowserEnv||Us.isStandardBrowserWebWorkerEnv)&&s.setContentType(!1);let u=new XMLHttpRequest;if(t.auth){const h=t.auth.username||"",p=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(h+":"+p))}const c=uI(t.baseURL,t.url);function d(){if(!u)return;const h=Oo.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders());(function iW(t,n,e){const i=e.config.validateStatus;e.status&&i&&!i(e.status)?n(new rn("Request failed with status code "+e.status,[rn.ERR_BAD_REQUEST,rn.ERR_BAD_RESPONSE][Math.floor(e.status/100)-4],e.config,e.request,e)):t(e)})(function(I){e(I),l()},function(I){i(I),l()},{data:o&&"text"!==o&&"json"!==o?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:h,config:t,request:u}),u=null}if(u.open(t.method.toUpperCase(),nI(c,t.params,t.paramsSerializer),!0),u.timeout=t.timeout,"onloadend"in u?u.onloadend=d:u.onreadystatechange=function(){!u||4!==u.readyState||0===u.status&&(!u.responseURL||0!==u.responseURL.indexOf("file:"))||setTimeout(d)},u.onabort=function(){u&&(i(new rn("Request aborted",rn.ECONNABORTED,t,u)),u=null)},u.onerror=function(){i(new rn("Network Error",rn.ERR_NETWORK,t,u)),u=null},u.ontimeout=function(){let p=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";t.timeoutErrorMessage&&(p=t.timeoutErrorMessage),i(new rn(p,(t.transitional||rI).clarifyTimeoutError?rn.ETIMEDOUT:rn.ECONNABORTED,t,u)),u=null},Us.isStandardBrowserEnv){const h=(t.withCredentials||aW(c))&&t.xsrfCookieName&&rW.read(t.xsrfCookieName);h&&s.set(t.xsrfHeaderName,h)}void 0===r&&s.setContentType(null),"setRequestHeader"in u&&W.forEach(s.toJSON(),function(p,v){u.setRequestHeader(v,p)}),W.isUndefined(t.withCredentials)||(u.withCredentials=!!t.withCredentials),o&&"json"!==o&&(u.responseType=t.responseType),"function"==typeof t.onDownloadProgress&&u.addEventListener("progress",cI(t.onDownloadProgress,!0)),"function"==typeof t.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",cI(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=h=>{u&&(i(!h||h.type?new zp(null,t,u):h),u.abort(),u=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));const f=function lW(t){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return n&&n[1]||""}(c);f&&-1===Us.protocols.indexOf(f)?i(new rn("Unsupported protocol "+f+":",rn.ERR_BAD_REQUEST,t)):u.send(r||null)})}};W.forEach(qp,(t,n)=>{if(t){try{Object.defineProperty(t,"name",{value:n})}catch{}Object.defineProperty(t,"adapterName",{value:n})}});const dW={getAdapter:t=>{t=W.isArray(t)?t:[t];const{length:n}=t;let e,i;for(let r=0;r<n&&(e=t[r],!(i=W.isString(e)?qp[e.toLowerCase()]:e));r++);if(!i)throw!1===i?new rn(`Adapter ${e} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(W.hasOwnProp(qp,e)?`Adapter '${e}' is not available in the build`:`Unknown adapter '${e}'`);if(!W.isFunction(i))throw new TypeError("adapter is not a function");return i},adapters:qp};function Cb(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new zp(null,t)}function dI(t){return Cb(t),t.headers=Oo.from(t.headers),t.data=wb.call(t,t.transformRequest),-1!==["post","put","patch"].indexOf(t.method)&&t.headers.setContentType("application/x-www-form-urlencoded",!1),dW.getAdapter(t.adapter||vb.adapter)(t).then(function(i){return Cb(t),i.data=wb.call(t,t.transformResponse,i),i.headers=Oo.from(i.headers),i},function(i){return aI(i)||(Cb(t),i&&i.response&&(i.response.data=wb.call(t,t.transformResponse,i.response),i.response.headers=Oo.from(i.response.headers))),Promise.reject(i)})}const fI=t=>t instanceof Oo?t.toJSON():t;function xu(t,n){n=n||{};const e={};function i(u,c,d){return W.isPlainObject(u)&&W.isPlainObject(c)?W.merge.call({caseless:d},u,c):W.isPlainObject(c)?W.merge({},c):W.isArray(c)?c.slice():c}function r(u,c,d){return W.isUndefined(c)?W.isUndefined(u)?void 0:i(void 0,u,d):i(u,c,d)}function s(u,c){if(!W.isUndefined(c))return i(void 0,c)}function o(u,c){return W.isUndefined(c)?W.isUndefined(u)?void 0:i(void 0,u):i(void 0,c)}function a(u,c,d){return d in n?i(u,c):d in t?i(void 0,u):void 0}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,c)=>r(fI(u),fI(c),!0)};return W.forEach(Object.keys(t).concat(Object.keys(n)),function(c){const d=l[c]||r,f=d(t[c],n[c],c);W.isUndefined(f)&&d!==a||(e[c]=f)}),e}const hI="1.3.5",Db={};["object","boolean","number","function","string","symbol"].forEach((t,n)=>{Db[t]=function(i){return typeof i===t||"a"+(n<1?"n ":" ")+t}});const pI={};Db.transitional=function(n,e,i){function r(s,o){return"[Axios v"+hI+"] Transitional option '"+s+"'"+o+(i?". "+i:"")}return(s,o,a)=>{if(!1===n)throw new rn(r(o," has been removed"+(e?" in "+e:"")),rn.ERR_DEPRECATED);return e&&!pI[o]&&(pI[o]=!0,console.warn(r(o," has been deprecated since v"+e+" and will be removed in the near future"))),!n||n(s,o,a)}};const Tb={assertOptions:function fW(t,n,e){if("object"!=typeof t)throw new rn("options must be an object",rn.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let r=i.length;for(;r-- >0;){const s=i[r],o=n[s];if(o){const a=t[s],l=void 0===a||o(a,s,t);if(!0!==l)throw new rn("option "+s+" must be "+l,rn.ERR_BAD_OPTION_VALUE)}else if(!0!==e)throw new rn("Unknown option "+s,rn.ERR_BAD_OPTION)}},validators:Db},fa=Tb.validators;class Wp{constructor(n){this.defaults=n,this.interceptors={request:new iI,response:new iI}}request(n,e){"string"==typeof n?(e=e||{}).url=n:e=n||{},e=xu(this.defaults,e);const{transitional:i,paramsSerializer:r,headers:s}=e;let o;void 0!==i&&Tb.assertOptions(i,{silentJSONParsing:fa.transitional(fa.boolean),forcedJSONParsing:fa.transitional(fa.boolean),clarifyTimeoutError:fa.transitional(fa.boolean)},!1),null!=r&&(W.isFunction(r)?e.paramsSerializer={serialize:r}:Tb.assertOptions(r,{encode:fa.function,serialize:fa.function},!0)),e.method=(e.method||this.defaults.method||"get").toLowerCase(),o=s&&W.merge(s.common,s[e.method]),o&&W.forEach(["delete","get","head","post","put","patch","common"],p=>{delete s[p]}),e.headers=Oo.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(v){"function"==typeof v.runWhen&&!1===v.runWhen(e)||(l=l&&v.synchronous,a.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let c,f,d=0;if(!l){const p=[dI.bind(this),void 0];for(p.unshift.apply(p,a),p.push.apply(p,u),f=p.length,c=Promise.resolve(e);d<f;)c=c.then(p[d++],p[d++]);return c}f=a.length;let h=e;for(d=0;d<f;){const p=a[d++],v=a[d++];try{h=p(h)}catch(M){v.call(this,M);break}}try{c=dI.call(this,h)}catch(p){return Promise.reject(p)}for(d=0,f=u.length;d<f;)c=c.then(u[d++],u[d++]);return c}getUri(n){return nI(uI((n=xu(this.defaults,n)).baseURL,n.url),n.params,n.paramsSerializer)}}W.forEach(["delete","get","head","options"],function(n){Wp.prototype[n]=function(e,i){return this.request(xu(i||{},{method:n,url:e,data:(i||{}).data}))}}),W.forEach(["post","put","patch"],function(n){function e(i){return function(s,o,a){return this.request(xu(a||{},{method:n,headers:i?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Wp.prototype[n]=e(),Wp.prototype[n+"Form"]=e(!0)});const Gp=Wp;class kb{constructor(n){if("function"!=typeof n)throw new TypeError("executor must be a function.");let e;this.promise=new Promise(function(s){e=s});const i=this;this.promise.then(r=>{if(!i._listeners)return;let s=i._listeners.length;for(;s-- >0;)i._listeners[s](r);i._listeners=null}),this.promise.then=r=>{let s;const o=new Promise(a=>{i.subscribe(a),s=a}).then(r);return o.cancel=function(){i.unsubscribe(s)},o},n(function(s,o,a){i.reason||(i.reason=new zp(s,o,a),e(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){this.reason?n(this.reason):this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const e=this._listeners.indexOf(n);-1!==e&&this._listeners.splice(e,1)}static source(){let n;return{token:new kb(function(r){n=r}),cancel:n}}}const hW=kb,Mb={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Mb).forEach(([t,n])=>{Mb[n]=t});const _W=Mb,di=function mI(t){const n=new Gp(t),e=LO(Gp.prototype.request,n);return W.extend(e,Gp.prototype,n,{allOwnKeys:!0}),W.extend(e,n,null,{allOwnKeys:!0}),e.create=function(r){return mI(xu(t,r))},e}(vb);di.Axios=Gp,di.CanceledError=zp,di.CancelToken=hW,di.isCancel=aI,di.VERSION=hI,di.toFormData=$p,di.AxiosError=rn,di.Cancel=di.CanceledError,di.all=function(n){return Promise.all(n)},di.spread=function pW(t){return function(e){return t.apply(null,e)}},di.isAxiosError=function mW(t){return W.isObject(t)&&!0===t.isAxiosError},di.mergeConfig=xu,di.AxiosHeaders=Oo,di.formToJSON=t=>sI(W.isHTMLForm(t)?new FormData(t):t),di.HttpStatusCode=_W,di.default=di;const gW=di,yW=["head","options","put","post","patch","delete","get","request"];function Zp(t){if(null==t)return!1;if("boolean"==typeof t.isAxiosError&&t.isAxiosError){if(!t.response)return!0;const e=t.response.status;return null==e||e<400||e>=500}return!0}class Sb{}class vW{static getAxiosService(){const n=window.axiosProxy;return n?new Proxy({},{get(e,i){if("symbol"!=typeof i&&yW.includes(i))return(...r)=>n(i,...r)}}):gW}}class Eb{constructor(n,e,i,r){this._id=n,this._name=e,this._email=i,this._avatarURL=r}get id(){return this._id}get name(){return this._name}get email(){return this._email??""}get avatarURL(){return this._avatarURL??""}static deserialize(n){if("string"!=typeof n.id||"string"!=typeof n.name||typeof n.email<"u"&&"string"!=typeof n.email||typeof n.avatar_url<"u"&&"string"!=typeof n.avatar_url)throw new Error("Invalid data");return new Eb(n.id,n.name,n.email,n.avatar_url)}}class Qp{static convertAsyncIterableToList(n){return(0,b.Z)(function*(){const e=[];var s,i=!1,r=!1;try{for(var a,o=vi(n);i=!(a=yield o.next()).done;i=!1)e.push(a.value)}catch(l){r=!0,s=l}finally{try{i&&null!=o.return&&(yield o.return())}finally{if(r)throw s}}return e})()}}class Kp{constructor(n,e,i,r){this._id=n,this._title=e,this._assignmentId=i,this._pointsPossible=r}get id(){return this._id}get title(){return this._title}get assignmentId(){return this._assignmentId}get pointsPossible(){return this._pointsPossible}static deserialize(n){if("string"!=typeof n.id||"string"!=typeof n.title||"string"!=typeof n.assignment_id||"number"!=typeof n.points_possible)throw new Error("Invalid data");return new Kp(n.id,n.title,n.assignment_id,n.points_possible)}}class Ob{constructor(n,e,i,r){this._id=n,this._title=e,this._studentIds=i,this._lockAt=r}get id(){return this._id}get title(){return this._title}get studentIds(){return this._studentIds}get lockAt(){return this._lockAt}static deserialize(n){if("string"!=typeof n.id||"string"!=typeof n.title||"object"!=typeof n.student_ids||typeof n.lock_at<"u"&&"string"!=typeof n.lock_at||!Array.isArray(n.student_ids))throw new Error("Invalid data");return new Ob(n.id,n.title,n.student_ids,n.lock_at?FO(n.lock_at):void 0)}}class Ib{constructor(n,e){this._id=n,this._name=e}get id(){return this._id}get name(){return this._name}static deserialize(n){if("string"!=typeof n.id||"string"!=typeof n.name)throw new Error("Invalid data");return new Ib(n.id,n.name)}}class Ab{constructor(n,e){this._id=n,this._name=e}get id(){return this._id}get name(){return this._name}static deserialize(n){if("string"!=typeof n.id||"string"!=typeof n.name)throw new Error("Invalid data");return new Ab(n.id,n.name)}}class Rb{constructor(n,e){this._id=n,this._workflowState=e}get id(){return this._id}get workflowState(){return this._workflowState}static deserialize(n){if("string"!=typeof n.id||"string"!=typeof n.workflow_state)throw new Error("Invalid data");return new Rb(n.id,n.workflow_state)}}class Jp{static execute(n,e=function(){var o=(0,b.Z)(function*(a,l){return null==l});return function(a,l){return o.apply(this,arguments)}}(),i=5,r=250,s=2){return(0,b.Z)(function*(){let o=0,a=r;for(;;){let l,u;try{l=yield n()}catch(c){u=c}if(yield e(l,u)){if(null!=u)throw u;return l}if(!(o<i))throw u??new Error("Result of exponential backoff execution does not pass the checker");o++,console.log(`Retrying... wait for ${a} ms`),yield new Promise(c=>setTimeout(c,a)),a*=s}})()}}let Rn=(()=>{var t=new WeakMap,n=new WeakMap;class e{constructor(r){js(this,t,{writable:!0,value:void 0}),js(this,n,{writable:!0,value:void 0}),this.axiosService=r}hasCredentialConfigured(){return null!=nn(this,t)&&null!=nn(this,n)}configureCredential(r,s){var o=this;return(0,b.Z)(function*(){Qn(o,t,r),Qn(o,n,s);try{yield o.getUserInformation("self")}catch(a){return a}})()}clearCredential(){var r=this;return(0,b.Z)(function*(){Qn(r,t,void 0),Qn(r,n,void 0)})()}rawAPIRequest(r,s){var o=this;return(0,b.Z)(function*(){const a=function(){var l=(0,b.Z)(function*(){return yield o.axiosService.request({...s,url:nn(o,t)+r,headers:{...s?.headers,Accept:"application/json+canvas-string-ids",Authorization:"Bearer "+nn(o,n)}})});return function(){return l.apply(this,arguments)}}();return yield Jp.execute(a,function(){var l=(0,b.Z)(function*(u,c){return!Zp(c)});return function(u,c){return l.apply(this,arguments)}}())})()}apiRequest(r,s){var o=this;return(0,b.Z)(function*(){return(yield o.rawAPIRequest(r,s)).data})()}paginatedRequestHandler(r){var s=this;return(0,b.Z)(function*(){const o=function(){var a=(0,b.Z)(function*(){return yield s.axiosService.request({url:r,headers:{Accept:"application/json+canvas-string-ids",Authorization:"Bearer "+nn(s,n)}})});return function(){return a.apply(this,arguments)}}();return yield Jp.execute(o,function(){var a=(0,b.Z)(function*(l,u){return!Zp(u)});return function(l,u){return a.apply(this,arguments)}}())})()}safeGuardForAssignment(r,s){var o=this;return(0,b.Z)(function*(){const a=yield o.apiRequest(`/api/v1/courses/${r}/assignments/${s}`);if(!a.name.includes("Token ATM")||a.id!=s)throw new Error("Safe guard for assignment is violated!")})()}safeGuardForQuiz(r,s){var o=this;return(0,b.Z)(function*(){const a=yield o.apiRequest(`/api/v1/courses/${r}/quizzes/${s}`);if(!a.title.includes("Token ATM")||a.id!=s)throw new Error("Safe guard for quiz is violated!")})()}safeGuardForAssignmentGroup(r,s){var o=this;return(0,b.Z)(function*(){const a=yield o.apiRequest(`/api/v1/courses/${r}/assignment_groups/${s}`);if(!a.name.includes("Token ATM")||a.id!=s)throw new Error("Safe guard for assignment group is violated!")})()}safeGuardForModule(r,s){var o=this;return(0,b.Z)(function*(){const a=yield o.apiRequest(`/api/v1/courses/${r}/modules/${s}`);if(!a.name.includes("Token ATM")||a.id!=s)throw new Error("Safe guard for module is violated!")})()}safeGuardForPage(r,s){var o=this;return(0,b.Z)(function*(){const a=yield o.apiRequest(`/api/v1/courses/${r}/pages/${s}`);if(!a.title.includes("Token ATM")||a.page_id!=s)throw new Error("Safe guard for page is violated!")})()}getCourses(r="teacher",s="active"){var o=this;return(0,b.Z)(function*(){const a=yield o.rawAPIRequest("/api/v1/courses",{params:{per_page:100,enrollment_type:r,enrollment_state:s,include:["term"]}});return new zi(a,function(){var l=(0,b.Z)(function*(u){return yield o.paginatedRequestHandler(u)});return function(u){return l.apply(this,arguments)}}(),l=>{let u=l;if(Object.hasOwn(l,"meta")){const c=l.meta.primaryCollection,d=new Map,f=Object.keys(l).filter(h=>!["meta",c].includes(h))[0];if(f)for(const h of l[f])h.id&&d.set(h.id,h);u=l[c];for(const h of u)h.term=d.get(h.enrollment_term_id)}return u.map(c=>cb.deserialize(c))})})()}getPageContentById(r,s){var o=this;return(0,b.Z)(function*(){const l=(yield o.rawAPIRequest(`/api/v1/courses/${r}/pages/${s}`)).data.body;if(!l)throw new Error("Page fetch error");return l})()}getUserInformation(r){var s=this;return(0,b.Z)(function*(){const o=yield s.apiRequest(`/api/v1/users/${r}`);return Eb.deserialize(o)})()}deletePage(r,s){var o=this;return(0,b.Z)(function*(){yield o.safeGuardForPage(r,s),yield o.apiRequest(`/api/v1/courses/${r}/pages/${s}`,{method:"delete"})})()}createPage(r,s,o,a="teachers",l=!1,u=!1){var c=this;return(0,b.Z)(function*(){return(yield c.apiRequest(`/api/v1/courses/${r}/pages`,{method:"post",data:{wiki_page:{title:s,body:o,editing_roles:a,notify_of_update:l,published:u}}})).page_id})()}modifyPage(r,s,o,a=!1,l=!1){var u=this;return(0,b.Z)(function*(){return yield u.safeGuardForPage(r,s),(yield u.apiRequest(`/api/v1/courses/${r}/pages/${s}`,{method:"put",data:{wiki_page:{body:o,notify_of_update:a,published:l}}})).page_id})()}getPageIdByName(r,s){var o=this;return(0,b.Z)(function*(){let a=yield Qp.convertAsyncIterableToList(new zi(yield o.rawAPIRequest(`/api/v1/courses/${r}/pages`,{params:{search_term:s,per_page:100}}),function(){var l=(0,b.Z)(function*(u){return yield o.paginatedRequestHandler(u)});return function(u){return l.apply(this,arguments)}}(),l=>l.map(u=>[u.page_id,u.title])));if(a=a.filter(l=>l[1]==s),0==a.length)throw new Error("Page not found");if(a.length>1)throw new Error("Multiple pages found");return a[0]?.[0]})()}getPageContentByName(r,s){var o=this;return(0,b.Z)(function*(){return yield o.getPageContentById(r,yield o.getPageIdByName(r,s))})()}getQuizSubmissions(r,s){var o=this;return(0,b.Z)(function*(){const a=yield o.rawAPIRequest(`/api/v1/courses/${r}/quizzes/${s}/submissions`,{params:{per_page:100}});return new zi(a,function(){var l=(0,b.Z)(function*(u){return yield o.paginatedRequestHandler(u)});return function(u){return l.apply(this,arguments)}}(),l=>l.quiz_submissions.map(u=>db.deserialize(u)))})()}getSubmissionComments(r,s,o){var a=this;return(0,b.Z)(function*(){return(yield a.apiRequest(`/api/v1/courses/${r}/assignments/${o}/submissions/${s}`,{params:{include:["submission_comments"]}})).submission_comments.map(u=>Iu.deserialize(u))})()}getSingleSubmissionGrade(r,s,o,a=0){var l=this;return(0,b.Z)(function*(){return(yield l.apiRequest(`/api/v1/courses/${r}/assignments/${o}/submissions/${s}`)).score??a})()}deleteSubmissionComment(r,s,o,a){var l=this;return(0,b.Z)(function*(){yield l.safeGuardForAssignment(r,o),yield l.apiRequest(`/api/v1/courses/${r}/assignments/${o}/submissions/${s}/comments/${a}`,{method:"delete"})})()}postComment(r,s,o,a){var l=this;return(0,b.Z)(function*(){yield l.safeGuardForAssignment(r,o);const c=(yield l.apiRequest(`/api/v1/courses/${r}/assignments/${o}/submissions/${s}`,{method:"put",data:{comment:{text_comment:a}}})).submission_comments;for(let d=c.length-1;d>=0;d--){let f;try{f=Iu.deserialize(c[d])}catch{continue}if(f.content==a)return f}throw new Error("Comment creation failed")})()}deleteComment(r,s,o,a){var l=this;return(0,b.Z)(function*(){yield l.safeGuardForAssignment(r,o),yield l.apiRequest(`/api/v1/courses/${r}/assignments/${o}/submissions/${s}/comments/${a}`,{method:"delete"})})()}modifyComment(r,s,o,a,l){var u=this;return(0,b.Z)(function*(){yield u.safeGuardForAssignment(r,o);const c=yield u.apiRequest(`/api/v1/courses/${r}/assignments/${o}/submissions/${s}/comments/${a}`,{method:"put",data:{comment:l}});return Iu.deserialize(c)})()}gradeSubmission(r,s,o,a){var l=this;return(0,b.Z)(function*(){yield l.safeGuardForAssignment(r,o),yield l.apiRequest(`/api/v1/courses/${r}/assignments/${o}/submissions/${s}`,{method:"put",data:{submission:{posted_grade:a.toString()}}})})()}gradeSubmissionWithPostingComment(r,s,o,a,l){var u=this;return(0,b.Z)(function*(){yield u.safeGuardForAssignment(r,o);const d=(yield u.apiRequest(`/api/v1/courses/${r}/assignments/${o}/submissions/${s}`,{method:"put",data:{comment:{text_comment:l},submission:{posted_grade:a.toString()}}})).submission_comments;for(let f=d.length-1;f>=0;f--){let h;try{h=Iu.deserialize(d[f])}catch{continue}if(h.content==l)return h}throw new Error("Comment creation failed")})()}getAssignmentIdByQuizId(r,s){var o=this;return(0,b.Z)(function*(){return(yield o.apiRequest(`/api/v1/courses/${r}/quizzes/${s}`)).assignment_id})()}getQuizSubmissionAttempt(r,s,o,a,l=1,{assignmentId:u}={}){var c=this;return(0,b.Z)(function*(){u||(u=yield c.getAssignmentIdByQuizId(r,s));const d=new zi(yield c.rawAPIRequest(`/api/v1/courses/${r}/quizzes/${s}/questions`,{params:{per_page:100,quiz_submission_id:o,quiz_submission_attempt:l}}),function(){var Fn=(0,b.Z)(function*(Ci){return yield c.paginatedRequestHandler(Ci)});return function(Ci){return Fn.apply(this,arguments)}}(),Fn=>Fn.map(Ci=>{const Ni={id:Ci.id,answers:[]};for(const oo of Ci.answers)Ni.answers.push({id:oo.id,text:oo.text});return Ni})),f=new Map;var v,h=!1,p=!1;try{for(var I,M=vi(d);h=!(I=yield M.next()).done;h=!1){const Fn=I.value;f.has(Fn.id)||f.set(Fn.id,new Map);for(const Ci of Fn.answers)f.get(Fn.id)?.set(Ci.id,Ci.text)}}catch(Fn){p=!0,v=Fn}finally{try{h&&null!=M.return&&(yield M.return())}finally{if(p)throw v}}const q=(yield c.apiRequest(`/api/v1/courses/${r}/assignments/${u}/submissions/${a}`,{params:{include:["submission_history"]}})).submission_history,P=new Map;let oe=new Date;for(const Fn of q){if(Fn.attempt!=l)continue;oe=FO(Fn.submitted_at);const Ci=Fn.submission_data;for(const Ni of Ci){if(null==Ni.answer_id)continue;const oo=f.get(Ni.question_id)?.get(Ni.answer_id);oo&&P.set(Ni.question_id,oo)}break}const tt=[];var Qi,rt=!1,dn=!1;try{for(var Fi,xi=vi(d);rt=!(Fi=yield xi.next()).done;rt=!1)tt.push(P.get(Fi.value.id)??"")}catch(Fn){dn=!0,Qi=Fn}finally{try{rt&&null!=xi.return&&(yield xi.return())}finally{if(dn)throw Qi}}return[oe,tt]})()}getCourseStudentEnrollments(r){var s=this;return(0,b.Z)(function*(){return new zi(yield s.rawAPIRequest(`/api/v1/courses/${r}/users`,{params:{enrollment_type:["student"],enrollment_state:["active"],per_page:100}}),function(){var o=(0,b.Z)(function*(a){return yield s.paginatedRequestHandler(a)});return function(a){return o.apply(this,arguments)}}(),o=>o.map(a=>Ed.deserialize(a)))})()}getModuleScore(r,s,o){var a=this;return(0,b.Z)(function*(){let l=0,u=0;const c=new zi(yield a.rawAPIRequest(`/api/v1/courses/${r}/modules/${s}/items`,{params:{include:["content_details"],per_page:100}}),function(){var M=(0,b.Z)(function*(I){return yield a.paginatedRequestHandler(I)});return function(I){return M.apply(this,arguments)}}(),M=>M.map(I=>Np.deserialize(I)));var h,d=!1,f=!1;try{for(var v,p=vi(c);d=!(v=yield p.next()).done;d=!1){const M=v.value;if(M.contentId)switch(u+=M.pointsPossible,M.type){case"Assignment":l+=(yield a.getSingleSubmissionGrade(r,o,M.contentId,0));break;case"Quiz":l+=(yield a.getSingleSubmissionGrade(r,o,yield a.getAssignmentIdByQuizId(r,M.contentId),0))}}}catch(M){f=!0,h=M}finally{try{d&&null!=p.return&&(yield p.return())}finally{if(f)throw h}}return[l,u]})()}getCourseStudents(r,s=50,o){var a=this;return(0,b.Z)(function*(){return new Vz(yield a.rawAPIRequest(`/api/v1/courses/${r}/users`,{params:{enrollment_type:["student"],enrollment_state:["active"],per_page:s,search_term:o}}),function(){var l=(0,b.Z)(function*(u){return yield a.paginatedRequestHandler(u)});return function(u){return l.apply(this,arguments)}}(),l=>l.map(u=>Ed.deserialize(u)))})()}getStudentsGrades(r,s,o){var a=this;return(0,b.Z)(function*(){const l=new zi(yield a.rawAPIRequest(`/api/v1/courses/${r}/students/submissions`,{params:{student_ids:o,assignment_ids:[s],enrollment_state:"active",per_page:100}}),function(){var v=(0,b.Z)(function*(M){return yield a.paginatedRequestHandler(M)});return function(M){return v.apply(this,arguments)}}(),v=>v.map(M=>({user_id:M.user_id,score:M.score??0}))),u=new Map;var f,c=!1,d=!1;try{for(var p,h=vi(l);c=!(p=yield h.next()).done;c=!1){const v=p.value;u.set(v.user_id,v.score)}}catch(v){d=!0,f=v}finally{try{c&&null!=h.return&&(yield h.return())}finally{if(d)throw f}}return u})()}createAssignment(r,s,o,a=""){var l=this;return(0,b.Z)(function*(){return(yield l.apiRequest(`/api/v1/courses/${r}/assignments`,{method:"post",data:{assignment:{name:o,submission_types:["none"],notify_of_update:!1,points_possible:0,description:a,assignment_group_id:s,published:!0}}})).id})()}deleteAssignment(r,s){var o=this;return(0,b.Z)(function*(){yield o.safeGuardForAssignment(r,s),yield o.apiRequest(`/api/v1/courses/${r}/assignments/${s}`,{method:"delete"})})()}createModule(r,s){var o=this;return(0,b.Z)(function*(){return(yield o.apiRequest(`/api/v1/courses/${r}/modules`,{method:"post",data:{module:{name:s}}})).id})()}publishModule(r,s){var o=this;return(0,b.Z)(function*(){return yield o.safeGuardForModule(r,s),(yield o.apiRequest(`/api/v1/courses/${r}/modules/${s}`,{method:"put",data:{module:{published:!0}}})).id})()}deleteModule(r,s,o=!1){var a=this;return(0,b.Z)(function*(){if(yield a.safeGuardForModule(r,s),o){const h=new zi(yield a.rawAPIRequest(`/api/v1/courses/${r}/modules/${s}/items`,{params:{include:["content_details"],per_page:100}}),function(){var p=(0,b.Z)(function*(v){return yield a.paginatedRequestHandler(v)});return function(v){return p.apply(this,arguments)}}(),p=>p.map(v=>Np.deserialize(v)));var c,l=!1,u=!1;try{for(var f,d=vi(h);l=!(f=yield d.next()).done;l=!1){const p=f.value;if(p.contentId)switch(p.type){case"Assignment":yield a.deleteAssignment(r,p.contentId);break;case"Quiz":yield a.deleteQuiz(r,p.contentId)}}}catch(p){u=!0,c=p}finally{try{l&&null!=d.return&&(yield d.return())}finally{if(u)throw c}}}yield a.apiRequest(`/api/v1/courses/${r}/modules/${s}`,{method:"delete"})})()}getModuleIdByName(r,s){var o=this;return(0,b.Z)(function*(){const a=new zi(yield o.rawAPIRequest(`/api/v1/courses/${r}/modules`,{params:{search_term:s,per_page:100}}),function(){var p=(0,b.Z)(function*(v){return yield o.paginatedRequestHandler(v)});return function(v){return p.apply(this,arguments)}}(),p=>p.map(v=>Ib.deserialize(v)));let l;var d,u=!1,c=!1;try{for(var h,f=vi(a);u=!(h=yield f.next()).done;u=!1){const p=h.value;if(p.name==s){if(null!=l)throw new Error("Multiple modules found");l=p.id}}}catch(p){c=!0,d=p}finally{try{u&&null!=f.return&&(yield f.return())}finally{if(c)throw d}}if(null==l)throw new Error("Module not found");return l})()}addModuleItem(r,s,o,a){var l=this;return(0,b.Z)(function*(){return yield l.safeGuardForModule(r,s),(yield l.apiRequest(`/api/v1/courses/${r}/modules/${s}/items`,{method:"post",data:{module_item:{type:o,content_id:a}}})).id})()}getAssignmentGroupIdByName(r,s){var o=this;return(0,b.Z)(function*(){const a=new zi(yield o.rawAPIRequest(`/api/v1/courses/${r}/assignment_groups`,{params:{per_page:100}}),function(){var p=(0,b.Z)(function*(v){return yield o.paginatedRequestHandler(v)});return function(v){return p.apply(this,arguments)}}(),p=>p.map(v=>[v.id,v.name]));let l;var d,u=!1,c=!1;try{for(var h,f=vi(a);u=!(h=yield f.next()).done;u=!1){const[p,v]=h.value;if(v==s){if(null!=l)throw new Error("Multiple assignment groups found");l=p}}}catch(p){c=!0,d=p}finally{try{u&&null!=f.return&&(yield f.return())}finally{if(c)throw d}}if(null==l)throw new Error("No assignment group found");return l})()}deleteAssignmentGroup(r,s){var o=this;return(0,b.Z)(function*(){yield o.safeGuardForAssignmentGroup(r,s),yield o.apiRequest(`/api/v1/courses/${r}/assignment_groups/${s}`,{method:"delete"})})()}createAssignmentGroup(r,s){var o=this;return(0,b.Z)(function*(){return(yield o.apiRequest(`/api/v1/courses/${r}/assignment_groups`,{method:"post",data:{name:s,group_weight:0}})).id})()}deleteQuiz(r,s){var o=this;return(0,b.Z)(function*(){yield o.safeGuardForQuiz(r,s),yield o.apiRequest(`/api/v1/courses/${r}/quizzes/${s}`,{method:"delete"})})()}createQuiz(r,s,o,a,l="graded_survey"){var u=this;return(0,b.Z)(function*(){return(yield u.apiRequest(`/api/v1/courses/${r}/quizzes`,{method:"post",data:{quiz:{title:o,description:a,quiz_type:l,assignment_group_id:s,allowed_attempts:100,points_possible:0,published:!1}}})).id})()}canQuizUnpublished(r,s){var o=this;return(0,b.Z)(function*(){return(yield o.apiRequest(`/api/v1/courses/${r}/quizzes/${s}`)).unpublishable})()}changeQuizPublishState(r,s,o=!0,a=!1){var l=this;return(0,b.Z)(function*(){yield l.safeGuardForQuiz(r,s);try{yield l.apiRequest(`/api/v1/courses/${r}/quizzes/${s}`,{method:"put",data:{quiz:{published:o,notify_of_update:a}}})}catch{return!1}return!0})()}modifyQuiz(r,s,o,a,l=!1){var u=this;return(0,b.Z)(function*(){return yield u.safeGuardForQuiz(r,s),(yield u.apiRequest(`/api/v1/courses/${r}/quizzes/${s}`,{method:"put",data:{quiz:{title:o,description:a,notify_of_update:l}}})).id})()}changeQuizLockDate(r,s,o){var a=this;return(0,b.Z)(function*(){yield a.safeGuardForQuiz(r,s),yield a.apiRequest(`/api/v1/courses/${r}/quizzes/${s}`,{method:"put",data:{quiz:{lock_at:null==o?null:Pp(o)}}})})()}clearQuizQuestions(r,s){var o=this;return(0,b.Z)(function*(){yield o.safeGuardForQuiz(r,s);const a=new zi(yield o.rawAPIRequest(`/api/v1/courses/${r}/quizzes/${s}/questions`,{params:{per_page:100}}),function(){var h=(0,b.Z)(function*(p){return yield o.paginatedRequestHandler(p)});return function(p){return h.apply(this,arguments)}}(),h=>h.map(p=>p.id));var c,l=!1,u=!1;try{for(var f,d=vi(a);l=!(f=yield d.next()).done;l=!1){const h=f.value;yield o.apiRequest(`/api/v1/courses/${r}/quizzes/${s}/questions/${h}`,{method:"delete"})}}catch(h){u=!0,c=h}finally{try{l&&null!=d.return&&(yield d.return())}finally{if(u)throw c}}})()}createQuizQuestions(r,s,o){var a=this;return(0,b.Z)(function*(){yield a.safeGuardForQuiz(r,s);for(const l of o)yield a.apiRequest(`/api/v1/courses/${r}/quizzes/${s}/questions`,{method:"post",data:{question:l.toJSON()}})})()}replaceQuizQuestions(r,s,o){var a=this;return(0,b.Z)(function*(){yield a.safeGuardForQuiz(r,s);const l=yield Qp.convertAsyncIterableToList(new zi(yield a.rawAPIRequest(`/api/v1/courses/${r}/quizzes/${s}/questions`,{params:{per_page:100}}),function(){var c=(0,b.Z)(function*(d){return yield a.paginatedRequestHandler(d)});return function(d){return c.apply(this,arguments)}}(),c=>c.map(d=>d.id))),u=Math.min(l.length,o.length);for(let c=0;c<u;c++)yield a.apiRequest(`/api/v1/courses/${r}/quizzes/${s}/questions/${l[c]}`,{method:"put",data:{question:o[c]?.toJSON()}});for(let c=u;c<l.length;c++)yield a.apiRequest(`/api/v1/courses/${r}/quizzes/${s}/questions/${l[c]}`,{method:"delete"});for(let c=u;c<o.length;c++)yield a.apiRequest(`/api/v1/courses/${r}/quizzes/${s}/questions`,{method:"post",data:{question:o[c]?.toJSON()}})})()}getQuiz(r,s){var o=this;return(0,b.Z)(function*(){const a=yield o.apiRequest(`/api/v1/courses/${r}/quizzes/${s}`);return Kp.deserialize(a)})()}getAssignmentOverrides(r,s){var o=this;return(0,b.Z)(function*(){return new zi(yield o.rawAPIRequest(`/api/v1/courses/${r}/assignments/${s}/overrides`),function(){var a=(0,b.Z)(function*(l){return yield o.paginatedRequestHandler(l)});return function(l){return a.apply(this,arguments)}}(),a=>a.map(l=>Ob.deserialize(l)))})()}createAssignmentOverrideForStudent(r,s,o,a,l){var u=this;return(0,b.Z)(function*(){let c,d=0;var p,f=!1,h=!1;try{for(var M,v=vi(yield u.getAssignmentOverrides(r,s));f=!(M=yield v.next()).done;f=!1){const I=M.value;{const q=I.title.split(" - ");if(q.length>=3&&(d=parseInt(q[2])+1),I.studentIds.includes(o))return!1;if(I.studentIds.length>=e.ASSIGNMENT_OVERRIDE_MAX_SIZE||null==I.lockAt||0!=Vp(I.lockAt,l))continue;c=I;break}}}catch(I){h=!0,p=I}finally{try{f&&null!=v.return&&(yield v.return())}finally{if(h)throw p}}return c?yield u.apiRequest(`/api/v1/courses/${r}/assignments/${s}/overrides/${c.id}`,{method:"put",data:{assignment_override:{student_ids:c.studentIds.concat([o]),title:c.title,lock_at:Pp(l)}}}):yield u.apiRequest(`/api/v1/courses/${r}/assignments/${s}/overrides`,{method:"post",data:{assignment_override:{student_ids:[o],title:`${a} - ${d}`,lock_at:Pp(l)}}}),!0})()}deleteAssignmentOverrideForStudent(r,s,o){var a=this;return(0,b.Z)(function*(){let l;var d,u=!1,c=!1;try{for(var h,f=vi(yield a.getAssignmentOverrides(r,s));u=!(h=yield f.next()).done;u=!1){const p=h.value;if(p.studentIds.includes(o)){l=p;break}}}catch(p){c=!0,d=p}finally{try{u&&null!=f.return&&(yield f.return())}finally{if(c)throw d}}return null!=l&&(1==l.studentIds.length?yield a.apiRequest(`/api/v1/courses/${r}/assignments/${s}/overrides/${l.id}`,{method:"delete"}):(l.studentIds.splice(l.studentIds.indexOf(o),1),yield a.apiRequest(`/api/v1/courses/${r}/assignments/${s}/overrides/${l.id}`,{method:"put",data:{assignment_override:{student_ids:l.studentIds,title:l.title,lock_at:l.lockAt?Pp(l.lockAt):void 0}}})),!0)})()}getAssignmentSubmission(r,s,o){var a=this;return(0,b.Z)(function*(){return Rb.deserialize(yield a.apiRequest(`/api/v1/courses/${r}/assignments/${s}/submissions/${o}`))})()}getQuizIdByName(r,s){var o=this;return(0,b.Z)(function*(){const a=new zi(yield o.rawAPIRequest(`/api/v1/courses/${r}/quizzes`,{params:{search_term:s,per_page:100}}),function(){var p=(0,b.Z)(function*(v){return yield o.paginatedRequestHandler(v)});return function(v){return p.apply(this,arguments)}}(),p=>p.map(v=>Kp.deserialize(v)));let l;var d,u=!1,c=!1;try{for(var h,f=vi(a);u=!(h=yield f.next()).done;u=!1){const p=h.value;if(p.title==s){if(null!=l)throw new Error("Multiple quizzes found");l=p.id}}}catch(p){c=!0,d=p}finally{try{u&&null!=f.return&&(yield f.return())}finally{if(c)throw d}}if(!l)throw new Error("Quiz not found");return l})()}getAssignmentIdByName(r,s){var o=this;return(0,b.Z)(function*(){const a=new zi(yield o.rawAPIRequest(`/api/v1/courses/${r}/assignments`,{params:{search_term:s,per_page:100}}),function(){var p=(0,b.Z)(function*(v){return yield o.paginatedRequestHandler(v)});return function(v){return p.apply(this,arguments)}}(),p=>p.map(v=>Ab.deserialize(v)));let l;var d,u=!1,c=!1;try{for(var h,f=vi(a);u=!(h=yield f.next()).done;u=!1){const p=h.value;if(p.name==s){if(null!=l)throw new Error("Multiple assignments found");l=p.id}}}catch(p){c=!0,d=p}finally{try{u&&null!=f.return&&(yield f.return())}finally{if(c)throw d}}if(!l)throw new Error("Assignment not found");return l})()}getStudentByEmail(r,s){var o=this;return(0,b.Z)(function*(){const a=new zi(yield o.rawAPIRequest(`/api/v1/courses/${r}/users`,{params:{enrollment_type:["student"],enrollment_state:["active"],per_page:100,search_term:s}}),function(){var p=(0,b.Z)(function*(v){return yield o.paginatedRequestHandler(v)});return function(v){return p.apply(this,arguments)}}(),p=>p.map(v=>Ed.deserialize(v)));let l;var d,u=!1,c=!1;try{for(var h,f=vi(a);u=!(h=yield f.next()).done;u=!1){const p=h.value;if(p.email==s){if(l)throw new Error("Multiple students found with the same email!");l=p}}}catch(p){c=!0,d=p}finally{try{u&&null!=f.return&&(yield f.return())}finally{if(c)throw d}}return l})()}modifyAssignmentDescription(r,s,o){var a=this;return(0,b.Z)(function*(){yield a.safeGuardForAssignment(r,s),yield a.apiRequest(`/api/v1/courses/${r}/assignments/${s}`,{method:"put",data:{assignment:{description:o}}})})()}modifyModuleName(r,s,o){var a=this;return(0,b.Z)(function*(){yield a.safeGuardForModule(r,s),yield a.apiRequest(`/api/v1/courses/${r}/modules/${s}`,{method:"put",data:{module:{name:o}}})})()}modifyAssignmentGroupName(r,s,o){var a=this;return(0,b.Z)(function*(){yield a.safeGuardForAssignmentGroup(r,s),yield a.apiRequest(`/api/v1/courses/${r}/assignment_groups/${s}`,{method:"put",data:{name:o}})})()}}return e.ASSIGNMENT_OVERRIDE_MAX_SIZE=35,e.\u0275fac=function(r){return new(r||e)(X(Sb))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function _I(t,n,e){if(!n.has(t))throw new TypeError("attempted to get private field on non-instance");return e}const CW="function"==typeof atob,DW="function"==typeof btoa,Fu="function"==typeof Buffer,yI="function"==typeof TextDecoder?new TextDecoder:void 0,vI="function"==typeof TextEncoder?new TextEncoder:void 0,Nd=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),Xp=(t=>{let n={};return t.forEach((e,i)=>n[e]=i),n})(Nd),kW=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,Ai=String.fromCharCode.bind(String),bI="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):t=>new Uint8Array(Array.prototype.slice.call(t,0)),wI=t=>t.replace(/=/g,"").replace(/[+\/]/g,n=>"+"==n?"-":"_"),CI=t=>t.replace(/[^A-Za-z0-9\+\/]/g,""),xb=DW?t=>btoa(t):Fu?t=>Buffer.from(t,"binary").toString("base64"):t=>{let n,e,i,r,s="";const o=t.length%3;for(let a=0;a<t.length;){if((e=t.charCodeAt(a++))>255||(i=t.charCodeAt(a++))>255||(r=t.charCodeAt(a++))>255)throw new TypeError("invalid character found");n=e<<16|i<<8|r,s+=Nd[n>>18&63]+Nd[n>>12&63]+Nd[n>>6&63]+Nd[63&n]}return o?s.slice(0,o-3)+"===".substring(o):s},Fb=Fu?t=>Buffer.from(t).toString("base64"):t=>{let e=[];for(let i=0,r=t.length;i<r;i+=4096)e.push(Ai.apply(null,t.subarray(i,i+4096)));return xb(e.join(""))},MW=t=>{if(t.length<2)return(n=t.charCodeAt(0))<128?t:n<2048?Ai(192|n>>>6)+Ai(128|63&n):Ai(224|n>>>12&15)+Ai(128|n>>>6&63)+Ai(128|63&n);var n=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320);return Ai(240|n>>>18&7)+Ai(128|n>>>12&63)+Ai(128|n>>>6&63)+Ai(128|63&n)},SW=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,kI=Fu?t=>Buffer.from(t,"utf8").toString("base64"):vI?t=>Fb(vI.encode(t)):t=>xb((t=>t.replace(SW,MW))(t)),EW=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,OW=t=>{switch(t.length){case 4:var e=((7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3))-65536;return Ai(55296+(e>>>10))+Ai(56320+(1023&e));case 3:return Ai((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return Ai((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},Nb=CW?t=>atob(CI(t)):Fu?t=>Buffer.from(t,"base64").toString("binary"):t=>{if(t=t.replace(/\s+/g,""),!kW.test(t))throw new TypeError("malformed base64.");t+="==".slice(2-(3&t.length));let n,i,r,e="";for(let s=0;s<t.length;)n=Xp[t.charAt(s++)]<<18|Xp[t.charAt(s++)]<<12|(i=Xp[t.charAt(s++)])<<6|(r=Xp[t.charAt(s++)]),e+=64===i?Ai(n>>16&255):64===r?Ai(n>>16&255,n>>8&255):Ai(n>>16&255,n>>8&255,255&n);return e},OI=Fu?t=>bI(Buffer.from(t,"base64")):t=>bI(Nb(t).split("").map(n=>n.charCodeAt(0))),IW=Fu?t=>Buffer.from(t,"base64").toString("utf8"):yI?t=>yI.decode(OI(t)):t=>(t=>t.replace(EW,OW))(Nb(t)),AI=t=>CI(t.replace(/[-_]/g,n=>"-"==n?"+":"/")),qi_encode=(t,n=!1)=>n?wI(kI(t)):kI(t),qi_decode=t=>IW(AI(t)),qi_fromUint8Array=(t,n=!1)=>n?wI(Fb(t)):Fb(t),qi_toUint8Array=t=>OI(AI(t));class yt{constructor(n,e,i,r,s,o,a){this._configuration=n,this._name=e,this._id=i,this._quizId=r,this._description=s,this._isPublished=o,this._tokenOptions=a}get configuration(){return this._configuration}get name(){return this._name}set name(n){this._name=n}get id(){return this._id}get quizId(){return this._quizId}set quizId(n){this._quizId=n}get description(){return this._description}set description(n){this._description=n}get isPublished(){return this._isPublished}set isPublished(n){this._isPublished=n}get tokenOptions(){return this._tokenOptions}set tokenOptions(n){this._tokenOptions=n}get availableTokenOptions(){return this.tokenOptions.filter(n=>!n.isMigrating)}addTokenOption(n,e){this.configuration.updateNextFreeTokenOptionId(n.id),null==e?this._tokenOptions.push(n):this._tokenOptions.splice(e,0,n)}deleteTokenOption(n){const e=this._tokenOptions.indexOf(n);if(-1==e)throw new Error("Token option does not exist");this._tokenOptions.splice(e,1)}toJSON(){return{name:this.name,id:this.id,quiz_id:this.quizId,description:qi_encode(this.description),is_published:this.isPublished,token_options:this.tokenOptions.map(n=>n.toJSON())}}static deserialize(n,e){if("string"!=typeof e.name||"number"!=typeof e.id||"string"!=typeof e.quiz_id||typeof e.description<"u"&&"string"!=typeof e.description||"boolean"!=typeof e.is_published||"object"!=typeof e.token_options||!Array.isArray(e.token_options))throw new Error("Invalid data");const i=new yt(n,e.name,e.id,e.quiz_id,e.description?qi_decode(e.description):"",e.is_published,[]);return i.tokenOptions=e.token_options.map(r=>n.tokenOptionResolver(i,r)),i}}let ha=(()=>{class t{static deriveAESKey(e,i){return(0,b.Z)(function*(){const r=yield window.crypto.subtle.importKey("raw",(new TextEncoder).encode(e),"PBKDF2",!1,["deriveBits","deriveKey"]);return yield window.crypto.subtle.deriveKey({name:"PBKDF2",hash:"SHA-512",salt:i,iterations:1e5},r,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])})()}static encryptAES(e,i,r){return(0,b.Z)(function*(){null==r&&(r=window.crypto.getRandomValues(new Uint8Array(t.AES_IV_LENGTH)));const s=yield window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},e,(new TextEncoder).encode(i));return[r,new Uint8Array(s)]})()}static decryptAES(e,i,r){return(0,b.Z)(function*(){return(new TextDecoder).decode(yield window.crypto.subtle.decrypt({name:"AES-GCM",iv:r},e,i))})()}}return t.AES_IV_LENGTH=12,t})();class NI{static contactUint8Array(n,e){const i=new Uint8Array(n.length+e.length);return i.set(n),i.set(e,n.length),i}static splitUint8Array(n,e){return[n.subarray(0,e),n.subarray(e)]}}var LI=de(667);function tm(t){return[...Array(t)].map(()=>Math.random().toString(36)[2]??"0").join("")}var Ld=new WeakMap,Pd=new WeakMap,Io=new WeakMap,Pb=new WeakSet;class nm{constructor(n,e,i,r,s,o,a,l,u,c,d){(function bW(t,n){EO(t,n),n.add(t)})(this,Pb),js(this,Ld,{writable:!0,value:void 0}),js(this,Pd,{writable:!0,value:void 0}),js(this,Io,{writable:!0,value:void 0}),this._course=n,this._logAssignmentId=e,this._uid=i,this._suffix=r,this._description=s,this._nextFreeTokenOptionGroupId=o,this._nextFreeTokenOptionId=a,this._tokenOptionGroups=l,this._tokenOptionResolver=u,Qn(this,Ld,c),Qn(this,Pd,d)}get course(){return this._course}get logAssignmentId(){return this._logAssignmentId}set logAssignmentId(n){this._logAssignmentId=n}get uid(){return this._uid}set uid(n){this._uid=n}get suffix(){return this._suffix}set suffix(n){this._suffix=n}get description(){return this._description}set description(n){this._description=n}get tokenOptionGroups(){return this._tokenOptionGroups}set tokenOptionGroups(n){this._tokenOptionGroups=n}get tokenOptionResolver(){return this._tokenOptionResolver}getTokenOptionGroupById(n){for(const e of this.tokenOptionGroups)if(e.id==n)return e}getTokenOptionById(n){for(const e of this.tokenOptionGroups)for(const i of e.tokenOptions)if(i.id==n)return i}addTokenOptionGroup(n){this._nextFreeTokenOptionGroupId=Math.max(this._nextFreeTokenOptionGroupId,n.id)+1,this._tokenOptionGroups.push(n)}updateNextFreeTokenOptionId(n){this._nextFreeTokenOptionId=Math.max(this._nextFreeTokenOptionId,n)+1}deleteTokenOptionGroup(n){const e=this._tokenOptionGroups.indexOf(n);if(-1==e)throw new Error("Token option group does not exist");this._tokenOptionGroups.splice(e,1)}get nextFreeTokenOptionGroupId(){return this._nextFreeTokenOptionGroupId}get nextFreeTokenOptionId(){return this._nextFreeTokenOptionId}toJSON(){return{log_assignment_id:this.logAssignmentId,uid:this.uid,suffix:this.suffix,description:qi_encode(this.description),next_free_token_option_group_id:this.nextFreeTokenOptionGroupId,next_free_token_option_id:this.nextFreeTokenOptionId,token_option_groups:this.tokenOptionGroups.map(n=>n.toJSON())}}getSecureConfig(){return{password:nn(this,Ld),salt:qi_fromUint8Array(nn(this,Pd))}}regenerateSecureConfig(){Qn(this,Io,void 0),Qn(this,Ld,tm(32)),Qn(this,Pd,window.crypto.getRandomValues(new Uint8Array(32)))}encryptStudentRecord(n){var e=this;return(0,b.Z)(function*(){if(null==nn(e,Io)&&(yield _I(e,Pb,PI).call(e)),null==nn(e,Io))throw new Error("AES encryption key generation failed");const i=JSON.parse(JSON.stringify(n));return qi_fromUint8Array(NI.contactUint8Array(...yield ha.encryptAES(nn(e,Io),JSON.stringify((0,LI.nN)(i)))))})()}decryptStudentRecord(n){var e=this;return(0,b.Z)(function*(){if(null==nn(e,Io)&&(yield _I(e,Pb,PI).call(e)),null==nn(e,Io))throw new Error("AES encryption key generation failed");const[i,r]=NI.splitUint8Array(qi_toUint8Array(n),ha.AES_IV_LENGTH);return(0,LI.Lj)(JSON.parse(yield ha.decryptAES(nn(e,Io),r,i)))})()}static deserialize(n,e,i,r){if("string"!=typeof e.log_assignment_id||"string"!=typeof e.uid||typeof e.suffix<"u"&&"string"!=typeof e.suffix||typeof e.description<"u"&&"string"!=typeof e.description||"number"!=typeof e.next_free_token_option_group_id||"number"!=typeof e.next_free_token_option_id||"object"!=typeof e.token_option_groups||!Array.isArray(e.token_option_groups)||"string"!=typeof i.password||"string"!=typeof i.salt)throw new Error("Invalid data");const s=new nm(n,e.log_assignment_id,e.uid,e.suffix??"",e.description?qi_decode(e.description):"",e.next_free_token_option_group_id,e.next_free_token_option_id,[],r,i.password,qi_toUint8Array(i.salt));return s.tokenOptionGroups=e.token_option_groups.map(o=>yt.deserialize(s,o)),s}}function PI(){return Vb.apply(this,arguments)}function Vb(){return(Vb=(0,b.Z)(function*(){Qn(this,Io,yield ha.deriveAESKey(nn(this,Ld),nn(this,Pd)))})).apply(this,arguments)}class Lu{hasValidTokenOption(n){if(0==n.length)return!1;for(const e of n)if(null!=this.validate(e))return!0;return!1}}class RW extends Lu{get infoDescription(){return"Description"}process(n){return n.map(e=>this.validate(e)?.description??"")}validate(n){return null==n.description?void 0:n}}function Vd(t){if(cn(1,arguments),!function xW(t){return cn(1,arguments),t instanceof Date||"object"===Ad(t)&&"[object Date]"===Object.prototype.toString.call(t)}(t)&&"number"!=typeof t)return!1;var n=Kn(t);return!isNaN(Number(n))}var LW=864e5;function im(t){cn(1,arguments);var e=Kn(t),i=e.getUTCDay(),r=(i<1?7:0)+i-1;return e.setUTCDate(e.getUTCDate()-r),e.setUTCHours(0,0,0,0),e}function VI(t){cn(1,arguments);var n=Kn(t),e=n.getUTCFullYear(),i=new Date(0);i.setUTCFullYear(e+1,0,4),i.setUTCHours(0,0,0,0);var r=im(i),s=new Date(0);s.setUTCFullYear(e,0,4),s.setUTCHours(0,0,0,0);var o=im(s);return n.getTime()>=r.getTime()?e+1:n.getTime()>=o.getTime()?e:e-1}var BW=6048e5;var BI={};function rm(){return BI}function sm(t,n){var e,i,r,s,o,a,l,u;cn(1,arguments);var c=rm(),d=Ii(null!==(e=null!==(i=null!==(r=null!==(s=n?.weekStartsOn)&&void 0!==s?s:null==n||null===(o=n.locale)||void 0===o||null===(a=o.options)||void 0===a?void 0:a.weekStartsOn)&&void 0!==r?r:c.weekStartsOn)&&void 0!==i?i:null===(l=c.locale)||void 0===l||null===(u=l.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==e?e:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=Kn(t),h=f.getUTCDay(),p=(h<d?7:0)+h-d;return f.setUTCDate(f.getUTCDate()-p),f.setUTCHours(0,0,0,0),f}function HI(t,n){var e,i,r,s,o,a,l,u;cn(1,arguments);var c=Kn(t),d=c.getUTCFullYear(),f=rm(),h=Ii(null!==(e=null!==(i=null!==(r=null!==(s=n?.firstWeekContainsDate)&&void 0!==s?s:null==n||null===(o=n.locale)||void 0===o||null===(a=o.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==r?r:f.firstWeekContainsDate)&&void 0!==i?i:null===(l=f.locale)||void 0===l||null===(u=l.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==e?e:1);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(d+1,0,h),p.setUTCHours(0,0,0,0);var v=sm(p,n),M=new Date(0);M.setUTCFullYear(d,0,h),M.setUTCHours(0,0,0,0);var I=sm(M,n);return c.getTime()>=v.getTime()?d+1:c.getTime()>=I.getTime()?d:d-1}var jW=6048e5;const pa_y=function(n,e){var i=n.getUTCFullYear(),r=i>0?i:1-i;return Mt("yy"===e?r%100:r,e.length)},pa_M=function(n,e){var i=n.getUTCMonth();return"M"===e?String(i+1):Mt(i+1,2)},pa_d=function(n,e){return Mt(n.getUTCDate(),e.length)},pa_h=function(n,e){return Mt(n.getUTCHours()%12||12,e.length)},pa_H=function(n,e){return Mt(n.getUTCHours(),e.length)},pa_m=function(n,e){return Mt(n.getUTCMinutes(),e.length)},pa_s=function(n,e){return Mt(n.getUTCSeconds(),e.length)},pa_S=function(n,e){var i=e.length,r=n.getUTCMilliseconds();return Mt(Math.floor(r*Math.pow(10,i-3)),e.length)};var zW={G:function(n,e,i){var r=n.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return i.era(r,{width:"abbreviated"});case"GGGGG":return i.era(r,{width:"narrow"});default:return i.era(r,{width:"wide"})}},y:function(n,e,i){if("yo"===e){var r=n.getUTCFullYear();return i.ordinalNumber(r>0?r:1-r,{unit:"year"})}return pa_y(n,e)},Y:function(n,e,i,r){var s=HI(n,r),o=s>0?s:1-s;return"YY"===e?Mt(o%100,2):"Yo"===e?i.ordinalNumber(o,{unit:"year"}):Mt(o,e.length)},R:function(n,e){return Mt(VI(n),e.length)},u:function(n,e){return Mt(n.getUTCFullYear(),e.length)},Q:function(n,e,i){var r=Math.ceil((n.getUTCMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Mt(r,2);case"Qo":return i.ordinalNumber(r,{unit:"quarter"});case"QQQ":return i.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return i.quarter(r,{width:"narrow",context:"formatting"});default:return i.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,i){var r=Math.ceil((n.getUTCMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Mt(r,2);case"qo":return i.ordinalNumber(r,{unit:"quarter"});case"qqq":return i.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return i.quarter(r,{width:"narrow",context:"standalone"});default:return i.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,i){var r=n.getUTCMonth();switch(e){case"M":case"MM":return pa_M(n,e);case"Mo":return i.ordinalNumber(r+1,{unit:"month"});case"MMM":return i.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return i.month(r,{width:"narrow",context:"formatting"});default:return i.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,i){var r=n.getUTCMonth();switch(e){case"L":return String(r+1);case"LL":return Mt(r+1,2);case"Lo":return i.ordinalNumber(r+1,{unit:"month"});case"LLL":return i.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return i.month(r,{width:"narrow",context:"standalone"});default:return i.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,i,r){var s=function UW(t,n){cn(1,arguments);var e=Kn(t),i=sm(e,n).getTime()-function $W(t,n){var e,i,r,s,o,a,l,u;cn(1,arguments);var c=rm(),d=Ii(null!==(e=null!==(i=null!==(r=null!==(s=n?.firstWeekContainsDate)&&void 0!==s?s:null==n||null===(o=n.locale)||void 0===o||null===(a=o.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==r?r:c.firstWeekContainsDate)&&void 0!==i?i:null===(l=c.locale)||void 0===l||null===(u=l.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==e?e:1),f=HI(t,n),h=new Date(0);return h.setUTCFullYear(f,0,d),h.setUTCHours(0,0,0,0),sm(h,n)}(e,n).getTime();return Math.round(i/jW)+1}(n,r);return"wo"===e?i.ordinalNumber(s,{unit:"week"}):Mt(s,e.length)},I:function(n,e,i){var r=function HW(t){cn(1,arguments);var n=Kn(t),e=im(n).getTime()-function VW(t){cn(1,arguments);var n=VI(t),e=new Date(0);return e.setUTCFullYear(n,0,4),e.setUTCHours(0,0,0,0),im(e)}(n).getTime();return Math.round(e/BW)+1}(n);return"Io"===e?i.ordinalNumber(r,{unit:"week"}):Mt(r,e.length)},d:function(n,e,i){return"do"===e?i.ordinalNumber(n.getUTCDate(),{unit:"date"}):pa_d(n,e)},D:function(n,e,i){var r=function PW(t){cn(1,arguments);var n=Kn(t),e=n.getTime();n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0);var i=n.getTime();return Math.floor((e-i)/LW)+1}(n);return"Do"===e?i.ordinalNumber(r,{unit:"dayOfYear"}):Mt(r,e.length)},E:function(n,e,i){var r=n.getUTCDay();switch(e){case"E":case"EE":case"EEE":return i.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return i.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(r,{width:"short",context:"formatting"});default:return i.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,i,r){var s=n.getUTCDay(),o=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return Mt(o,2);case"eo":return i.ordinalNumber(o,{unit:"day"});case"eee":return i.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return i.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(s,{width:"short",context:"formatting"});default:return i.day(s,{width:"wide",context:"formatting"})}},c:function(n,e,i,r){var s=n.getUTCDay(),o=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return Mt(o,e.length);case"co":return i.ordinalNumber(o,{unit:"day"});case"ccc":return i.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return i.day(s,{width:"narrow",context:"standalone"});case"cccccc":return i.day(s,{width:"short",context:"standalone"});default:return i.day(s,{width:"wide",context:"standalone"})}},i:function(n,e,i){var r=n.getUTCDay(),s=0===r?7:r;switch(e){case"i":return String(s);case"ii":return Mt(s,e.length);case"io":return i.ordinalNumber(s,{unit:"day"});case"iii":return i.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return i.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return i.day(r,{width:"short",context:"formatting"});default:return i.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,i){var s=n.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return i.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return i.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return i.dayPeriod(s,{width:"narrow",context:"formatting"});default:return i.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(n,e,i){var s,r=n.getUTCHours();switch(s=12===r?"noon":0===r?"midnight":r/12>=1?"pm":"am",e){case"b":case"bb":return i.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return i.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return i.dayPeriod(s,{width:"narrow",context:"formatting"});default:return i.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(n,e,i){var s,r=n.getUTCHours();switch(s=r>=17?"evening":r>=12?"afternoon":r>=4?"morning":"night",e){case"B":case"BB":case"BBB":return i.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return i.dayPeriod(s,{width:"narrow",context:"formatting"});default:return i.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(n,e,i){if("ho"===e){var r=n.getUTCHours()%12;return 0===r&&(r=12),i.ordinalNumber(r,{unit:"hour"})}return pa_h(n,e)},H:function(n,e,i){return"Ho"===e?i.ordinalNumber(n.getUTCHours(),{unit:"hour"}):pa_H(n,e)},K:function(n,e,i){var r=n.getUTCHours()%12;return"Ko"===e?i.ordinalNumber(r,{unit:"hour"}):Mt(r,e.length)},k:function(n,e,i){var r=n.getUTCHours();return 0===r&&(r=24),"ko"===e?i.ordinalNumber(r,{unit:"hour"}):Mt(r,e.length)},m:function(n,e,i){return"mo"===e?i.ordinalNumber(n.getUTCMinutes(),{unit:"minute"}):pa_m(n,e)},s:function(n,e,i){return"so"===e?i.ordinalNumber(n.getUTCSeconds(),{unit:"second"}):pa_s(n,e)},S:function(n,e){return pa_S(n,e)},X:function(n,e,i,r){var o=(r._originalDate||n).getTimezoneOffset();if(0===o)return"Z";switch(e){case"X":return jI(o);case"XXXX":case"XX":return Za(o);default:return Za(o,":")}},x:function(n,e,i,r){var o=(r._originalDate||n).getTimezoneOffset();switch(e){case"x":return jI(o);case"xxxx":case"xx":return Za(o);default:return Za(o,":")}},O:function(n,e,i,r){var o=(r._originalDate||n).getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+$I(o,":");default:return"GMT"+Za(o,":")}},z:function(n,e,i,r){var o=(r._originalDate||n).getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+$I(o,":");default:return"GMT"+Za(o,":")}},t:function(n,e,i,r){return Mt(Math.floor((r._originalDate||n).getTime()/1e3),e.length)},T:function(n,e,i,r){return Mt((r._originalDate||n).getTime(),e.length)}};function $I(t,n){var e=t>0?"-":"+",i=Math.abs(t),r=Math.floor(i/60),s=i%60;if(0===s)return e+String(r);var o=n||"";return e+String(r)+o+Mt(s,2)}function jI(t,n){return t%60==0?(t>0?"-":"+")+Mt(Math.abs(t)/60,2):Za(t,n)}function Za(t,n){var e=n||"",i=t>0?"-":"+",r=Math.abs(t);return i+Mt(Math.floor(r/60),2)+e+Mt(r%60,2)}const qW=zW;var UI=function(n,e){switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},YI=function(n,e){switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}};const ZW={p:YI,P:function(n,e){var o,i=n.match(/(P+)(p+)?/)||[],r=i[1],s=i[2];if(!s)return UI(n,e);switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;default:o=e.dateTime({width:"full"})}return o.replace("{{date}}",UI(r,e)).replace("{{time}}",YI(s,e))}};var KW=["D","DD"],JW=["YY","YYYY"];function zI(t,n,e){if("YYYY"===t)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(n,"`) for formatting years to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===t)throw new RangeError("Use `yy` instead of `YY` (in `".concat(n,"`) for formatting years to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===t)throw new RangeError("Use `d` instead of `D` (in `".concat(n,"`) for formatting days of the month to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===t)throw new RangeError("Use `dd` instead of `DD` (in `".concat(n,"`) for formatting days of the month to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var t5={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function Bb(t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=n.width?String(n.width):t.defaultWidth;return t.formats[e]||t.formats[t.defaultWidth]}}const u5={date:Bb({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:Bb({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:Bb({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var c5={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function Bd(t){return function(n,e){var r;if("formatting"===(null!=e&&e.context?String(e.context):"standalone")&&t.formattingValues){var s=t.defaultFormattingWidth||t.defaultWidth,o=null!=e&&e.width?String(e.width):s;r=t.formattingValues[o]||t.formattingValues[s]}else{var a=t.defaultWidth,l=null!=e&&e.width?String(e.width):t.defaultWidth;r=t.values[l]||t.values[a]}return r[t.argumentCallback?t.argumentCallback(n):n]}}const w5={ordinalNumber:function(n,e){var i=Number(n),r=i%100;if(r>20||r<10)switch(r%10){case 1:return i+"st";case 2:return i+"nd";case 3:return i+"rd"}return i+"th"},era:Bd({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Bd({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(n){return n-1}}),month:Bd({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Bd({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Bd({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function Hd(t){return function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.width,s=n.match(i&&t.matchPatterns[i]||t.matchPatterns[t.defaultMatchWidth]);if(!s)return null;var u,o=s[0],a=i&&t.parsePatterns[i]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?function D5(t,n){for(var e=0;e<t.length;e++)if(n(t[e]))return e}(a,function(d){return d.test(o)}):function C5(t,n){for(var e in t)if(t.hasOwnProperty(e)&&n(t[e]))return e}(a,function(d){return d.test(o)});return u=t.valueCallback?t.valueCallback(l):l,{value:u=e.valueCallback?e.valueCallback(u):u,rest:n.slice(o.length)}}}var P5={ordinalNumber:function T5(t){return function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.match(t.matchPattern);if(!i)return null;var r=i[0],s=n.match(t.parsePattern);if(!s)return null;var o=t.valueCallback?t.valueCallback(s[0]):s[0];return{value:o=e.valueCallback?e.valueCallback(o):o,rest:n.slice(r.length)}}}({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(n){return parseInt(n,10)}}),era:Hd({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Hd({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(n){return n+1}}),month:Hd({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Hd({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Hd({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};const B5={code:"en-US",formatDistance:function(n,e,i){var r,s=t5[n];return r="string"==typeof s?s:1===e?s.one:s.other.replace("{{count}}",e.toString()),null!=i&&i.addSuffix?i.comparison&&i.comparison>0?"in "+r:r+" ago":r},formatLong:u5,formatRelative:function(n,e,i,r){return c5[n]},localize:w5,match:P5,options:{weekStartsOn:0,firstWeekContainsDate:1}};var H5=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,$5=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,j5=/^'([^]*?)'?$/,U5=/''/g,Y5=/[a-zA-Z]/;function ma(t,n,e){var i,r,s,o,a,l,u,c,d,f,h,p,v,M,I,q,P,oe;cn(2,arguments);var tt=String(n),rt=rm(),dn=null!==(i=null!==(r=e?.locale)&&void 0!==r?r:rt.locale)&&void 0!==i?i:B5,Qi=Ii(null!==(s=null!==(o=null!==(a=null!==(l=e?.firstWeekContainsDate)&&void 0!==l?l:null==e||null===(u=e.locale)||void 0===u||null===(c=u.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==a?a:rt.firstWeekContainsDate)&&void 0!==o?o:null===(d=rt.locale)||void 0===d||null===(f=d.options)||void 0===f?void 0:f.firstWeekContainsDate)&&void 0!==s?s:1);if(!(Qi>=1&&Qi<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var xi=Ii(null!==(h=null!==(p=null!==(v=null!==(M=e?.weekStartsOn)&&void 0!==M?M:null==e||null===(I=e.locale)||void 0===I||null===(q=I.options)||void 0===q?void 0:q.weekStartsOn)&&void 0!==v?v:rt.weekStartsOn)&&void 0!==p?p:null===(P=rt.locale)||void 0===P||null===(oe=P.options)||void 0===oe?void 0:oe.weekStartsOn)&&void 0!==h?h:0);if(!(xi>=0&&xi<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!dn.localize)throw new RangeError("locale must contain localize property");if(!dn.formatLong)throw new RangeError("locale must contain formatLong property");var Fi=Kn(t);if(!Vd(Fi))throw new RangeError("Invalid time value");var Fn=function QW(t){var n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),t.getTime()-n.getTime()}(Fi),Ci=function NW(t,n){return cn(2,arguments),function FW(t,n){cn(2,arguments);var e=Kn(t).getTime(),i=Ii(n);return new Date(e+i)}(t,-Ii(n))}(Fi,Fn),Ni={firstWeekContainsDate:Qi,weekStartsOn:xi,locale:dn,_originalDate:Fi},oo=tt.match($5).map(function(Ki){var ye=Ki[0];return"p"===ye||"P"===ye?(0,ZW[ye])(Ki,dn.formatLong):Ki}).join("").match(H5).map(function(Ki){if("''"===Ki)return"'";var ye=Ki[0];if("'"===ye)return function z5(t){var n=t.match(j5);return n?n[1].replace(U5,"'"):t}(Ki);var Be=qW[ye];if(Be)return!(null!=e&&e.useAdditionalWeekYearTokens)&&function e5(t){return-1!==JW.indexOf(t)}(Ki)&&zI(Ki,n,String(t)),!(null!=e&&e.useAdditionalDayOfYearTokens)&&function XW(t){return-1!==KW.indexOf(t)}(Ki)&&zI(Ki,n,String(t)),Be(Ci,Ki,dn.localize,Ni);if(ye.match(Y5))throw new RangeError("Format string contains an unescaped latin alphabet character `"+ye+"`");return Ki}).join("");return oo}class q5 extends Lu{get infoDescription(){return"End At"}process(n){return n.map(e=>{const i=this.validate(e);return null==i?"":ma(i.endTime,"MMM dd, yyyy kk:mm:ss")})}validate(n){const e=n.endTime;return null!=e&&Vd(e)?n:void 0}}class W5{}class G5 extends W5{constructor(n){super(),this.transformers=n}process(n){const e=[];for(const r of this.transformers)r.hasValidTokenOption(n)&&e.push([r.infoDescription,r.process(n)]);if(0==e.length)return"";const i=[];for(let r=0;r<n.length;r++){const s=[];for(let o=0;o<e.length;o++){const a=e[o]?.[1]?.[r];null!=a&&s.push(a)}i.push(s)}return['<table style="border: 1px solid black; border-collapse: collapse;">',"<thead>","<tr>",...e.map(r=>`<th style="text-align: center; margin-left: 1rem; margin-right: 1rem; border: 1px solid black;">${r[0]}</th>`),"</tr>","</thead>","<tbody>",...i.map(r=>`<tr>${r.map(s=>`<td style="text-align: center; margin-left: 1rem; margin-right: 1rem; border: 1px solid black;">${s}</td>`).join("")}</tr>`),"</tbody>","</table>"].join("")}}class Z5 extends Lu{get infoDescription(){return"Token Option"}process(n){return n.map(e=>this.validate(e)?.name??"")}validate(n){return null==n.name?void 0:n}}class Q5 extends Lu{get infoDescription(){return"Start At"}process(n){return n.map(e=>{const i=this.validate(e);return null==i?"":ma(i.startTime,"MMM dd, yyyy kk:mm:ss")})}validate(n){const e=n.startTime;return null!=e&&Vd(e)?n:void 0}}class K5 extends Lu{get infoDescription(){return"Token Balance Change"}process(n){return n.map(e=>this.validate(e)?.tokenBalanceChange?.toString()??"")}validate(n){return null==n.tokenBalanceChange?void 0:n}}class J5{constructor(n="Question",e="",i=0){this._name=n,this._text=e,this._pointsPossible=i}get name(){return this._name}get text(){return this._text}get pointsPossible(){return this._pointsPossible}toJSON(){return{question_name:this.name,question_text:this.text,question_type:this.questionType,points_possible:this.pointsPossible}}}class X5 extends J5{constructor(n="Question",e="",i=0,r=[]){super(n,e,i),this._options=r}get options(){return this._options}get questionType(){return"multiple_choice_question"}toJSON(){const n=this.options.map(e=>({answer_text:e}));return{...super.toJSON(),answers:n}}}class Ao{constructor(n,e,i,r,s,o,a){this._group=n,this._type=e,this._id=i,this._name=r,this._description=s,this._tokenBalanceChange=o,this._isMigrating=a}get group(){return this._group}set group(n){this._group=n}get type(){return this._type}set type(n){this._type=n}get id(){return this._id}set id(n){this._id=n}get name(){return this._name}set name(n){this._name=n}get description(){return this._description}set description(n){this._description=n}get tokenBalanceChange(){return this._tokenBalanceChange}set tokenBalanceChange(n){this._tokenBalanceChange=n}set isMigrating(n){this._isMigrating=n}get isMigrating(){return this._isMigrating}get prompt(){return"Request for "+this.name}toJSON(){return{type:this.type,id:this.id,name:this.name,description:qi_encode(this.description),token_balance_change:this.tokenBalanceChange,is_migrating:!!this.isMigrating||void 0}}static resolveTokenOption(n,e){if("string"!=typeof e.type||"number"!=typeof e.id||"string"!=typeof e.name||typeof e.description<"u"&&"string"!=typeof e.description||"number"!=typeof e.token_balance_change||typeof e.is_migrating<"u"&&"boolean"!=typeof e.is_migrating)throw new Error("Invalid data");return[n,e.type,e.id,e.name,e.description?qi_decode(e.description):"",e.token_balance_change,e.is_migrating??!1]}}class Ys extends Ao{static deserialize(n,e){return new Ys(...super.resolveTokenOption(n,e))}}class zs{}let e6=(()=>{class t extends zs{resolve(e,i){return Ys.deserialize(e,i)}get type(){return"basic"}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})();function Ir(t){return cn(1,arguments),Math.floor(function t6(t){return cn(1,arguments),Kn(t).getTime()}(t)/1e3)}function gr(t){return cn(1,arguments),Kn(1e3*Ii(t))}class Qa extends Ao{constructor(n,e,i,r,s,o,a,l,u,c,d){super(n,e,i,r,s,o,a),this._moduleName=l,this._moduleId=u,this._startTime=c,this._gradeThreshold=d}get moduleName(){return this._moduleName}set moduleName(n){this._moduleName=n}get moduleId(){return this._moduleId}set moduleId(n){this._moduleId=n}get startTime(){return this._startTime}set startTime(n){this._startTime=n}get gradeThreshold(){return this._gradeThreshold}set gradeThreshold(n){this._gradeThreshold=n}toJSON(){return{...super.toJSON(),module_name:this.moduleName,module_id:this.moduleId,start_time:Ir(this.startTime),grade_threshold:this.gradeThreshold}}static resolveEarnByModuleTokenOption(n,e){if("string"!=typeof e.module_name||"string"!=typeof e.module_id||"number"!=typeof e.start_time||"number"!=typeof e.grade_threshold)throw new Error("Invalid data");return[...super.resolveTokenOption(n,e),e.module_name,e.module_id,gr(e.start_time),e.grade_threshold]}static deserialize(n,e){return new Qa(...this.resolveEarnByModuleTokenOption(n,e))}}let n6=(()=>{class t extends zs{resolve(e,i){return Qa.deserialize(e,i)}get type(){return"earn-by-module"}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})();class $d extends Ao{constructor(n,e,i,r,s,o,a,l,u,c,d){super(n,e,i,r,s,o,a),this._quizName=l,this._quizId=u,this._startTime=c,this._gradeThreshold=d}get quizName(){return this._quizName}set quizName(n){this._quizName=n}get quizId(){return this._quizId}set quizId(n){this._quizId=n}get startTime(){return this._startTime}set startTime(n){this._startTime=n}get gradeThreshold(){return this._gradeThreshold}set gradeThreshold(n){this._gradeThreshold=n}toJSON(){return{...super.toJSON(),quiz_name:this.quizName,quiz_id:this.quizId,start_time:Ir(this.startTime),grade_threshold:this.gradeThreshold}}static resolveEarnByQuizTokenOption(n,e){if("string"!=typeof e.quiz_name||"string"!=typeof e.quiz_id||"number"!=typeof e.start_time||"number"!=typeof e.grade_threshold)throw new Error("Invalid data");return[...super.resolveTokenOption(n,e),e.quiz_name,e.quiz_id,gr(e.start_time),e.grade_threshold]}static deserialize(n,e){return new $d(...this.resolveEarnByQuizTokenOption(n,e))}}let r6=(()=>{class t extends zs{resolve(e,i){return $d.deserialize(e,i)}get type(){return"earn-by-quiz"}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})();class jd extends Ao{constructor(n,e,i,r,s,o,a,l,u,c,d){super(n,e,i,r,s,o,a),this._surveyId=l,this._fieldName=u,this._startTime=c,this._endTime=d}get surveyId(){return this._surveyId}set surveyId(n){this._surveyId=n}get fieldName(){return this._fieldName}set fieldName(n){this._fieldName=n}get startTime(){return this._startTime}set startTime(n){this._startTime=n}get endTime(){return this._endTime}set endTime(n){this._endTime=n}toJSON(){return{...super.toJSON(),quiz_id:this.surveyId,field_name:this.fieldName,start_time:Ir(this.startTime),end_time:Ir(this.endTime)}}static resolveEarnByQuizTokenOption(n,e){if("string"!=typeof e.quiz_id||"string"!=typeof e.field_name||"number"!=typeof e.start_time||"number"!=typeof e.end_time)throw new Error("Invalid data");return[...super.resolveTokenOption(n,e),e.quiz_id,e.field_name,gr(e.start_time),gr(e.end_time)]}static deserialize(n,e){return new jd(...this.resolveEarnByQuizTokenOption(n,e))}}let s6=(()=>{class t extends zs{resolve(e,i){return jd.deserialize(e,i)}get type(){return"earn-by-survey"}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})();class Ka extends Ao{constructor(n,e,i,r,s,o,a,l,u,c,d,f){super(n,e,i,r,s,o,a),this._assignmentName=l,this._assignmentId=u,this._startTime=c,this._endTime=d,this._newDueTime=f}get assignmentName(){return this._assignmentName}set assignmentName(n){this._assignmentName=n}get assignmentId(){return this._assignmentId}set assignmentId(n){this._assignmentId=n}get startTime(){return this._startTime}set startTime(n){this._startTime=n}get endTime(){return this._endTime}set endTime(n){this._endTime=n}get newDueTime(){return this._newDueTime}set newDueTime(n){this._newDueTime=n}toJSON(){return{...super.toJSON(),assignment_name:this.assignmentName,assignment_id:this.assignmentId,start_time:Ir(this.startTime),end_time:Ir(this.endTime),new_due_time:Ir(this.newDueTime)}}static resolveSpendForAssignmentResubmissionTokenOption(n,e){if("string"!=typeof e.assignment_name||"string"!=typeof e.assignment_id||"number"!=typeof e.start_time||"number"!=typeof e.end_time||"number"!=typeof e.new_due_time)throw new Error("Invalid data");return[...super.resolveTokenOption(n,e),e.assignment_name,e.assignment_id,gr(e.start_time),gr(e.end_time),gr(e.new_due_time)]}static deserialize(n,e){return new Ka(...this.resolveSpendForAssignmentResubmissionTokenOption(n,e))}}let o6=(()=>{class t extends zs{resolve(e,i){return Ka.deserialize(e,i)}get type(){return"spend-for-assignment-resubmission"}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})();class _a extends Ao{constructor(n,e,i,r,s,o,a,l,u,c,d,f,h){super(n,e,i,r,s,o,a),this._quizName=l,this._quizId=u,this._startTime=c,this._endTime=d,this._newDueTime=f,this._excludeTokenOptionIds=h}get quizName(){return this._quizName}set quizName(n){this._quizName=n}get quizId(){return this._quizId}set quizId(n){this._quizId=n}get startTime(){return this._startTime}set startTime(n){this._startTime=n}get endTime(){return this._endTime}set endTime(n){this._endTime=n}get newDueTime(){return this._newDueTime}set newDueTime(n){this._newDueTime=n}get excludeTokenOptionIds(){return this._excludeTokenOptionIds}set excludeTokenOptionIds(n){this._excludeTokenOptionIds=n}toJSON(){return{...super.toJSON(),quiz_name:this.quizName,quiz_id:this.quizId,start_time:Ir(this.startTime),end_time:Ir(this.endTime),new_due_time:Ir(this.newDueTime),exclude_token_option_ids:this._excludeTokenOptionIds}}static resolveSpendForLabDataTokenOption(n,e){if("string"!=typeof e.quiz_name||"string"!=typeof e.quiz_id||"number"!=typeof e.start_time||"number"!=typeof e.end_time||"number"!=typeof e.new_due_time||typeof e.exclude_token_option_ids<"u"&&"object"!=typeof e.exclude_token_option_ids||"object"==typeof e.exclude_token_option_ids&&!Array.isArray(e.exclude_token_option_ids))throw new Error("Invalid data");if(null!=e.exclude_token_option_ids)for(const i of e.exclude_token_option_ids)if("number"!=typeof i)throw new Error("Invalid data");return[...super.resolveTokenOption(n,e),e.quiz_name,e.quiz_id,gr(e.start_time),gr(e.end_time),gr(e.new_due_time),e.exclude_token_option_ids??[]]}static deserialize(n,e){return new _a(...this.resolveSpendForLabDataTokenOption(n,e))}}let a6=(()=>{class t extends zs{resolve(e,i){return _a.deserialize(e,i)}get type(){return"spend-for-lab-data"}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})();class Vu extends Ao{constructor(n,e,i,r,s,o,a,l){super(n,e,i,r,s,o,a),this._excludeTokenOptionIds=l}get excludeTokenOptionIds(){return this._excludeTokenOptionIds}set excludeTokenOptionIds(n){this._excludeTokenOptionIds=n}toJSON(){return{...super.toJSON(),exclude_token_option_ids:this._excludeTokenOptionIds}}static resolveSpendForLabSwitchTokenOption(n,e){if(typeof e.exclude_token_option_ids<"u"&&"object"!=typeof e.exclude_token_option_ids||"object"==typeof e.exclude_token_option_ids&&!Array.isArray(e.exclude_token_option_ids))throw new Error("Invalid data");if(null!=e.exclude_token_option_ids)for(const i of e.exclude_token_option_ids)if("number"!=typeof i)throw new Error("Invalid data");return[...super.resolveTokenOption(n,e),e.exclude_token_option_ids??[]]}static deserialize(n,e){return new Vu(...this.resolveSpendForLabSwitchTokenOption(n,e))}}let l6=(()=>{class t extends zs{resolve(e,i){return Vu.deserialize(e,i)}get type(){return"spend-for-lab-switch"}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})();class Bu extends Ao{constructor(n,e,i,r,s,o,a,l){super(n,e,i,r,s,o,a),this._initialized=!1,this._withdrawTokenOptionId=l}initialize(){if(this._initialized)return;this._initialized=!0;const n=this.group.configuration.getTokenOptionById(this.withdrawTokenOptionId);!n||!this.validateTokenOptionType(n)||(this._withdrawTokenOption=n)}get withdrawTokenOption(){if(this.initialize(),this._withdrawTokenOption)return this._withdrawTokenOption}get withdrawTokenOptionId(){return this._withdrawTokenOptionId}set withdrawTokenOptionId(n){this._withdrawTokenOptionId=n,this._initialized=!1,this.initialize()}toJSON(){return{...super.toJSON(),withdraw_token_option_id:this.withdrawTokenOptionId}}static resolveWithdrawTokenOption(n,e){if("number"!=typeof e.withdraw_token_option_id)throw new Error("Invalid data");return[...super.resolveTokenOption(n,e),e.withdraw_token_option_id]}}class om extends Bu{validateTokenOptionType(n){return n instanceof Ka}get startTime(){return this.withdrawTokenOption?.startTime}get endTime(){return this.withdrawTokenOption?.endTime}static deserialize(n,e){return new om(...super.resolveWithdrawTokenOption(n,e))}}let u6=(()=>{class t extends zs{resolve(e,i){return om.deserialize(e,i)}get type(){return"withdraw-assignment-resubmission"}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})();class am extends Bu{validateTokenOptionType(n){return n instanceof _a}get startTime(){return this.withdrawTokenOption?.startTime}get endTime(){return this.withdrawTokenOption?.endTime}static deserialize(n,e){return new am(...super.resolveWithdrawTokenOption(n,e))}}let c6=(()=>{class t extends zs{resolve(e,i){return am.deserialize(e,i)}get type(){return"withdraw-lab-data"}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})();class Ud extends Bu{validateTokenOptionType(n){return n instanceof Vu}static deserialize(n,e){return new Ud(...super.resolveWithdrawTokenOption(n,e))}}const d6=[e6,n6,r6,o6,a6,s6,u6,c6,l6,(()=>{class t extends zs{resolve(e,i){return Ud.deserialize(e,i)}get type(){return"withdraw-lab-switch"}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})()],qI=new Pe("TOKEN_OPTION_RESOLVERS");let f6=(()=>{class t{constructor(e){this._tokenOptionResolversMap=new Map,e&&e.forEach(i=>{this._tokenOptionResolversMap.set(i.type,i)})}getTokenOptionResolver(e){const i=this._tokenOptionResolversMap.get(e);if(!i)throw new Error("Unsupported token option type");return i}resolveTokenOption(e,i){if("string"!=typeof i.type)throw new Error("Invalid data");return this.getTokenOptionResolver(i.type).resolve(e,i)}}return t.\u0275fac=function(e){return new(e||t)(X(qI,8))},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var h6=de(191),m6=de(867).e,_6=/<(![a-zA-Z\s]+)>/;class y6 extends Lu{get infoDescription(){return"Extend Assignment/Quiz Lock Date To"}process(n){return n.map(e=>{const i=this.validate(e);return null==i?"":ma(i.newDueTime,"MMM dd, yyyy kk:mm:ss")})}validate(n){const e=n.newDueTime;return null!=e&&Vd(e)?n:void 0}}let Hb,Ar=(()=>{class t{constructor(e,i){this.canvasService=e,this.tokenOptionResolverRegistry=i}resolvePageContent(e){const i=function g6(t){if("string"!=typeof t)throw new TypeError("First argument must be a string");if(""===t)return[];var e,n=t.match(_6);return n&&n[1]&&(e=n[1]),m6(h6(t),null,e)}(e);for(const r of i)if("tag"==r.type&&"p"==r.name&&"text"==r.children[0]?.type&&"string"==typeof r.children[0]?.data)return r.children[0]?.data;throw new Error("Page resolve failed")}readConfigurationFromPage(e,i){var r=this;return(0,b.Z)(function*(){let s=yield r.canvasService.getPageContentByName(e.id,i);return s=r.resolvePageContent(s),s})()}writeConfigurationToPage(e,i,r){var s=this;return(0,b.Z)(function*(){yield s.canvasService.modifyPage(e.id,i,`<p>${r}</p>`)})()}saveConfiguration(e){var i=this;return(0,b.Z)(function*(){const r=yield i.canvasService.getPageIdByName(e.course.id,t.TOKEN_ATM_CONFIGURATION_PAGE_NAME);yield i.writeConfigurationToPage(e.course,r,JSON.stringify(e))})()}getTokenATMAssignmentGroupId(e){var i=this;return(0,b.Z)(function*(){return yield i.canvasService.getAssignmentGroupIdByName(e.course.id,t.TOKEN_ATM_ASSIGNMENT_GROUP_PREFIX+` - ${e.uid} - ${e.suffix}`)})()}getTokenATMModuleId(e){var i=this;return(0,b.Z)(function*(){return yield i.canvasService.getModuleIdByName(e.course.id,t.TOKEN_ATM_MODULE_PREFIX+` - ${e.uid} - ${e.suffix}`)})()}getTokenATMConfiguration(e){var i=this;return(0,b.Z)(function*(){const r=yield i.readConfigurationFromPage(e,t.TOKEN_ATM_CONFIGURATION_PAGE_NAME),s=yield i.readConfigurationFromPage(e,t.TOKEN_ATM_SECURE_CONFIGURATION_PAGE_NAME),o=JSON.parse(r),a=JSON.parse(s);return nm.deserialize(e,o,a,(l,u)=>i.tokenOptionResolverRegistry.resolveTokenOption(l,u))})()}updateTokenOptionGroupMetadata(e){var i=this;return(0,b.Z)(function*(){const r=e.configuration.course.id,s=e.quizId;yield i.canvasService.modifyQuiz(r,s,t.TOKEN_ATM_QUIZ_PREFIX+e.name,e.description)})()}updateTokenOptionGroup(e){var i=this;return(0,b.Z)(function*(){const r=e.configuration.course.id,s=e.quizId;let o=!1;e.isPublished&&(o=yield i.canvasService.canQuizUnpublished(r,s)),e.isPublished&&o&&(o=yield i.canvasService.changeQuizPublishState(r,s,!1)),yield i.canvasService.modifyQuiz(r,s,t.TOKEN_ATM_QUIZ_PREFIX+e.name,e.description);const a=new X5("Choose a token option",new G5([new Z5,new Q5,new q5,new y6,new K5,new RW]).process(e.availableTokenOptions),0,e.availableTokenOptions.map(l=>l.prompt));return yield i.canvasService.replaceQuizQuestions(r,s,[a]),yield i.saveConfiguration(e.configuration),e.isPublished&&o&&(yield i.canvasService.changeQuizPublishState(r,s,!0)),!e.isPublished||o})()}addNewTokenOptionGroup(e,i,r,s=!0){var o=this;return(0,b.Z)(function*(){s&&e.configuration.addTokenOptionGroup(e);const a=e.configuration.course.id;null==i&&(i=yield o.getTokenATMAssignmentGroupId(e.configuration));const l=t.TOKEN_ATM_QUIZ_PREFIX+e.name,u=yield o.canvasService.createQuiz(a,i,l,e.description);e.quizId=u,null==r&&(r=yield o.getTokenATMModuleId(e.configuration)),yield o.canvasService.addModuleItem(a,r,"Quiz",u),yield o.updateTokenOptionGroup(e),e.isPublished&&(yield o.canvasService.changeQuizPublishState(a,u,!0))})()}deleteTokenOptionGroup(e,i=!0){var r=this;return(0,b.Z)(function*(){i&&e.configuration.deleteTokenOptionGroup(e),yield r.canvasService.deleteQuiz(e.configuration.course.id,e.quizId),i&&(yield r.saveConfiguration(e.configuration))})()}publishTokenOptionGroup(e){var i=this;return(0,b.Z)(function*(){e.isPublished||(yield i.canvasService.changeQuizPublishState(e.configuration.course.id,e.quizId,!0),e.isPublished=!0,yield i.saveConfiguration(e.configuration))})()}unpublishTokenOptionGroup(e){var i=this;return(0,b.Z)(function*(){return!(!e.isPublished&&!(yield i.canvasService.canQuizUnpublished(e.configuration.course.id,e.quizId))||!(yield i.canvasService.changeQuizPublishState(e.configuration.course.id,e.quizId,!1))||(e.isPublished=!1,yield i.saveConfiguration(e.configuration),0))})()}updateTokenATMMetadata(e,{suffix:i,description:r}={}){var s=this;return(0,b.Z)(function*(){let o=!1;null!=i&&i!=e.suffix&&(yield s.canvasService.modifyModuleName(e.course.id,yield s.getTokenATMModuleId(e),t.TOKEN_ATM_MODULE_PREFIX+` - ${e.uid} - ${i}`),yield s.canvasService.modifyAssignmentGroupName(e.course.id,yield s.getTokenATMAssignmentGroupId(e),t.TOKEN_ATM_ASSIGNMENT_GROUP_PREFIX+` - ${e.uid} - ${i}`),e.suffix=i,o=!0),null!=r&&r!=e.description&&(yield s.canvasService.modifyAssignmentDescription(e.course.id,e.logAssignmentId,r),e.description=r,o=!0),o&&(yield s.saveConfiguration(e))})()}deleteGeneratedContent(e){var i=this;return(0,b.Z)(function*(){yield i.canvasService.deleteAssignmentGroup(e.course.id,yield i.getTokenATMAssignmentGroupId(e)),yield i.canvasService.deleteModule(e.course.id,yield i.getTokenATMModuleId(e)),yield i.canvasService.deletePage(e.course.id,yield i.canvasService.getPageIdByName(e.course.id,t.TOKEN_ATM_SECURE_CONFIGURATION_PAGE_NAME))})()}generateContent(e){var i=this;return(0,b.Z)(function*(){const r=e.course.id;yield i.canvasService.createPage(r,t.TOKEN_ATM_SECURE_CONFIGURATION_PAGE_NAME,`<p>${JSON.stringify(e.getSecureConfig())}</p>`);const s=yield i.canvasService.createAssignmentGroup(r,t.TOKEN_ATM_ASSIGNMENT_GROUP_PREFIX+` - ${e.uid} - ${e.suffix}`),o=yield i.canvasService.createModule(r,t.TOKEN_ATM_MODULE_PREFIX+` - ${e.uid} - ${e.suffix}`);yield i.canvasService.publishModule(r,o);const a=yield i.canvasService.createAssignment(r,s,t.TOKEN_ATM_LOG_ASSIGNMENT_NAME,e.description);yield i.canvasService.addModuleItem(r,o,"Assignment",a),e.logAssignmentId=a;for(const l of e.tokenOptionGroups)yield i.addNewTokenOptionGroup(l,s,o,!1);yield i.saveConfiguration(e)})()}deleteAll(e){var i=this;return(0,b.Z)(function*(){yield i.deleteGeneratedContent(e),yield i.canvasService.deletePage(e.course.id,yield i.canvasService.getPageIdByName(e.course.id,t.TOKEN_ATM_CONFIGURATION_PAGE_NAME))})()}createTokenATMConfiguration(e,i="",r=""){var s=this;return(0,b.Z)(function*(){const o=new nm(e,"",tm(8).toUpperCase(),i,r,1,1,[],(a,l)=>s.tokenOptionResolverRegistry.resolveTokenOption(a,l),tm(32),window.crypto.getRandomValues(new Uint8Array(32)));return yield s.canvasService.createPage(e.id,t.TOKEN_ATM_CONFIGURATION_PAGE_NAME,`<p>${JSON.stringify(o)}</p>`),yield s.generateContent(o),o})()}regenerateContent(e,i=!1){var r=this;return(0,b.Z)(function*(){if(yield r.deleteGeneratedContent(e),e.uid=tm(8).toUpperCase(),e.regenerateSecureConfig(),i)for(const s of e.tokenOptionGroups){s.isPublished=!1;for(const o of s.tokenOptions)o.isMigrating=!0}yield r.generateContent(e)})()}}return t.TOKEN_ATM_CONFIGURATION_PAGE_NAME="Token ATM Configuration",t.TOKEN_ATM_SECURE_CONFIGURATION_PAGE_NAME="Token ATM Encryption Key (PLEASE DO NOT PUBLISH IT)",t.TOKEN_ATM_ASSIGNMENT_GROUP_PREFIX="Token ATM",t.TOKEN_ATM_MODULE_PREFIX="Token ATM",t.TOKEN_ATM_QUIZ_PREFIX="Token ATM Request Submission - ",t.TOKEN_ATM_LOG_ASSIGNMENT_NAME="Token ATM Log",t.\u0275fac=function(e){return new(e||t)(X(Rn),X(f6))},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),v6=(()=>{class t{constructor(){this._focusTrapStack=[]}register(e){this._focusTrapStack=this._focusTrapStack.filter(r=>r!==e);let i=this._focusTrapStack;i.length&&i[i.length-1]._disable(),i.push(e),e._enable()}deregister(e){e._disable();const i=this._focusTrapStack,r=i.indexOf(e);-1!==r&&(i.splice(r,1),i.length&&i[i.length-1]._enable())}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();try{Hb=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Hb=!1}let WI=(()=>{class t{constructor(e){this._platformId=e,this.isBrowser=this._platformId?LS(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Hb)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(X(Ih))},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),GI=(()=>{class t{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function w6(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function b6(t){try{return t.frameElement}catch{return null}}(function O6(t){return t.ownerDocument&&t.ownerDocument.defaultView||window}(e));if(i&&(-1===QI(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),s=QI(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function S6(t){let n=t.nodeName.toLowerCase(),e="input"===n&&t.type;return"text"===e||"password"===e||"select"===n||"textarea"===n}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function E6(t){return!function D6(t){return function k6(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function C6(t){let n=t.nodeName.toLowerCase();return"input"===n||"select"===n||"button"===n||"textarea"===n}(t)||function T6(t){return function M6(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||ZI(t))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}}return t.\u0275fac=function(e){return new(e||t)(X(WI))},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function ZI(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let n=t.getAttribute("tabindex");return"-32768"!=n&&!(!n||isNaN(parseInt(n,10)))}function QI(t){if(!ZI(t))return null;const n=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(n)?-1:n}function KI(t){return null!=t&&"false"!=`${t}`}class I6{constructor(n,e,i,r,s=!1){this._element=n,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(n){this._enabled=n,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}destroy(){const n=this._startAnchor,e=this._endAnchor;n&&(n.removeEventListener("focus",this.startAnchorListener),n.parentNode&&n.parentNode.removeChild(n)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(n=>{this._executeOnStable(()=>n(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(n=>{this._executeOnStable(()=>n(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(n=>{this._executeOnStable(()=>n(this.focusLastTabbableElement()))})}_getRegionBoundary(n){let e=this._element.querySelectorAll(`[cdk-focus-region-${n}], [cdkFocusRegion${n}], [cdk-focus-${n}]`);for(let i=0;i<e.length;i++)e[i].hasAttribute(`cdk-focus-${n}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${n}', use 'cdkFocusRegion${n}' instead. The deprecated attribute will be removed in 8.0.0.`,e[i]):e[i].hasAttribute(`cdk-focus-region-${n}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${n}', use 'cdkFocusRegion${n}' instead. The deprecated attribute will be removed in 8.0.0.`,e[i]);return"start"==n?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const n=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(n){if(n.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",n),!this._checker.isFocusable(n)){const e=this._getFirstTabbableElement(n);return e?.focus(),!!e}return n.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){const n=this._getRegionBoundary("start");return n&&n.focus(),!!n}focusLastTabbableElement(){const n=this._getRegionBoundary("end");return n&&n.focus(),!!n}hasAttached(){return this._hasAttached}_getFirstTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;let e=n.children||n.childNodes;for(let i=0;i<e.length;i++){let r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;let e=n.children||n.childNodes;for(let i=e.length-1;i>=0;i--){let r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const n=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,n),n.classList.add("cdk-visually-hidden"),n.classList.add("cdk-focus-trap-anchor"),n.setAttribute("aria-hidden","true"),n}_toggleAnchorTabIndex(n,e){n?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(n){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}_executeOnStable(n){this._ngZone.isStable?n():this._ngZone.onStable.pipe(Mo(1)).subscribe(n)}}let A6=(()=>{class t{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new I6(e,this._checker,this._ngZone,this._document,i)}}return t.\u0275fac=function(e){return new(e||t)(X(GI),X(pn),X(Wn))},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),R6=(()=>{class t{constructor(e,i,r){this._elementRef=e,this._focusTrapFactory=i,this._previouslyFocusedElement=null,this._autoCapture=!1,this._document=r,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(e){this.focusTrap.enabled=KI(e)}get autoCapture(){return this._autoCapture}set autoCapture(e){this._autoCapture=KI(e)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(e){const i=e.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady()}}return t.\u0275fac=function(e){return new(e||t)(D(zt),D(A6),D(Wn))},t.\u0275dir=Ve({type:t,selectors:[["","focusTrap",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["focusTrap"],features:[Hi]}),t})(),JI=(()=>{class t{static forRoot(){return{ngModule:t,providers:[v6,WI,GI]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=_i({type:t}),t.\u0275inj=ai({imports:[gu]}),t})();class x6{constructor(n,e){this.open=n,this.close=e||n}isManual(){return"manual"===this.open||"manual"===this.close}}const F6={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};function $b(t,n=F6){const e=(t||"").trim();if(0===e.length)return[];const i=e.split(/\s+/).map(s=>s.split(":")).map(s=>{const o=n[s[0]]||s;return new x6(o[0],o[1])}),r=i.filter(s=>s.isManual());if(r.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===r.length&&i.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return i}const fi=typeof window<"u"&&window||{};var lm=(()=>(function(t){t.isBs4="bs4",t.isBs5="bs5"}(lm||(lm={})),lm))();let Ro;function XI(){const t=fi.document.createElement("span");t.innerText="testing bs version",t.classList.add("d-none"),t.classList.add("pl-1"),fi.document.head.appendChild(t);const n=fi.getComputedStyle(t).paddingLeft;return n&&parseFloat(n)?(fi.document.head.removeChild(t),"bs4"):(fi.document.head.removeChild(t),"bs5")}function Hu(){return{isBs4:(Ro||(Ro=XI()),"bs4"===Ro),isBs5:(Ro||(Ro=XI()),"bs5"===Ro)}}function $6(){const t="Change";return function(e,i){const r=` __${i}Value`;Object.defineProperty(e,i,{get(){return this[r]},set(s){const o=this[r];this[r]=s,o!==s&&this[i+t]&&this[i+t].emit(s)}})}}class j6{static reflow(n){}static getStyles(n){let e=n.ownerDocument.defaultView;return(!e||!e.opener)&&(e=fi),e.getComputedStyle(n)}static stackOverflowConfig(){const n=function H6(){const t=Hu(),n=Object.keys(t).find(e=>t[e]);return lm[n]}();return{crossorigin:"anonymous",integrity:"bs5"===n?"sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We":"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2",cdnLink:"bs5"===n?"https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css":"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"}}}typeof console>"u"||console;const Y6=["addListener","removeListener"],z6=["addEventListener","removeEventListener"],q6=["on","off"];function um(t,n,e,i){if(Q(e)&&(i=e,e=void 0),i)return um(t,n,e).pipe(fv(i));const[r,s]=function Z6(t){return Q(t.addEventListener)&&Q(t.removeEventListener)}(t)?z6.map(o=>a=>t[o](n,a,e)):function W6(t){return Q(t.addListener)&&Q(t.removeListener)}(t)?Y6.map(tA(t,n)):function G6(t){return Q(t.on)&&Q(t.off)}(t)?q6.map(tA(t,n)):[];if(!r&&ac(t))return Rt(o=>um(o,n,e))(R(t));if(!r)throw new TypeError("Invalid event target");return new We(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return r(a),()=>s(a)})}function tA(t,n){return e=>i=>t[e](n,i)}class Q6 extends ve{constructor(n,e){super()}schedule(n,e=0){return this}}const cm={setInterval(t,n,...e){const{delegate:i}=cm;return i?.setInterval?i.setInterval(t,n,...e):setInterval(t,n,...e)},clearInterval(t){const{delegate:n}=cm;return(n?.clearInterval||clearInterval)(t)},delegate:void 0};class jb extends Q6{constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){var i;if(this.closed)return this;this.state=n;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,e)),this.pending=!0,this.delay=e,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(s,this.id,e),this}requestAsyncId(n,e,i=0){return cm.setInterval(n.flush.bind(n,this),i)}recycleAsyncId(n,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;null!=e&&cm.clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(n,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let r,i=!1;try{this.work(n)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:n,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,me(i,this),null!=n&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,super.unsubscribe()}}}const Yd={schedule(t){let n=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=Yd;i&&(n=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=n(s=>{e=void 0,t(s)});return new ve(()=>e?.(r))},requestAnimationFrame(...t){const{delegate:n}=Yd;return(n?.requestAnimationFrame||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){const{delegate:n}=Yd;return(n?.cancelAnimationFrame||cancelAnimationFrame)(...t)},delegate:void 0},nA={now:()=>(nA.delegate||Date).now(),delegate:void 0};class zd{constructor(n,e=zd.now){this.schedulerActionCtor=n,this.now=e}schedule(n,e=0,i){return new this.schedulerActionCtor(this,n).schedule(i,e)}}zd.now=nA.now;class Ub extends zd{constructor(n,e=zd.now){super(n,e),this.actions=[],this._active=!1}flush(n){const{actions:e}=this;if(this._active)return void e.push(n);let i;this._active=!0;do{if(i=n.execute(n.state,n.delay))break}while(n=e.shift());if(this._active=!1,i){for(;n=e.shift();)n.unsubscribe();throw i}}}const X6=new class J6 extends Ub{flush(n){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;n=n||i.shift();do{if(r=n.execute(n.state,n.delay))break}while((n=i[0])&&n.id===e&&i.shift());if(this._active=!1,r){for(;(n=i[0])&&n.id===e&&i.shift();)n.unsubscribe();throw r}}}(class K6 extends jb{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,i=0){return null!==i&&i>0?super.requestAsyncId(n,e,i):(n.actions.push(this),n._scheduled||(n._scheduled=Yd.requestAnimationFrame(()=>n.flush(void 0))))}recycleAsyncId(n,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(n,e,i);const{actions:s}=n;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(Yd.cancelAnimationFrame(e),n._scheduled=void 0)}});var dm=(()=>(function(t){t.top="top",t.bottom="bottom",t.left="left",t.right="right",t.auto="auto",t.end="right",t.start="left",t["top left"]="top left",t["top right"]="top right",t["right top"]="right top",t["right bottom"]="right bottom",t["bottom right"]="bottom right",t["bottom left"]="bottom left",t["left bottom"]="left bottom",t["left top"]="left top",t["top start"]="top left",t["top end"]="top right",t["end top"]="right top",t["end bottom"]="right bottom",t["bottom end"]="bottom right",t["bottom start"]="bottom left",t["start bottom"]="start bottom",t["start top"]="left top"}(dm||(dm={})),dm))(),$u=(()=>(function(t){t.top="top",t.bottom="bottom",t.left="start",t.right="end",t.auto="auto",t.end="end",t.start="start",t["top left"]="top start",t["top right"]="top end",t["right top"]="end top",t["right bottom"]="end bottom",t["bottom right"]="bottom end",t["bottom left"]="bottom start",t["left bottom"]="start bottom",t["left top"]="start top",t["top start"]="top start",t["top end"]="top end",t["end top"]="end top",t["end bottom"]="end bottom",t["bottom end"]="bottom end",t["bottom start"]="bottom start",t["start bottom"]="start bottom",t["start top"]="start top"}($u||($u={})),$u))();function Ja(t,n){if(1!==t.nodeType)return[];const i=t.ownerDocument.defaultView?.getComputedStyle(t,null);return n?i&&i[n]:i}function Yb(t){if(!t)return document.documentElement;let i,e=t?.offsetParent;for(;null===e&&t.nextElementSibling&&i!==t.nextElementSibling;)i=t.nextElementSibling,e=i.offsetParent;const r=e&&e.nodeName;return r&&"BODY"!==r&&"HTML"!==r?e&&-1!==["TH","TD","TABLE"].indexOf(e.nodeName)&&"static"===Ja(e,"position")?Yb(e):e:i?i.ownerDocument.documentElement:document.documentElement}function zb(t){return null!==t.parentNode?zb(t.parentNode):t}function fm(t,n){if(!(t&&t.nodeType&&n&&n.nodeType))return document.documentElement;const e=t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_FOLLOWING,i=e?t:n,r=e?n:t,s=document.createRange();s.setStart(i,0),s.setEnd(r,0);const o=s.commonAncestorContainer;if(t!==o&&n!==o||i.contains(r))return function e8(t){const{nodeName:n}=t;return"BODY"!==n&&("HTML"===n||Yb(t.firstElementChild)===t)}(o)?o:Yb(o);const a=zb(t);return a.host?fm(a.host,n):fm(t,zb(n).host)}function iA(t){if(!t||!t.parentElement)return document.documentElement;let n=t.parentElement;for(;n?.parentElement&&"none"===Ja(n,"transform");)n=n.parentElement;return n||document.documentElement}function rA(t,n){const e="x"===n?"Left":"Top",i="Left"===e?"Right":"Bottom";return parseFloat(t[`border${e}Width`])+parseFloat(t[`border${i}Width`])}function sA(t,n,e,i){return Math.max(n[`offset${t}`],n[`scroll${t}`],e[`client${t}`],e[`offset${t}`],e[`scroll${t}`],0)}function oA(t){const n=t.body,e=t.documentElement;return{height:sA("Height",n,e),width:sA("Width",n,e)}}function qd(t){return{...t,right:(t.left||0)+t.width,bottom:(t.top||0)+t.height}}function Sn(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function aA(t){const n=t.getBoundingClientRect();if(!(n&&Sn(n.top)&&Sn(n.left)&&Sn(n.bottom)&&Sn(n.right)))return n;const e={left:n.left,top:n.top,width:n.right-n.left,height:n.bottom-n.top},i="HTML"===t.nodeName?oA(t.ownerDocument):void 0,r=i?.width||t.clientWidth||Sn(n.right)&&Sn(e.left)&&n.right-e.left||0,s=i?.height||t.clientHeight||Sn(n.bottom)&&Sn(e.top)&&n.bottom-e.top||0;let o=t.offsetWidth-r,a=t.offsetHeight-s;if(o||a){const l=Ja(t);o-=rA(l,"x"),a-=rA(l,"y"),e.width-=o,e.height-=a}return qd(e)}function qb(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function Wb(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}const{overflow:n,overflowX:e,overflowY:i}=Ja(t);return/(auto|scroll|overlay)/.test(String(n)+String(i)+String(e))?t:Wb(qb(t))}function Gb(t,n,e=!1){const i="HTML"===n.nodeName,r=aA(t),s=aA(n),a=(Wb(t),Ja(n)),l=parseFloat(a.borderTopWidth),u=parseFloat(a.borderLeftWidth);e&&i&&(s.top=Math.max(s.top??0,0),s.left=Math.max(s.left??0,0));const c=qd({top:(r.top??0)-(s.top??0)-l,left:(r.left??0)-(s.left??0)-u,width:r.width,height:r.height});if(c.marginTop=0,c.marginLeft=0,i){const d=parseFloat(a.marginTop),f=parseFloat(a.marginLeft);Sn(c.top)&&(c.top-=l-d),Sn(c.bottom)&&(c.bottom-=l-d),Sn(c.left)&&(c.left-=u-f),Sn(c.right)&&(c.right-=u-f),c.marginTop=d,c.marginLeft=f}return c}function lA(t,n="top"){const e="top"===n?"scrollTop":"scrollLeft",i=t.nodeName;return"BODY"===i||"HTML"===i?(t.ownerDocument.scrollingElement||t.ownerDocument.documentElement)[e]:t[e]}function uA(t){const n=t.nodeName;return"BODY"!==n&&"HTML"!==n&&("fixed"===Ja(t,"position")||uA(qb(t)))}function Zb(t,n,e=0,i,r=!1){let s={top:0,left:0};const o=r?iA(t):fm(t,n);if("viewport"===i)s=function n8(t,n=!1){const e=t.ownerDocument.documentElement,i=Gb(t,e),r=Math.max(e.clientWidth,window.innerWidth||0),s=Math.max(e.clientHeight,window.innerHeight||0),o=n?0:lA(e),a=n?0:lA(e,"left");return qd({top:o-Number(i?.top)+Number(i?.marginTop),left:a-Number(i?.left)+Number(i?.marginLeft),width:r,height:s})}(o,r);else{let a;"scrollParent"===i?(a=Wb(qb(n)),"BODY"===a.nodeName&&(a=t.ownerDocument.documentElement)):a="window"===i?t.ownerDocument.documentElement:i;const l=Gb(a,o,r);if(l&&"HTML"===a.nodeName&&!uA(o)){const{height:u,width:c}=oA(t.ownerDocument);Sn(s.top)&&Sn(l.top)&&Sn(l.marginTop)&&(s.top+=l.top-l.marginTop),Sn(s.top)&&(s.bottom=Number(u)+Number(l.top)),Sn(s.left)&&Sn(l.left)&&Sn(l.marginLeft)&&(s.left+=l.left-l.marginLeft),Sn(s.top)&&(s.right=Number(c)+Number(l.left))}else l&&(s=l)}return Sn(s.left)&&(s.left+=e),Sn(s.top)&&(s.top+=e),Sn(s.right)&&(s.right-=e),Sn(s.bottom)&&(s.bottom-=e),s}function i8({width:t,height:n}){return t*n}function cA(t,n,e,i,r=["top","bottom","right","left"],s="viewport",o=0){if(-1===t.indexOf("auto"))return t;const a=Zb(e,i,o,s),l={top:{width:a?.width??0,height:(n?.top??0)-(a?.top??0)},right:{width:(a?.right??0)-(n?.right??0),height:a?.height??0},bottom:{width:a?.width??0,height:(a?.bottom??0)-(n?.bottom??0)},left:{width:(n.left??0)-(a?.left??0),height:a?.height??0}},u=Object.keys(l).map(h=>({position:h,...l[h],area:i8(l[h])})).sort((h,p)=>p.area-h.area);let c=u.filter(({width:h,height:p})=>h>=e.clientWidth&&p>=e.clientHeight);c=c.filter(({position:h})=>r.some(p=>p===h));const d=c.length>0?c[0].position:u[0].position,f=t.split(" ")[1];return e.className=e.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${Hu().isBs5?$u[d]:d}`),d+(f?`-${f}`:"")}const hm=(t,n=0)=>t?parseFloat(t):n;function dA(t){const e=t.ownerDocument.defaultView?.getComputedStyle(t),i=hm(e?.marginTop)+hm(e?.marginBottom),r=hm(e?.marginLeft)+hm(e?.marginRight);return{width:Number(t.offsetWidth)+r,height:Number(t.offsetHeight)+i}}function fA(t,n,e){return Gb(n,e?iA(t):fm(t,n),e)}function Qb(t,n,e){const i=e.split(" ")[0],r=dA(t),s={width:r.width,height:r.height},o=-1!==["right","left"].indexOf(i),a=o?"top":"left",l=o?"left":"top",u=o?"height":"width",c=o?"width":"height";return s[a]=(n[a]??0)+n[u]/2-r[u]/2,s[l]=i===l?(n[l]??0)-r[c]:n[function s8(t){const n={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,e=>n[e])}(l)]??0,s}function hA(t,n){return!!t.modifiers[n]?.enabled}const a8={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function pm(t,n){return!!Hu().isBs5&&a8[n].includes(t)}function pA(t,n,e){!t||!n||Object.keys(n).forEach(i=>{let r="";-1!==["width","height","top","right","bottom","left"].indexOf(i)&&function t8(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(Number(t))}(n[i])&&(r="px"),e?e.setStyle(t,i,`${String(n[i])}${r}`):t.style[i]=String(n[i])+r})}function c8(t){let n=t.offsets.target;const e=t.instance.target.querySelector(".arrow");if(!e)return t;const i=-1!==["left","right"].indexOf(t.placement.split(" ")[0]),r=i?"height":"width",s=i?"Top":"Left",o=s.toLowerCase(),a=i?"left":"top",l=i?"bottom":"right",u=dA(e)[r],c=t.placement.split(" ")[1];(t.offsets.host[l]??0)-u<(n[o]??0)&&(n[o]-=(n[o]??0)-((t.offsets.host[l]??0)-u)),Number(t.offsets.host[o])+Number(u)>(n[l]??0)&&(n[o]+=Number(t.offsets.host[o])+Number(u)-Number(n[l])),n=qd(n);const d=Ja(t.instance.target),f=parseFloat(d[`margin${s}`])||0,h=parseFloat(d[`border${s}Width`])||0;let p;if(c){const M=parseFloat(d.borderRadius)||0,I=Number(f+h+M);p=o===c?Number(t.offsets.host[o])+I:Number(t.offsets.host[o])+Number(t.offsets.host[r]-I)}else p=Number(t.offsets.host[o])+Number(t.offsets.host[r]/2-u/2);let v=p-(n[o]??0)-f-h;return v=Math.max(Math.min(n[r]-(u+5),v),0),t.offsets.arrow={[o]:Math.round(v),[a]:""},t.instance.arrow=e,t}function d8(t){if(t.offsets.target=qd(t.offsets.target),!hA(t.options,"flip"))return t.offsets.target={...t.offsets.target,...Qb(t.instance.target,t.offsets.host,t.placement)},t;const n=Zb(t.instance.target,t.instance.host,0,"viewport",!1);let e=t.placement.split(" ")[0],i=t.placement.split(" ")[1]||"";const a=cA("auto",t.offsets.host,t.instance.target,t.instance.host,t.options.allowedPositions),l=[e,a];return l.forEach((u,c)=>{if(e!==u||l.length===c+1)return;e=t.placement.split(" ")[0];const d="left"===e&&Math.floor(t.offsets.target.right??0)>Math.floor(t.offsets.host.left??0)||"right"===e&&Math.floor(t.offsets.target.left??0)<Math.floor(t.offsets.host.right??0)||"top"===e&&Math.floor(t.offsets.target.bottom??0)>Math.floor(t.offsets.host.top??0)||"bottom"===e&&Math.floor(t.offsets.target.top??0)<Math.floor(t.offsets.host.bottom??0),f=Math.floor(t.offsets.target.left??0)<Math.floor(n.left??0),h=Math.floor(t.offsets.target.right??0)>Math.floor(n.right??0),p=Math.floor(t.offsets.target.top??0)<Math.floor(n.top??0),v=Math.floor(t.offsets.target.bottom??0)>Math.floor(n.bottom??0),M="left"===e&&f||"right"===e&&h||"top"===e&&p||"bottom"===e&&v,I=-1!==["top","bottom"].indexOf(e),q=I&&"left"===i&&f||I&&"right"===i&&h||!I&&"left"===i&&p||!I&&"right"===i&&v;(d||M||q)&&((d||M)&&(e=l[c+1]),q&&(i=function o8(t){return"right"===t?"left":"left"===t?"right":t}(i)),t.placement=e+(i?` ${i}`:""),t.offsets.target={...t.offsets.target,...Qb(t.instance.target,t.offsets.host,t.placement)})}),t}function h8(t){if(!hA(t.options,"preventOverflow"))return t;const n="transform",e=t.instance.target.style,{top:i,left:r,[n]:s}=e;e.top="",e.left="",e[n]="";const o=Zb(t.instance.target,t.instance.host,0,t.options.modifiers.preventOverflow?.boundariesElement||"scrollParent",!1);e.top=i,e.left=r,e[n]=s;const l={primary(u){let c=t.offsets.target[u];return(t.offsets.target[u]??0)<(o[u]??0)&&(c=Math.max(t.offsets.target[u]??0,o[u]??0)),{[u]:c}},secondary(u){const c="right"===u,d=c?"left":"top";let h=t.offsets.target[d];return(t.offsets.target[u]??0)>(o[u]??0)&&(h=Math.min(t.offsets.target[d]??0,(o[u]??0)-t.offsets.target[c?"width":"height"])),{[d]:h}}};return["left","right","top","bottom"].forEach(u=>{const c=-1!==["left","top","start"].indexOf(u)?l.primary:l.secondary;t.offsets.target={...t.offsets.target,...c(u)}}),t}function p8(t){const n=t.placement,e=n.split(" ")[0],i=n.split(" ")[1];if(i){const{host:r,target:s}=t.offsets,o=-1!==["bottom","top"].indexOf(e),a=o?"left":"top",l=o?"width":"height",u={start:{[a]:r[a]},end:{[a]:(r[a]??0)+r[l]-s[l]}};t.offsets.target={...s,[a]:a===i?u.start[a]:u.end[a]}}return t}const _8=new class m8{position(n,e){return this.offset(n,e)}offset(n,e){return fA(e,n)}positionElements(n,e,i,r,s){const o=[d8,p8,h8,c8],l=function f8(t,n,e,i){if(!t||!n)return;const r=fA(t,n);!e.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)&&!e.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)&&(e="auto");const s=!!e.match(/auto/g);let o=e.match(/auto\s(left|right|top|bottom|start|end)/)?e.split(" ")[1]||"auto":e;const a=o.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);return a&&(o=a[1]+(a[2]?` ${a[2]}`:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(o)&&(o="auto"),o=cA(o,r,t,n,i?i.allowedPositions:void 0),{options:i||{modifiers:{}},instance:{target:t,host:n,arrow:void 0},offsets:{target:Qb(t,r,o),host:r,arrow:void 0},positionFixed:!1,placement:o,placementAuto:s}}(e,n,dm[i],s);if(l)return o.reduce((u,c)=>c(u),l)}};function g8(t,n,e,i,r,s){const o=_8.positionElements(t,n,e,i,r);if(!o)return;const a=function r8(t){return{width:t.offsets.target.width,height:t.offsets.target.height,left:Math.floor(t.offsets.target.left??0),top:Math.round(t.offsets.target.top??0),bottom:Math.round(t.offsets.target.bottom??0),right:Math.floor(t.offsets.target.right??0)}}(o);pA(n,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${a.left}px, ${a.top}px, 0px)`},s),o.instance.arrow&&pA(o.instance.arrow,o.offsets.arrow,s),function u8(t,n){const e=t.instance.target;let i=e.className;const r=Hu().isBs5?$u[t.placement]:t.placement;t.placementAuto&&(i=i.replace(/bs-popover-auto/g,`bs-popover-${r}`),i=i.replace(/ms-2|me-2|mb-2|mt-2/g,""),i=i.replace(/bs-tooltip-auto/g,`bs-tooltip-${r}`),i=i.replace(/\sauto/g,` ${r}`),-1!==i.indexOf("popover")&&(i=i+" "+function l8(t){return Hu().isBs5?pm(t,"end")?"ms-2":pm(t,"start")?"me-2":pm(t,"top")?"mb-2":pm(t,"bottom")?"mt-2":"":""}(r)),-1!==i.indexOf("popover")&&-1===i.indexOf("popover-auto")&&(i+=" popover-auto"),-1!==i.indexOf("tooltip")&&-1===i.indexOf("tooltip-auto")&&(i+=" tooltip-auto")),i=i.replace(/left|right|top|bottom|end|start/g,`${r.split(" ")[0]}`),n?n.setAttribute(e,"class",i):e.className=i}(o,s)}let xo=(()=>{class t{constructor(e,i,r){this.update$$=new It,this.positionElements=new Map,this.isDisabled=!1,LS(r)&&e.runOutsideAngular(()=>{this.triggerEvent$=Sl(um(window,"scroll",{passive:!0}),um(window,"resize",{passive:!0}),qe(0,X6),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(s=>{g8(mm(s.target),mm(s.element),s.attachment,s.appendToBody,this.options,i.createRenderer(null,null))})})})}position(e){this.addPositionElement(e)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(e){this.positionElements.set(mm(e.element),e)}calcPosition(){this.update$$.next(null)}deletePositionElement(e){this.positionElements.delete(mm(e))}setOptions(e){this.options=e}}return t.\u0275fac=function(e){return new(e||t)(X(pn),X(La),X(Ih))},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function mm(t){return"string"==typeof t?document.querySelector(t):t instanceof zt?t.nativeElement:t??null}class Wd{constructor(n,e,i){this.nodes=n,this.viewRef=e,this.componentRef=i}}class y8{constructor(n,e,i,r,s,o,a,l,u){this._viewContainerRef=n,this._renderer=e,this._elementRef=i,this._injector=r,this._componentFactoryResolver=s,this._ngZone=o,this._applicationRef=a,this._posService=l,this._document=u,this.onBeforeShow=new Me,this.onShown=new Me,this.onBeforeHide=new Me,this.onHidden=new Me,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(n){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(n),this}to(n){return this.container=n||this.container,this}position(n){return n?(this.attachment=n.attachment||this.attachment,this._elementRef=n.target||this._elementRef,this):this}provide(n){return this._providers.push(n),this}show(n={}){if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(n.content,n.context,n.initialState);const e=dr.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(e,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,n),this.container instanceof zt&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&typeof this._document<"u"){const i=this._document.querySelector(this.container)||this._document.querySelector(this.containerDefaultSelector);if(!i)return;i.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(n.id?{id:n.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(n){if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const e=this._componentRef.location.nativeElement;return e.parentNode?.removeChild(e),this._contentRef?.componentRef?.destroy(),this._viewContainerRef&&this._contentRef?.viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef?.viewRef?.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(n?{id:n}:null),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(n){this.triggers=n.triggers||this.triggers,this._listenOpts.outsideClick=n.outsideClick,this._listenOpts.outsideEsc=n.outsideEsc,n.target=n.target||this._elementRef?.nativeElement;const e=this._listenOpts.hide=()=>n.hide?n.hide():void this.hide(),i=this._listenOpts.show=s=>{n.show?n.show(s):this.show(s),s()};return this._renderer&&(this._unregisterListenersFn=function N6(t,n){const e=$b(n.triggers),i=n.target;if(1===e.length&&e[0].isManual())return Function.prototype;const r=[],s=[],o=()=>{s.forEach(a=>r.push(a())),s.length=0};return e.forEach(a=>{const l=a.open===a.close,u=l?n.toggle:n.show;if(!l&&a.close&&n.hide){const c=t.listen(i,a.close,n.hide);s.push(()=>c)}u&&r.push(t.listen(i,a.open,()=>u(o)))}),()=>{r.forEach(a=>a())}}(this._renderer,{target:n.target,triggers:n.triggers,show:i,hide:e,toggle:s=>{this.isShown?e():i(s)}})),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype)}attachInline(n,e){return n&&e&&(this._inlineViewRef=n.createEmbeddedView(e)),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const n=this._componentRef.location.nativeElement;setTimeout(()=>{this._renderer&&this._elementRef&&(this._globalListener=function L6(t,n){return n.outsideClick?t.listen("document","click",e=>{n.target&&n.target.contains(e.target)||n.targets&&n.targets.some(i=>i.contains(e.target))||n.hide&&n.hide()}):Function.prototype}(this._renderer,{targets:[n,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))})}this._listenOpts.outsideEsc&&this._renderer&&this._elementRef&&(this._globalListener=function P6(t,n){return n.outsideEsc?t.listen("document","keyup.esc",e=>{n.target&&n.target.contains(e.target)||n.targets&&n.targets.some(i=>i.contains(e.target))||n.hide&&n.hide()}):Function.prototype}(this._renderer,{targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){this._zoneSubscription||!this.attachment||(this.onShown.subscribe(()=>{this._posService.position({element:this._componentRef?.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{this._componentRef&&this._posService.calcPosition()}))}_unsubscribePositioning(){this._zoneSubscription&&(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0)}_getContentRef(n,e,i){if(!n)return new Wd([]);if(n instanceof gs){if(this._viewContainerRef){const o=this._viewContainerRef.createEmbeddedView(n,e);return o.markForCheck(),new Wd([o.rootNodes],o)}const s=n.createEmbeddedView({});return this._applicationRef.attachView(s),new Wd([s.rootNodes],s)}if("function"==typeof n){const s=this._componentFactoryResolver.resolveComponentFactory(n),o=dr.create({providers:this._providers,parent:this._injector}),a=s.create(o);return Object.assign(a.instance,i),this._applicationRef.attachView(a.hostView),new Wd([[a.location.nativeElement]],a.hostView,a)}const r=this._renderer?[this._renderer.createText(`${n}`)]:[];return new Wd([r])}}let qs=(()=>{class t{constructor(e,i,r,s,o,a){this._componentFactoryResolver=e,this._ngZone=i,this._injector=r,this._posService=s,this._applicationRef=o,this._document=a}createLoader(e,i,r){return new y8(i,r,e,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService,this._document)}}return t.\u0275fac=function(e){return new(e||t)(X(Gl),X(pn),X(dr),X(xo),X(mu),X(Wn))},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const v8=["*"];let mA=(()=>{class t{constructor(){this.hide=()=>{},this.setClass=()=>{}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),_A=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const _m={backdrop:!0,keyboard:!0,focus:!0,show:!1,ignoreBackdropClick:!1,class:"",animated:!0,initialState:{},closeInterceptor:void 0},b8=new Pe("override-default-config");let w8=(()=>{class t{constructor(e,i,r){this._element=i,this._renderer=r,this.isShown=!1,this.isAnimated=!1,this.isModalHiding=!1,this.clickStartedInContent=!1,this.config=Object.assign({},e)}ngOnInit(){this.isAnimated&&this._renderer.addClass(this._element.nativeElement,"fade"),this._renderer.setStyle(this._element.nativeElement,"display","block"),setTimeout(()=>{this.isShown=!0,this._renderer.addClass(this._element.nativeElement,"show")},this.isAnimated?150:0),document&&document.body&&(this.bsModalService&&1===this.bsModalService.getModalsCount()&&(this.bsModalService.checkScrollbar(),this.bsModalService.setScrollbar()),this._renderer.addClass(document.body,"modal-open"),this._renderer.setStyle(document.body,"overflow-y","hidden")),this._element.nativeElement&&this._element.nativeElement.focus()}onClickStarted(e){this.clickStartedInContent=e.target!==this._element.nativeElement}onClickStop(e){this.config.ignoreBackdropClick||"static"===this.config.backdrop||e.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(this.bsModalService?.setDismissReason("backdrop-click"),this.hide())}onPopState(){this.bsModalService?.setDismissReason("browser-back-navigation-clicked"),this.hide()}onEsc(e){this.isShown&&((27===e.keyCode||"Escape"===e.key)&&e.preventDefault(),this.config.keyboard&&this.level===this.bsModalService?.getModalsCount()&&(this.bsModalService?.setDismissReason("esc"),this.hide()))}ngOnDestroy(){this.isShown&&this._hide()}hide(){if(!this.isModalHiding){if(this.config.closeInterceptor)return void this.config.closeInterceptor().then(()=>this._hide(),()=>{});this._hide()}}_hide(){this.isModalHiding=!0,this._renderer.removeClass(this._element.nativeElement,"show"),setTimeout(()=>{this.isShown=!1,document&&document.body&&1===this.bsModalService?.getModalsCount()&&(this._renderer.removeClass(document.body,"modal-open"),this._renderer.setStyle(document.body,"overflow-y","")),this.bsModalService?.hide(this.config.id),this.isModalHiding=!1},this.isAnimated?300:0)}}return t.\u0275fac=function(e){return new(e||t)(D(_A),D(zt),D(kn))},t.\u0275cmp=He({type:t,selectors:[["modal-container"]],hostAttrs:["role","dialog","tabindex","-1",1,"modal"],hostVars:3,hostBindings:function(e,i){1&e&&F("mousedown",function(s){return i.onClickStarted(s)})("click",function(s){return i.onClickStop(s)})("popstate",function(){return i.onPopState()},!1,Og)("keydown.esc",function(s){return i.onEsc(s)},!1,Og),2&e&&qn("aria-modal",!0)("aria-labelledby",i.config.ariaLabelledBy)("aria-describedby",i.config.ariaDescribedby)},ngContentSelectors:v8,decls:3,vars:2,consts:[["role","document","focusTrap",""],[1,"modal-content"]],template:function(e,i){1&e&&($c(),_(0,"div",0)(1,"div",1),lu(2),g()()),2&e&&ty("modal-dialog"+(i.config.class?" "+i.config.class:""))},dependencies:[R6],encapsulation:2}),t})(),C8=(()=>{class t{constructor(e,i){this._isAnimated=!1,this._isShown=!1,this.element=e,this.renderer=i}get isAnimated(){return this._isAnimated}set isAnimated(e){this._isAnimated=e}get isShown(){return this._isShown}set isShown(e){this._isShown=e,e?this.renderer.addClass(this.element.nativeElement,"show"):this.renderer.removeClass(this.element.nativeElement,"show")}ngOnInit(){this.isAnimated&&(this.renderer.addClass(this.element.nativeElement,"fade"),j6.reflow(this.element.nativeElement)),this.isShown=!0}}return t.\u0275fac=function(e){return new(e||t)(D(zt),D(kn))},t.\u0275cmp=He({type:t,selectors:[["bs-modal-backdrop"]],hostAttrs:[1,"modal-backdrop"],decls:0,vars:0,template:function(e,i){},encapsulation:2}),t})(),D8=1,Gr=(()=>{class t{constructor(e,i,r){this.clf=i,this.modalDefaultOption=r,this.onShow=new Me,this.onShown=new Me,this.onHide=new Me,this.onHidden=new Me,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.modalsCount=0,this.loaders=[],this._backdropLoader=this.clf.createLoader(),this._renderer=e.createRenderer(null,null),this.config=r?Object.assign({},_m,r):_m}show(e,i){this.modalsCount++,this._createLoaders();const r=i?.id||D8++;return this.config=this.modalDefaultOption?Object.assign({},_m,this.modalDefaultOption,i):Object.assign({},_m,i),this.config.id=r,this._showBackdrop(),this.lastDismissReason=void 0,this._showModal(e)}hide(e){(1===this.modalsCount||null==e)&&(this._hideBackdrop(),this.resetScrollbar()),this.modalsCount=this.modalsCount>=1&&null!=e?this.modalsCount-1:0,setTimeout(()=>{this._hideModal(e),this.removeLoaders(e)},this.config.animated?150:0)}_showBackdrop(){const e=!0===this.config.backdrop||"static"===this.config.backdrop,i=!this.backdropRef||!this.backdropRef.instance.isShown;1===this.modalsCount&&(this.removeBackdrop(),e&&i&&(this._backdropLoader.attach(C8).to("body").show({isAnimated:this.config.animated}),this.backdropRef=this._backdropLoader._componentRef))}_hideBackdrop(){this.backdropRef&&(this.backdropRef.instance.isShown=!1,setTimeout(()=>this.removeBackdrop(),this.config.animated?150:0))}_showModal(e){const i=this.loaders[this.loaders.length-1];if(this.config&&this.config.providers)for(const o of this.config.providers)i.provide(o);const r=new mA,s=i.provide({provide:_A,useValue:this.config}).provide({provide:mA,useValue:r}).attach(w8).to("body");return r.hide=()=>this.hide(r.id),r.setClass=o=>{s.instance&&(s.instance.config.class=o)},r.onHidden=new Me,r.onHide=new Me,this.copyEvent(i.onBeforeHide,r.onHide),this.copyEvent(i.onHidden,r.onHidden),s.show({content:e,isAnimated:this.config.animated,initialState:this.config.initialState,bsModalService:this,id:this.config.id}),s.instance&&(s.instance.level=this.getModalsCount(),r.content=i.getInnerComponent(),r.id=s.instance.config?.id),r}_hideModal(e){if(null!=e){const i=this.loaders.findIndex(s=>s.instance?.config.id===e),r=this.loaders[i];r&&r.hide(e)}else this.loaders.forEach(i=>{i.instance&&i.hide(i.instance.config.id)})}getModalsCount(){return this.modalsCount}setDismissReason(e){this.lastDismissReason=e}removeBackdrop(){this._renderer.removeClass(document.body,"modal-open"),this._renderer.setStyle(document.body,"overflow-y",""),this._backdropLoader.hide(),this.backdropRef=void 0}checkScrollbar(){this.isBodyOverflowing=document.body.clientWidth<window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){document&&(this.originalBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")||"0",10),this.isBodyOverflowing&&(document.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`))}resetScrollbar(){document.body.style.paddingRight=`${this.originalBodyPadding}px`}getScrollbarWidth(){const e=this._renderer.createElement("div");this._renderer.addClass(e,"modal-scrollbar-measure"),this._renderer.appendChild(document.body,e);const i=e.offsetWidth-e.clientWidth;return this._renderer.removeChild(document.body,e),i}_createLoaders(){const e=this.clf.createLoader();this.copyEvent(e.onBeforeShow,this.onShow),this.copyEvent(e.onShown,this.onShown),this.copyEvent(e.onBeforeHide,this.onHide),this.copyEvent(e.onHidden,this.onHidden),this.loaders.push(e)}removeLoaders(e){if(null!=e){const i=this.loaders.findIndex(r=>r.instance?.config.id===e);i>=0&&(this.loaders.splice(i,1),this.loaders.forEach((r,s)=>{r.instance&&(r.instance.level=s+1)}))}else this.loaders.splice(0,this.loaders.length)}copyEvent(e,i){e.subscribe(r=>{i.emit(this.lastDismissReason||r)})}}return t.\u0275fac=function(e){return new(e||t)(X(La),X(qs),X(b8,8))},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();JI.forRoot();let T8=(()=>{class t{static forRoot(){return{ngModule:t,providers:[Gr,qs,xo]}}static forChild(){return{ngModule:t,providers:[Gr,qs,xo]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=_i({type:t}),t.\u0275inj=ai({imports:[JI]}),t})();const gA={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let ym;const k8=new Uint8Array(16);function M8(){if(!ym&&(ym=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ym))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ym(k8)}const Ri=[];for(let t=0;t<256;++t)Ri.push((t+256).toString(16).slice(1));const Gd=function S8(t,n,e){if(gA.randomUUID&&!n&&!t)return gA.randomUUID();const i=(t=t||{}).random||(t.rng||M8)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,n){e=e||0;for(let r=0;r<16;++r)n[e+r]=i[r];return n}return function yA(t,n=0){return(Ri[t[n+0]]+Ri[t[n+1]]+Ri[t[n+2]]+Ri[t[n+3]]+"-"+Ri[t[n+4]]+Ri[t[n+5]]+"-"+Ri[t[n+6]]+Ri[t[n+7]]+"-"+Ri[t[n+8]]+Ri[t[n+9]]+"-"+Ri[t[n+10]]+Ri[t[n+11]]+Ri[t[n+12]]+Ri[t[n+13]]+Ri[t[n+14]]+Ri[t[n+15]]).toLowerCase()}(i)};function E8(t,n){if(1&t&&(_(0,"p",4),S(1),g()),2&t){const e=w();m(1),it(e.errorMessage)}}let xr=(()=>{class t{constructor(){this.fieldId=Gd(),this.label="",this.value="",this._validator=(0,b.Z)(function*(){}),this.readonly=!1}set isReadOnly(e){this.readonly=e}set initValue(e){this.value=e}set validator(e){this._validator=e}getValue(){var e=this;return(0,b.Z)(function*(){return e.value})()}validate(){var e=this;return(0,b.Z)(function*(){const i=yield e._validator(yield e.getValue());return e.errorMessage=i,null==i})()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["app-string-input-field"]],inputs:{label:"label",isReadOnly:"isReadOnly",initValue:"initValue",validator:"validator"},decls:5,vars:6,consts:[[1,"m-3"],[1,"form-label",3,"for"],["type","string","id","'input' + fieldId",1,"form-control",3,"ngModel","readonly","disabled","ngModelChange"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(e,i){1&e&&(_(0,"div",0)(1,"label",1),S(2),g(),_(3,"input",2),F("ngModelChange",function(s){return i.value=s}),g(),V(4,E8,2,1,"p",3),g()),2&e&&(m(1),y("for","input"+i.fieldId),m(1),it(i.label),m(1),y("ngModel",i.value)("readonly",i.readonly)("disabled",i.readonly),m(1),y("ngIf",i.errorMessage))},dependencies:[Jt,Ps,Er,_r]}),t})();function O8(t,n){if(1&t&&(_(0,"p",4),S(1),g()),2&t){const e=w();m(1),it(e.errorMessage)}}let Fr=(()=>{class t{constructor(){this.fieldId=Gd(),this.label="",this.rows=3,this.value="",this._validator=(0,b.Z)(function*(){}),this.readonly=!1}set isReadOnly(e){this.readonly=e}set initValue(e){this.value=e}set validator(e){this._validator=e}getValue(){var e=this;return(0,b.Z)(function*(){return e.value})()}validate(){var e=this;return(0,b.Z)(function*(){const i=yield e._validator(yield e.getValue());return e.errorMessage=i,null==i})()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["app-string-textarea-field"]],inputs:{label:"label",rows:"rows",isReadOnly:"isReadOnly",initValue:"initValue",validator:"validator"},decls:5,vars:7,consts:[[1,"m-3"],[1,"form-label",3,"for"],["id","'textarea' + fieldId",1,"form-control",3,"ngModel","rows","readonly","disabled","ngModelChange"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(e,i){1&e&&(_(0,"div",0)(1,"label",1),S(2),g(),_(3,"textarea",2),F("ngModelChange",function(s){return i.value=s}),g(),V(4,O8,2,1,"p",3),g()),2&e&&(m(1),y("for","textarea"+i.fieldId),m(1),it(i.label),m(1),y("ngModel",i.value)("rows",i.rows)("readonly",i.readonly)("disabled",i.readonly),m(1),y("ngIf",i.errorMessage))},dependencies:[Jt,Ps,Er,_r]}),t})();const I8=["suffixFieldComponent"],A8=["descriptionFieldComponent"];let R8=(()=>{class t{constructor(e){this.configurationManagerService=e,this.isProcessing=!1}onCancel(){this.onResolve&&this.onResolve(!1)}onCreateConfiguration(){var e=this;return(0,b.Z)(function*(){!e.course||!e._suffixFieldComponent||!e._descriptionFieldComponent||!e.onResolve||(e.isProcessing=!0,yield e.configurationManagerService.createTokenATMConfiguration(e.course,yield e._suffixFieldComponent.getValue(),yield e._descriptionFieldComponent.getValue()),e.onResolve(!0))})()}}return t.\u0275fac=function(e){return new(e||t)(D(Ar))},t.\u0275cmp=He({type:t,selectors:[["app-create-configuration-modal"]],viewQuery:function(e,i){if(1&e&&(he(I8,7),he(A8,7)),2&e){let r;ue(r=ce())&&(i._suffixFieldComponent=r.first),ue(r=ce())&&(i._descriptionFieldComponent=r.first)}},inputs:{onResolve:"onResolve",course:"course"},decls:18,vars:3,consts:[[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",3,"disabled","click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-body","message"],["label","The suffix of Assignment Group & Module name"],["suffixFieldComponent",""],["label","Description of Token ATM Log Assignment"],["descriptionFieldComponent",""],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary","me-4",3,"disabled","click"],["type","button",1,"btn","btn-success",3,"disabled","click"]],template:function(e,i){1&e&&(_(0,"div",0)(1,"h4",1),S(2,"Create Token ATM Configuration"),g(),_(3,"button",2),F("click",function(){return i.onCancel()}),_(4,"span",3),S(5,"\xd7"),g()()(),_(6,"div",4)(7,"p"),S(8," The course you selected contains no Token ATM configuration, or the Token ATM configuration for this course is invalid. Do you want to create a new configuration? "),g(),Se(9,"app-string-input-field",5,6)(11,"app-string-textarea-field",7,8),g(),_(13,"div",9)(14,"button",10),F("click",function(){return i.onCancel()}),S(15," Cancel "),g(),_(16,"button",11),F("click",function(){return i.onCreateConfiguration()}),S(17," Create "),g()()),2&e&&(m(3),y("disabled",i.isProcessing),m(11),y("disabled",i.isProcessing),m(2),y("disabled",i.isProcessing))},dependencies:[xr,Fr]}),t})(),ga=(()=>{class t{constructor(e,i){this.renderer=e,this.element=i}ngOnInit(){["d-flex","align-items-center","justify-content-center","vh-100"].forEach(e=>{this.renderer.addClass(this.element.nativeElement,e)})}}return t.\u0275fac=function(e){return new(e||t)(D(kn),D(zt))},t.\u0275dir=Ve({type:t,selectors:[["","appCenter",""]]}),t})();function x8(t,n){1&t&&(_(0,"span",6),Se(1,"i",7),g()),2&t&&gh("title",w().info.tooltip)}let vA=(()=>{class t{constructor(){this.uuid="",this.info=new $s,this.data="",this.dataChange=new Me}ngOnInit(){this.uuid=Gd()}onDataChange(e){this.dataChange.emit(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["app-form-item"]],inputs:{info:"info",data:"data"},outputs:{dataChange:"dataChange"},decls:7,vars:7,consts:[[1,"form-item"],[1,"col-auto","col-sm-3","text-center","text-sm-end"],[3,"for"],["class","d-inline-block ms-2","data-toggle","tooltip",3,"title",4,"ngIf"],[1,"col-12","col-sm-6","col-lg-4"],[1,"form-control",3,"type","id","placeholder","ngModel","ngModelChange"],["data-toggle","tooltip",1,"d-inline-block","ms-2",3,"title"],[1,"bi","bi-question-circle"]],template:function(e,i){1&e&&(_(0,"div",0)(1,"div",1)(2,"label",2),S(3),g(),V(4,x8,2,1,"span",3),g(),_(5,"div",4)(6,"input",5),F("ngModelChange",function(s){return i.onDataChange(s)}),g()()()),2&e&&(m(2),y("for",i.info.propertyID+i.uuid),m(1),it(i.info.propertyName),m(1),y("ngIf",i.info.tooltip),m(2),y("type",i.info.propertyType)("id",i.info.propertyID+i.uuid)("placeholder",i.info.inputPlaceholder)("ngModel",i.data))},dependencies:[Jt,Ps,Er,_r]}),t})();const F8=new Ub(jb);const P8=["*"];let Jb=(()=>{class t{constructor(){this.adaptivePosition=!0,this.placement="top",this.triggers="hover focus",this.delay=0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),V8=(()=>{class t{constructor(e){Object.assign(this,e)}get _bsVersions(){return Hu()}ngAfterViewInit(){this.classMap={in:!1,fade:!1},this.placement&&(this._bsVersions.isBs5&&(this.placement=$u[this.placement]),this.classMap[this.placement]=!0),this.classMap[`tooltip-${this.placement}`]=!0,this.classMap.in=!0,this.animation&&(this.classMap.fade=!0),this.containerClass&&(this.classMap[this.containerClass]=!0)}}return t.\u0275fac=function(e){return new(e||t)(D(Jb))},t.\u0275cmp=He({type:t,selectors:[["bs-tooltip-container"]],hostAttrs:["role","tooltip"],hostVars:3,hostBindings:function(e,i){2&e&&(qn("id",i.id),ty("show tooltip in tooltip-"+i.placement+" bs-tooltip-"+i.placement+" "+i.placement+" "+i.containerClass))},ngContentSelectors:P8,decls:3,vars:0,consts:[[1,"tooltip-arrow","arrow"],[1,"tooltip-inner"]],template:function(e,i){1&e&&($c(),Se(0,"div",0),_(1,"div",1),lu(2),g())},styles:[".tooltip[_nghost-%COMP%]{display:block;pointer-events:none}.bs3.tooltip.top[_nghost-%COMP%] > .arrow[_ngcontent-%COMP%]{margin-left:-2px}.bs3.tooltip.bottom[_nghost-%COMP%]{margin-top:0}.bs3.bs-tooltip-left[_nghost-%COMP%], .bs3.bs-tooltip-right[_nghost-%COMP%]{margin:0}.bs3.bs-tooltip-right[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs3.bs-tooltip-left[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%]{margin:.3rem 0}"],changeDetection:0}),t})(),B8=0,bA=(()=>{class t{constructor(e,i,r,s,o,a){this._elementRef=s,this._renderer=o,this._positionService=a,this.tooltipId=B8++,this.adaptivePosition=!0,this.tooltipChange=new Me,this.placement="top",this.triggers="hover focus",this.containerClass="",this.isDisabled=!1,this.delay=0,this.tooltipAnimation=!0,this.tooltipFadeDuration=150,this.tooltipStateChanged=new Me,this._tooltip=i.createLoader(this._elementRef,e,this._renderer).provide({provide:Jb,useValue:r}),Object.assign(this,r),this.onShown=this._tooltip.onShown,this.onHidden=this._tooltip.onHidden}get isOpen(){return this._tooltip.isShown}set isOpen(e){e?this.show():this.hide()}set htmlContent(e){this.tooltip=e}set _placement(e){this.placement=e}set _isOpen(e){this.isOpen=e}get _isOpen(){return this.isOpen}set _enable(e){this.isDisabled=!e}get _enable(){return this.isDisabled}set _appendToBody(e){this.container=e?"body":this.container}get _appendToBody(){return"body"===this.container}set _popupClass(e){}set _tooltipContext(e){}set _tooltipPopupDelay(e){this.delay=e}get _tooltipTrigger(){return this.triggers}set _tooltipTrigger(e){this.triggers=(e||"").toString()}ngOnInit(){this._tooltip.listen({triggers:this.triggers,show:()=>this.show()}),this.tooltipChange.subscribe(e=>{e||this._tooltip.hide()}),this.onShown.subscribe(()=>{this.setAriaDescribedBy()}),this.onHidden.subscribe(()=>{this.setAriaDescribedBy()})}setAriaDescribedBy(){this._ariaDescribedby=this.isOpen?`tooltip-${this.tooltipId}`:void 0,this._ariaDescribedby?this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ariaDescribedby):this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby")}toggle(){if(this.isOpen)return this.hide();this.show()}show(){if(this._positionService.setOptions({modifiers:{flip:{enabled:this.adaptivePosition},preventOverflow:{enabled:this.adaptivePosition,boundariesElement:this.boundariesElement||"scrollParent"}}}),this.isOpen||this.isDisabled||this._delayTimeoutId||!this.tooltip)return;const e=()=>{this._delayTimeoutId&&(this._delayTimeoutId=void 0),this._tooltip.attach(V8).to(this.container).position({attachment:this.placement}).show({content:this.tooltip,placement:this.placement,containerClass:this.containerClass,id:`tooltip-${this.tooltipId}`})},i=()=>{this._tooltipCancelShowFn&&this._tooltipCancelShowFn()};this.delay?(this._delaySubscription&&this._delaySubscription.unsubscribe(),this._delaySubscription=function L8(t=0,n,e=F8){let i=-1;return null!=n&&(yr(n)?e=n:i=n),new We(r=>{let s=function N8(t){return t instanceof Date&&!isNaN(t)}(t)?+t-e.now():t;s<0&&(s=0);let o=0;return e.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}(this.delay).subscribe(()=>{e(),i()}),this.triggers&&$b(this.triggers).forEach(r=>{r.close&&(this._tooltipCancelShowFn=this._renderer.listen(this._elementRef.nativeElement,r.close,()=>{this._delaySubscription?.unsubscribe(),i()}))})):e()}hide(){this._delayTimeoutId&&(clearTimeout(this._delayTimeoutId),this._delayTimeoutId=void 0),this._tooltip.isShown&&(this._tooltip.instance?.classMap&&(this._tooltip.instance.classMap.in=!1),setTimeout(()=>{this._tooltip.hide()},this.tooltipFadeDuration))}ngOnDestroy(){this._tooltip.dispose(),this.tooltipChange.unsubscribe(),this._delaySubscription&&this._delaySubscription.unsubscribe(),this.onShown.unsubscribe(),this.onHidden.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(D(Si),D(qs),D(Jb),D(zt),D(kn),D(xo))},t.\u0275dir=Ve({type:t,selectors:[["","tooltip",""],["","tooltipHtml",""]],inputs:{adaptivePosition:"adaptivePosition",tooltip:"tooltip",placement:"placement",triggers:"triggers",container:"container",containerClass:"containerClass",boundariesElement:"boundariesElement",isOpen:"isOpen",isDisabled:"isDisabled",delay:"delay",htmlContent:["tooltipHtml","htmlContent"],_placement:["tooltipPlacement","_placement"],_isOpen:["tooltipIsOpen","_isOpen"],_enable:["tooltipEnable","_enable"],_appendToBody:["tooltipAppendToBody","_appendToBody"],tooltipAnimation:"tooltipAnimation",_popupClass:["tooltipClass","_popupClass"],_tooltipContext:["tooltipContext","_tooltipContext"],_tooltipPopupDelay:["tooltipPopupDelay","_tooltipPopupDelay"],tooltipFadeDuration:"tooltipFadeDuration",_tooltipTrigger:["tooltipTrigger","_tooltipTrigger"]},outputs:{tooltipChange:"tooltipChange",onShown:"onShown",onHidden:"onHidden",tooltipStateChanged:"tooltipStateChanged"},exportAs:["bs-tooltip"]}),function an(t,n,e,i){var o,r=arguments.length,s=r<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,n,e,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(n,e,s):o(n,e))||s);r>3&&s&&Object.defineProperty(n,e,s)}([$6(),Y("design:type",Object)],t.prototype,"tooltip",void 0),t})(),wA=(()=>{class t{static forRoot(){return{ngModule:t,providers:[qs,xo]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=_i({type:t}),t.\u0275inj=ai({imports:[gu]}),t})();function H8(t,n){if(1&t){const e=Fe();_(0,"div",1),F("click",function(){return H(e),$(w().onSelectCourse())}),_(1,"div",2)(2,"h5",3),S(3),g(),_(4,"h6",4),S(5),g()()()}if(2&t){const e=w();m(2),y("tooltip",e.course.name.length>20?e.course.name:void 0),m(1),qt(" ",e.course.name," "),m(1),y("tooltip",e.course.term.length>20?e.course.term:void 0),m(1),qt(" ",e.course.term," ")}}let $8=(()=>{class t{constructor(){this.selectCourse=new Me}onSelectCourse(){this.course&&this.selectCourse.emit(this.course)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["app-course-info-item"]],inputs:{course:"course"},outputs:{selectCourse:"selectCourse"},decls:1,vars:1,consts:[["class","card",3,"click",4,"ngIf"],[1,"card",3,"click"],[1,"card-body"],["placement","top",1,"card-title","text-truncate",3,"tooltip"],["placement","right",1,"card-subtitle","text-truncate","text-muted",3,"tooltip"]],template:function(e,i){1&e&&V(0,H8,6,4,"div",0),2&e&&y("ngIf",i.course)},dependencies:[Jt,bA],styles:[".card[_ngcontent-%COMP%]{width:20rem;height:5rem;cursor:pointer}"]}),t})(),ju=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["app-canvas-loading-toast"]],decls:3,vars:0,consts:[[1,"toast","d-block"],[1,"toast-body"]],template:function(e,i){1&e&&(_(0,"div",0)(1,"div",1),S(2,"Token ATM is retrieving information from Canvas. Please wait..."),g()())}}),t})();function j8(t,n){1&t&&(_(0,"div",2),Se(1,"app-canvas-loading-toast"),g())}function U8(t,n){if(1&t){const e=Fe();_(0,"app-course-info-item",9),F("selectCourse",function(r){return H(e),$(w(2).onSelectCourse(r))}),g()}2&t&&y("course",n.$implicit)}function Y8(t,n){if(1&t){const e=Fe();_(0,"app-course-info-item",9),F("selectCourse",function(r){return H(e),$(w(2).onSelectCourse(r))}),g()}2&t&&y("course",n.$implicit)}function z8(t,n){if(1&t){const e=Fe();_(0,"div",3)(1,"h1",4),S(2,"Welcome to Token ATM"),g(),_(3,"p"),S(4,"Please select a course"),g(),_(5,"app-form-item",5),F("dataChange",function(r){return H(e),$(w().onCourseNameChange(r))}),g(),_(6,"app-form-item",5),F("dataChange",function(r){return H(e),$(w().onTermNameChange(r))}),g(),_(7,"h2",6),S(8,"Courses you\u2019re enrolled in as a Teacher"),g(),_(9,"div",7),V(10,U8,1,1,"app-course-info-item",8),g(),_(11,"h2",6),S(12,"Courses you\u2019re enrolled in as a TA"),g(),_(13,"div",7),V(14,Y8,1,1,"app-course-info-item",8),g()()}if(2&t){const e=w();m(5),y("info",e.courseItemInfo)("data",""),m(1),y("info",e.termItemInfo)("data",""),m(4),y("ngForOf",e.coursesAsTeacher),m(4),y("ngForOf",e.coursesAsTA)}}let q8=(()=>{class t{constructor(e,i,r,s){this.canvasService=e,this.router=i,this.configurationManagerService=r,this.modalService=s,this.loading=!0,this.coursesEnrolledAsTeacher=[],this.coursesEnrolledAsTA=[],this.courseItemInfo=new $s("courseName","Search for Course","text"),this.courseName="",this.termItemInfo=new $s("termName","Search for Term","text"),this.termName=""}ngOnInit(){this.loading=!0,this.fetchCourses().then(()=>{this.loading=!1})}fetchCourses(){var e=this;return(0,b.Z)(function*(){e.coursesEnrolledAsTeacher=yield Qp.convertAsyncIterableToList(yield e.canvasService.getCourses("teacher","active")),e.coursesEnrolledAsTA=yield Qp.convertAsyncIterableToList(yield e.canvasService.getCourses("ta","active"))})()}onCourseNameChange(e){this.courseName=e??""}onTermNameChange(e){this.termName=e??""}get coursesAsTeacher(){return this.coursesEnrolledAsTeacher.filter(e=>-1!=e.name.toLowerCase().indexOf(this.courseName.toLowerCase())&&-1!=e.term.toLowerCase().indexOf(this.termName.toLowerCase()))}get coursesAsTA(){return this.coursesEnrolledAsTA.filter(e=>-1!=e.name.toLowerCase().indexOf(this.courseName.toLowerCase())&&-1!=e.term.toLowerCase().indexOf(this.termName.toLowerCase()))}onSelectCourse(e){var i=this;return(0,b.Z)(function*(){i.loading=!0;try{yield i.configurationManagerService.getTokenATMConfiguration(e),i.router.navigateByUrl("/dashboard",{state:e})}catch{let s;const o=new Promise(u=>{s=u}),a=i.modalService.show(R8,{initialState:{onResolve:s,course:e},class:"modal-lg",backdrop:"static",keyboard:!1});(yield o)?(a.hide(),i.router.navigateByUrl("/dashboard",{state:e})):(i.loading=!1,a.hide())}})()}}return t.\u0275fac=function(e){return new(e||t)(D(Rn),D(Yi),D(Ar),D(Gr))},t.\u0275cmp=He({type:t,selectors:[["app-course-selection"]],decls:3,vars:2,consts:[["appCenter","",4,"ngIf","ngIfElse"],["courseSelectionPanel",""],["appCenter",""],[1,"container","my-5","text-center","align-items-center","overflow-y-auto"],[1,"text-primary"],[1,"my-2",3,"info","data","dataChange"],[1,"my-4"],[1,"row","gy-3"],["class","col-auto",3,"course","selectCourse",4,"ngFor","ngForOf"],[1,"col-auto",3,"course","selectCourse"]],template:function(e,i){if(1&e&&(V(0,j8,2,0,"div",0),V(1,z8,15,6,"ng-template",null,1,pr)),2&e){const r=Fs(2);y("ngIf",i.loading)("ngIfElse",r)}},dependencies:[Ei,Jt,ga,vA,$8,ju],styles:["h1[_ngcontent-%COMP%]{display:block}"]}),t})();function W8(t,n){if(1&t){const e=Fe();Hn(0),_(1,"div",1)(2,"h4",2),S(3),g(),_(4,"button",3),F("click",function(){return H(e),$(w().onResolve(!1))}),_(5,"span",4),S(6,"\xd7"),g()()(),_(7,"div",5),S(8),g(),_(9,"div",6)(10,"button",7),F("click",function(){return H(e),$(w().onResolve(!1))}),S(11),g(),_(12,"button",8),F("click",function(){return H(e),$(w().onResolve(!0))}),S(13),g()(),$n()}if(2&t){const e=w();m(3),it(e.heading),m(1),y("disabled",e.disableButton),m(4),qt(" ",e.message," "),m(2),y("disabled",e.disableButton),m(1),qt(" ",e.noText," "),m(1),st("btn-danger",e.isDanger)("btn-primary",!e.isDanger),y("disabled",e.disableButton),m(1),qt(" ",e.yesText," ")}}let G8=(()=>{class t{constructor(){this.message="",this.heading="Confirmation",this.noText="Cancel",this.yesText="Yes",this.isDanger=!1,this.disableButton=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["app-confirmation-modal"]],inputs:{message:"message",heading:"heading",noText:"noText",yesText:"yesText",isDanger:"isDanger",disableButton:"disableButton",onResolve:"onResolve"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",3,"disabled","click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-body","message"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary","me-4",3,"disabled","click"],["type","button",1,"btn",3,"disabled","click"]],template:function(e,i){1&e&&V(0,W8,14,11,"ng-container",0),2&e&&y("ngIf",i.onResolve)},dependencies:[Jt],styles:[".message[_ngcontent-%COMP%]{white-space:pre-line}"]}),t})();function Z8(t,n){if(1&t){const e=Fe();Hn(0),_(1,"div",1)(2,"h4",2),S(3),g(),_(4,"button",3),F("click",function(){return H(e),$(w().onResolve())}),_(5,"span",4),S(6,"\xd7"),g()()(),_(7,"div",5),S(8),g(),_(9,"div",6)(10,"button",7),F("click",function(){return H(e),$(w().onResolve())}),S(11,"Close"),g()(),$n()}if(2&t){const e=w();m(3),it(e.heading),m(5),qt(" ",e.message," ")}}let Q8=(()=>{class t{constructor(){this.message="",this.heading="Notification"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["app-notification-modal"]],inputs:{message:"message",heading:"heading",onResolve:"onResolve"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",3,"click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-body","message"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary","me-4",3,"click"]],template:function(e,i){1&e&&V(0,Z8,12,2,"ng-container",0),2&e&&y("ngIf",i.onResolve)},dependencies:[Jt],styles:[".message[_ngcontent-%COMP%]{white-space:pre-line;word-break:break-all;max-height:80vh;overflow-y:auto}"]}),t})(),Fo=(()=>{class t{constructor(e){this.modalService=e}createConfirmationModal(e,i="Confirmation",r=!1,s="Cancel",o="Yes"){var a=this;return(0,b.Z)(function*(){let l;const u=new Promise(h=>{l=h});return[a.modalService.show(G8,{initialState:{message:e,heading:i,isDanger:r,noText:s,yesText:o,onResolve:h=>{l(h)}},backdrop:"static",keyboard:!1}),yield u]})()}createConfirmationModalWithoutRef(e,i="Confirmation",r=!1,s="Cancel",o="Yes"){var a=this;return(0,b.Z)(function*(){const[l,u]=yield a.createConfirmationModal(e,i,r,s,o);return l.hide(),u})()}createNotificationModal(e,i="Notification"){var r=this;return(0,b.Z)(function*(){let s;const o=new Promise(u=>{s=u}),l=r.modalService.show(Q8,{initialState:{message:e,heading:i,onResolve:()=>{s()}},backdrop:"static",keyboard:!1});yield o,l.hide()})()}}return t.\u0275fac=function(e){return new(e||t)(X(Gr))},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class hi{constructor(n,e,i,r,s,o,a,l,u,c){this._configuration=n,this._tokenOptionId=e,this._tokenOption=n.getTokenOptionById(e),this._tokenOptionName=i,this._tokenOptionGroupId=c,this._student=r,this._isApproved=s,this._submittedTime=o,this._processedTime=a,this._tokenBalanceChange=l,this._message=u}get configuration(){return this._configuration}get tokenOption(){return this._tokenOption}get tokenOptionName(){return this._tokenOptionName}get tokenOptionGroupId(){return this._tokenOptionGroupId}get student(){return this._student}get isApproved(){return this._isApproved}get submittedTime(){return this._submittedTime}get processedTime(){return this._processedTime}get message(){return this._message??""}get tokenBalanceChange(){return this._tokenBalanceChange}toJSON(){return{token_option_id:this._tokenOptionId,token_option_name:this.tokenOptionName,token_option_group_id:this.tokenOptionGroupId,is_approved:this.isApproved,submit_time:Ir(this.submittedTime),process_time:Ir(this.processedTime),message:this.message,token_balance_change:this.tokenBalanceChange}}static deserialize(n,e,i){if("number"!=typeof i.token_option_id||"string"!=typeof i.token_option_name||typeof i.token_option_group_id<"u"&&"number"!=typeof i.token_option_group_id||"boolean"!=typeof i.is_approved||typeof i.message<"u"&&"string"!=typeof i.message||"number"!=typeof i.submit_time||"number"!=typeof i.process_time||"number"!=typeof i.token_balance_change)throw new Error("Invalid data");return new hi(n,i.token_option_id,i.token_option_name,e,i.is_approved,gr(i.submit_time),gr(i.process_time),i.token_balance_change,i.message,i.token_option_group_id)}}class Gs{}let K8=(()=>{class t extends Gs{constructor(e){super(),this.canvasService=e}handle(e,i,r){var s=this;return(0,b.Z)(function*(){return console.log("Basic request processed",s.canvasService),new hi(e,r.tokenOption.id,r.tokenOption.name,i.student,!0,r.submittedTime,new Date,r.tokenOption.tokenBalanceChange,"This basic request is approved.",r.tokenOption.group.id)})()}get type(){return"basic"}}return t.\u0275fac=function(e){return new(e||t)(X(Rn))},t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})();class ws{}class J8 extends ws{constructor(n,e,i,r,s){super(),this.courseId=n,this.moduleId=e,this.studentId=i,this.gradeThreshold=r,this.canvasService=s}check(n){var e=this;return(0,b.Z)(function*(){const[i,r]=yield e.canvasService.getModuleScore(e.courseId,e.moduleId,e.studentId);0!=r&&i/r<e.gradeThreshold&&n(`Module score ${i}/${r} (${(i/r*100).toFixed(2)}%) is lower than the threshold (${(100*e.gradeThreshold).toFixed(2)}%).`)})()}}class Uu extends ws{constructor(n,e){super(),this.tokenOption=n,this.processedRequests=e}check(n){var e=this;return(0,b.Z)(function*(){let i=0;for(const r of e.processedRequests)r.tokenOption&&r.isApproved&&(e.tokenOption.id==r.tokenOption.id?i++:r.tokenOption instanceof Bu&&r.tokenOption.withdrawTokenOptionId==e.tokenOption.id&&i>0&&i--);0!=i&&n("There is already an approved request for this token option.")})()}}class No{constructor(n){this.guards=n,this._isRejected=!1}check(){var n=this;return(0,b.Z)(function*(){const e=function(){var i=(0,b.Z)(function*(r){n._isRejected=!0,n._message=r});return function(s){return i.apply(this,arguments)}}();for(const i of n.guards)if(yield i.check(e),n._isRejected)return})()}get isRejected(){return this._isRejected}get message(){return this._message}}class Xa extends ws{constructor(n,e){super(),this.submittedDate=n,this.startDate=e}check(n){var e=this;return(0,b.Z)(function*(){-1==Vp(e.submittedDate,e.startDate)&&n("Request was submitted before the start date")})()}}let X8=(()=>{class t extends Gs{constructor(e){super(),this.canvasService=e}handle(e,i,r){var s=this;return(0,b.Z)(function*(){const o=new No([new Xa(r.submittedTime,r.tokenOption.startTime),new Uu(r.tokenOption,i.processedRequests),new J8(e.course.id,r.tokenOption.moduleId,i.student.id,r.tokenOption.gradeThreshold,s.canvasService)]);return yield o.check(),new hi(e,r.tokenOption.id,r.tokenOption.name,r.student,!o.isRejected,r.submittedTime,new Date,o.isRejected?0:r.tokenOption.tokenBalanceChange,o.message,r.tokenOption.group.id)})()}get type(){return"earn-by-module"}}return t.\u0275fac=function(e){return new(e||t)(X(Rn))},t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})();class eG extends ws{constructor(n,e,i,r,s){super(),this.courseId=n,this.quizId=e,this.studentId=i,this.gradeThreshold=r,this.canvasService=s}check(n){var e=this;return(0,b.Z)(function*(){const i=yield e.canvasService.getQuiz(e.courseId,e.quizId),r=yield e.canvasService.getSingleSubmissionGrade(e.courseId,e.studentId,i.assignmentId);0!=i.pointsPossible&&r/i.pointsPossible<e.gradeThreshold&&n(`Quiz score ${r}/${i.pointsPossible}  (${(r/i.pointsPossible*100).toFixed(2)}%) is lower than the threshold (${(100*e.gradeThreshold).toFixed(2)}%).`)})()}}let tG=(()=>{class t extends Gs{constructor(e){super(),this.canvasService=e}handle(e,i,r){var s=this;return(0,b.Z)(function*(){const o=new No([new Xa(r.submittedTime,r.tokenOption.startTime),new Uu(r.tokenOption,i.processedRequests),new eG(e.course.id,r.tokenOption.quizId,r.student.id,r.tokenOption.gradeThreshold,s.canvasService)]);return yield o.check(),new hi(e,r.tokenOption.id,r.tokenOption.name,r.student,!o.isRejected,r.submittedTime,new Date,o.isRejected?0:r.tokenOption.tokenBalanceChange,o.message,r.tokenOption.group.id)})()}get type(){return"earn-by-quiz"}}return t.\u0275fac=function(e){return new(e||t)(X(Rn))},t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})();var nG=de(139);let vm=(()=>{var t=new WeakMap,n=new WeakMap,e=new WeakMap,i=new WeakMap,r=new WeakMap;class s{constructor(a){js(this,t,{writable:!0,value:void 0}),js(this,n,{writable:!0,value:void 0}),js(this,e,{writable:!0,value:void 0}),js(this,i,{writable:!0,value:void 0}),js(this,r,{writable:!0,value:void 0}),this.axiosService=a,this.participationCache=new Map}hasCredentialConfigured(){return null!=nn(this,t)&&null!=nn(this,n)&&null!=nn(this,e)}configureCredential(a,l,u){var c=this;return(0,b.Z)(function*(){Qn(c,t,a),Qn(c,n,l),Qn(c,e,u),Qn(c,r,`https://${nn(c,t)}.qualtrics.com`);try{yield c.apiRequest("/API/v3/whoami")}catch(d){return d}})()}clearCredential(){var a=this;return(0,b.Z)(function*(){Qn(a,t,void 0),Qn(a,n,void 0),Qn(a,e,void 0),Qn(a,r,void 0),Qn(a,i,void 0)})()}refreshQualtricsAccessToken(){var a=this;return(0,b.Z)(function*(){const l=function(){var c=(0,b.Z)(function*(){if(!nn(a,r)||!nn(a,n)||!nn(a,e))throw new Error("Credentials for Qualtrics are invalid");return(yield a.axiosService.request({url:nn(a,r)+"/oauth2/token",method:"post",auth:{username:nn(a,n),password:nn(a,e)},params:{grant_type:"client_credentials",scope:["read:survey_responses","read:users"].join(" ")}})).data});return function(){return c.apply(this,arguments)}}(),u=yield Jp.execute(l,function(){var c=(0,b.Z)(function*(d,f){return!Zp(f)});return function(d,f){return c.apply(this,arguments)}}());Qn(a,i,"string"==typeof u.access_token?u.access_token:void 0)})()}rawAPIRequest(a,l){var u=this;return(0,b.Z)(function*(){let c=!1;for(nn(u,i)||(c=!0,yield u.refreshQualtricsAccessToken());;)try{const d=function(){var f=(0,b.Z)(function*(){return yield u.axiosService.request({...l,url:nn(u,r)+a,headers:{...l?.headers,Authorization:"Bearer "+nn(u,i)}})});return function(){return f.apply(this,arguments)}}();return yield Jp.execute(d,function(){var f=(0,b.Z)(function*(h,p){return!Zp(p)});return function(h,p){return f.apply(this,arguments)}}())}catch(d){if(d.response&&401==d.response.status&&!c){c=!0,yield u.refreshQualtricsAccessToken();continue}throw d}})()}apiRequest(a,l){var u=this;return(0,b.Z)(function*(){return(yield u.rawAPIRequest(a,l)).data})()}cacheSurveyParticipation(a,l){var u=this;return(0,b.Z)(function*(){const c=new Set,d=(yield u.apiRequest(`/API/v3/surveys/${a}/export-responses`,{method:"post",data:{format:"json",questionIds:[],surveyMetadataIds:["recordedDate","finished"]}})).result.progressId;let f="";for(;;){const p=yield u.apiRequest(`/API/v3/surveys/${a}/export-responses/${d}`);if("complete"==p.result.status){f=p.result.fileId;break}yield new Promise(v=>setTimeout(v,1e3*s.WAIT_SECONDS))}const h=yield u.apiRequest(`/API/v3/surveys/${a}/export-responses/${f}/file`,{responseType:"arraybuffer"});for(const p of(yield(0,nG.Dg)(h)).entries){const v=yield p.json();if(Array.isArray(v.responses))for(const M of v.responses){if(!M?.values?.finished||1!=M.values.finished&&1!=M.values.finished&&"True"!=M.values.finished)continue;const I=M?.values?.[l];"string"==typeof I&&c.add(I)}}u.participationCache.set(a,c)})()}checkParticipation(a,l,u){var c=this;return(0,b.Z)(function*(){return c.participationCache.has(a)||(yield c.cacheSurveyParticipation(a,l)),c.participationCache.get(a)?.has(u)??!1})()}clearCache(){this.participationCache.clear()}}return s.WAIT_SECONDS=2,s.\u0275fac=function(a){return new(a||s)(X(Sb))},s.\u0275prov=z({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();class Zd extends ws{constructor(n,e){super(),this.submittedDate=n,this.endDate=e}check(n){var e=this;return(0,b.Z)(function*(){-1==function iG(t,n){cn(2,arguments);var e=Kn(t),i=Kn(n),r=e.getTime()-i.getTime();return r>0?-1:r<0?1:r}(e.submittedDate,e.endDate)&&n("Request was submitted after the end date")})()}}class rG extends ws{constructor(n,e,i,r){super(),this.surveyId=n,this.fieldName=e,this.participationId=i,this.qualtricsService=r}check(n){var e=this;return(0,b.Z)(function*(){""!=e.participationId?(yield e.qualtricsService.checkParticipation(e.surveyId,e.fieldName,e.participationId))||n("You did not complete the survey. Or your default email address on Canvas doesn't match the email connected with the Qualtrics Survey."):n("Your Canvas email address is not visible, please contact your institution for help.")})()}}let sG=(()=>{class t extends Gs{constructor(e){super(),this.qualtricsService=e}handle(e,i,r){var s=this;return(0,b.Z)(function*(){const o=new No([new Xa(r.submittedTime,r.tokenOption.startTime),new Zd(r.submittedTime,r.tokenOption.endTime),new Uu(r.tokenOption,i.processedRequests),new rG(r.tokenOption.surveyId,r.tokenOption.fieldName,i.student.email,s.qualtricsService)]);return yield o.check(),new hi(e,r.tokenOption.id,r.tokenOption.name,r.student,!o.isRejected,r.submittedTime,new Date,o.isRejected?0:r.tokenOption.tokenBalanceChange,o.message,r.tokenOption.group.id)})()}get type(){return"earn-by-survey"}}return t.\u0275fac=function(e){return new(e||t)(X(vm))},t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})();class Xb extends ws{constructor(n,e){super(),this.currentTokenBalance=n,this.tokenBalanceChange=e}check(n){var e=this;return(0,b.Z)(function*(){e.currentTokenBalance+e.tokenBalanceChange<0&&n(`Insufficient token balance (need ${Math.abs(e.tokenBalanceChange)}, have ${e.currentTokenBalance})`)})()}}let oG=(()=>{class t extends Gs{constructor(e){super(),this.canvasService=e}handle(e,i,r){var s=this;return(0,b.Z)(function*(){const o=new No([new Xa(r.submittedTime,r.tokenOption.startTime),new Zd(r.submittedTime,r.tokenOption.endTime),new Uu(r.tokenOption,i.processedRequests),new Xb(i.tokenBalance,r.tokenOption.tokenBalanceChange)]);return yield o.check(),o.isRejected||(yield s.canvasService.createAssignmentOverrideForStudent(e.course.id,r.tokenOption.assignmentId,r.student.id,`Token ATM - ${e.uid}`,r.tokenOption.newDueTime)),new hi(e,r.tokenOption.id,r.tokenOption.name,r.student,!o.isRejected,r.submittedTime,new Date,o.isRejected?0:r.tokenOption.tokenBalanceChange,o.message??"",r.tokenOption.group.id)})()}get type(){return"spend-for-assignment-resubmission"}}return t.\u0275fac=function(e){return new(e||t)(X(Rn))},t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})();class CA extends ws{constructor(n,e){super(),this.excludeTokenOptionIds=n,this.processedRequests=e}check(n){var e=this;return(0,b.Z)(function*(){for(const i of e.excludeTokenOptionIds)if(e.hasApprovedRequest(i))return void n("You have an approved request to another token option that is mutually exclusive with this token option.")})()}hasApprovedRequest(n){let e=0;for(const i of this.processedRequests)i.tokenOption&&i.isApproved&&(n==i.tokenOption.id?e++:i.tokenOption instanceof Bu&&i.tokenOption.withdrawTokenOptionId==n&&e>0&&e--);return 0!=e}}let aG=(()=>{class t extends Gs{constructor(e){super(),this.canvasService=e}handle(e,i,r){var s=this;return(0,b.Z)(function*(){const o=new No([new Xa(r.submittedTime,r.tokenOption.startTime),new Zd(r.submittedTime,r.tokenOption.endTime),new Uu(r.tokenOption,i.processedRequests),new CA(r.tokenOption.excludeTokenOptionIds,i.processedRequests),new Xb(i.tokenBalance,r.tokenOption.tokenBalanceChange)]);if(yield o.check(),!o.isRejected){const a=yield s.canvasService.getAssignmentIdByQuizId(e.course.id,r.tokenOption.quizId);yield s.canvasService.createAssignmentOverrideForStudent(e.course.id,a,r.student.id,`Token ATM - ${e.uid}`,r.tokenOption.newDueTime)}return new hi(e,r.tokenOption.id,r.tokenOption.name,r.student,!o.isRejected,r.submittedTime,new Date,o.isRejected?0:r.tokenOption.tokenBalanceChange,o.message??"",r.tokenOption.group.id)})()}get type(){return"spend-for-lab-data"}}return t.\u0275fac=function(e){return new(e||t)(X(Rn))},t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})(),lG=(()=>{class t extends Gs{handle(e,i,r){return(0,b.Z)(function*(){const s=new No([new Uu(r.tokenOption,i.processedRequests),new CA(r.tokenOption.excludeTokenOptionIds,i.processedRequests),new Xb(i.tokenBalance,r.tokenOption.tokenBalanceChange)]);yield s.check();const o=s.message??"",a=s.isRejected;return new hi(e,r.tokenOption.id,r.tokenOption.name,r.student,!a,r.submittedTime,new Date,a?0:r.tokenOption.tokenBalanceChange,o,r.tokenOption.group.id)})()}get type(){return"spend-for-lab-switch"}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})();class ew extends ws{constructor(n,e){super(),this.withdrawTokenOption=n,this.processedRequests=e}check(n){var e=this;return(0,b.Z)(function*(){let i=0;for(const r of e.processedRequests)r.tokenOption&&r.isApproved&&(e.withdrawTokenOption.id==r.tokenOption.id?i++:r.tokenOption instanceof Bu&&r.tokenOption.withdrawTokenOptionId==e.withdrawTokenOption.id&&i>0&&i--);0==i&&n("There is no request to withdraw.")})()}}class uG extends ws{constructor(n,e,i,r,s,o){super(),this.courseId=n,this.assignmentId=e,this.studentId=i,this.overrideTitlePrefix=r,this.lockDate=s,this.canvasService=o}check(n){var e=this;return(0,b.Z)(function*(){if(yield e.canvasService.deleteAssignmentOverrideForStudent(e.courseId,e.assignmentId,e.studentId),"unsubmitted"!=(yield e.canvasService.getAssignmentSubmission(e.courseId,e.assignmentId,e.studentId)).workflowState)return yield e.canvasService.createAssignmentOverrideForStudent(e.courseId,e.assignmentId,e.studentId,e.overrideTitlePrefix,e.lockDate),void n("You have already made a submission to the assignment.")})()}}let cG=(()=>{class t extends Gs{constructor(e){super(),this.canvasService=e}handle(e,i,r){var s=this;return(0,b.Z)(function*(){let o="",a=!1;const l=r.tokenOption.withdrawTokenOption;if(l){const u=new No([new Xa(r.submittedTime,l.startTime),new Zd(r.submittedTime,l.endTime),new ew(l,i.processedRequests),new uG(e.course.id,l.assignmentId,i.student.id,`Token ATM - ${e.uid}`,l.newDueTime,s.canvasService)]);yield u.check(),o=u.message??"",a=u.isRejected}else o="The withdraw token option you requested is no longer valid.",a=!0;return new hi(e,r.tokenOption.id,r.tokenOption.name,r.student,!a,r.submittedTime,new Date,a?0:r.tokenOption.tokenBalanceChange,o,r.tokenOption.group.id)})()}get type(){return"withdraw-assignment-resubmission"}}return t.\u0275fac=function(e){return new(e||t)(X(Rn))},t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})();class dG extends ws{constructor(n,e,i,r,s,o){super(),this.courseId=n,this.quizId=e,this.studentId=i,this.overrideTitlePrefix=r,this.lockDate=s,this.canvasService=o}check(n){var e=this;return(0,b.Z)(function*(){const i=yield e.canvasService.getAssignmentIdByQuizId(e.courseId,e.quizId);yield e.canvasService.deleteAssignmentOverrideForStudent(e.courseId,i,e.studentId);var o,r=!1,s=!1;try{for(var l,a=vi(yield e.canvasService.getQuizSubmissions(e.courseId,e.quizId));r=!(l=yield a.next()).done;r=!1)if(l.value.studentId==e.studentId)return yield e.canvasService.createAssignmentOverrideForStudent(e.courseId,i,e.studentId,e.overrideTitlePrefix,e.lockDate),void n("You have already started taking the quiz, or you have already taken the quiz.")}catch(u){s=!0,o=u}finally{try{r&&null!=a.return&&(yield a.return())}finally{if(s)throw o}}})()}}const fG=[K8,X8,tG,oG,aG,sG,cG,(()=>{class t extends Gs{constructor(e){super(),this.canvasService=e}handle(e,i,r){var s=this;return(0,b.Z)(function*(){let o="",a=!1;const l=r.tokenOption.withdrawTokenOption;if(l){const u=new No([new Xa(r.submittedTime,l.startTime),new Zd(r.submittedTime,l.endTime),new ew(l,i.processedRequests),new dG(e.course.id,l.quizId,i.student.id,`Token ATM - ${e.uid}`,l.newDueTime,s.canvasService)]);yield u.check(),o=u.message??"",a=u.isRejected}else o="The withdraw token option you requested is no longer valid.",a=!0;return new hi(e,r.tokenOption.id,r.tokenOption.name,r.student,!a,r.submittedTime,new Date,a?0:r.tokenOption.tokenBalanceChange,o,r.tokenOption.group.id)})()}get type(){return"withdraw-lab-data"}}return t.\u0275fac=function(e){return new(e||t)(X(Rn))},t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})(),lG,(()=>{class t extends Gs{handle(e,i,r){return(0,b.Z)(function*(){let s="",o=!1;const a=r.tokenOption.withdrawTokenOption;if(a){const l=new No([new ew(a,i.processedRequests)]);yield l.check(),s=l.message??"",o=l.isRejected}else s="The withdraw token option you requested is no longer valid.",o=!0;return o||(s="You don't have the permission to withdraw a lab switch request. This token option is only requestable by instructors on your behalf.",o=!0),new hi(e,r.tokenOption.id,r.tokenOption.name,r.student,!o,r.submittedTime,new Date,o?0:r.tokenOption.tokenBalanceChange,s,r.tokenOption.group.id)})()}get type(){return"withdraw-lab-switch"}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})()],DA=new Pe("REQUEST_HANDLERS");let hG=(()=>{class t{constructor(e){this._requestHandlersMap=new Map,e&&e.forEach(i=>{this._requestHandlersMap.set(i.type,i)})}getRequestHandler(e){const i=this._requestHandlersMap.get(e);if(!i)throw new Error("Unsupported request type");return i}handleRequest(e,i,r){return this.getRequestHandler(r.type).handle(e,i,r)}}return t.\u0275fac=function(e){return new(e||t)(X(DA,8))},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class Zs{constructor(n,e,i,r){this._tokenOption=n,this._student=e,this._submittedTime=i,this._quizSubmissionDetail=r}get tokenOption(){return this._tokenOption}get type(){return this._tokenOption.type}get student(){return this._student}get submittedTime(){return this._submittedTime}get quizSubmissionDetail(){return this._quizSubmissionDetail}}class pG extends Zs{}class Qs{}let mG=(()=>{class t extends Qs{resolve(e,i){return(0,b.Z)(function*(){return new pG(e,i.student,i.submittedTime,i)})()}get type(){return"basic"}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})();class _G extends Zs{}let gG=(()=>{class t extends Qs{resolve(e,i){return(0,b.Z)(function*(){return new _G(e,i.student,i.submittedTime,i)})()}get type(){return"earn-by-module"}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})();class yG extends Zs{}let vG=(()=>{class t extends Qs{resolve(e,i){return(0,b.Z)(function*(){return new yG(e,i.student,i.submittedTime,i)})()}get type(){return"earn-by-quiz"}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})();class bG extends Zs{}let wG=(()=>{class t extends Qs{resolve(e,i){return(0,b.Z)(function*(){return new bG(e,i.student,i.submittedTime,i)})()}get type(){return"earn-by-survey"}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})();class CG extends Zs{}let DG=(()=>{class t extends Qs{resolve(e,i){return(0,b.Z)(function*(){return new CG(e,i.student,i.submittedTime,i)})()}get type(){return"spend-for-assignment-resubmission"}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})();class TG extends Zs{}let kG=(()=>{class t extends Qs{resolve(e,i){return(0,b.Z)(function*(){return new TG(e,i.student,i.submittedTime,i)})()}get type(){return"spend-for-lab-data"}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})();class MG extends Zs{}let SG=(()=>{class t extends Qs{resolve(e,i){return(0,b.Z)(function*(){return new MG(e,i.student,i.submittedTime,i)})()}get type(){return"spend-for-lab-switch"}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})();class EG extends Zs{}let OG=(()=>{class t extends Qs{resolve(e,i){return(0,b.Z)(function*(){return new EG(e,i.student,i.submittedTime,i)})()}get type(){return"withdraw-assignment-resubmission"}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})();class IG extends Zs{}let AG=(()=>{class t extends Qs{resolve(e,i){return(0,b.Z)(function*(){return new IG(e,i.student,i.submittedTime,i)})()}get type(){return"withdraw-lab-data"}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})();class RG extends Zs{}const xG=[mG,gG,vG,DG,kG,wG,OG,AG,SG,(()=>{class t extends Qs{resolve(e,i){return(0,b.Z)(function*(){return new RG(e,i.student,i.submittedTime,i)})()}get type(){return"withdraw-lab-switch"}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})()],TA=new Pe("REQUEST_RESOLVERS");let FG=(()=>{class t{constructor(e){this._requestResolversMap=new Map,e&&e.forEach(i=>{this._requestResolversMap.set(i.type,i)})}getRequestResolver(e){const i=this._requestResolversMap.get(e);if(!i)throw new Error("Unspported request type");return i}resolveRequest(e,i){var r=this;return(0,b.Z)(function*(){if(""!=i.answers[0])for(const s of e.availableTokenOptions)if(s.prompt==i.answers[0])return yield r.getRequestResolver(s.type).resolve(s,i)})()}}return t.\u0275fac=function(e){return new(e||t)(X(TA,8))},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class NG{constructor(n,e,i,r){this._student=n,this._submittedTime=e,this._curAttempt=i,this._answers=r.slice(0)}get student(){return this._student}get curAttempt(){return this._curAttempt}get submittedTime(){return this._submittedTime}get answers(){return this._answers}}let LG=(()=>{class t{constructor(e){this.canvasService=e}fetchRawRequest(e,i,r,s,o,a){var l=this;return(0,b.Z)(function*(){const[u,c]=yield l.canvasService.getQuizSubmissionAttempt(e.course.id,i.quizId,s,r.id,o,{assignmentId:a});return new NG(r,u,o,c)})()}}return t.\u0275fac=function(e){return new(e||t)(X(Rn))},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class bm{constructor(n,e,i,r,s,o,a){this._configuration=n,this._student=e,this._commentId=i,this._commentDate=r,this._tokenBalance=s,this._processedAttemptsMap=o,this._processedRequests=a}get configuration(){return this._configuration}get student(){return this._student}get commentId(){return this._commentId}set commentId(n){this._commentId=n}get commentDate(){return this._commentDate}set commentDate(n){this._commentDate=n}get tokenBalance(){return this._tokenBalance}get processedRequests(){return this._processedRequests}get submittedRequestCnt(){return Array.from(this._processedAttemptsMap.values()).reduce((n,e)=>n+e,0)}logProcessedRequest(n){this._tokenBalance+=n.tokenBalanceChange,null!=n.tokenOptionGroupId&&this._processedAttemptsMap.set(n.tokenOptionGroupId,(this._processedAttemptsMap.get(n.tokenOptionGroupId)??0)+1),this._processedRequests.push(n)}getProcessedAttempts(n){return this._processedAttemptsMap.get(n)??0}toJSON(){return{comment_id:this.commentId,comment_date:Ir(this.commentDate),processed_attempt_map:[...this._processedAttemptsMap.entries()].map(n=>({token_option_group_id:n[0],attempt:n[1]})),processed_requests:this.processedRequests}}static deserialize(n,e,i,r,s){if("number"!=typeof s.comment_date||"object"!=typeof s.processed_attempt_map||!Array.isArray(s.processed_attempt_map)||"object"!=typeof s.processed_requests||!Array.isArray(s.processed_requests))throw new Error("Invalid data");const o=new Map;for(const a of s.processed_attempt_map){if("number"!=typeof a.token_option_group_id||"number"!=typeof a.attempt)throw new Error("Invalid data");o.set(a.token_option_group_id,a.attempt)}return new bm(n,e,i,gr(s.comment_date),r,o,s.processed_requests.map(a=>hi.deserialize(n,e,a)))}}let tw=(()=>{class t{constructor(e){this.canvasService=e}writeStudentRecordToCanvas(e,i,r){var s=this;return(0,b.Z)(function*(){const o=e.course.id,a=i.student.id,l=e.logAssignmentId,u=i.commentId,c=yield s.canvasService.gradeSubmissionWithPostingComment(o,a,l,i.tokenBalance,Gd());i.commentId=c.id,i.commentDate=c.createdAt;try{yield s.canvasService.modifyComment(o,a,l,c.id,t.PROMPT+(yield e.encryptStudentRecord(i)))}catch(d){throw d.message=d.message+`\n***ACTION NEEDED***: \nPlease use Canvas to manually change this student's grade in the Token ATM Log assignment to ${r}. \nFailure to do so could cause the token balance of this student be incorrect. \nAlso, deleting the last two comments in Token ATM Log (ignoring those that start with "Please ignore the characters below") could help avoid confusion. One comment is the report for this incomplete request, while the other is a comment like xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx). \n***Sorry for the inconvenience!`,d}return""!=u&&(yield s.canvasService.deleteSubmissionComment(o,a,l,u)),i})()}getStudentRecord(e,i,r){var s=this;return(0,b.Z)(function*(){const o=e.course.id,a=i.id,l=e.logAssignmentId,u=yield s.canvasService.getSubmissionComments(o,a,l);let c=0;if(r&&r.has(i.id)){const f=r.get(i.id);f&&(c=f)}else c=yield s.canvasService.getSingleSubmissionGrade(o,a,l);for(const f of u.reverse()){if(!f.content.startsWith(t.PROMPT))continue;let h;try{h=yield e.decryptStudentRecord(f.content.split("\n")[1])}catch{yield s.canvasService.deleteComment(o,a,l,f.id);continue}if(!("number"!=typeof h.comment_date||0!=Vp(gr(h.comment_date),f.createdAt)||typeof h.comment_id<"u"&&"string"!=typeof h.comment_id||"string"==typeof h.comment_id&&h.comment_id!=f.id))return bm.deserialize(e,i,f.id,c,h);yield s.canvasService.deleteComment(o,a,l,f.id)}let d=new bm(e,i,"",new Date,c,new Map,[]);return d=yield s.writeStudentRecordToCanvas(e,d,0),d})()}logProcessedRequest(e,i,r){var s=this;return(0,b.Z)(function*(){const o=i.tokenBalance;i.logProcessedRequest(r),yield s.canvasService.postComment(e.course.id,i.student.id,e.logAssignmentId,`Your request to ${r.tokenOptionName} has been processed.\nResult: ${r.isApproved?"Approved":"*REJECTED*"}\nSubmitted at: ${ma(r.submittedTime,"MMM dd, yyyy kk:mm:ss")}\nProcessed at: ${ma(r.processedTime,"MMM dd, yyyy kk:mm:ss")}\nToken Balance Change: ${o} -> ${i.tokenBalance}${""!=r.message?`\nMessage: ${r.message}`:""}`),yield s.writeStudentRecordToCanvas(e,i,o)})()}}return t.PROMPT="Please ignore the characters below:\n",t.\u0275fac=function(e){return new(e||t)(X(Rn))},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Lo(t,n){return`${t} ${i=n,r=t,i+(1==r?"":"s")}`;var i,r}let PG=(()=>{class t{constructor(e,i,r,s,o,a){this.canvasService=e,this.rawRequestFetcherService=i,this.requestResolverRegistry=r,this.studentRecordManagerService=s,this.requestHandlerRegistry=o,this.qualtricsService=a,this._isRunning=!1,this._isStopTriggered=!1}startRequestProcessing(e){const i=new yi([0,"Request processing started"]);return this.runRequestProcessing(e,i),i}stopRequestProcessing(){this.isRunning&&(this._isStopTriggered=!0)}finishRequestProcessing(e,i=!0){this._isRunning=!1,this._isStopTriggered=!1,this.qualtricsService.clearCache(),i&&e.complete()}runRequestProcessing(e,i){var r=this;return(0,b.Z)(function*(){let s,o;r._isRunning=!0,r._isStopTriggered=!1,r.qualtricsService.clearCache();try{[s,o]=yield r.gatherQuizSubmissions(e,i)}catch(v){return i.error(["Encountered an error while gathering students' quiz submissions",v]),void r.finishRequestProcessing(i,!1)}if(r._isStopTriggered)return void r.finishRequestProcessing(i);const a=s.size;let l=0,u=0;try{var f,c=!1,d=!1;try{for(var p,h=vi(yield r.canvasService.getCourseStudentEnrollments(e.course.id));c=!(p=yield h.next()).done;c=!1){const v=p.value;{if(!s.has(v.id))continue;let M=0;l++;const I=s.get(v.id);if(!I)continue;let q,P;try{[q,P]=yield r.resolveRequestsForStudent(e,v,i,I.values(),o)}catch(oe){return i.error(["Encountered an error while resolving requests for student "+v.name+(""==v.email?"":`(${v.email})`),oe]),void r.finishRequestProcessing(i,!1)}if(r._isStopTriggered)return void r.finishRequestProcessing(i);for(const oe of P){if(q.submittedRequestCnt>=t.MAX_SUBMITTED_REQUEST_CNT)break;let tt;if(oe instanceof hi)tt=oe;else try{tt=yield r.requestHandlerRegistry.handleRequest(e,q,oe)}catch(rt){return i.error([`Encountered an error while handling request to ${tt?tt.tokenOptionName:oe.tokenOption.name} submitted at ${ma(oe.submittedTime,"MMM dd, yyyy kk:mm:ss")} by student ${v.name+(""==v.email?"":`(${v.email})`)}`,rt]),void r.finishRequestProcessing(i,!1)}try{yield r.studentRecordManagerService.logProcessedRequest(e,q,tt)}catch(rt){return i.error([`Encountered an error while logging request to ${tt.tokenOptionName} submitted at ${ma(tt.submittedTime,"MMM dd, yyyy kk:mm:ss")} by student ${v.name+(""==v.email?"":`(${v.email})`)}`,rt]),void r.finishRequestProcessing(i,!1)}if(u++,M++,i.next([100*l/a,r.progressString(a,u,l)]),i.next([-1-M/P.length,`Processed ${Lo(M,"request")} for the current student, ${Lo(P.length-M,"request")} remaining`]),r._isStopTriggered)return void r.finishRequestProcessing(i)}}}}catch(v){d=!0,f=v}finally{try{c&&null!=h.return&&(yield h.return())}finally{if(d)throw f}}r.finishRequestProcessing(i)}catch(v){return i.error(["Encountered an error while traversing the student list",v]),void r.finishRequestProcessing(i,!1)}})()}gatherQuizSubmissions(e,i){var r=this;return(0,b.Z)(function*(){const s=new Map,o=new Map;let a=0;for(const h of e.tokenOptionGroups){o.set(h.quizId,yield r.canvasService.getAssignmentIdByQuizId(e.course.id,h.quizId));var c,l=!1,u=!1;try{for(var f,d=vi(yield r.canvasService.getQuizSubmissions(e.course.id,h.quizId));l=!(f=yield d.next()).done;l=!1){const p=f.value;if(s.has(p.studentId)||s.set(p.studentId,new Map),s.get(p.studentId)?.set(h.quizId,[h,p]),a++,i.next([0,`Gathering submissions: Gathered ${Lo(a,"submission")}`]),r._isStopTriggered)return[s,o]}}catch(p){u=!0,c=p}finally{try{l&&null!=d.return&&(yield d.return())}finally{if(u)throw c}}}return[s,o]})()}resolveRequestsForStudent(e,i,r,s,o){var a=this;return(0,b.Z)(function*(){const l=yield a.studentRecordManagerService.getStudentRecord(e,i),u=[];if(l.submittedRequestCnt>=t.MAX_SUBMITTED_REQUEST_CNT)return[l,u];if(a._isStopTriggered)return[l,u];let c=0;for(const[d,f]of s)for(let h=l.getProcessedAttempts(d.id)+1;h<=f.attempt;h++){const p=yield a.rawRequestFetcherService.fetchRawRequest(e,d,i,f.id,h,o.get(d.quizId));if(a._isStopTriggered)return[l,u];const v=yield a.requestResolverRegistry.resolveRequest(d,p);if(u.push(v||new hi(e,-1,"An Unrecognized Token Option",i,!1,p.submittedTime,new Date,0,"The token option you made a request for cannot be recognized. You might have submitted the quiz without selecting an option from Question 1, or the token option you requested for is deleted, moved, or not configured properly yet.",d.id)),c++,r.next([-1,`Resolving Requests: Resolved ${Lo(c,"request")} for the current student`]),a._isStopTriggered)return[l,u]}return[l,u.sort((d,f)=>Vp(a.getSubmitTime(d),a.getSubmitTime(f)))]})()}getSubmitTime(e){return e.submittedTime}progressString(e,i,r){return o=e,l=r,`Processing Requests: Processed ${Lo(i,"request")} for ${Lo(l,"student")}, ${Lo(o-l+1,"student")} remaining`;var o,l}get isRunning(){return this._isRunning}}return t.MAX_SUBMITTED_REQUEST_CNT=200,t.\u0275fac=function(e){return new(e||t)(X(Rn),X(LG),X(FG),X(tw),X(hG),X(vm))},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const{stringify:MA}=JSON,Qd=String,SA="string",wm="object",OA=(t,n)=>n,AA=(t,n,e)=>{const i=Qd(n.push(e)-1);return t.set(e,i),i},RA=(t,n,e)=>{const i=n&&typeof n===wm?(c,d)=>""===c||-1<n.indexOf(c)?d:void 0:n||OA,r=new Map,s=[],o=[];let a=+AA(r,s,i.call({"":t},"",t)),l=!a;for(;a<s.length;)l=!0,o[a]=MA(s[a++],u,e);return"["+o.join(",")+"]";function u(c,d){if(l)return l=!l,d;const f=i.call(this,c,d);switch(typeof f){case wm:if(null===f)return f;case SA:return r.get(f)||AA(r,s,f)}return f}};class Po{static serailize(n){let e="\ntoString() result: \n"+n.toString();return e+="\nJSON result: \n"+RA(n),e}}function jG(t,n){1&t&&Se(0,"app-canvas-loading-toast")}function UG(t,n){if(1&t&&(_(0,"div",7),Se(1,"div",8),g()),2&t){const e=w(2);vo("width","30rem"),m(1),vo("width",e.progress.toString()+"%")}}function YG(t,n){if(1&t&&(_(0,"p"),S(1),g()),2&t){const e=w(2);m(1),it(e.message)}}function zG(t,n){if(1&t&&(_(0,"div",7),Se(1,"div",8),g()),2&t){const e=w(2);vo("width","30rem"),m(1),vo("width",e.individualProgress.toString()+"%")}}function qG(t,n){if(1&t&&(_(0,"p"),S(1),g()),2&t){const e=w(2);m(1),it(e.individualMessage)}}function WG(t,n){if(1&t){const e=Fe();_(0,"div",3)(1,"button",4),F("click",function(){H(e);const r=w();return $(r.isProcessingRequest?r.onStopRequestProcessing():r.onStartRequestProcessing())}),S(2),g(),V(3,UG,2,4,"div",5),V(4,YG,2,1,"p",6),V(5,zG,2,4,"div",5),V(6,qG,2,1,"p",6),g()}if(2&t){const e=w();m(1),st("btn-danger",e.isProcessingRequest),y("disabled",e.isRunning),m(1),qt(" ",e.isProcessingRequest?"Stop Request Processing":"Start Request Processing"," "),m(1),y("ngIf",void 0!==e.progress),m(1),y("ngIf",e.message),m(1),y("ngIf",void 0!==e.individualProgress),m(1),y("ngIf",e.individualMessage)}}let GG=(()=>{class t{constructor(e,i,r){this.configurationManager=e,this.requestProcessManagerService=i,this.modalManagerService=r,this.isReconfigureFinished=!0,this.isStopRequested=!1}configureCourse(e){var i=this;return(0,b.Z)(function*(){i.course=e,i.configuration=yield i.configurationManager.getTokenATMConfiguration(e)})()}onStopRequestProcessing(){this.requestProcessManagerService.isRunning&&(this.isStopRequested=!0,this.requestProcessManagerService.stopRequestProcessing())}onStartRequestProcessing(){var e=this;return(0,b.Z)(function*(){var i;e.configuration&&(e.isReconfigureFinished=!1,e.isStopRequested=!1,e.requestProcessManagerService.startRequestProcessing(e.configuration).subscribe({next:([i,r])=>{i<=-1?(e.individualProgress=100*Math.abs(i+1),e.individualMessage=r):(e.progress=i,e.message=r)},complete:(i=(0,b.Z)(function*(){yield e.onRequestProcessingComplete()}),function(){return i.apply(this,arguments)}),error:function(){var i=(0,b.Z)(function*([r,s]){yield e.modalManagerService.createNotificationModal(r+`\n______________\nError message: ${Po.serailize(s)}`),yield e.onRequestProcessingComplete(!1)});return function(s){return i.apply(this,arguments)}}()}))})()}onRequestProcessingComplete(e=!0){var i=this;return(0,b.Z)(function*(){i.progress=void 0,i.message=void 0,i.individualProgress=void 0,i.individualMessage=void 0,i.course&&e&&(yield i.configureCourse(i.course)),i.isStopRequested=!1,i.isReconfigureFinished=!0})()}get isProcessingRequest(){return this.requestProcessManagerService.isRunning}get isRunning(){return this.requestProcessManagerService.isRunning&&this.isStopRequested||!this.requestProcessManagerService.isRunning&&!this.isReconfigureFinished}}return t.\u0275fac=function(e){return new(e||t)(D(Ar),D(PG),D(Fo))},t.\u0275cmp=He({type:t,selectors:[["app-request-process"]],decls:4,vars:2,consts:[["appCenter",""],[4,"ngIf","ngIfElse"],["processPanel",""],[1,"d-flex","flex-column","align-items-center"],[1,"btn","btn-primary","btn-lg","mx-auto",3,"disabled","click"],["class","progress m-3 mx-auto",3,"width",4,"ngIf"],[4,"ngIf"],[1,"progress","m-3","mx-auto"],["role","progressbar",1,"progress-bar","progress-bar-striped","bg-success"]],template:function(e,i){if(1&e&&(_(0,"div",0),V(1,jG,1,0,"app-canvas-loading-toast",1),V(2,WG,7,8,"ng-template",null,2,pr),g()),2&e){const r=Fs(3);m(1),y("ngIf",!i.configuration)("ngIfElse",r)}},dependencies:[Jt,ga,ju]}),t})();function ZG(t,n){if(1&t&&(_(0,"p",4),S(1),g()),2&t){const e=w();m(1),it(e.errorMessage)}}let Cs=(()=>{class t{constructor(){this.fieldId=Gd(),this.label="",this.value=0,this._validator=function(){var e=(0,b.Z)(function*(i){return"number"!=typeof i?"Value is invalid":void 0});return function(i){return e.apply(this,arguments)}}(),this.readonly=!1}set isReadOnly(e){this.readonly=e}set initValue(e){this.value=e}set validator(e){this._validator=function(){var i=(0,b.Z)(function*(r){return"number"!=typeof r?"Value is invalid":e(r)});return function(r){return i.apply(this,arguments)}}()}getValue(){var e=this;return(0,b.Z)(function*(){return e.value})()}validate(){var e=this;return(0,b.Z)(function*(){const i=yield e._validator(yield e.getValue());return e.errorMessage=i,null==i})()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["app-number-input-field"]],inputs:{label:"label",isReadOnly:"isReadOnly",initValue:"initValue",validator:"validator"},decls:5,vars:6,consts:[[1,"m-3"],[1,"form-label",3,"for"],["type","number","id","'input' + fieldId",1,"form-control",3,"ngModel","readonly","disabled","ngModelChange"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(e,i){1&e&&(_(0,"div",0)(1,"label",1),S(2),g(),_(3,"input",2),F("ngModelChange",function(s){return i.value=s}),g(),V(4,ZG,2,1,"p",3),g()),2&e&&(m(1),y("for","input"+i.fieldId),m(1),it(i.label),m(1),y("ngModel",i.value)("readonly",i.readonly)("disabled",i.readonly),m(1),y("ngIf",i.errorMessage))},dependencies:[Jt,Ps,cp,Er,_r]}),t})();const QG=["groupNameComp"],KG=["groupDescriptionComp"];let xA=(()=>{class t{constructor(e){this.managerService=e,this.groupId=-1,this.groupName="",this.groupDescription="",this.groupNameValidator=function(){var i=(0,b.Z)(function*(r){return r.length>0?void 0:"Name cannot be empty"});return function(r){return i.apply(this,arguments)}}(),this.isProcessing=!1}set group(e){this._group=e,this.groupId=this._group.id,this.groupName=this._group.name,this.groupDescription=this._group.description}set configuration(e){this._configuration=e,this.groupId=this._configuration.nextFreeTokenOptionGroupId}get isEditing(){return null!=this._group}getValue(){var e=this;return(0,b.Z)(function*(){if(!e.groupNameCompRef||!e.groupDescriptionCompRef)return;let i=!0;return i&&=(yield e.groupNameCompRef.validate()),i&&=(yield e.groupDescriptionCompRef.validate()),i?[yield e.groupNameCompRef.getValue(),yield e.groupDescriptionCompRef.getValue()]:void 0})()}onSave(){var e=this;return(0,b.Z)(function*(){if(!e._group)return;e.isProcessing=!0;const i=yield e.getValue();null!=i?([e._group.name,e._group.description]=i,yield e.managerService.updateTokenOptionGroupMetadata(e._group),e.isProcessing=!1,e.modalRef?.hide()):e.isProcessing=!1})()}onCreate(){var e=this;return(0,b.Z)(function*(){if(!e._configuration||!e.groupNameCompRef||!e.groupDescriptionCompRef)return;e.isProcessing=!0;const i=yield e.getValue();if(null==i)return void(e.isProcessing=!1);const[r,s]=i;yield e.managerService.addNewTokenOptionGroup(new yt(e._configuration,r,e.groupId,"",s,!1,[])),e.isProcessing=!1,e.modalRef?.hide()})()}}return t.\u0275fac=function(e){return new(e||t)(D(Ar))},t.\u0275cmp=He({type:t,selectors:[["app-token-option-group-management"]],viewQuery:function(e,i){if(1&e&&(he(QG,5),he(KG,5)),2&e){let r;ue(r=ce())&&(i.groupNameCompRef=r.first),ue(r=ce())&&(i.groupDescriptionCompRef=r.first)}},inputs:{group:"group",configuration:"configuration"},decls:15,vars:13,consts:[[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",3,"click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-body"],["label","Group ID",3,"initValue","isReadOnly"],["label","Group Name",3,"initValue","validator"],["groupNameComp",""],["label","Group Description",3,"initValue","rows"],["groupDescriptionComp",""],[1,"modal-footer"],["type","button",1,"btn","mx-2",3,"disabled","click"]],template:function(e,i){1&e&&(_(0,"div",0)(1,"h4",1),S(2),g(),_(3,"button",2),F("click",function(){return null==i.modalRef?null:i.modalRef.hide()}),_(4,"span",3),S(5,"\xd7"),g()()(),_(6,"div",4),Se(7,"app-number-input-field",5)(8,"app-string-input-field",6,7)(10,"app-string-textarea-field",8,9),g(),_(12,"div",10)(13,"button",11),F("click",function(){return i.isEditing?i.onSave():i.onCreate()}),S(14),g()()),2&e&&(m(2),qt("",i.isEditing?"Edit":"Create"," Token Option Group"),m(5),y("initValue",i.groupId)("isReadOnly",!0),m(1),y("initValue",i.groupName)("validator",i.groupNameValidator),m(2),y("initValue",i.groupDescription)("rows",4),m(3),st("btn-outline-success",!i.isEditing)("btn-outline-primary",i.isEditing),y("disabled",i.isProcessing),m(1),qt(" ",i.isEditing?"Save":"Create"," "))},dependencies:[xr,Fr,Cs]}),t})(),nw=(()=>{class t{getDescriptiveName(e){return t.DESCRIPTIVE_NAME_REGISTRY[e]}getRegisteredTokenOptionsDescriptiveNames(){return Object.entries(t.DESCRIPTIVE_NAME_REGISTRY)}canCreateRequestByTeacher(e){return e instanceof Ud}}return t.DESCRIPTIVE_NAME_REGISTRY={basic:"Basic (Always approve; just for testing purpose)","earn-by-quiz":"Earn Tokens by Passing Canvas Quiz","earn-by-module":"Earn Tokens by Passing Canvas Module","earn-by-survey":"Earn Tokens by Taking Qualtrics Survey","spend-for-lab-data":"Spend Tokens for Lab Data","spend-for-assignment-resubmission":"Spend Tokens for Assignment Resubmission","withdraw-assignment-resubmission":"Withdraw Assignment Resubmission Request","withdraw-lab-data":"Withdraw Lab Data Request","spend-for-lab-switch":"Spend Tokens for Switching Lab","withdraw-lab-switch":"Withdraw Lab Switch Request (For Teacher Only)"},t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class Ks{constructor(){this._isReadOnly=!1,this._subFields=[]}set isReadOnly(n){this._isReadOnly=n}get isReadOnly(){return this._isReadOnly}set validator(n){}validate(){var n=this;return(0,b.Z)(function*(){let e=!0;for(const i of n._subFields){const r=yield i.validate();e&&=r}return e})()}addSubField(n){this._subFields.push(n)}}const JG=["idFieldComponent"],XG=["nameFieldComponent"],e7=["descriptionFieldComponent"],t7=["tokenBalanceChangeFieldComponent"];let n7=(()=>{class t extends Ks{set initValue(e){this._value=e}ngOnInit(){if(!(this._value&&this._idField&&this._nameField&&this._descriptionField&&this._tokenBalanceChangeField))throw new Error("Fields are not ready yet!");this.addSubField(this._nameField),this.addSubField(this._descriptionField),this.addSubField(this._tokenBalanceChangeField),this._value instanceof yt?(this._idField.initValue=this._value.configuration.nextFreeTokenOptionId,this._nameField.initValue="",this._descriptionField.initValue="",this._tokenBalanceChangeField.initValue=0):(this._idField.initValue=this._value.id,this._nameField.initValue=this._value.name,this._descriptionField.initValue=this._value.description,this._tokenBalanceChangeField.initValue=this._value.tokenBalanceChange),this._nameField.validator=function(){var e=(0,b.Z)(function*(i){if(0==i.length)return"Token option name cannot be empty"});return function(i){return e.apply(this,arguments)}}()}getValue(){var e=this;return(0,b.Z)(function*(){if(!(e._value&&e._idField&&e._nameField&&e._descriptionField&&e._tokenBalanceChangeField))throw new Error("Value is not ready yet!");return e._value instanceof yt?new Ys(e._value,"basic",yield e._idField.getValue(),yield e._nameField.getValue(),yield e._descriptionField.getValue(),yield e._tokenBalanceChangeField.getValue(),!1):(e._value.name=yield e._nameField.getValue(),e._value.description=yield e._descriptionField.getValue(),e._value.tokenBalanceChange=yield e._tokenBalanceChangeField.getValue(),e._value)})()}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275cmp=He({type:t,selectors:[["app-basic-token-option-field"]],viewQuery:function(e,i){if(1&e&&(he(JG,7),he(XG,7),he(e7,7),he(t7,7)),2&e){let r;ue(r=ce())&&(i._idField=r.first),ue(r=ce())&&(i._nameField=r.first),ue(r=ce())&&(i._descriptionField=r.first),ue(r=ce())&&(i._tokenBalanceChangeField=r.first)}},features:[_t],decls:8,vars:4,consts:[["label","ID",3,"isReadOnly"],["idFieldComponent",""],["label","Name",3,"isReadOnly"],["nameFieldComponent",""],["label","Description",3,"isReadOnly"],["descriptionFieldComponent",""],["label","Token Balance Change",3,"isReadOnly"],["tokenBalanceChangeFieldComponent",""]],template:function(e,i){1&e&&Se(0,"app-number-input-field",0,1)(2,"app-string-input-field",2,3)(4,"app-string-textarea-field",4,5)(6,"app-number-input-field",6,7),2&e&&(y("isReadOnly",!0),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly))},dependencies:[xr,Fr,Cs]}),t})();function Js(t,n){if(cn(2,arguments),"object"!==Ad(n)||null===n)throw new RangeError("values parameter must be an object");var e=Kn(t);return isNaN(e.getTime())?new Date(NaN):(null!=n.year&&e.setFullYear(n.year),null!=n.month&&(e=function s7(t,n){cn(2,arguments);var e=Kn(t),i=Ii(n),r=e.getFullYear(),s=e.getDate(),o=new Date(0);o.setFullYear(r,i,15),o.setHours(0,0,0,0);var a=function r7(t){cn(1,arguments);var n=Kn(t),e=n.getFullYear(),i=n.getMonth(),r=new Date(0);return r.setFullYear(e,i+1,0),r.setHours(0,0,0,0),r.getDate()}(o);return e.setMonth(i,Math.min(s,a)),e}(e,n.month)),null!=n.date&&e.setDate(Ii(n.date)),null!=n.hours&&e.setHours(Ii(n.hours)),null!=n.minutes&&e.setMinutes(Ii(n.minutes)),null!=n.seconds&&e.setSeconds(Ii(n.seconds)),null!=n.milliseconds&&e.setMilliseconds(Ii(n.milliseconds)),e)}function FA(t){return pt((n,e)=>{R(t).subscribe(Xe(e,()=>e.complete(),B)),!e.closed&&n.subscribe(e)})}function iw(t,n=Oe){return t=t??o7,pt((e,i)=>{let r,s=!0;e.subscribe(Xe(i,o=>{const a=n(o);(s||!t(r,a))&&(s=!1,r=a,i.next(o))}))})}function o7(t,n){return t===n}function el(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function or(t){return"string"==typeof t}function Cm(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function ya(t){return t&&t.getTime&&!isNaN(t.getTime())}function tl(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function nl(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function En(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function Wi(t,n){return Object.prototype.hasOwnProperty.call(t,n)}function il(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function NA(t){return void 0===t}function St(t){const n=+t;let e=0;return 0!==n&&isFinite(n)&&(e=el(n)),e}const Kd={},LA={date:"day",hour:"hours",minute:"minutes",second:"seconds",millisecond:"milliseconds"};function Gi(t,n){const e=t.toLowerCase();let i=t;e in LA&&(i=LA[e]),Kd[e]=Kd[`${e}s`]=Kd[n]=i}function PA(t){return or(t)?Kd[t]||Kd[t.toLowerCase()]:void 0}const Ds=0,Vo=1,Xs=2,pi=3,Ts=4,Bo=5,rl=6,c7=7,d7=8;function Ho(t,n,e){const i=`${Math.abs(t)}`;return(t>=0?e?"+":"":"-")+Math.pow(10,Math.max(0,n-i.length)).toString().substr(1)+i}const rw={},Yu={},VA=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;function ot(t,n,e,i){t&&(Yu[t]=i),n&&(Yu[n[0]]=function(){return Ho(i.apply(null,arguments),n[1],n[2])}),e&&(Yu[e]=function(r,s){return s.locale.ordinal(i.apply(null,arguments),t)})}function h7(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function Dm(t,n,e){const i=new Date(Date.UTC.apply(null,arguments));return t<100&&t>=0&&isFinite(i.getUTCFullYear())&&i.setUTCFullYear(t),i}function Tm(t,n=0,e=1,i=0,r=0,s=0,o=0){const a=new Date(t,n,e,i,r,s,o);return t<100&&t>=0&&isFinite(a.getFullYear())&&a.setFullYear(t),a}function Et(t,n=!1){return n?t.getUTCHours():t.getHours()}function zu(t,n=!1){return n?t.getUTCMinutes():t.getMinutes()}function sw(t,n=!1){return n?t.getUTCSeconds():t.getSeconds()}function $o(t,n=!1){return n?t.getUTCMilliseconds():t.getMilliseconds()}function eo(t,n=!1){return n?t.getUTCDay():t.getDay()}function sl(t,n=!1){return n?t.getUTCDate():t.getDate()}function Ot(t,n=!1){return n?t.getUTCMonth():t.getMonth()}function xn(t,n=!1){return n?t.getUTCFullYear():t.getFullYear()}function qu(t,n){return!(!t||!n)&&Wu(t,n)&&Ot(t)===Ot(n)}function Wu(t,n){return!(!t||!n)&&xn(t)===xn(n)}function va(t,n){return!(!t||!n)&&Wu(t,n)&&qu(t,n)&&sl(t)===sl(n)}const BA=/\d/,Nr=/\d\d/,HA=/\d{3}/,ow=/\d{4}/,km=/[+-]?\d{6}/,bn=/\d\d?/,$A=/\d\d\d\d?/,jA=/\d\d\d\d\d\d?/,Mm=/\d{1,3}/,aw=/\d{1,4}/,Sm=/[+-]?\d{1,6}/,v7=/\d+/,Em=/[+-]?\d+/,Om=/Z|[+-]\d\d(?::?\d\d)?/gi,w7=/[+-]?\d+(\.\d{1,3})?/,Jd=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Im={};function $e(t,n,e){Im[t]=tl(n)?n:function(i,r){return i&&e?e:n}}function C7(t,n){return Wi(Im,t)?Im[t](!1,n):new RegExp(function D7(t){return ol(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(n,e,i,r,s)=>e||i||r||s))}(t))}function ol(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}const lw={};function wn(t,n){const e=or(t)?[t]:t;let i=n;if(nl(n)&&(i=function(r,s,o){return s[n]=St(r),o}),En(e)&&tl(i)){let r;for(r=0;r<e.length;r++)lw[e[r]]=i}}function Xd(t,n){wn(t,function(e,i,r,s){return r._w=r._w||{},n(e,r._w,r,s)})}function T7(t,n,e){return null!=n&&Wi(lw,t)&&lw[t](n,e._a,e,t),e}const k7={};function Zi(t,n){k7[t]=n}function Vt(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function uw(t,n){return n.locale.getFullYear?n.locale.getFullYear(t,n.isUTC).toString():xn(t,n.isUTC).toString()}function cw(t){return St(t)+(St(t)>68?1900:2e3)}function ef(t){return dw(t)?366:365}function dw(t){return t%4==0&&t%100!=0||t%400==0}function Am(t,n){if(isNaN(t)||isNaN(n))return NaN;const e=function a7(t,n){return(t%n+n)%n}(n,12);return 1===e?dw(t+(n-e)/12)?29:28:31-e%7%2}const I7={year:0,month:0,day:0,hour:0,minute:0,seconds:0};function bi(t,n){const e=Object.assign({},I7,n),i=t.getFullYear()+(e.year||0),r=t.getMonth()+(e.month||0);let s=t.getDate()+(e.day||0);return e.month&&!e.day&&(s=Math.min(s,Am(i,r))),Tm(i,r,s,t.getHours()+(e.hour||0),t.getMinutes()+(e.minute||0),t.getSeconds()+(e.seconds||0))}function Gu(t,n){return nl(n)?n:t}function al(t,n,e){const i=Math.min(sl(t),Am(xn(t),n));return e?t.setUTCMonth(n,i):t.setMonth(n,i),t}function fw(t,n,e){return e?t.setUTCDate(n):t.setDate(n),t}function jo(t){return new Date(t.getTime())}function Uo(t,n,e){const i=jo(t);switch(n){case"year":al(i,0,e);case"quarter":case"month":fw(i,1,e);case"week":case"isoWeek":case"day":case"date":!function x7(t,n,e){e?t.setUTCHours(n):t.setHours(n)}(i,0,e);case"hours":!function F7(t,n,e){e?t.setUTCMinutes(n):t.setMinutes(n)}(i,0,e);case"minutes":!function N7(t,n,e){e?t.setUTCSeconds(n):t.setSeconds(n)}(i,0,e);case"seconds":!function L7(t,n,e){e?t.setUTCMilliseconds(n):t.setMilliseconds(n)}(i,0,e)}return"week"===n&&function Z9(t,n,e={}){io(t,n-kw(t,e.locale,e.isUTC),"day")}(i,0,{isUTC:e}),"isoWeek"===n&&function Q9(t,n,e={}){const i=function G9(t,n=mi()){return or(t)?n.weekdaysParse(t)%7||7:nl(t)&&isNaN(t)?null:t}(n,e.locale);af(t,function ti(t,n){return eo(t,n)}(t)%7?i:i-7)}(i,1),"quarter"===n&&al(i,3*Math.floor(Ot(i,e)/3),e),i}function Rm(t,n,e){let i=n;return"date"===i&&(i="day"),function z9(t,n,e,i){return mR(t,Tw(n,e),-1,i)}(io(Uo(t,i,e),1,"isoWeek"===i?"week":i,e),1,"milliseconds",e)}function hw(t,n){const e=+Uo(t,"day",n),i=+Uo(t,"year",n);return Math.round((e-i)/864e5)+1}function xm(t,n,e){const i=n-e+7;return-(Dm(t,0,i).getUTCDay()-n+7)%7+i-1}function Zu(t,n,e,i){const r=xm(xn(t,i),n,e),s=Math.floor((hw(t,i)-r-1)/7)+1;let o,a;return s<1?(a=xn(t,i)-1,o=s+ll(a,n,e)):s>ll(xn(t,i),n,e)?(o=s-ll(xn(t,i),n,e),a=xn(t,i)+1):(a=xn(t,i),o=s),{week:o,year:a}}function ll(t,n,e){const i=xm(t,n,e),r=xm(t+1,n,e);return(ef(t)-i+r)/7}const YA=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,B7="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),zA="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),H7="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),qA="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),$7="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),WA={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Y7=Jd,z7=Jd;class GA{constructor(n){n&&this.set(n)}set(n){let e;for(e in n){if(!n.hasOwnProperty(e))continue;const i=n[e];this[tl(i)?e:`_${e}`]=i}this._config=n}calendar(n,e,i){const r=this._calendar[n]||this._calendar.sameElse;return tl(r)?r.call(null,e,i):r}longDateFormat(n){const e=this._longDateFormat[n],i=this._longDateFormat[n.toUpperCase()];return e||!i?e:(this._longDateFormat[n]=i.replace(/MMMM|MM|DD|dddd/g,function(r){return r.slice(1)}),this._longDateFormat[n])}get invalidDate(){return this._invalidDate}set invalidDate(n){this._invalidDate=n}ordinal(n,e){return this._ordinal.replace("%d",n.toString(10))}preparse(n,e){return n}getFullYear(n,e=!1){return xn(n,e)}postformat(n){return n}relativeTime(n,e,i,r){const s=this._relativeTime[i];return tl(s)?s(n,e,i,r):s.replace(/%d/i,n.toString(10))}pastFuture(n,e){const i=this._relativeTime[n>0?"future":"past"];return tl(i)?i(e):i.replace(/%s/i,e)}months(n,e,i=!1){if(!n)return En(this._months)?this._months:this._months.standalone;if(En(this._months))return this._months[Ot(n,i)];const r=(this._months.isFormat||YA).test(e)?"format":"standalone";return this._months[r][Ot(n,i)]}monthsShort(n,e,i=!1){if(!n)return En(this._monthsShort)?this._monthsShort:this._monthsShort.standalone;if(En(this._monthsShort))return this._monthsShort[Ot(n,i)];const r=YA.test(e)?"format":"standalone";return this._monthsShort[r][Ot(n,i)]}monthsParse(n,e,i){let r,s,o;if(this._monthsParseExact)return this.handleMonthStrictParse(n,e,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),o=0;o<12;o++){if(r=new Date(Date.UTC(2e3,o)),i&&!this._longMonthsParse[o]){const a=this.months(r,"",!0).replace(".",""),l=this.monthsShort(r,"",!0).replace(".","");this._longMonthsParse[o]=new RegExp(`^${a}$`,"i"),this._shortMonthsParse[o]=new RegExp(`^${l}$`,"i")}if(!i&&!this._monthsParse[o]&&(s=`^${this.months(r,"",!0)}|^${this.monthsShort(r,"",!0)}`,this._monthsParse[o]=new RegExp(s.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[o].test(n)||i&&"MMM"===e&&this._shortMonthsParse[o].test(n)||!i&&this._monthsParse[o].test(n))return o}}monthsRegex(n){return this._monthsParseExact?(Wi(this,"_monthsRegex")||this.computeMonthsParse(),n?this._monthsStrictRegex:this._monthsRegex):(Wi(this,"_monthsRegex")||(this._monthsRegex=z7),this._monthsStrictRegex&&n?this._monthsStrictRegex:this._monthsRegex)}monthsShortRegex(n){return this._monthsParseExact?(Wi(this,"_monthsRegex")||this.computeMonthsParse(),n?this._monthsShortStrictRegex:this._monthsShortRegex):(Wi(this,"_monthsShortRegex")||(this._monthsShortRegex=Y7),this._monthsShortStrictRegex&&n?this._monthsShortStrictRegex:this._monthsShortRegex)}week(n,e){return Zu(n,this._week.dow,this._week.doy,e).week}firstDayOfWeek(){return this._week.dow}firstDayOfYear(){return this._week.doy}weekdays(n,e,i){if(!n)return En(this._weekdays)?this._weekdays:this._weekdays.standalone;if(En(this._weekdays))return this._weekdays[eo(n,i)];const r=this._weekdays.isFormat.test(e)?"format":"standalone";return this._weekdays[r][eo(n,i)]}weekdaysMin(n,e,i){return n?this._weekdaysMin[eo(n,i)]:this._weekdaysMin}weekdaysShort(n,e,i){return n?this._weekdaysShort[eo(n,i)]:this._weekdaysShort}weekdaysParse(n,e,i){let r,s;if(this._weekdaysParseExact)return this.handleWeekStrictParse(n,e,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){const o=af(new Date(Date.UTC(2e3,1)),r,null,!0);if(i&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp(`^${this.weekdays(o,"",!0).replace(".",".?")}$`,"i"),this._shortWeekdaysParse[r]=new RegExp(`^${this.weekdaysShort(o,"",!0).replace(".",".?")}$`,"i"),this._minWeekdaysParse[r]=new RegExp(`^${this.weekdaysMin(o,"",!0).replace(".",".?")}$`,"i")),this._weekdaysParse[r]||(s=`^${this.weekdays(o,"",!0)}|^${this.weekdaysShort(o,"",!0)}|^${this.weekdaysMin(o,"",!0)}`,this._weekdaysParse[r]=new RegExp(s.replace(".",""),"i")),!(En(this._fullWeekdaysParse)&&En(this._shortWeekdaysParse)&&En(this._minWeekdaysParse)&&En(this._weekdaysParse)))return;if(i&&"dddd"===e&&this._fullWeekdaysParse[r].test(n))return r;if(i&&"ddd"===e&&this._shortWeekdaysParse[r].test(n))return r;if(i&&"dd"===e&&this._minWeekdaysParse[r].test(n))return r;if(!i&&this._weekdaysParse[r].test(n))return r}}weekdaysRegex(n){return this._weekdaysParseExact?(Wi(this,"_weekdaysRegex")||this.computeWeekdaysParse(),n?this._weekdaysStrictRegex:this._weekdaysRegex):(Wi(this,"_weekdaysRegex")||(this._weekdaysRegex=Jd),this._weekdaysStrictRegex&&n?this._weekdaysStrictRegex:this._weekdaysRegex)}weekdaysShortRegex(n){return this._weekdaysParseExact?(Wi(this,"_weekdaysRegex")||this.computeWeekdaysParse(),n?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Wi(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Jd),this._weekdaysShortStrictRegex&&n?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}weekdaysMinRegex(n){return this._weekdaysParseExact?(Wi(this,"_weekdaysRegex")||this.computeWeekdaysParse(),n?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Wi(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Jd),this._weekdaysMinStrictRegex&&n?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}isPM(n){return"p"===n.toLowerCase().charAt(0)}meridiem(n,e,i){return n>11?i?"pm":"PM":i?"am":"AM"}formatLongDate(n){this._longDateFormat=this._longDateFormat?this._longDateFormat:WA;const e=this._longDateFormat[n],i=this._longDateFormat[n.toUpperCase()];return e||!i?e:(this._longDateFormat[n]=i.replace(/MMMM|MM|DD|dddd/g,r=>r.slice(1)),this._longDateFormat[n])}handleMonthStrictParse(n,e,i){const r=n.toLocaleLowerCase();let s,o,a;if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;s<12;++s)a=new Date(2e3,s),this._shortMonthsParse[s]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(a,"").toLocaleLowerCase();return i?"MMM"===e?(o=this._shortMonthsParse.indexOf(r),-1!==o?o:null):(o=this._longMonthsParse.indexOf(r),-1!==o?o:null):"MMM"===e?(o=this._shortMonthsParse.indexOf(r),-1!==o?o:(o=this._longMonthsParse.indexOf(r),-1!==o?o:null)):(o=this._longMonthsParse.indexOf(r),-1!==o?o:(o=this._shortMonthsParse.indexOf(r),-1!==o?o:null))}handleWeekStrictParse(n,e,i){let r;const s=n.toLocaleLowerCase();if(!this._weekdaysParse){let o;for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],o=0;o<7;++o){const a=af(new Date(Date.UTC(2e3,1)),o,null,!0);this._minWeekdaysParse[o]=this.weekdaysMin(a).toLocaleLowerCase(),this._shortWeekdaysParse[o]=this.weekdaysShort(a).toLocaleLowerCase(),this._weekdaysParse[o]=this.weekdays(a,"").toLocaleLowerCase()}}if(En(this._weekdaysParse)&&En(this._shortWeekdaysParse)&&En(this._minWeekdaysParse))return i?"dddd"===e?(r=this._weekdaysParse.indexOf(s),-1!==r?r:null):"ddd"===e?(r=this._shortWeekdaysParse.indexOf(s),-1!==r?r:null):(r=this._minWeekdaysParse.indexOf(s),-1!==r?r:null):"dddd"===e?(r=this._weekdaysParse.indexOf(s),-1!==r||(r=this._shortWeekdaysParse.indexOf(s),-1!==r)?r:(r=this._minWeekdaysParse.indexOf(s),-1!==r?r:null)):"ddd"===e?(r=this._shortWeekdaysParse.indexOf(s),-1!==r||(r=this._weekdaysParse.indexOf(s),-1!==r)?r:(r=this._minWeekdaysParse.indexOf(s),-1!==r?r:null)):(r=this._minWeekdaysParse.indexOf(s),-1!==r||(r=this._weekdaysParse.indexOf(s),-1!==r)?r:(r=this._shortWeekdaysParse.indexOf(s),-1!==r?r:null))}computeMonthsParse(){const n=[],e=[],i=[];let r,s;for(s=0;s<12;s++)r=new Date(2e3,s),n.push(this.monthsShort(r,"")),e.push(this.months(r,"")),i.push(this.months(r,"")),i.push(this.monthsShort(r,""));for(n.sort(ul),e.sort(ul),i.sort(ul),s=0;s<12;s++)n[s]=ol(n[s]),e[s]=ol(e[s]);for(s=0;s<24;s++)i[s]=ol(i[s]);this._monthsRegex=new RegExp(`^(${i.join("|")})`,"i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp(`^(${e.join("|")})`,"i"),this._monthsShortStrictRegex=new RegExp(`^(${n.join("|")})`,"i")}computeWeekdaysParse(){const n=[],e=[],i=[],r=[];let s;for(s=0;s<7;s++){const o=af(new Date(Date.UTC(2e3,1)),s,null,!0),a=this.weekdaysMin(o),l=this.weekdaysShort(o),u=this.weekdays(o);n.push(a),e.push(l),i.push(u),r.push(a),r.push(l),r.push(u)}for(n.sort(ul),e.sort(ul),i.sort(ul),r.sort(ul),s=0;s<7;s++)e[s]=ol(e[s]),i[s]=ol(i[s]),r[s]=ol(r[s]);this._weekdaysRegex=new RegExp(`^(${r.join("|")})`,"i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp(`^(${i.join("|")})`,"i"),this._weekdaysShortStrictRegex=new RegExp(`^(${e.join("|")})`,"i"),this._weekdaysMinStrictRegex=new RegExp(`^(${n.join("|")})`,"i")}}function ul(t,n){return n.length-t.length}const ZA={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:WA,invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:B7,monthsShort:zA,week:{dow:0,doy:6},weekdays:H7,weekdaysMin:$7,weekdaysShort:qA,meridiemParse:/[ap]\.?m?\.?/i};function q7(t,n,e){const i=Math.min(t.length,n.length),r=Math.abs(t.length-n.length);let o,s=0;for(o=0;o<i;o++)(e&&t[o]!==n[o]||!e&&St(t[o])!==St(n[o]))&&s++;return s+r}function Fm(t,n){ot(null,[t,t.length,!1],null,n)}function QA(t,n){return mw(t,n.locale).toString()}function KA(t){return JA(t).toString()}function mw(t,n=mi(),e){return Zu(t,n.firstDayOfWeek(),n.firstDayOfYear(),e).year}function JA(t,n){return Zu(t,1,4,n).year}function eR(t,n){ot(t,null,null,function(e,i){let r=function dl(t,n={}){return n._isUTC?n._offset||0:function tR(t){return 15*-Math.round(t.getTimezoneOffset()/15)}(t)}(e,{_isUTC:i.isUTC,_offset:i.offset}),s="+";return r<0&&(r=-r,s="-"),s+Ho(~~(r/60),2)+n+Ho(~~r%60,2)})}const n9=/([\+\-]|\d\d)/gi;const wi={},tf={};let nf;function nR(t){return t&&t.toLowerCase().replace("_","-")}function rR(t){return wi[t]||console.error(`Khronos locale error: please load locale "${t}" before using it`),wi[t]}function gw(t,n){let e;return t&&(NA(n)?e=mi(t):or(t)&&(e=sR(t,n)),e&&(nf=e)),nf&&nf._abbr}function sR(t,n){if(null===n)return delete wi[t],nf=mi("en"),null;if(!n)return;let e=ZA;if(n.abbr=t,null!=n.parentLocale){if(null==wi[n.parentLocale])return tf[n.parentLocale]||(tf[n.parentLocale]=[]),tf[n.parentLocale].push({name:t,config:n}),null;e=wi[n.parentLocale]._config}return wi[t]=new GA(function iR(t,n){const e=Object.assign({},t);for(const i in n)Wi(n,i)&&(il(t[i])&&il(n[i])?(e[i]={},Object.assign(e[i],t[i]),Object.assign(e[i],n[i])):null!=n[i]?e[i]=n[i]:delete e[i]);for(const i in t)Wi(t,i)&&!Wi(n,i)&&il(t[i])&&(e[i]=Object.assign({},e[i]));return e}(e,n)),tf[t]&&tf[t].forEach(function(i){sR(i.name,i.config)}),gw(t),wi[t]}function mi(t){return function l9(){wi.en||(gw("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal(t){const n=t%10;return t+(1===St(t%100/10)?"th":1===n?"st":2===n?"nd":3===n?"rd":"th")}}),function W7(){ot("w",["ww",2,!1],"wo",function(t,n){return function cl(t,n=mi(),e){return n.week(t,e)}(t,n.locale).toString(10)}),ot("W",["WW",2,!1],"Wo",function(t){return function pw(t,n){return Zu(t,1,4,n).week}(t).toString(10)}),Gi("week","w"),Gi("isoWeek","W"),Zi("week",5),Zi("isoWeek",5),$e("w",bn),$e("ww",bn,Nr),$e("W",bn),$e("WW",bn,Nr),Xd(["w","ww","W","WW"],function(t,n,e,i){return n[i.substr(0,1)]=St(t),e})}(),function G7(){ot(null,["gg",2,!1],null,function(t,n){return(mw(t,n.locale)%100).toString()}),ot(null,["GG",2,!1],null,function(t){return(JA(t)%100).toString()}),Fm("gggg",QA),Fm("ggggg",QA),Fm("GGGG",KA),Fm("GGGGG",KA),Gi("weekYear","gg"),Gi("isoWeekYear","GG"),Zi("weekYear",1),Zi("isoWeekYear",1),$e("G",Em),$e("g",Em),$e("GG",bn,Nr),$e("gg",bn,Nr),$e("GGGG",aw,ow),$e("gggg",aw,ow),$e("GGGGG",Sm,km),$e("ggggg",Sm,km),Xd(["gggg","ggggg","GGGG","GGGGG"],function(t,n,e,i){return n[i.substr(0,2)]=St(t),e}),Xd(["gg","GG"],function(t,n,e,i){return n[i]=cw(t),e})}(),function E7(){ot("Y",null,null,function(t,n){const e=xn(t,n.isUTC);return e<=9999?e.toString(10):`+${e}`}),ot(null,["YY",2,!1],null,function(t,n){return(xn(t,n.isUTC)%100).toString(10)}),ot(null,["YYYY",4,!1],null,uw),ot(null,["YYYYY",5,!1],null,uw),ot(null,["YYYYYY",6,!0],null,uw),Gi("year","y"),Zi("year",1),$e("Y",Em),$e("YY",bn,Nr),$e("YYYY",aw,ow),$e("YYYYY",Sm,km),$e("YYYYYY",Sm,km),wn(["YYYYY","YYYYYY"],Ds),wn("YYYY",function(t,n,e){return n[Ds]=2===t.length?cw(t):St(t),e}),wn("YY",function(t,n,e){return n[Ds]=cw(t),e}),wn("Y",function(t,n,e){return n[Ds]=parseInt(t,10),e})}(),function Q7(){ot("z",null,null,function(t,n){return n.isUTC?"UTC":""}),ot("zz",null,null,function(t,n){return n.isUTC?"Coordinated Universal Time":""})}(),function K7(){ot("X",null,null,function(t){return function m7(t){return Math.floor(t.valueOf()/1e3)}(t).toString(10)}),ot("x",null,null,function(t){return t.valueOf().toString(10)}),$e("x",Em),$e("X",w7),wn("X",function(t,n,e){return e._d=new Date(1e3*parseFloat(t)),e}),wn("x",function(t,n,e){return e._d=new Date(St(t)),e})}(),function J7(){ot("s",["ss",2,!1],null,function(t,n){return sw(t,n.isUTC).toString(10)}),Gi("second","s"),Zi("second",15),$e("s",bn),$e("ss",bn,Nr),wn(["s","ss"],Bo)}(),function X7(){ot("Q",null,"Qo",function(t,n){return function e9(t,n=!1){return Math.ceil((Ot(t,n)+1)/3)}(t,n.isUTC).toString(10)}),Gi("quarter","Q"),Zi("quarter",7),$e("Q",BA),wn("Q",function(t,n,e){return n[Vo]=3*(St(t)-1),e})}(),function t9(){eR("Z",":"),eR("ZZ",""),$e("Z",Om),$e("ZZ",Om),wn(["Z","ZZ"],function(t,n,e){return e._useUTC=!0,e._tzm=function _w(t,n){const e=(n||"").match(t);if(null===e)return null;const r=e[e.length-1].match(n9)||["-","0","0"],s=60*parseInt(r[1],10)+St(r[2]);return 0===s?0:"+"===r[0]?s:-s}(Om,t),e})}(),function O7(){ot("M",["MM",2,!1],"Mo",function(t,n){return(Ot(t,n.isUTC)+1).toString(10)}),ot("MMM",null,null,function(t,n){return n.locale.monthsShort(t,n.format,n.isUTC)}),ot("MMMM",null,null,function(t,n){return n.locale.months(t,n.format,n.isUTC)}),Gi("month","M"),Zi("month",8),$e("M",bn),$e("MM",bn,Nr),$e("MMM",function(t,n){return n.monthsShortRegex(t)}),$e("MMMM",function(t,n){return n.monthsRegex(t)}),wn(["M","MM"],function(t,n,e){return n[Vo]=St(t)-1,e}),wn(["MMM","MMMM"],function(t,n,e,i){const r=e._locale.monthsParse(t,i,e._strict);return null!=r?n[Vo]=r:Vt(e).invalidMonth=!!t,e})}(),function r9(){ot("m",["mm",2,!1],null,function(t,n){return zu(t,n.isUTC).toString(10)}),Gi("minute","m"),Zi("minute",14),$e("m",bn),$e("mm",bn,Nr),wn(["m","mm"],Ts)}(),function s9(){let t;for(ot("S",null,null,function(e,i){return(~~($o(e,i.isUTC)/100)).toString(10)}),ot(null,["SS",2,!1],null,function(e,i){return(~~($o(e,i.isUTC)/10)).toString(10)}),ot(null,["SSS",3,!1],null,function(e,i){return $o(e,i.isUTC).toString(10)}),ot(null,["SSSS",4,!1],null,function(e,i){return(10*$o(e,i.isUTC)).toString(10)}),ot(null,["SSSSS",5,!1],null,function(e,i){return(100*$o(e,i.isUTC)).toString(10)}),ot(null,["SSSSSS",6,!1],null,function(e,i){return(1e3*$o(e,i.isUTC)).toString(10)}),ot(null,["SSSSSSS",7,!1],null,function(e,i){return(1e4*$o(e,i.isUTC)).toString(10)}),ot(null,["SSSSSSSS",8,!1],null,function(e,i){return(1e5*$o(e,i.isUTC)).toString(10)}),ot(null,["SSSSSSSSS",9,!1],null,function(e,i){return(1e6*$o(e,i.isUTC)).toString(10)}),Gi("millisecond","ms"),Zi("millisecond",16),$e("S",Mm,BA),$e("SS",Mm,Nr),$e("SSS",Mm,HA),t="SSSS";t.length<=9;t+="S")$e(t,v7);function n(e,i,r){return i[rl]=St(1e3*parseFloat(`0.${e}`)),r}for(t="S";t.length<=9;t+="S")wn(t,n)}(),function o9(){function t(r,s){return Et(r,s)%12||12}function e(r,s){ot(r,null,null,function(o,a){return a.locale.meridiem(Et(o,a.isUTC),zu(o,a.isUTC),s)})}function i(r,s){return s._meridiemParse}ot("H",["HH",2,!1],null,function(r,s){return Et(r,s.isUTC).toString(10)}),ot("h",["hh",2,!1],null,function(r,s){return t(r,s.isUTC).toString(10)}),ot("k",["kk",2,!1],null,function(r,s){return function n(r,s){return Et(r,s)||24}(r,s.isUTC).toString(10)}),ot("hmm",null,null,function(r,s){return`${t(r,s.isUTC)}${Ho(zu(r,s.isUTC),2)}`}),ot("hmmss",null,null,function(r,s){return`${t(r,s.isUTC)}${Ho(zu(r,s.isUTC),2)}${Ho(sw(r,s.isUTC),2)}`}),ot("Hmm",null,null,function(r,s){return`${Et(r,s.isUTC)}${Ho(zu(r,s.isUTC),2)}`}),ot("Hmmss",null,null,function(r,s){return`${Et(r,s.isUTC)}${Ho(zu(r,s.isUTC),2)}${Ho(sw(r,s.isUTC),2)}`}),e("a",!0),e("A",!1),Gi("hour","h"),Zi("hour",13),$e("a",i),$e("A",i),$e("H",bn),$e("h",bn),$e("k",bn),$e("HH",bn,Nr),$e("hh",bn,Nr),$e("kk",bn,Nr),$e("hmm",$A),$e("hmmss",jA),$e("Hmm",$A),$e("Hmmss",jA),wn(["H","HH"],pi),wn(["k","kk"],function(r,s,o){const a=St(r);return s[pi]=24===a?0:a,o}),wn(["a","A"],function(r,s,o){return o._isPm=o._locale.isPM(r),o._meridiem=r,o}),wn(["h","hh"],function(r,s,o){return s[pi]=St(r),Vt(o).bigHour=!0,o}),wn("hmm",function(r,s,o){const a=r.length-2;return s[pi]=St(r.substr(0,a)),s[Ts]=St(r.substr(a)),Vt(o).bigHour=!0,o}),wn("hmmss",function(r,s,o){const a=r.length-4,l=r.length-2;return s[pi]=St(r.substr(0,a)),s[Ts]=St(r.substr(a,2)),s[Bo]=St(r.substr(l)),Vt(o).bigHour=!0,o}),wn("Hmm",function(r,s,o){const a=r.length-2;return s[pi]=St(r.substr(0,a)),s[Ts]=St(r.substr(a)),o}),wn("Hmmss",function(r,s,o){const a=r.length-4,l=r.length-2;return s[pi]=St(r.substr(0,a)),s[Ts]=St(r.substr(a,2)),s[Bo]=St(r.substr(l)),o})}(),function V7(){ot("DDD",["DDDD",3,!1],"DDDo",function(t){return hw(t).toString(10)}),Gi("dayOfYear","DDD"),Zi("dayOfYear",4),$e("DDD",Mm),$e("DDDD",HA),wn(["DDD","DDDD"],function(t,n,e){return e._dayOfYear=St(t),e})}(),function q9(){ot("d",null,"do",function(t,n){return eo(t,n.isUTC).toString(10)}),ot("dd",null,null,function(t,n){return n.locale.weekdaysMin(t,n.format,n.isUTC)}),ot("ddd",null,null,function(t,n){return n.locale.weekdaysShort(t,n.format,n.isUTC)}),ot("dddd",null,null,function(t,n){return n.locale.weekdays(t,n.format,n.isUTC)}),ot("e",null,null,function(t,n){return kw(t,n.locale,n.isUTC).toString(10)}),ot("E",null,null,function(t,n){return function _R(t,n){return eo(t,n)||7}(t,n.isUTC).toString(10)}),Gi("day","d"),Gi("weekday","e"),Gi("isoWeekday","E"),Zi("day",11),Zi("weekday",11),Zi("isoWeekday",11),$e("d",bn),$e("e",bn),$e("E",bn),$e("dd",function(t,n){return n.weekdaysMinRegex(t)}),$e("ddd",function(t,n){return n.weekdaysShortRegex(t)}),$e("dddd",function(t,n){return n.weekdaysRegex(t)}),Xd(["dd","ddd","dddd"],function(t,n,e,i){const r=e._locale.weekdaysParse(t,i,e._strict);return null!=r?n.d=r:Vt(e).invalidWeekday=!!t,e}),Xd(["d","e","E"],function(t,n,e,i){return n[i]=St(t),e})}(),function M7(){ot("D",["DD",2,!1],"Do",function(t,n){return sl(t,n.isUTC).toString(10)}),Gi("date","D"),Zi("date",9),$e("D",bn),$e("DD",bn,Nr),$e("Do",function(t,n){return n._dayOfMonthOrdinalParse||n._ordinalParse}),wn(["D","DD"],Xs),wn("Do",function(t,n,e){return n[Xs]=St(t.match(bn)[0]),e})}())}(),t?function a9(t){let n,e,i=0;for(;i<t.length;){const r=nR(t[i]).split("-");let s=r.length;for(n=nR(t[i+1]),n=n?n.split("-"):null;s>0;){if(e=rR(r.slice(0,s).join("-")),e)return e;if(n&&n.length>=s&&q7(r,n,!0)>=s-1)break;s--}i++}return null}(En(t)?t:[t]):nf}const rf=["year","quarter","month","week","day","hours","minutes","seconds","milliseconds"],u9=rf.reduce((t,n)=>(t[n]=!0,t),{});function oR(t){return t<0?Math.floor(t):Math.ceil(t)}function aR(t){return 4800*t/146097}function yw(t){return 146097*t/4800}let ba=Math.round;const to_ss=44,to_s=45,to_m=45,to_h=22,to_d=26,to_M=11;function f9(t,n,e,i,r){return r.relativeTime(n||1,!!e,t,i)}class lR{constructor(n,e={}){this._data={},this._locale=mi(),this._locale=e&&e._locale||mi();const r=n.year||0,s=n.quarter||0,o=n.month||0,a=n.week||0,l=n.day||0,u=n.hours||0,c=n.minutes||0,d=n.seconds||0,f=n.milliseconds||0;return this._isValid=function c9(t){if(Object.keys(t).some(i=>i in u9&&null===t[i]||isNaN(t[i])))return!1;let e=!1;for(let i=0;i<rf.length;++i)if(t[rf[i]]){if(e)return!1;t[rf[i]]!==St(t[rf[i]])&&(e=!0)}return!0}(n),this._milliseconds=+f+1e3*d+60*c*1e3+1e3*u*60*60,this._days=+l+7*a,this._months=+o+3*s+12*r,function d9(t){let n=t._milliseconds,e=t._days,i=t._months;const r=t._data;n>=0&&e>=0&&i>=0||n<=0&&e<=0&&i<=0||(n+=864e5*oR(yw(i)+e),e=0,i=0),r.milliseconds=n%1e3;const s=el(n/1e3);r.seconds=s%60;const o=el(s/60);r.minutes=o%60;const a=el(o/60);r.hours=a%24,e+=el(a/24);const l=el(aR(e));i+=l,e-=oR(yw(l));const u=el(i/12);return i%=12,r.day=e,r.month=i,r.year=u,t}(this)}isValid(){return this._isValid}humanize(n){if(!this.isValid())return this.localeData().invalidDate;const e=this.localeData();let i=function h9(t,n,e){const i=Tw(t).abs(),r=ba(i.as("s")),s=ba(i.as("m")),o=ba(i.as("h")),a=ba(i.as("d")),l=ba(i.as("M")),u=ba(i.as("y")),c=r<=to_ss&&["s",r]||r<to_s&&["ss",r]||s<=1&&["m"]||s<to_m&&["mm",s]||o<=1&&["h"]||o<to_h&&["hh",o]||a<=1&&["d"]||a<to_d&&["dd",a]||l<=1&&["M"]||l<to_M&&["MM",l]||u<=1&&["y"]||["yy",u];return f9.apply(null,[c[0],c[1],n,+t>0,e])}(this,!n,e);return n&&(i=e.pastFuture(+this,i)),e.postformat(i)}localeData(){return this._locale}locale(n){return n?(this._locale=mi(n)||this._locale,this):this._locale._abbr}abs(){const n=Math.abs,e=this._data;return this._milliseconds=n(this._milliseconds),this._days=n(this._days),this._months=n(this._months),e.milliseconds=n(e.milliseconds),e.seconds=n(e.seconds),e.minutes=n(e.minutes),e.hours=n(e.hours),e.month=n(e.month),e.year=n(e.year),this}as(n){if(!this.isValid())return NaN;let e,i;const r=this._milliseconds,s=PA(n);if("month"===s||"year"===s)return e=this._days+r/864e5,i=this._months+aR(e),"month"===s?i:i/12;switch(e=this._days+Math.round(yw(this._months)),s){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hours":return 24*e+r/36e5;case"minutes":return 1440*e+r/6e4;case"seconds":return 86400*e+r/1e3;case"milliseconds":return Math.floor(864e5*e)+r;default:throw new Error(`Unknown unit ${s}`)}}valueOf(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*St(this._months/12):NaN}}function vw(t){if(null==t._isValid){const n=Vt(t),e=Array.prototype.some.call(n.parsedDateParts,function(r){return null!=r});let i=!isNaN(t._d&&t._d.getTime())&&n.overflow<0&&!n.empty&&!n.invalidMonth&&!n.invalidWeekday&&!n.weekdayMismatch&&!n.nullInput&&!n.invalidFormat&&!n.userInvalidated&&(!n.meridiem||n.meridiem&&e);if(t._strict&&(i=i&&0===n.charsLeftOver&&0===n.unusedTokens.length&&void 0===n.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return i;t._isValid=i}return t._isValid}function Lm(t,n){return t._d=new Date(NaN),Object.assign(Vt(t),n||{userInvalidated:!0}),t}const _9=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,g9=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,y9=/Z|[+-]\d\d(?::?\d\d)?/,Pm=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/,!0],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/,!0],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/,!0],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/,!0],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/,!0],["YYYYMMDD",/\d{8}/,!0],["GGGG[W]WWE",/\d{4}W\d{3}/,!0],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/,!0]],bw=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],v9=/^\/?Date\((\-?\d+)/i,b9={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480},w9=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function uR(t){if(!or(t._i))return t;const n=t._i,e=_9.exec(n)||g9.exec(n);let i,r,s,o,a,l;if(!e)return t._isValid=!1,t;for(a=0,l=Pm.length;a<l;a++)if(Pm[a][1].exec(e[1])){r=Pm[a][0],i=!1!==Pm[a][2];break}if(null==r)return t._isValid=!1,t;if(e[3]){for(a=0,l=bw.length;a<l;a++)if(bw[a][1].exec(e[3])){s=(e[2]||" ")+bw[a][0];break}if(null==s)return t._isValid=!1,t}if(!i&&null!=s)return t._isValid=!1,t;if(e[4]){if(!y9.exec(e[4]))return t._isValid=!1,t;o="Z"}return t._f=r+(s||"")+(o||""),Cw(t)}function D9(t){const n=parseInt(t,10);return n<=49?n+2e3:n}function cR(t){if(!or(t._i))return t;const n=w9.exec(function T9(t){return t.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(t._i));if(!n)return function m9(t){return t._isValid=!1,t}(t);const e=function C9(t,n,e,i,r,s){const o=[D9(t),zA.indexOf(n),parseInt(e,10),parseInt(i,10),parseInt(r,10)];return s&&o.push(parseInt(s,10)),o}(n[4],n[3],n[2],n[5],n[6],n[7]);return function k9(t,n,e){return!t||qA.indexOf(t)===new Date(n[0],n[1],n[2]).getDay()||(Vt(e).weekdayMismatch=!0,e._isValid=!1,!1)}(n[1],e,t)&&(t._a=e,t._tzm=function M9(t,n,e){if(t)return b9[t];if(n)return 0;{const i=parseInt(e,10),r=i%100;return(i-r)/100*60+r}}(n[8],n[9],n[10]),t._d=Dm.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),Vt(t).rfc2822=!0),t}function Zr(t,n,e,i,r=0){const s=mi(e||"en");if(!s)throw new Error(`Locale "${e}" is not defined, please add it with "defineLocale(...)"`);const a=function E9(t,n,e,i,r=0){if(!ya(t))return e.invalidDate;const s=dR(n,e);return rw[s]=rw[s]||function f7(t){const n=t.match(VA),e=n.length,i=new Array(e);for(let r=0;r<e;r++)i[r]=Yu[n[r]]?Yu[n[r]]:h7(n[r]);return function(r,s,o,a=0){let l="";for(let u=0;u<e;u++)l+=tl(i[u])?i[u].call(null,r,{format:t,locale:s,isUTC:o,offset:a}):i[u];return l}}(s),rw[s](t,e,i,r)}(t,n||(i?"YYYY-MM-DDTHH:mm:ss[Z]":"YYYY-MM-DDTHH:mm:ssZ"),s,i,r);return a&&s.postformat(a)}function dR(t,n){let e=t,i=5;const r=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,s=o=>n.formatLongDate(o)||o;for(r.lastIndex=0;i>=0&&r.test(e);)e=e.replace(r,s),r.lastIndex=0,i-=1;return e}function Qu(t,n,e){return t??n??e}function ww(t){const n=[];let e,i,r;if(t._d)return t;const s=function O9(t){const n=new Date;return t._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}(t);for(t._w&&null==t._a[Xs]&&null==t._a[Vo]&&function I9(t){let n,e,i,r,s,o,a;const l=t._w;if(null!=l.GG||null!=l.W||null!=l.E)r=1,s=4,n=Qu(l.GG,t._a[Ds],Zu(new Date,1,4).year),e=Qu(l.W,1),i=Qu(l.E,1),(i<1||i>7)&&(a=!0);else{r=t._locale._week.dow,s=t._locale._week.doy;const u=Zu(new Date,r,s);n=Qu(l.gg,t._a[Ds],u.year),e=Qu(l.w,u.week),null!=l.d?(i=l.d,(i<0||i>6)&&(a=!0)):null!=l.e?(i=l.e+r,(l.e<0||l.e>6)&&(a=!0)):i=r}e<1||e>ll(n,r,s)?Vt(t)._overflowWeeks=!0:null!=a?Vt(t)._overflowWeekday=!0:(o=function UA(t,n,e,i,r){const a=1+7*(n-1)+(7+e-i)%7+xm(t,i,r);let l,u;return a<=0?(l=t-1,u=ef(l)+a):a>ef(t)?(l=t+1,u=a-ef(t)):(l=t,u=a),{year:l,dayOfYear:u}}(n,e,i,r,s),t._a[Ds]=o.year,t._dayOfYear=o.dayOfYear)}(t),null!=t._dayOfYear&&(r=Qu(t._a[Ds],s[Ds]),(t._dayOfYear>ef(r)||0===t._dayOfYear)&&(Vt(t)._overflowDayOfYear=!0),i=new Date(Date.UTC(r,0,t._dayOfYear)),t._a[Vo]=i.getUTCMonth(),t._a[Xs]=i.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=n[e]=s[e];for(;e<7;e++)t._a[e]=n[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[pi]&&0===t._a[Ts]&&0===t._a[Bo]&&0===t._a[rl]&&(t._nextDay=!0,t._a[pi]=0),t._d=(t._useUTC?Dm:Tm).apply(null,n);const o=t._useUTC?t._d.getUTCDay():t._d.getDay();return null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[pi]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==o&&(Vt(t).weekdayMismatch=!0),t}function fR(t){let n;const e=t._a;return e&&-2===Vt(t).overflow&&(n=e[Vo]<0||e[Vo]>11?Vo:e[Xs]<1||e[Xs]>Am(e[Ds],e[Vo])?Xs:e[pi]<0||e[pi]>24||24===e[pi]&&(0!==e[Ts]||0!==e[Bo]||0!==e[rl])?pi:e[Ts]<0||e[Ts]>59?Ts:e[Bo]<0||e[Bo]>59?Bo:e[rl]<0||e[rl]>999?rl:-1,Vt(t)._overflowDayOfYear&&(n<Ds||n>Xs)&&(n=Xs),Vt(t)._overflowWeeks&&-1===n&&(n=c7),Vt(t)._overflowWeekday&&-1===n&&(n=d7),Vt(t).overflow=n),t}const A9="ISO_8601",R9="RFC_2822";function Cw(t){if(t._f===A9)return uR(t);if(t._f===R9)return cR(t);if(t._a=[],Vt(t).empty=!0,En(t._f)||!t._i&&0!==t._i)return t;let n=t._i.toString(),e=0;const i=n.length,r=dR(t._f,t._locale).match(VA)||[];let s,o,a,l;for(s=0;s<r.length;s++)o=r[s],a=(n.match(C7(o,t._locale))||[])[0],a&&(l=n.substr(0,n.indexOf(a)),l.length>0&&Vt(t).unusedInput.push(l),n=n.slice(n.indexOf(a)+a.length),e+=a.length),Yu[o]?(a?Vt(t).empty=!1:Vt(t).unusedTokens.push(o),T7(o,a,t)):t._strict&&!a&&Vt(t).unusedTokens.push(o);return Vt(t).charsLeftOver=i-e,n.length>0&&Vt(t).unusedInput.push(n),t._a[pi]<=12&&!0===Vt(t).bigHour&&t._a[pi]>0&&(Vt(t).bigHour=void 0),Vt(t).parsedDateParts=t._a.slice(0),Vt(t).meridiem=t._meridiem,t._a[pi]=function x9(t,n,e){let i=n;if(null==e)return i;if(null!=t.meridiemHour)return t.meridiemHour(i,e);if(null==t.isPM)return i;const r=t.isPM(e);return r&&i<12&&(i+=12),!r&&12===i&&(i=0),i}(t._locale,t._a[pi],t._meridiem),ww(t),fR(t)}function L9(t){const n=fR(function P9(t){let n=t._i;const e=t._f;return t._locale=t._locale||mi(t._l),null===n||void 0===e&&""===n?Lm(t,{nullInput:!0}):(or(n)&&(t._i=n=t._locale.preparse(n,e)),Cm(n)?(t._d=jo(n),t):(En(e)?function F9(t){let n,e,i,r,s;if(!t._f||0===t._f.length)return Vt(t).invalidFormat=!0,Lm(t);for(s=0;s<t._f.length;s++)r=0,n=Object.assign({},t),null!=t._useUTC&&(n._useUTC=t._useUTC),n._f=t._f[s],Cw(n),vw(n)&&(r+=Vt(n).charsLeftOver,r+=10*Vt(n).unusedTokens.length,Vt(n).score=r,(null==i||r<i)&&(i=r,e=n));Object.assign(t,e||n)}(t):e?Cw(t):function V9(t){const n=t._i;if(NA(n))t._d=new Date;else if(Cm(n))t._d=jo(n);else if(or(n))!function S9(t){if(!or(t._i))return t;const n=v9.exec(t._i);null!==n?t._d=new Date(+n[1]):(uR(t),!1!==t._isValid||(delete t._isValid,cR(t),!1!==t._isValid||(delete t._isValid,Lm(t))))}(t);else if(En(n)&&n.length){const e=n.slice(0);t._a=e.map(i=>or(i)?parseInt(i,10):i),ww(t)}else if(il(n))!function N9(t){if(t._d)return t;const n=t._i;if(il(n)){const e=function u7(t){const n={};let e,i;for(i in t)Wi(t,i)&&(e=PA(i),e&&(n[e]=t[i]));return n}(n);t._a=[e.year,e.month,e.day,e.hours,e.minutes,e.seconds,e.milliseconds].map(i=>or(i)?parseInt(i,10):i)}return ww(t)}(t);else{if(!nl(n))return Lm(t);t._d=new Date(n)}}(t),vw(t)||(t._d=null),t))}(t));return n._d=new Date(null!=n._d?n._d.getTime():NaN),vw(Object.assign({},n,{_isValid:null}))||(n._d=new Date(NaN)),n}function sf(t,n,e,i,r){return Cm(t)?t:function B9(t,n,e,i,r){const s={};let o=t;return(il(o)&&function l7(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;let n;for(n in t)if(t.hasOwnProperty(n))return!1;return!0}(o)||En(o)&&0===o.length)&&(o=void 0),s._useUTC=s._isUTC=r,s._l=e,s._i=o,s._f=n,s._strict=i,L9(s)}(t,n,e,i,r)._d}function hR(t){return t instanceof Date?new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()):null}function Dw(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function ks(t,n,e="milliseconds"){return!(!t||!n)&&("milliseconds"===e?t.valueOf()>n.valueOf():n.valueOf()<Uo(t,e).valueOf())}function no(t,n,e="milliseconds"){return!(!t||!n)&&("milliseconds"===e?t.valueOf()<n.valueOf():Rm(t,e).valueOf()<n.valueOf())}function Ku(t,n,e="milliseconds"){if(!t||!n)return!1;if("milliseconds"===e)return t.valueOf()===n.valueOf();const i=n.valueOf();return Uo(t,e).valueOf()<=i&&i<=Rm(t,e).valueOf()}const $9=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,j9=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Tw(t,n,e={}){const i=function U9(t,n){if(null==t)return{};if(function p9(t){return t instanceof lR}(t))return{milliseconds:t._milliseconds,day:t._days,month:t._months};if(nl(t))return n?{[n]:t}:{milliseconds:t};if(or(t)){let e=$9.exec(t);if(e){const i="-"===e[1]?-1:1;return{year:0,day:St(e[Xs])*i,hours:St(e[pi])*i,minutes:St(e[Ts])*i,seconds:St(e[Bo])*i,milliseconds:St(Dw(1e3*St(e[rl])))*i}}if(e=j9.exec(t),e){const i="-"===e[1]?-1:1;return{year:fl(e[2],i),month:fl(e[3],i),week:fl(e[4],i),day:fl(e[5],i),hours:fl(e[6],i),minutes:fl(e[7],i),seconds:fl(e[8],i)}}}if(il(t)&&("from"in t||"to"in t)){const e=function Y9(t,n){if(!ya(t)||!ya(n))return{milliseconds:0,months:0};let e;const i=function i9(t,n,e={}){if(!e._isUTC)return t;const i=jo(n),r=6e4*(e._offset||0),s=t.valueOf()-i.valueOf()+r;return i.setTime(i.valueOf()+s),i}(n,t,{_offset:t.getTimezoneOffset()});return no(t,i)?e=pR(t,i):(e=pR(i,t),e.milliseconds=-e.milliseconds,e.months=-e.months),e}(sf(t.from),sf(t.to));return{milliseconds:e.milliseconds,month:e.months}}return t}(t,n);return new lR(i,e)}function fl(t,n){const e=t&&parseFloat(t.replace(",","."));return(isNaN(e)?0:e)*n}function pR(t,n){const e={milliseconds:0,months:0};return e.months=Ot(n)-Ot(t)+12*(xn(n)-xn(t)),ks(io(jo(t),e.months,"month"),n)&&--e.months,e.milliseconds=+n-+io(jo(t),e.months,"month"),e}function io(t,n,e,i){return mR(t,Tw(n,e),1,i)}function mR(t,n,e,i){const r=n._milliseconds,s=Dw(n._days),o=Dw(n._months);return o&&al(t,Ot(t,i)+o*e,i),s&&fw(t,sl(t,i)+s*e,i),r&&function P7(t,n){t.setTime(n)}(t,function p7(t){return t.getTime()}(t)+r*e),jo(t)}function af(t,n,e=mi(),i){const r=eo(t,i),s=function W9(t,n){if(!or(t))return t;const e=parseInt(t,10);if(!isNaN(e))return e;const i=n.weekdaysParse(t);return nl(i)?i:null}(n,e);return io(t,s-r,"day")}function kw(t,n=mi(),e){return(eo(t,e)+7-n.firstDayOfWeek())%7}const gR=function(t){return 0===t?0:1===t?1:2===t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},X9={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},Qr=function(t){return function(n,e){const i=gR(n);let r=X9[t][gR(n)];return 2===i&&(r=r[e?0:1]),r.replace(/%d/i,n.toString())}};"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),Qr("s"),Qr("s"),Qr("m"),Qr("m"),Qr("h"),Qr("h"),Qr("d"),Qr("d"),Qr("M"),Qr("M"),Qr("y"),Qr("y"),"\u044f\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),"\u044f\u043d\u0440_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),"\u043d\u0435\u0434\u0435\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u044f\u0434\u0430_\u0447\u0435\u0442\u0432\u044a\u0440\u0442\u044a\u043a_\u043f\u0435\u0442\u044a\u043a_\u0441\u044a\u0431\u043e\u0442\u0430".split("_"),"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u044f_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u044a\u0431".split("_"),"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),"gen._feb._mar._abr._mai._jun._jul._ago._set._oct._nov._des.".split("_"),"ene_feb_mar_abr_mai_jun_jul_ago_set_oct_nov_des".split("_"),"gener_febrer_mar\xe7_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),"diu._dil._dim._dix._dij._div._dis.".split("_"),"dg_dl_dt_dc_dj_dv_ds".split("_");const Sw="leden_\xfanor_b\u0159ezen_duben_kv\u011bten_\u010derven_\u010dervenec_srpen_z\xe1\u0159\xed_\u0159\xedjen_listopad_prosinec".split("_"),Ew="led_\xfano_b\u0159e_dub_kv\u011b_\u010dvn_\u010dvc_srp_z\xe1\u0159_\u0159\xedj_lis_pro".split("_");(function(t,n){let e,i=[];for(e=0;e<12;e++)i[e]=new RegExp("^"+t[e]+"$|^"+n[e]+"$","i")})(Sw,Ew),function(t){let n,e=[];for(n=0;n<12;n++)e[n]=new RegExp("^"+t[n]+"$","i")}(Ew),function(t){let n,e=[];for(n=0;n<12;n++)e[n]=new RegExp("^"+t[n]+"$","i")}(Sw),"ned\u011ble_pond\u011bl\xed_\xfater\xfd_st\u0159eda_\u010dtvrtek_p\xe1tek_sobota".split("_"),"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),"Januar_Februar_Marts_April_Maj_Juni_Juli_August_September_Oktober_November_December".split("_"),"Jan_Feb_Mar_Apr_Maj_Jun_Jul_Aug_Sep_Okt_Nov_Dec".split("_"),"S\xf8ndag_Mandag_Tirsdag_Onsdag_Torsdag_Fredag_L\xf8rdag".split("_"),"S\xf8n_Man_Tir_Ons_Tor_Fre_L\xf8r".split("_"),"S\xf8_Ma_Ti_On_To_Fr_L\xf8".split("_"),"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),"do_lu_ma_mi_ju_vi_s\xe1".split("_"),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),"do_lu_ma_mi_ju_vi_s\xe1".split("_"),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),"do_lu_ma_mi_ju_vi_s\xe1".split("_"),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),"do_lu_ma_mi_ju_vi_s\xe1".split("_"),"jaanuar_veebruar_m\xe4rts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),"jaan_veebr_m\xe4rts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),"p\xfchap\xe4ev_esmasp\xe4ev_teisip\xe4ev_kolmap\xe4ev_neljap\xe4ev_reede_laup\xe4ev".split("_"),"P_E_T_K_N_R_L".split("_"),"P_E_T_K_N_R_L".split("_"),"nolla yksi kaksi kolme nelj\xe4 viisi kuusi seitsem\xe4n kahdeksan yhdeks\xe4n".split(" "),"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kes\xe4kuu_hein\xe4kuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),"tammi_helmi_maalis_huhti_touko_kes\xe4_hein\xe4_elo_syys_loka_marras_joulu".split("_"),"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),"su_ma_ti_ke_to_pe_la".split("_"),"su_ma_ti_ke_to_pe_la".split("_"),"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),"dim._lun._mar._mer._jeu._ven._sam.".split("_"),"di_lu_ma_me_je_ve_sa".split("_"),"xan._feb._mar._abr._mai._xu\xf1._xul._ago._set._out._nov._dec.".split("_"),"xan_feb_mar_abr_mai_xu\xf1_xul_ago_set_out_nov_dec".split("_"),"xaneiro_febreiro_marzo_abril_maio_xu\xf1o_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),"domingo_luns_martes_m\xe9rcores_xoves_venres_s\xe1bado".split("_"),"dom._lun._mar._m\xe9r._xov._ven._s\xe1b.".split("_"),"do_lu_ma_m\xe9_xo_ve_s\xe1".split("_"),"\u05d9\u05e0\u05d5\u05d0\u05e8_\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05d9\u05dc_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8_\u05e1\u05e4\u05d8\u05de\u05d1\u05e8_\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8_\u05e0\u05d5\u05d1\u05de\u05d1\u05e8_\u05d3\u05e6\u05de\u05d1\u05e8".split("_"),"\u05d9\u05e0\u05d5\u05f3_\u05e4\u05d1\u05e8\u05f3_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05f3_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05f3_\u05e1\u05e4\u05d8\u05f3_\u05d0\u05d5\u05e7\u05f3_\u05e0\u05d5\u05d1\u05f3_\u05d3\u05e6\u05de\u05f3".split("_"),"\u05e8\u05d0\u05e9\u05d5\u05df_\u05e9\u05e0\u05d9_\u05e9\u05dc\u05d9\u05e9\u05d9_\u05e8\u05d1\u05d9\u05e2\u05d9_\u05d7\u05de\u05d9\u05e9\u05d9_\u05e9\u05d9\u05e9\u05d9_\u05e9\u05d1\u05ea".split("_"),"\u05d0\u05f3_\u05d1\u05f3_\u05d2\u05f3_\u05d3\u05f3_\u05d4\u05f3_\u05d5\u05f3_\u05e9\u05f3".split("_"),"\u05d0_\u05d1_\u05d2_\u05d3_\u05d4_\u05d5_\u05e9".split("_"),"\u091c\u0928\u0935\u0930\u0940_\u092b\u093c\u0930\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948\u0932_\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0938\u094d\u0924_\u0938\u093f\u0924\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u0942\u092c\u0930_\u0928\u0935\u092e\u094d\u092c\u0930_\u0926\u093f\u0938\u092e\u094d\u092c\u0930".split("_"),"\u091c\u0928._\u092b\u093c\u0930._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948._\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932._\u0905\u0917._\u0938\u093f\u0924._\u0905\u0915\u094d\u091f\u0942._\u0928\u0935._\u0926\u093f\u0938.".split("_"),"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0932\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0932_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),"vas\xe1rnap h\xe9tf\u0151n kedden szerd\xe1n cs\xfct\xf6rt\xf6k\xf6n p\xe9nteken szombaton".split(" "),"janu\xe1r_febru\xe1r_m\xe1rcius_\xe1prilis_m\xe1jus_j\xfanius_j\xfalius_augusztus_szeptember_okt\xf3ber_november_december".split("_"),"jan_feb_m\xe1rc_\xe1pr_m\xe1j_j\xfan_j\xfal_aug_szept_okt_nov_dec".split("_"),"vas\xe1rnap_h\xe9tf\u0151_kedd_szerda_cs\xfct\xf6rt\xf6k_p\xe9ntek_szombat".split("_"),"vas_h\xe9t_kedd_sze_cs\xfct_p\xe9n_szo".split("_"),"v_h_k_sze_cs_p_szo".split("_"),"Sije\u010danj_Velja\u010da_O\u017eujak_Travanj_Svibanj_Lipanj_Srpanj_Kolovoz_Rujan_Listopad_Studeni_Prosinac".split("_"),"Sij_Velj_O\u017eu_Tra_Svi_Lip_Srp_Kol_Ruj_Lis_Stu_Pro".split("_"),"Nedjelja_Ponedjeljak_Utorak_Srijeda_\u010cetvrtak_Petak_Subota".split("_"),"Ned_Pon_Uto_Sri_\u010cet_Pet_Sub".split("_"),"Ne_Po_Ut_Sr_\u010ce_Pe_Su".split("_"),"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nov_Des".split("_"),"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),"dom_lun_mar_mer_gio_ven_sab".split("_"),"do_lu_ma_me_gi_ve_sa".split("_"),"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),"\u65e5\u66dc\u65e5_\u6708\u66dc\u65e5_\u706b\u66dc\u65e5_\u6c34\u66dc\u65e5_\u6728\u66dc\u65e5_\u91d1\u66dc\u65e5_\u571f\u66dc\u65e5".split("_"),"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),"\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10e1_\u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10e1_\u10db\u10d0\u10e0\u10e2\u10e1_\u10d0\u10de\u10e0\u10d8\u10da\u10d8\u10e1_\u10db\u10d0\u10d8\u10e1\u10e1_\u10d8\u10d5\u10dc\u10d8\u10e1\u10e1_\u10d8\u10d5\u10da\u10d8\u10e1\u10e1_\u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10e1_\u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10e1_\u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10e1_\u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10e1_\u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10e1".split("_"),"\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10d8_\u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10d8_\u10db\u10d0\u10e0\u10e2\u10d8_\u10d0\u10de\u10e0\u10d8\u10da\u10d8_\u10db\u10d0\u10d8\u10e1\u10d8_\u10d8\u10d5\u10dc\u10d8\u10e1\u10d8_\u10d8\u10d5\u10da\u10d8\u10e1\u10d8_\u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10dd_\u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10d8_\u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10d8".split("_"),"\u10d8\u10d0\u10dc_\u10d7\u10d4\u10d1_\u10db\u10d0\u10e0_\u10d0\u10de\u10e0_\u10db\u10d0\u10d8_\u10d8\u10d5\u10dc_\u10d8\u10d5\u10da_\u10d0\u10d2\u10d5_\u10e1\u10d4\u10e5_\u10dd\u10e5\u10e2_\u10dc\u10dd\u10d4_\u10d3\u10d4\u10d9".split("_"),"\u10d9\u10d5\u10d8\u10e0\u10d0_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10d8_\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8".split("_"),"\u10d9\u10d5\u10d8\u10e0\u10d0\u10e1_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10e1_\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1".split("_"),"\u10d9\u10d5\u10d8_\u10dd\u10e0\u10e8_\u10e1\u10d0\u10db_\u10dd\u10d7\u10ee_\u10ee\u10e3\u10d7_\u10de\u10d0\u10e0_\u10e8\u10d0\u10d1".split("_"),"\u10d9\u10d5_\u10dd\u10e0_\u10e1\u10d0_\u10dd\u10d7_\u10ee\u10e3_\u10de\u10d0_\u10e8\u10d0".split("_"),"\u049b\u0430\u04a3\u0442\u0430\u0440_\u0430\u049b\u043f\u0430\u043d_\u043d\u0430\u0443\u0440\u044b\u0437_\u0441\u04d9\u0443\u0456\u0440_\u043c\u0430\u043c\u044b\u0440_\u043c\u0430\u0443\u0441\u044b\u043c_\u0448\u0456\u043b\u0434\u0435_\u0442\u0430\u043c\u044b\u0437_\u049b\u044b\u0440\u043a\u04af\u0439\u0435\u043a_\u049b\u0430\u0437\u0430\u043d_\u049b\u0430\u0440\u0430\u0448\u0430_\u0436\u0435\u043b\u0442\u043e\u049b\u0441\u0430\u043d".split("_"),"\u049b\u0430\u04a3_\u0430\u049b\u043f_\u043d\u0430\u0443_\u0441\u04d9\u0443_\u043c\u0430\u043c_\u043c\u0430\u0443_\u0448\u0456\u043b_\u0442\u0430\u043c_\u049b\u044b\u0440_\u049b\u0430\u0437_\u049b\u0430\u0440_\u0436\u0435\u043b".split("_"),"\u0436\u0435\u043a\u0441\u0435\u043d\u0431\u0456_\u0434\u04af\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u04d9\u0440\u0441\u0435\u043d\u0431\u0456_\u0431\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0436\u04b1\u043c\u0430_\u0441\u0435\u043d\u0431\u0456".split("_"),"\u0436\u0435\u043a_\u0434\u04af\u0439_\u0441\u0435\u0439_\u0441\u04d9\u0440_\u0431\u0435\u0439_\u0436\u04b1\u043c_\u0441\u0435\u043d".split("_"),"\u0436\u043a_\u0434\u0439_\u0441\u0439_\u0441\u0440_\u0431\u0439_\u0436\u043c_\u0441\u043d".split("_"),"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),"\uc77c\uc694\uc77c_\uc6d4\uc694\uc77c_\ud654\uc694\uc77c_\uc218\uc694\uc77c_\ubaa9\uc694\uc77c_\uae08\uc694\uc77c_\ud1a0\uc694\uc77c".split("_"),"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),"sausio_vasario_kovo_baland\u017eio_gegu\u017e\u0117s_bir\u017eelio_liepos_rugpj\u016b\u010dio_rugs\u0117jo_spalio_lapkri\u010dio_gruod\u017eio".split("_"),"sausis_vasaris_kovas_balandis_gegu\u017e\u0117_bir\u017eelis_liepa_rugpj\u016btis_rugs\u0117jis_spalis_lapkritis_gruodis".split("_"),"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),"sekmadien\u012f_pirmadien\u012f_antradien\u012f_tre\u010diadien\u012f_ketvirtadien\u012f_penktadien\u012f_\u0161e\u0161tadien\u012f".split("_"),"sekmadienis_pirmadienis_antradienis_tre\u010diadienis_ketvirtadienis_penktadienis_\u0161e\u0161tadienis".split("_"),"Sek_Pir_Ant_Tre_Ket_Pen_\u0160e\u0161".split("_"),"S_P_A_T_K_Pn_\u0160".split("_"),"Janv\u0101ris_Febru\u0101ris_Marts_Apr\u012blis_Maijs_J\u016bnijs_J\u016blijs_Augusts_Septembris_Oktobris_Novembris_Decembris".split("_"),"Jan_Feb_Mar_Apr_Mai_J\u016bn_J\u016bl_Aug_Sep_Okt_Nov_Dec".split("_"),"Sv\u0113tdiena_Pirmdiena_Otrdiena_Tre\u0161diena_Ceturtdiena_Piektdiena_Sestdiena".split("_"),"Sv\u0113td_Pirmd_Otrd_Tre\u0161d_Ceturtd_Piektd_Sestd".split("_"),"Sv_Pi_Ot_Tr_Ce_Pk_Se".split("_"),"\u041d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0425\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0413\u0443\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u04e9\u0440\u04e9\u0432\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0422\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0417\u0443\u0440\u0433\u0430\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u043e\u043b\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u041d\u0430\u0439\u043c\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0415\u0441\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u043d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u0445\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440".split("_"),"1 \u0441\u0430\u0440_2 \u0441\u0430\u0440_3 \u0441\u0430\u0440_4 \u0441\u0430\u0440_5 \u0441\u0430\u0440_6 \u0441\u0430\u0440_7 \u0441\u0430\u0440_8 \u0441\u0430\u0440_9 \u0441\u0430\u0440_10 \u0441\u0430\u0440_11 \u0441\u0430\u0440_12 \u0441\u0430\u0440".split("_"),"\u041d\u044f\u043c_\u0414\u0430\u0432\u0430\u0430_\u041c\u044f\u0433\u043c\u0430\u0440_\u041b\u0445\u0430\u0433\u0432\u0430_\u041f\u04af\u0440\u044d\u0432_\u0411\u0430\u0430\u0441\u0430\u043d_\u0411\u044f\u043c\u0431\u0430".split("_"),"\u041d\u044f\u043c_\u0414\u0430\u0432_\u041c\u044f\u0433_\u041b\u0445\u0430_\u041f\u04af\u0440_\u0411\u0430\u0430_\u0411\u044f\u043c".split("_"),"\u041d\u044f_\u0414\u0430_\u041c\u044f_\u041b\u0445_\u041f\u04af_\u0411\u0430_\u0411\u044f".split("_"),"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),"s\xf8._ma._ti._on._to._fr._l\xf8.".split("_"),"s\xf8_ma_ti_on_to_fr_l\xf8".split("_"),"jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),"jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),"zo._ma._di._wo._do._vr._za.".split("_"),"zo_ma_di_wo_do_vr_za".split("_"),"jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),"jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),"zo._ma._di._wo._do._vr._za.".split("_"),"zo_ma_di_wo_do_vr_za".split("_"),"stycze\u0144_luty_marzec_kwiecie\u0144_maj_czerwiec_lipiec_sierpie\u0144_wrzesie\u0144_pa\u017adziernik_listopad_grudzie\u0144".split("_"),"stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrze\u015bnia_pa\u017adziernika_listopada_grudnia".split("_"),"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa\u017a_lis_gru".split("_"),"niedziela_poniedzia\u0142ek_wtorek_\u015broda_czwartek_pi\u0105tek_sobota".split("_"),"ndz_pon_wt_\u015br_czw_pt_sob".split("_"),"Nd_Pn_Wt_\u015ar_Cz_Pt_So".split("_"),"Janeiro_Fevereiro_Mar\xe7o_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),"Domingo_Segunda-feira_Ter\xe7a-feira_Quarta-feira_Quinta-feira_Sexta-feira_S\xe1bado".split("_"),"Dom_Seg_Ter_Qua_Qui_Sex_S\xe1b".split("_"),"Do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_S\xe1".split("_"),"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),"duminic\u0103_luni_mar\u021bi_miercuri_joi_vineri_s\xe2mb\u0103t\u0103".split("_"),"Dum_Lun_Mar_Mie_Joi_Vin_S\xe2m".split("_"),"Du_Lu_Ma_Mi_Jo_Vi_S\xe2".split("_"),"\u044f\u043d\u0432\u0430\u0440\u044f_\u0444\u0435\u0432\u0440\u0430\u043b\u044f_\u043c\u0430\u0440\u0442\u0430_\u0430\u043f\u0440\u0435\u043b\u044f_\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433\u0443\u0441\u0442\u0430_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f_\u043e\u043a\u0442\u044f\u0431\u0440\u044f_\u043d\u043e\u044f\u0431\u0440\u044f_\u0434\u0435\u043a\u0430\u0431\u0440\u044f".split("_"),"\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_"),"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440\u0442_\u0430\u043f\u0440._\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0430_\u0441\u0443\u0431\u0431\u043e\u0442\u0430".split("_"),"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0443_\u0441\u0443\u0431\u0431\u043e\u0442\u0443".split("_"),"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),"janu\xe1r_febru\xe1r_marec_apr\xedl_m\xe1j_j\xfan_j\xfal_august_september_okt\xf3ber_november_december".split("_"),"jan_feb_mar_apr_m\xe1j_j\xfan_j\xfal_aug_sep_okt_nov_dec".split("_"),"nede\u013ea_pondelok_utorok_streda_\u0161tvrtok_piatok_sobota".split("_"),"ne_po_ut_st_\u0161t_pi_so".split("_"),"ne_po_ut_st_\u0161t_pi_so".split("_"),"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),"nedelja_ponedeljek_torek_sreda_\u010detrtek_petek_sobota".split("_"),"ned._pon._tor._sre._\u010det._pet._sob.".split("_"),"ne_po_to_sr_\u010de_pe_so".split("_"),"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_N\xebntor_Dhjetor".split("_"),"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_N\xebn_Dhj".split("_"),"E Diel\xeb_E H\xebn\xeb_E Mart\xeb_E M\xebrkur\xeb_E Enjte_E Premte_E Shtun\xeb".split("_"),"Die_H\xebn_Mar_M\xebr_Enj_Pre_Sht".split("_"),"Di_He_Ma_Me_En_Pr_Sh".split("_"),"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),"s\xf6ndag_m\xe5ndag_tisdag_onsdag_torsdag_fredag_l\xf6rdag".split("_"),"s\xf6n_m\xe5n_tis_ons_tor_fre_l\xf6r".split("_"),"s\xf6_m\xe5_ti_on_to_fr_l\xf6".split("_"),"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21_\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c_\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21_\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19_\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21_\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19_\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21_\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21_\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19_\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21_\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19_\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split("_"),"\u0e21.\u0e04._\u0e01.\u0e1e._\u0e21\u0e35.\u0e04._\u0e40\u0e21.\u0e22._\u0e1e.\u0e04._\u0e21\u0e34.\u0e22._\u0e01.\u0e04._\u0e2a.\u0e04._\u0e01.\u0e22._\u0e15.\u0e04._\u0e1e.\u0e22._\u0e18.\u0e04.".split("_"),"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_");const LR={abbr:"th-be",months:"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21_\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c_\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21_\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19_\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21_\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19_\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21_\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21_\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19_\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21_\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19_\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split("_"),monthsShort:"\u0e21.\u0e04._\u0e01.\u0e1e._\u0e21\u0e35.\u0e04._\u0e40\u0e21.\u0e22._\u0e1e.\u0e04._\u0e21\u0e34.\u0e22._\u0e01.\u0e04._\u0e2a.\u0e04._\u0e01.\u0e22._\u0e15.\u0e04._\u0e1e.\u0e22._\u0e18.\u0e04.".split("_"),monthsParseExact:!0,weekdays:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysShort:"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),weekdaysMin:"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm",LLLL:"\u0e27\u0e31\u0e19dddd\u0e17\u0e35\u0e48 D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm"},meridiemParse:/\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07|\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07/,isPM:t=>"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"===t,meridiem:(t,n,e)=>t<12?"\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07":"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07",calendar:{sameDay:"[\u0e27\u0e31\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextDay:"[\u0e1e\u0e23\u0e38\u0e48\u0e07\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextWeek:"dddd[\u0e2b\u0e19\u0e49\u0e32 \u0e40\u0e27\u0e25\u0e32] LT",lastDay:"[\u0e40\u0e21\u0e37\u0e48\u0e2d\u0e27\u0e32\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",lastWeek:"[\u0e27\u0e31\u0e19]dddd[\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27 \u0e40\u0e27\u0e25\u0e32] LT",sameElse:"L"},relativeTime:{future:"\u0e2d\u0e35\u0e01 %s",past:"%s\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27",s:"\u0e44\u0e21\u0e48\u0e01\u0e35\u0e48\u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",ss:"%d \u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",m:"1 \u0e19\u0e32\u0e17\u0e35",mm:"%d \u0e19\u0e32\u0e17\u0e35",h:"1 \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",hh:"%d \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",d:"1 \u0e27\u0e31\u0e19",dd:"%d \u0e27\u0e31\u0e19",M:"1 \u0e40\u0e14\u0e37\u0e2d\u0e19",MM:"%d \u0e40\u0e14\u0e37\u0e2d\u0e19",y:"1 \u0e1b\u0e35",yy:"%d \u0e1b\u0e35"},preparse(t,n){const e=LR.longDateFormat[n]?LR.longDateFormat[n]:n;return-1!==e.indexOf("YYYY",e.length-4)?t.substr(0,t.length-4)+(parseInt(t.substr(t.length-4),10)-543):t},getFullYear:(t,n=!1)=>543+(n?t.getUTCFullYear():t.getFullYear())};function ic(t){return function(n){return t+"\u043e"+(11===Et(n)?"\u0431":"")+"] LT"}}"Ocak_\u015eubat_Mart_Nisan_May\u0131s_Haziran_Temmuz_A\u011fustos_Eyl\xfcl_Ekim_Kas\u0131m_Aral\u0131k".split("_"),"Oca_\u015eub_Mar_Nis_May_Haz_Tem_A\u011fu_Eyl_Eki_Kas_Ara".split("_"),"Pazar_Pazartesi_Sal\u0131_\xc7ar\u015famba_Per\u015fembe_Cuma_Cumartesi".split("_"),"Paz_Pts_Sal_\xc7ar_Per_Cum_Cts".split("_"),"Pz_Pt_Sa_\xc7a_Pe_Cu_Ct".split("_"),"\u0441\u0456\u0447\u043d\u044f_\u043b\u044e\u0442\u043e\u0433\u043e_\u0431\u0435\u0440\u0435\u0437\u043d\u044f_\u043a\u0432\u0456\u0442\u043d\u044f_\u0442\u0440\u0430\u0432\u043d\u044f_\u0447\u0435\u0440\u0432\u043d\u044f_\u043b\u0438\u043f\u043d\u044f_\u0441\u0435\u0440\u043f\u043d\u044f_\u0432\u0435\u0440\u0435\u0441\u043d\u044f_\u0436\u043e\u0432\u0442\u043d\u044f_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434\u0430_\u0433\u0440\u0443\u0434\u043d\u044f".split("_"),"\u0441\u0456\u0447\u0435\u043d\u044c_\u043b\u044e\u0442\u0438\u0439_\u0431\u0435\u0440\u0435\u0437\u0435\u043d\u044c_\u043a\u0432\u0456\u0442\u0435\u043d\u044c_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u0435\u0440\u0432\u0435\u043d\u044c_\u043b\u0438\u043f\u0435\u043d\u044c_\u0441\u0435\u0440\u043f\u0435\u043d\u044c_\u0432\u0435\u0440\u0435\u0441\u0435\u043d\u044c_\u0436\u043e\u0432\u0442\u0435\u043d\u044c_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434_\u0433\u0440\u0443\u0434\u0435\u043d\u044c".split("_"),"\u0441\u0456\u0447_\u043b\u044e\u0442_\u0431\u0435\u0440_\u043a\u0432\u0456\u0442_\u0442\u0440\u0430\u0432_\u0447\u0435\u0440\u0432_\u043b\u0438\u043f_\u0441\u0435\u0440\u043f_\u0432\u0435\u0440_\u0436\u043e\u0432\u0442_\u043b\u0438\u0441\u0442_\u0433\u0440\u0443\u0434".split("_"),"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),ic("[\u0421\u044c\u043e\u0433\u043e\u0434\u043d\u0456 "),ic("[\u0417\u0430\u0432\u0442\u0440\u0430 "),ic("[\u0412\u0447\u043e\u0440\u0430 "),ic("[\u0423] dddd ["),"th\xe1ng 1_th\xe1ng 2_th\xe1ng 3_th\xe1ng 4_th\xe1ng 5_th\xe1ng 6_th\xe1ng 7_th\xe1ng 8_th\xe1ng 9_th\xe1ng 10_th\xe1ng 11_th\xe1ng 12".split("_"),"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),"ch\u1ee7 nh\u1eadt_th\u1ee9 hai_th\u1ee9 ba_th\u1ee9 t\u01b0_th\u1ee9 n\u0103m_th\u1ee9 s\xe1u_th\u1ee9 b\u1ea3y".split("_"),"CN_T2_T3_T4_T5_T6_T7".split("_"),"CN_T2_T3_T4_T5_T6_T7".split("_"),"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),"\u5468\u65e5_\u5468\u4e00_\u5468\u4e8c_\u5468\u4e09_\u5468\u56db_\u5468\u4e94_\u5468\u516d".split("_"),"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_");const CZ=new class wZ extends Ub{}(class bZ extends jb{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}schedule(n,e=0){return e>0?super.schedule(n,e):(this.delay=e,this.state=n,this.scheduler.flush(this),this)}execute(n,e){return e>0||this.closed?super.execute(n,e):this._execute(n,e)}requestAsyncId(n,e,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(n,e,i):(n.flush(this),0)}});class PR extends yi{constructor(n,e,i){super(n),e.pipe(Xi(CZ)).pipe(Nv((o,a)=>a?i(o,a):o,n)).subscribe(o=>this.next(o))}}class Bm extends We{constructor(n,e,i){super(),this._dispatcher=n,this._reducer=e,this.source=i}select(n){return(this.source?.pipe(Ae(n))||(new We).pipe(Ae(n))).pipe(iw())}lift(n){const e=new Bm(this._dispatcher,this._reducer,this);return e.operator=n,e}dispatch(n){this._dispatcher.next(n)}next(n){this._dispatcher.next(n)}error(n){this._dispatcher.error(n)}complete(){}}function DZ(t,n){1&t&&(_(0,"td"),S(1,"\xa0\xa0\xa0"),g())}function TZ(t,n){if(1&t){const e=Fe();_(0,"td")(1,"a",1),F("click",function(){H(e);const r=w();return $(r.changeMinutes(r.minuteStep))}),Se(2,"span",2),g()()}if(2&t){const e=w();m(1),st("disabled",!e.canIncrementMinutes||!e.isEditable)}}function kZ(t,n){1&t&&(_(0,"td"),S(1,"\xa0"),g())}function MZ(t,n){if(1&t){const e=Fe();_(0,"td")(1,"a",1),F("click",function(){H(e);const r=w();return $(r.changeSeconds(r.secondsStep))}),Se(2,"span",2),g()()}if(2&t){const e=w();m(1),st("disabled",!e.canIncrementSeconds||!e.isEditable)}}function SZ(t,n){1&t&&(_(0,"td"),S(1,"\xa0\xa0\xa0"),g())}function EZ(t,n){1&t&&Se(0,"td")}function OZ(t,n){1&t&&(_(0,"td"),S(1,"\xa0:\xa0"),g())}function IZ(t,n){if(1&t){const e=Fe();_(0,"td",4)(1,"input",5),F("wheel",function(r){H(e);const s=w();return s.prevDef(r),$(s.changeMinutes(s.minuteStep*s.wheelSign(r),"wheel"))})("keydown.ArrowUp",function(){H(e);const r=w();return $(r.changeMinutes(r.minuteStep,"key"))})("keydown.ArrowDown",function(){H(e);const r=w();return $(r.changeMinutes(-r.minuteStep,"key"))})("change",function(r){return H(e),$(w().updateMinutes(r.target))}),g()()}if(2&t){const e=w();st("has-error",e.invalidMinutes),m(1),st("is-invalid",e.invalidMinutes),y("placeholder",e.minutesPlaceholder)("readonly",e.readonlyInput)("disabled",e.disabled)("value",e.minutes),qn("aria-label",e.labelMinutes)}}function AZ(t,n){1&t&&(_(0,"td"),S(1,"\xa0:\xa0"),g())}function RZ(t,n){if(1&t){const e=Fe();_(0,"td",4)(1,"input",5),F("wheel",function(r){H(e);const s=w();return s.prevDef(r),$(s.changeSeconds(s.secondsStep*s.wheelSign(r),"wheel"))})("keydown.ArrowUp",function(){H(e);const r=w();return $(r.changeSeconds(r.secondsStep,"key"))})("keydown.ArrowDown",function(){H(e);const r=w();return $(r.changeSeconds(-r.secondsStep,"key"))})("change",function(r){return H(e),$(w().updateSeconds(r.target))}),g()()}if(2&t){const e=w();st("has-error",e.invalidSeconds),m(1),st("is-invalid",e.invalidSeconds),y("placeholder",e.secondsPlaceholder)("readonly",e.readonlyInput)("disabled",e.disabled)("value",e.seconds),qn("aria-label",e.labelSeconds)}}function xZ(t,n){1&t&&(_(0,"td"),S(1,"\xa0\xa0\xa0"),g())}function FZ(t,n){if(1&t){const e=Fe();_(0,"td")(1,"button",8),F("click",function(){return H(e),$(w().toggleMeridian())}),S(2),g()()}if(2&t){const e=w();m(1),st("disabled",!e.isEditable||!e.canToggleMeridian),y("disabled",!e.isEditable||!e.canToggleMeridian),m(1),qt("",e.meridian," ")}}function NZ(t,n){1&t&&(_(0,"td"),S(1,"\xa0\xa0\xa0"),g())}function LZ(t,n){if(1&t){const e=Fe();_(0,"td")(1,"a",1),F("click",function(){H(e);const r=w();return $(r.changeMinutes(-r.minuteStep))}),Se(2,"span",7),g()()}if(2&t){const e=w();m(1),st("disabled",!e.canDecrementMinutes||!e.isEditable)}}function PZ(t,n){1&t&&(_(0,"td"),S(1,"\xa0"),g())}function VZ(t,n){if(1&t){const e=Fe();_(0,"td")(1,"a",1),F("click",function(){H(e);const r=w();return $(r.changeSeconds(-r.secondsStep))}),Se(2,"span",7),g()()}if(2&t){const e=w();m(1),st("disabled",!e.canDecrementSeconds||!e.isEditable)}}function BZ(t,n){1&t&&(_(0,"td"),S(1,"\xa0\xa0\xa0"),g())}function HZ(t,n){1&t&&Se(0,"td")}let Yo=(()=>{class t{writeValue(e){return{type:t.WRITE_VALUE,payload:e}}changeHours(e){return{type:t.CHANGE_HOURS,payload:e}}changeMinutes(e){return{type:t.CHANGE_MINUTES,payload:e}}changeSeconds(e){return{type:t.CHANGE_SECONDS,payload:e}}setTime(e){return{type:t.SET_TIME_UNIT,payload:e}}updateControls(e){return{type:t.UPDATE_CONTROLS,payload:e}}}return t.WRITE_VALUE="[timepicker] write value from ng model",t.CHANGE_HOURS="[timepicker] change hours",t.CHANGE_MINUTES="[timepicker] change minutes",t.CHANGE_SECONDS="[timepicker] change seconds",t.SET_TIME_UNIT="[timepicker] set time unit",t.UPDATE_CONTROLS="[timepicker] update controls",t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const $Z=10,jZ=24,VR=12,UZ=60,YZ=60;function Vw(t){return!(!t||t instanceof Date&&isNaN(t.getHours()))&&("string"!=typeof t||Vw(new Date(t)))}function Bw(t,n){return!(t.min&&n<t.min||t.max&&n>t.max)}function _l(t){return typeof t>"u"?NaN:"number"==typeof t?t:parseInt(t,$Z)}function BR(t,n=!1){const e=_l(t);return isNaN(e)||e<0||e>(n?VR:jZ)?NaN:e}function HR(t){const n=_l(t);return isNaN(n)||n<0||n>UZ?NaN:n}function $R(t){const n=_l(t);return isNaN(n)||n<0||n>YZ?NaN:n}function jR(t){return"string"==typeof t?new Date(t):t}function is(t,n){if(!t)return is(Hm(new Date,0,0,0),n);if(!n)return t;let e=t.getHours(),i=t.getMinutes(),r=t.getSeconds();return n.hour&&(e+=_l(n.hour)),n.minute&&(i+=_l(n.minute)),n.seconds&&(r+=_l(n.seconds)),Hm(t,e,i,r)}function UR(t,n){let e=BR(n.hour);const i=HR(n.minute),r=$R(n.seconds)||0;return n.isPM&&12!==e&&(e+=VR),t?isNaN(e)||isNaN(i)?t:Hm(t,e,i,r):isNaN(e)||isNaN(i)?t:Hm(new Date,e,i,r)}function Hm(t,n,e,i){const r=new Date(t.getFullYear(),t.getMonth(),t.getDate(),n,e,i,t.getMilliseconds());return r.setFullYear(t.getFullYear()),r.setMonth(t.getMonth()),r.setDate(t.getDate()),r}function Hw(t){const n=t.toString();return n.length>1?n:`0${n}`}function YR(t,n){return!isNaN(BR(t,n))}function zR(t){return!isNaN(HR(t))}function qR(t){return!isNaN($R(t))}function WR(t,n="0",e="0",i){return YR(t,i)&&zR(n)&&qR(e)}function $m(t,n){return!(t.readonlyInput||t.disabled||n&&("wheel"===n.source&&!t.mousewheel||"key"===n.source&&!t.arrowkeys))}function GR(t){const{hourStep:n,minuteStep:e,secondsStep:i,readonlyInput:r,disabled:s,mousewheel:o,arrowkeys:a,showSpinners:l,showMeridian:u,showSeconds:c,meridians:d,min:f,max:h}=t;return{hourStep:n,minuteStep:e,secondsStep:i,readonlyInput:r,disabled:s,mousewheel:o,arrowkeys:a,showSpinners:l,showMeridian:u,showSeconds:c,meridians:d,min:f,max:h}}let ZR=(()=>{class t{constructor(){this.hourStep=1,this.minuteStep=5,this.secondsStep=10,this.showMeridian=!0,this.meridians=["AM","PM"],this.readonlyInput=!1,this.disabled=!1,this.allowEmptyTime=!1,this.mousewheel=!0,this.arrowkeys=!0,this.showSpinners=!0,this.showSeconds=!1,this.showMinutes=!0,this.hoursPlaceholder="HH",this.minutesPlaceholder="MM",this.secondsPlaceholder="SS",this.ariaLabelHours="hours",this.ariaLabelMinutes="minutes",this.ariaLabelSeconds="seconds"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const QR={value:void 0,config:new ZR,controls:{canIncrementHours:!0,canIncrementMinutes:!0,canIncrementSeconds:!0,canDecrementHours:!0,canDecrementMinutes:!0,canDecrementSeconds:!0,canToggleMeridian:!0}};function KR(t=QR,n){switch(n.type){case Yo.WRITE_VALUE:return Object.assign({},t,{value:n.payload});case Yo.CHANGE_HOURS:{if(!$m(t.config,n.payload)||!function WZ(t,n){return!(!t.step||t.step>0&&!n.canIncrementHours||t.step<0&&!n.canDecrementHours)}(n.payload,t.controls))return t;const e=is(t.value,{hour:n.payload.step});return!t.config.max&&!t.config.min||Bw(t.config,e)?Object.assign({},t,{value:e}):t}case Yo.CHANGE_MINUTES:{if(!$m(t.config,n.payload)||!function GZ(t,n){return!(!t.step||t.step>0&&!n.canIncrementMinutes||t.step<0&&!n.canDecrementMinutes)}(n.payload,t.controls))return t;const e=is(t.value,{minute:n.payload.step});return!t.config.max&&!t.config.min||Bw(t.config,e)?Object.assign({},t,{value:e}):t}case Yo.CHANGE_SECONDS:{if(!$m(t.config,n.payload)||!function ZZ(t,n){return!(!t.step||t.step>0&&!n.canIncrementSeconds||t.step<0&&!n.canDecrementSeconds)}(n.payload,t.controls))return t;const e=is(t.value,{seconds:n.payload.step});return!t.config.max&&!t.config.min||Bw(t.config,e)?Object.assign({},t,{value:e}):t}case Yo.SET_TIME_UNIT:{if(!$m(t.config))return t;const e=UR(t.value,n.payload);return Object.assign({},t,{value:e})}case Yo.UPDATE_CONTROLS:{const e=function QZ(t,n){const{min:r,max:s,hourStep:o,minuteStep:a,secondsStep:l,showSeconds:u}=n,c={canIncrementHours:!0,canIncrementMinutes:!0,canIncrementSeconds:!0,canDecrementHours:!0,canDecrementMinutes:!0,canDecrementSeconds:!0,canToggleMeridian:!0};if(!t)return c;if(s){const d=is(t,{hour:o});if(c.canIncrementHours=s>d&&t.getHours()+o<24,!c.canIncrementHours){const f=is(t,{minute:a});c.canIncrementMinutes=u?s>f:s>=f}if(!c.canIncrementMinutes){const f=is(t,{seconds:l});c.canIncrementSeconds=s>=f}t.getHours()<12&&(c.canToggleMeridian=is(t,{hour:12})<s)}if(r){const d=is(t,{hour:-o});if(c.canDecrementHours=r<d,!c.canDecrementHours){const f=is(t,{minute:-a});c.canDecrementMinutes=u?r<f:r<=f}if(!c.canDecrementMinutes){const f=is(t,{seconds:-l});c.canDecrementSeconds=r<=f}t.getHours()>=12&&(c.canToggleMeridian=is(t,{hour:-12})>r)}return c}(t.value,n.payload),i={value:t.value,config:n.payload,controls:e};return t.config.showMeridian!==i.config.showMeridian&&t.value&&(i.value=new Date(t.value)),Object.assign({},t,i)}default:return t}}let jm=(()=>{class t extends Bm{constructor(){const e=new yi({type:"[mini-ngrx] dispatcher init"});super(e,KR,new PR(QR,e,KR))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const KZ={provide:Sr,useExisting:Ut(()=>Um),multi:!0};let Um=(()=>{class t{constructor(e,i,r,s){this._cd=i,this._store=r,this._timepickerActions=s,this.hourStep=1,this.minuteStep=5,this.secondsStep=10,this.readonlyInput=!1,this.disabled=!1,this.mousewheel=!0,this.arrowkeys=!0,this.showSpinners=!0,this.showMeridian=!0,this.showMinutes=!0,this.showSeconds=!1,this.meridians=["AM","PM"],this.hoursPlaceholder="HH",this.minutesPlaceholder="MM",this.secondsPlaceholder="SS",this.isValid=new Me,this.meridianChange=new Me,this.hours="",this.minutes="",this.seconds="",this.meridian="",this.invalidHours=!1,this.invalidMinutes=!1,this.invalidSeconds=!1,this.labelHours="hours",this.labelMinutes="minutes",this.labelSeconds="seconds",this.canIncrementHours=!0,this.canIncrementMinutes=!0,this.canIncrementSeconds=!0,this.canDecrementHours=!0,this.canDecrementMinutes=!0,this.canDecrementSeconds=!0,this.canToggleMeridian=!0,this.onChange=Function.prototype,this.onTouched=Function.prototype,this.config=e,Object.assign(this,this.config),this.timepickerSub=r.select(o=>o.value).subscribe(o=>{this._renderTime(o),this.onChange(o),this._store.dispatch(this._timepickerActions.updateControls(GR(this)))}),r.select(o=>o.controls).subscribe(o=>{const a=WR(this.hours,this.minutes,this.seconds,this.isPM()),l=this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||a;this.isValid.emit(l),Object.assign(this,o),i.markForCheck()})}get isSpinnersVisible(){return this.showSpinners&&!this.readonlyInput}get isEditable(){return!(this.readonlyInput||this.disabled)}resetValidation(){this.invalidHours=!1,this.invalidMinutes=!1,this.invalidSeconds=!1}isPM(){return this.showMeridian&&this.meridian===this.meridians[1]}prevDef(e){e.preventDefault()}wheelSign(e){return-1*Math.sign(e.deltaY||0)}ngOnChanges(){this._store.dispatch(this._timepickerActions.updateControls(GR(this)))}changeHours(e,i=""){this.resetValidation(),this._store.dispatch(this._timepickerActions.changeHours({step:e,source:i}))}changeMinutes(e,i=""){this.resetValidation(),this._store.dispatch(this._timepickerActions.changeMinutes({step:e,source:i}))}changeSeconds(e,i=""){this.resetValidation(),this._store.dispatch(this._timepickerActions.changeSeconds({step:e,source:i}))}updateHours(e){this.resetValidation(),this.hours=e.value;const i=YR(this.hours,this.isPM())&&this.isValidLimit();if(!(this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||i))return this.invalidHours=!0,this.isValid.emit(!1),void this.onChange(null);this._updateTime()}updateMinutes(e){this.resetValidation(),this.minutes=e.value;const i=zR(this.minutes)&&this.isValidLimit();if(!(this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||i))return this.invalidMinutes=!0,this.isValid.emit(!1),void this.onChange(null);this._updateTime()}updateSeconds(e){this.resetValidation(),this.seconds=e.value;const i=qR(this.seconds)&&this.isValidLimit();if(!(this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||i))return this.invalidSeconds=!0,this.isValid.emit(!1),void this.onChange(null);this._updateTime()}isValidLimit(){return function zZ(t,n,e){const i=UR(new Date,t);return!(!i||n&&i>n||e&&i<e)}({hour:this.hours,minute:this.minutes,seconds:this.seconds,isPM:this.isPM()},this.max,this.min)}isOneOfDatesIsEmpty(){return function qZ(t,n,e){return 0===t.length||0===n.length||0===e.length}(this.hours,this.minutes,this.seconds)}_updateTime(){const r=WR(this.hours,this.showMinutes?this.minutes:void 0,this.showSeconds?this.seconds:void 0,this.isPM());if(!(this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||r))return this.isValid.emit(!1),void this.onChange(null);this._store.dispatch(this._timepickerActions.setTime({hour:this.hours,minute:this.minutes,seconds:this.seconds,isPM:this.isPM()}))}toggleMeridian(){this.showMeridian&&this.isEditable&&this._store.dispatch(this._timepickerActions.changeHours({step:12,source:""}))}writeValue(e){Vw(e)?(this.resetValidation(),this._store.dispatch(this._timepickerActions.writeValue(jR(e)))):null==e&&this._store.dispatch(this._timepickerActions.writeValue())}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e,this._cd.markForCheck()}ngOnDestroy(){this.timepickerSub?.unsubscribe()}_renderTime(e){if(!e||!Vw(e))return this.hours="",this.minutes="",this.seconds="",this.meridian=this.meridians[0],void this.meridianChange.emit(this.meridian);const i=jR(e);if(!i)return;let s=i.getHours();this.showMeridian&&(this.meridian=this.meridians[s>=12?1:0],this.meridianChange.emit(this.meridian),s%=12,0===s&&(s=12)),this.hours=Hw(s),this.minutes=Hw(i.getMinutes()),this.seconds=Hw(i.getUTCSeconds())}}return t.\u0275fac=function(e){return new(e||t)(D(ZR),D(Co),D(jm),D(Yo))},t.\u0275cmp=He({type:t,selectors:[["timepicker"]],inputs:{hourStep:"hourStep",minuteStep:"minuteStep",secondsStep:"secondsStep",readonlyInput:"readonlyInput",disabled:"disabled",mousewheel:"mousewheel",arrowkeys:"arrowkeys",showSpinners:"showSpinners",showMeridian:"showMeridian",showMinutes:"showMinutes",showSeconds:"showSeconds",meridians:"meridians",min:"min",max:"max",hoursPlaceholder:"hoursPlaceholder",minutesPlaceholder:"minutesPlaceholder",secondsPlaceholder:"secondsPlaceholder"},outputs:{isValid:"isValid",meridianChange:"meridianChange"},features:[Kt([KZ,jm]),Hi],decls:31,vars:33,consts:[[1,"text-center",3,"hidden"],["href","javascript:void(0);",1,"btn","btn-link",3,"click"],[1,"bs-chevron","bs-chevron-up"],[4,"ngIf"],[1,"form-group","mb-3"],["type","text","maxlength","2",1,"form-control","text-center","bs-timepicker-field",3,"placeholder","readonly","disabled","value","wheel","keydown.ArrowUp","keydown.ArrowDown","change"],["class","form-group mb-3",3,"has-error",4,"ngIf"],[1,"bs-chevron","bs-chevron-down"],["type","button",1,"btn","btn-default","text-center",3,"disabled","click"]],template:function(e,i){1&e&&(_(0,"table")(1,"tbody")(2,"tr",0)(3,"td")(4,"a",1),F("click",function(){return i.changeHours(i.hourStep)}),Se(5,"span",2),g()(),V(6,DZ,2,0,"td",3),V(7,TZ,3,2,"td",3),V(8,kZ,2,0,"td",3),V(9,MZ,3,2,"td",3),V(10,SZ,2,0,"td",3),V(11,EZ,1,0,"td",3),g(),_(12,"tr")(13,"td",4)(14,"input",5),F("wheel",function(s){return i.prevDef(s),i.changeHours(i.hourStep*i.wheelSign(s),"wheel")})("keydown.ArrowUp",function(){return i.changeHours(i.hourStep,"key")})("keydown.ArrowDown",function(){return i.changeHours(-i.hourStep,"key")})("change",function(s){return i.updateHours(s.target)}),g()(),V(15,OZ,2,0,"td",3),V(16,IZ,2,9,"td",6),V(17,AZ,2,0,"td",3),V(18,RZ,2,9,"td",6),V(19,xZ,2,0,"td",3),V(20,FZ,3,4,"td",3),g(),_(21,"tr",0)(22,"td")(23,"a",1),F("click",function(){return i.changeHours(-i.hourStep)}),Se(24,"span",7),g()(),V(25,NZ,2,0,"td",3),V(26,LZ,3,2,"td",3),V(27,PZ,2,0,"td",3),V(28,VZ,3,2,"td",3),V(29,BZ,2,0,"td",3),V(30,HZ,1,0,"td",3),g()()()),2&e&&(m(2),y("hidden",!i.showSpinners),m(2),st("disabled",!i.canIncrementHours||!i.isEditable),m(2),y("ngIf",i.showMinutes),m(1),y("ngIf",i.showMinutes),m(1),y("ngIf",i.showSeconds),m(1),y("ngIf",i.showSeconds),m(1),y("ngIf",i.showMeridian),m(1),y("ngIf",i.showMeridian),m(2),st("has-error",i.invalidHours),m(1),st("is-invalid",i.invalidHours),y("placeholder",i.hoursPlaceholder)("readonly",i.readonlyInput)("disabled",i.disabled)("value",i.hours),qn("aria-label",i.labelHours),m(1),y("ngIf",i.showMinutes),m(1),y("ngIf",i.showMinutes),m(1),y("ngIf",i.showSeconds),m(1),y("ngIf",i.showSeconds),m(1),y("ngIf",i.showMeridian),m(1),y("ngIf",i.showMeridian),m(1),y("hidden",!i.showSpinners),m(2),st("disabled",!i.canDecrementHours||!i.isEditable),m(2),y("ngIf",i.showMinutes),m(1),y("ngIf",i.showMinutes),m(1),y("ngIf",i.showSeconds),m(1),y("ngIf",i.showSeconds),m(1),y("ngIf",i.showMeridian),m(1),y("ngIf",i.showMeridian))},dependencies:[Jt],styles:[".bs-chevron{border-style:solid;display:block;width:9px;height:9px;position:relative;border-width:3px 0px 0 3px}.bs-chevron-up{transform:rotate(45deg);top:2px}.bs-chevron-down{transform:rotate(-135deg);top:-2px}.bs-timepicker-field{width:65px;padding:.375rem .55rem}\n"],encapsulation:2,changeDetection:0}),t})(),JR=(()=>{class t{static forRoot(){return{ngModule:t,providers:[Yo,jm]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=_i({type:t}),t.\u0275inj=ai({providers:[jm],imports:[gu]}),t})();class uf{}class JZ{}const zo="*";function rc(t,n=null){return{type:4,styles:n,timings:t}}function XR(t,n=null){return{type:2,steps:t,options:n}}function rs(t){return{type:6,styles:t,offset:null}}function ex(t,n,e){return{type:0,name:t,styles:n,options:e}}function $w(t,n,e=null){return{type:1,expr:t,animation:n,options:e}}function tx(t){Promise.resolve().then(t)}class cf{constructor(n=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){tx(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class nx{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let e=0,i=0,r=0;const s=this.players.length;0==s?tx(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++e==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){const e=n*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const n=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=n?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const jw="!";function eQ(t,n){if(1&t){const e=Fe();_(0,"button",2),F("click",function(){const s=H(e).$implicit;return $(w().selectFromRanges(s))}),S(1),g()}if(2&t){const e=n.$implicit,i=w();st("selected",e.value===i.selectedRange),m(1),qt(" ",e.label," ")}}function tQ(t,n){1&t&&Se(0,"bs-current-date",4)}function nQ(t,n){1&t&&Se(0,"bs-timepicker")}const iQ=[[["bs-datepicker-navigation-view"]],"*"],rQ=["bs-datepicker-navigation-view","*"],sQ=["bsDatepickerDayDecorator",""];function oQ(t,n){if(1&t){const e=Fe();Hn(0),S(1," \u200b "),_(2,"button",2),F("click",function(){return H(e),$(w().view("month"))}),_(3,"span"),S(4),g()(),$n()}if(2&t){const e=w();m(2),y("disabled",e.isDisabled),m(2),it(e.calendar.monthTitle)}}function aQ(t,n){1&t&&Se(0,"th")}function lQ(t,n){if(1&t&&(_(0,"th",5),S(1),g()),2&t){const e=n.index,i=w();m(1),qt("",i.calendar.weekdays[e]," ")}}function uQ(t,n){if(1&t){const e=Fe();_(0,"span",11),F("click",function(){H(e);const r=w(2).$implicit;return $(w().selectWeek(r))}),S(1),g()}if(2&t){const e=w(2).index,i=w();m(1),it(i.calendar.weekNumbers[e])}}function cQ(t,n){if(1&t){const e=Fe();_(0,"span",12),F("click",function(){H(e);const r=w(2).$implicit;return $(w().selectWeek(r))})("mouseenter",function(){H(e);const r=w(2).$implicit;return $(w().weekHoverHandler(r,!0))})("mouseleave",function(){H(e);const r=w(2).$implicit;return $(w().weekHoverHandler(r,!1))}),S(1),g()}if(2&t){const e=w(2).index,i=w();m(1),it(i.calendar.weekNumbers[e])}}function dQ(t,n){if(1&t&&(_(0,"td",8),V(1,uQ,2,1,"span",9),V(2,cQ,2,1,"span",10),g()),2&t){const e=w(2);st("active-week",e.isWeekHovered),m(1),y("ngIf",e.isiOS),m(1),y("ngIf",!e.isiOS)}}function fQ(t,n){if(1&t){const e=Fe();_(0,"span",17),F("click",function(){H(e);const r=w().$implicit;return $(w(2).selectDay(r))})("mouseenter",function(){H(e);const r=w().$implicit;return $(w(2).hoverDay(r,!0))})("mouseleave",function(){H(e);const r=w().$implicit;return $(w(2).hoverDay(r,!1))}),S(1),g()}if(2&t){const e=w().$implicit;gh("tooltip",e.tooltipText),y("day",e),m(1),qt("",e.label," 3")}}function hQ(t,n){if(1&t){const e=Fe();_(0,"span",18),F("click",function(){H(e);const r=w().$implicit;return $(w(2).selectDay(r))})("mouseenter",function(){H(e);const r=w().$implicit;return $(w(2).hoverDay(r,!0))})("mouseleave",function(){H(e);const r=w().$implicit;return $(w(2).hoverDay(r,!1))}),S(1),g()}if(2&t){const e=w().$implicit;y("day",e),m(1),qt("",e.label," 2")}}function pQ(t,n){if(1&t){const e=Fe();_(0,"span",19),F("click",function(){H(e);const r=w().$implicit;return $(w(2).selectDay(r))}),S(1),g()}if(2&t){const e=w().$implicit;y("day",e),m(1),qt("",e.label," 1")}}function mQ(t,n){if(1&t&&(_(0,"td",13),V(1,fQ,2,3,"span",14),V(2,hQ,2,2,"span",15),V(3,pQ,2,2,"span",16),g()),2&t){const e=w(2);m(1),y("ngIf",!e.isiOS&&e.isShowTooltip),m(1),y("ngIf",!e.isiOS&&!e.isShowTooltip),m(1),y("ngIf",e.isiOS)}}function _Q(t,n){if(1&t&&(_(0,"tr"),V(1,dQ,3,4,"td",6),V(2,mQ,4,3,"td",7),g()),2&t){const e=n.$implicit,i=w();m(1),y("ngIf",i.options&&i.options.showWeekNumbers),m(1),y("ngForOf",e.days)}}function gQ(t,n){if(1&t){const e=Fe();_(0,"td",4),F("click",function(){const s=H(e).$implicit;return $(w(2).viewMonth(s))})("mouseenter",function(){const s=H(e).$implicit;return $(w(2).hoverMonth(s,!0))})("mouseleave",function(){const s=H(e).$implicit;return $(w(2).hoverMonth(s,!1))}),_(1,"span"),S(2),g()()}if(2&t){const e=n.$implicit;st("disabled",e.isDisabled)("is-highlighted",e.isHovered),m(1),st("selected",e.isSelected),m(1),it(e.label)}}function yQ(t,n){if(1&t&&(_(0,"tr"),V(1,gQ,3,7,"td",3),g()),2&t){const e=n.$implicit;m(1),y("ngForOf",e)}}function vQ(t,n){if(1&t){const e=Fe();_(0,"td",4),F("click",function(){const s=H(e).$implicit;return $(w(2).viewYear(s))})("mouseenter",function(){const s=H(e).$implicit;return $(w(2).hoverYear(s,!0))})("mouseleave",function(){const s=H(e).$implicit;return $(w(2).hoverYear(s,!1))}),_(1,"span"),S(2),g()()}if(2&t){const e=n.$implicit;st("disabled",e.isDisabled)("is-highlighted",e.isHovered),m(1),st("selected",e.isSelected),m(1),it(e.label)}}function bQ(t,n){if(1&t&&(_(0,"tr"),V(1,vQ,3,7,"td",3),g()),2&t){const e=n.$implicit;m(1),y("ngForOf",e)}}const ix=["startTP"];function wQ(t,n){if(1&t){const e=Fe();_(0,"bs-days-calendar-view",11),F("onNavigate",function(r){return H(e),$(w(3).navigateTo(r))})("onViewMode",function(r){return H(e),$(w(3).setViewMode(r))})("onHover",function(r){return H(e),$(w(3).dayHoverHandler(r))})("onHoverWeek",function(r){return H(e),$(w(3).weekHoverHandler(r))})("onSelect",function(r){return H(e),$(w(3).daySelectHandler(r))}),fr(1,"async"),g()}if(2&t){const e=n.$implicit,i=w(3);st("bs-datepicker-multiple",i.multipleCalendars),y("calendar",e)("isDisabled",i.isDatePickerDisabled)("options",hr(1,5,i.options$))}}function CQ(t,n){1&t&&Se(0,"timepicker",13,16),2&t&&y("disabled",w(4).isDatePickerDisabled)}function DQ(t,n){if(1&t&&(_(0,"div",12),Se(1,"timepicker",13,14),V(3,CQ,2,1,"timepicker",15),g()),2&t){const e=w(3);m(1),y("disabled",e.isDatePickerDisabled),m(2),y("ngIf",e.isRangePicker)}}function TQ(t,n){if(1&t&&(Hn(0),_(1,"div",8),V(2,wQ,2,7,"bs-days-calendar-view",9),fr(3,"async"),g(),V(4,DQ,4,2,"div",10),$n()),2&t){const e=w(2);m(2),y("ngForOf",hr(3,2,e.daysCalendar$)),m(2),y("ngIf",e.withTimepicker)}}function kQ(t,n){if(1&t){const e=Fe();_(0,"bs-month-calendar-view",18),F("onNavigate",function(r){return H(e),$(w(3).navigateTo(r))})("onViewMode",function(r){return H(e),$(w(3).setViewMode(r))})("onHover",function(r){return H(e),$(w(3).monthHoverHandler(r))})("onSelect",function(r){return H(e),$(w(3).monthSelectHandler(r))}),g()}if(2&t){const e=n.$implicit;st("bs-datepicker-multiple",w(3).multipleCalendars),y("calendar",e)}}function MQ(t,n){if(1&t&&(_(0,"div",8),V(1,kQ,1,3,"bs-month-calendar-view",17),fr(2,"async"),g()),2&t){const e=w(2);m(1),y("ngForOf",hr(2,1,e.monthsCalendar))}}function SQ(t,n){if(1&t){const e=Fe();_(0,"bs-years-calendar-view",18),F("onNavigate",function(r){return H(e),$(w(3).navigateTo(r))})("onViewMode",function(r){return H(e),$(w(3).setViewMode(r))})("onHover",function(r){return H(e),$(w(3).yearHoverHandler(r))})("onSelect",function(r){return H(e),$(w(3).yearSelectHandler(r))}),g()}if(2&t){const e=n.$implicit;st("bs-datepicker-multiple",w(3).multipleCalendars),y("calendar",e)}}function EQ(t,n){if(1&t&&(_(0,"div",8),V(1,SQ,1,3,"bs-years-calendar-view",17),fr(2,"async"),g()),2&t){const e=w(2);m(1),y("ngForOf",hr(2,1,e.yearsCalendar))}}function OQ(t,n){1&t&&(_(0,"div",19)(1,"button",20),S(2,"Apply"),g(),_(3,"button",21),S(4,"Cancel"),g()())}function IQ(t,n){if(1&t){const e=Fe();_(0,"div",24)(1,"button",25),F("click",function(){return H(e),$(w(3).setToday())}),S(2),g()()}if(2&t){const e=w(3);st("today-left","left"===e.todayPos)("today-right","right"===e.todayPos)("today-center","center"===e.todayPos),m(2),it(e.todayBtnLbl)}}function AQ(t,n){if(1&t){const e=Fe();_(0,"div",26)(1,"button",25),F("click",function(){return H(e),$(w(3).clearDate())}),S(2),g()()}if(2&t){const e=w(3);st("clear-left","left"===e.clearPos)("clear-right","right"===e.clearPos)("clear-center","center"===e.clearPos),m(2),it(e.clearBtnLbl)}}function RQ(t,n){if(1&t&&(_(0,"div",19),V(1,IQ,3,7,"div",22),V(2,AQ,3,7,"div",23),g()),2&t){const e=w(2);m(1),y("ngIf",e.showTodayBtn),m(1),y("ngIf",e.showClearBtn)}}function xQ(t,n){if(1&t){const e=Fe();_(0,"div",27)(1,"bs-custom-date-view",28),F("onSelect",function(r){return H(e),$(w(2).setRangeOnCalendar(r))}),g()()}if(2&t){const e=w(2);m(1),y("selectedRange",e.chosenRange)("ranges",e.customRanges)("customRangeLabel",e.customRangeBtnLbl)}}function FQ(t,n){if(1&t){const e=Fe();_(0,"div",1)(1,"div",2),F("@datepickerAnimation.done",function(){return H(e),$(w().positionServiceEnable())}),_(2,"div",3),fr(3,"async"),V(4,TQ,5,4,"ng-container",4),V(5,MQ,3,3,"div",5),V(6,EQ,3,3,"div",5),g(),V(7,OQ,5,0,"div",6),V(8,RQ,3,2,"div",6),g(),V(9,xQ,2,3,"div",7),g()}if(2&t){const e=w();y("ngClass",e.containerClass),m(1),y("@datepickerAnimation",e.animationState),m(1),y("ngSwitch",hr(3,9,e.viewMode)),m(2),y("ngSwitchCase","day"),m(1),y("ngSwitchCase","month"),m(1),y("ngSwitchCase","year"),m(1),y("ngIf",!1),m(1),y("ngIf",e.showTodayBtn||e.showClearBtn),m(1),y("ngIf",e.customRanges&&e.customRanges.length>0)}}const GQ=["endTP"];function ZQ(t,n){if(1&t){const e=Fe();_(0,"bs-days-calendar-view",11),F("onNavigate",function(r){return H(e),$(w(3).navigateTo(r))})("onViewMode",function(r){return H(e),$(w(3).setViewMode(r))})("onHover",function(r){return H(e),$(w(3).dayHoverHandler(r))})("onHoverWeek",function(r){return H(e),$(w(3).weekHoverHandler(r))})("onSelect",function(r){return H(e),$(w(3).daySelectHandler(r))}),fr(1,"async"),g()}if(2&t){const e=n.$implicit,i=w(3);st("bs-datepicker-multiple",i.multipleCalendars),y("calendar",e)("isDisabled",i.isDatePickerDisabled)("options",hr(1,5,i.options$))}}function QQ(t,n){1&t&&Se(0,"timepicker",13,16),2&t&&y("disabled",w(4).isDatePickerDisabled)}function KQ(t,n){if(1&t&&(_(0,"div",12),Se(1,"timepicker",13,14),V(3,QQ,2,1,"timepicker",15),g()),2&t){const e=w(3);m(1),y("disabled",e.isDatePickerDisabled),m(2),y("ngIf",e.isRangePicker)}}function JQ(t,n){if(1&t&&(Hn(0),_(1,"div",8),V(2,ZQ,2,7,"bs-days-calendar-view",9),fr(3,"async"),g(),V(4,KQ,4,2,"div",10),$n()),2&t){const e=w(2);m(2),y("ngForOf",hr(3,2,e.daysCalendar$)),m(2),y("ngIf",e.withTimepicker)}}function XQ(t,n){if(1&t){const e=Fe();_(0,"bs-month-calendar-view",18),F("onNavigate",function(r){return H(e),$(w(3).navigateTo(r))})("onViewMode",function(r){return H(e),$(w(3).setViewMode(r))})("onHover",function(r){return H(e),$(w(3).monthHoverHandler(r))})("onSelect",function(r){return H(e),$(w(3).monthSelectHandler(r))}),g()}if(2&t){const e=n.$implicit;st("bs-datepicker-multiple",w(3).multipleCalendars),y("calendar",e)}}function eK(t,n){if(1&t&&(_(0,"div",8),V(1,XQ,1,3,"bs-month-calendar-view",17),fr(2,"async"),g()),2&t){const e=w(2);m(1),y("ngForOf",hr(2,1,e.monthsCalendar))}}function tK(t,n){if(1&t){const e=Fe();_(0,"bs-years-calendar-view",18),F("onNavigate",function(r){return H(e),$(w(3).navigateTo(r))})("onViewMode",function(r){return H(e),$(w(3).setViewMode(r))})("onHover",function(r){return H(e),$(w(3).yearHoverHandler(r))})("onSelect",function(r){return H(e),$(w(3).yearSelectHandler(r))}),g()}if(2&t){const e=n.$implicit;st("bs-datepicker-multiple",w(3).multipleCalendars),y("calendar",e)}}function nK(t,n){if(1&t&&(_(0,"div",8),V(1,tK,1,3,"bs-years-calendar-view",17),fr(2,"async"),g()),2&t){const e=w(2);m(1),y("ngForOf",hr(2,1,e.yearsCalendar))}}function iK(t,n){1&t&&(_(0,"div",19)(1,"button",20),S(2,"Apply"),g(),_(3,"button",21),S(4,"Cancel"),g()())}function rK(t,n){if(1&t){const e=Fe();_(0,"div",24)(1,"button",25),F("click",function(){return H(e),$(w(3).setToday())}),S(2),g()()}if(2&t){const e=w(3);st("today-left","left"===e.todayPos)("today-right","right"===e.todayPos)("today-center","center"===e.todayPos),m(2),it(e.todayBtnLbl)}}function sK(t,n){if(1&t){const e=Fe();_(0,"div",26)(1,"button",25),F("click",function(){return H(e),$(w(3).clearDate())}),S(2),g()()}if(2&t){const e=w(3);st("clear-left","left"===e.clearPos)("clear-right","right"===e.clearPos)("clear-center","center"===e.clearPos),m(2),it(e.clearBtnLbl)}}function oK(t,n){if(1&t&&(_(0,"div",19),V(1,rK,3,7,"div",22),V(2,sK,3,7,"div",23),g()),2&t){const e=w(2);m(1),y("ngIf",e.showTodayBtn),m(1),y("ngIf",e.showClearBtn)}}function aK(t,n){if(1&t){const e=Fe();_(0,"div",27)(1,"bs-custom-date-view",28),F("onSelect",function(r){return H(e),$(w(2).setRangeOnCalendar(r))}),g()()}if(2&t){const e=w(2);m(1),y("selectedRange",e.chosenRange)("ranges",e.customRanges)("customRangeLabel",e.customRangeBtnLbl)}}function lK(t,n){if(1&t){const e=Fe();_(0,"div",1)(1,"div",2),F("@datepickerAnimation.done",function(){return H(e),$(w().positionServiceEnable())}),_(2,"div",3),fr(3,"async"),V(4,JQ,5,4,"ng-container",4),V(5,eK,3,3,"div",5),V(6,nK,3,3,"div",5),g(),V(7,iK,5,0,"div",6),V(8,oK,3,2,"div",6),g(),V(9,aK,2,3,"div",7),g()}if(2&t){const e=w();y("ngClass",e.containerClass),m(1),y("@datepickerAnimation",e.animationState),m(1),y("ngSwitch",hr(3,9,e.viewMode)),m(2),y("ngSwitchCase","day"),m(1),y("ngSwitchCase","month"),m(1),y("ngSwitchCase","year"),m(1),y("ngIf",!1),m(1),y("ngIf",e.showTodayBtn||e.showClearBtn),m(1),y("ngIf",e.customRanges&&e.customRanges.length>0)}}let qo=(()=>{class t{constructor(){this.adaptivePosition=!1,this.useUtc=!1,this.isAnimated=!1,this.startView="day",this.returnFocusToInput=!1,this.containerClass="theme-green",this.displayMonths=1,this.showWeekNumbers=!0,this.dateInputFormat="L",this.rangeSeparator=" - ",this.rangeInputFormat="L",this.monthTitle="MMMM",this.yearTitle="YYYY",this.dayLabel="D",this.monthLabel="MMMM",this.yearLabel="YYYY",this.weekNumbers="w",this.showTodayButton=!1,this.showClearButton=!1,this.todayPosition="center",this.clearPosition="right",this.todayButtonLabel="Today",this.clearButtonLabel="Clear",this.customRangeButtonLabel="Custom Range",this.withTimepicker=!1,this.allowedPositions=["top","bottom"],this.keepDatepickerOpened=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const rx="220ms cubic-bezier(0, 0, 0.2, 1)",sx=function XZ(t,n){return{type:7,name:t,definitions:n,options:{}}}("datepickerAnimation",[ex("animated-down",rs({height:"*",overflow:"hidden"})),$w("* => animated-down",[rs({height:0,overflow:"hidden"}),rc(rx)]),ex("animated-up",rs({height:"*",overflow:"hidden"})),$w("* => animated-up",[rs({height:"*",overflow:"hidden"}),rc(rx)]),$w("* => unanimated",rc("0s"))]);class ox{constructor(){this.containerClass="",this.customRanges=[],this.chosenRange=[],this._daysCalendarSub=new ve,this.selectedTimeSub=new ve}set minDate(n){this._effects?.setMinDate(n)}set maxDate(n){this._effects?.setMaxDate(n)}set daysDisabled(n){this._effects?.setDaysDisabled(n)}set datesDisabled(n){this._effects?.setDatesDisabled(n)}set datesEnabled(n){this._effects?.setDatesEnabled(n)}set isDisabled(n){this._effects?.setDisabled(n)}set dateCustomClasses(n){this._effects?.setDateCustomClasses(n)}set dateTooltipTexts(n){this._effects?.setDateTooltipTexts(n)}set daysCalendar$(n){this._daysCalendar$=n,this._daysCalendarSub.unsubscribe(),this._daysCalendarSub.add(this._daysCalendar$.subscribe(e=>{this.multipleCalendars=!!e&&e.length>1}))}get daysCalendar$(){return this._daysCalendar$}setViewMode(n){}navigateTo(n){}dayHoverHandler(n){}weekHoverHandler(n){}monthHoverHandler(n){}yearHoverHandler(n){}timeSelectHandler(n,e){}daySelectHandler(n){}monthSelectHandler(n){}yearSelectHandler(n){}setRangeOnCalendar(n){}setToday(){}clearDate(){}_stopPropagation(n){n.stopPropagation()}}let ni=(()=>{class t{calculate(){return{type:t.CALCULATE}}format(){return{type:t.FORMAT}}flag(){return{type:t.FLAG}}select(e){return{type:t.SELECT,payload:e}}selectTime(e,i){return{type:t.SELECT_TIME,payload:{date:e,index:i}}}changeViewMode(e){return{type:t.CHANGE_VIEWMODE,payload:e}}navigateTo(e){return{type:t.NAVIGATE_TO,payload:e}}navigateStep(e){return{type:t.NAVIGATE_OFFSET,payload:e}}setOptions(e){return{type:t.SET_OPTIONS,payload:e}}selectRange(e){return{type:t.SELECT_RANGE,payload:e}}hoverDay(e){return{type:t.HOVER,payload:e.isHovered?e.cell.date:null}}minDate(e){return{type:t.SET_MIN_DATE,payload:e}}maxDate(e){return{type:t.SET_MAX_DATE,payload:e}}daysDisabled(e){return{type:t.SET_DAYSDISABLED,payload:e}}datesDisabled(e){return{type:t.SET_DATESDISABLED,payload:e}}datesEnabled(e){return{type:t.SET_DATESENABLED,payload:e}}isDisabled(e){return{type:t.SET_IS_DISABLED,payload:e}}setDateCustomClasses(e){return{type:t.SET_DATE_CUSTOM_CLASSES,payload:e}}setDateTooltipTexts(e){return{type:t.SET_DATE_TOOLTIP_TEXTS,payload:e}}setLocale(e){return{type:t.SET_LOCALE,payload:e}}}return t.CALCULATE="[datepicker] calculate dates matrix",t.FORMAT="[datepicker] format datepicker values",t.FLAG="[datepicker] set flags",t.SELECT="[datepicker] select date",t.NAVIGATE_OFFSET="[datepicker] shift view date",t.NAVIGATE_TO="[datepicker] change view date",t.SET_OPTIONS="[datepicker] update render options",t.HOVER="[datepicker] hover date",t.CHANGE_VIEWMODE="[datepicker] switch view mode",t.SET_MIN_DATE="[datepicker] set min date",t.SET_MAX_DATE="[datepicker] set max date",t.SET_DAYSDISABLED="[datepicker] set days disabled",t.SET_DATESDISABLED="[datepicker] set dates disabled",t.SET_DATESENABLED="[datepicker] set dates enabled",t.SET_IS_DISABLED="[datepicker] set is disabled",t.SET_DATE_CUSTOM_CLASSES="[datepicker] set date custom classes",t.SET_DATE_TOOLTIP_TEXTS="[datepicker] set date tooltip texts",t.SET_LOCALE="[datepicker] set datepicker locale",t.SELECT_TIME="[datepicker] select time",t.SELECT_RANGE="[daterangepicker] select dates range",t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),Ym=(()=>{class t{constructor(){this._defaultLocale="en",this._locale=new yi(this._defaultLocale),this._localeChange=this._locale.asObservable()}get locale(){return this._locale}get localeChange(){return this._localeChange}get currentLocale(){return this._locale.getValue()}use(e){e!==this.currentLocale&&this._locale.next(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),df=(()=>{class t{constructor(e,i){this._actions=e,this._localeService=i,this._subs=[]}init(e){return this._store=e,this}setValue(e){this._store?.dispatch(this._actions.select(e))}setRangeValue(e){this._store?.dispatch(this._actions.selectRange(e))}setMinDate(e){return this._store?.dispatch(this._actions.minDate(e)),this}setMaxDate(e){return this._store?.dispatch(this._actions.maxDate(e)),this}setDaysDisabled(e){return this._store?.dispatch(this._actions.daysDisabled(e)),this}setDatesDisabled(e){return this._store?.dispatch(this._actions.datesDisabled(e)),this}setDatesEnabled(e){return this._store?.dispatch(this._actions.datesEnabled(e)),this}setDisabled(e){return this._store?.dispatch(this._actions.isDisabled(e)),this}setDateCustomClasses(e){return this._store?.dispatch(this._actions.setDateCustomClasses(e)),this}setDateTooltipTexts(e){return this._store?.dispatch(this._actions.setDateTooltipTexts(e)),this}setOptions(e){const i=Object.assign({locale:this._localeService.currentLocale},e);return this._store?.dispatch(this._actions.setOptions(i)),this}setBindings(e){return this._store?(e.selectedTime=this._store.select(i=>i.selectedTime).pipe(Mn(i=>!!i)),e.daysCalendar$=this._store.select(i=>i.flaggedMonths).pipe(Mn(i=>!!i)),e.monthsCalendar=this._store.select(i=>i.flaggedMonthsCalendar).pipe(Mn(i=>!!i)),e.yearsCalendar=this._store.select(i=>i.yearsCalendarFlagged).pipe(Mn(i=>!!i)),e.viewMode=this._store.select(i=>i.view?.mode),e.options$=Rv([this._store.select(i=>i.showWeekNumbers),this._store.select(i=>i.displayMonths)]).pipe(Ae(i=>({showWeekNumbers:i[0],displayMonths:i[1]}))),this):this}setEventHandlers(e){return e.setViewMode=i=>{this._store?.dispatch(this._actions.changeViewMode(i))},e.navigateTo=i=>{this._store?.dispatch(this._actions.navigateStep(i.step))},e.dayHoverHandler=i=>{const r=i.cell;r.isOtherMonth||r.isDisabled||(this._store?.dispatch(this._actions.hoverDay(i)),r.isHovered=i.isHovered)},e.monthHoverHandler=i=>{i.cell.isHovered=i.isHovered},e.yearHoverHandler=i=>{i.cell.isHovered=i.isHovered},this}registerDatepickerSideEffects(){return this._store?(this._subs.push(this._store.select(e=>e.view).subscribe(()=>{this._store?.dispatch(this._actions.calculate())})),this._subs.push(this._store.select(e=>e.monthsModel).pipe(Mn(e=>!!e)).subscribe(()=>this._store?.dispatch(this._actions.format()))),this._subs.push(this._store.select(e=>e.formattedMonths).pipe(Mn(e=>!!e)).subscribe(()=>this._store?.dispatch(this._actions.flag()))),this._subs.push(this._store.select(e=>e.selectedDate).pipe(Mn(e=>!!e)).subscribe(()=>this._store?.dispatch(this._actions.flag()))),this._subs.push(this._store.select(e=>e.selectedRange).pipe(Mn(e=>!!e)).subscribe(()=>this._store?.dispatch(this._actions.flag()))),this._subs.push(this._store.select(e=>e.monthsCalendar).subscribe(()=>this._store?.dispatch(this._actions.flag()))),this._subs.push(this._store.select(e=>e.yearsCalendarModel).pipe(Mn(e=>!!e)).subscribe(()=>this._store?.dispatch(this._actions.flag()))),this._subs.push(this._store.select(e=>e.hoveredDate).pipe(Mn(e=>!!e)).subscribe(()=>this._store?.dispatch(this._actions.flag()))),this._subs.push(this._store.select(e=>e.dateCustomClasses).pipe(Mn(e=>!!e)).subscribe(()=>this._store?.dispatch(this._actions.flag()))),this._subs.push(this._store.select(e=>e.dateTooltipTexts).pipe(Mn(e=>!!e)).subscribe(()=>this._store?.dispatch(this._actions.flag()))),this._subs.push(this._localeService.localeChange.subscribe(e=>this._store?.dispatch(this._actions.setLocale(e)))),this):this}destroy(){for(const e of this._subs)e.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(X(ni),X(Ym))},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const TK={date:new Date,mode:"day"},ax=Object.assign(new qo,{locale:"en",view:TK,selectedRange:[],selectedTime:[],monthViewOptions:{width:7,height:6}});function Uw(t,n,e){const i=n&&no(Rm(t,"month"),n,"day"),r=e&&ks(Uo(t,"month"),e,"day");return i||r||!1}function ff(t,n,e){const i=n&&no(Rm(t,"year"),n,"day"),r=e&&ks(Uo(t,"year"),e,"day");return i||r||!1}function Yw(t,n,e){return!!(n&&En(n)&&n.length)&&(e&&"year"===e&&!n[0].getDate()?n.some(i=>Ku(t,i,"year")):n.some(i=>Ku(t,i,"date")))}function zw(t,n,e){return!!(n&&En(n)&&n.length)&&!n.some(i=>Ku(t,i,e||"date"))}function lx(t,n=0){const e=t&&t.yearsCalendarModel&&t.yearsCalendarModel[n];return e?.years[0]&&e.years[0][0]&&e.years[0][0].date}function SK(t,n){return!t||!n||!t.length&&!t[0].value||t.forEach(e=>(!e||!e.value||e.value instanceof Date||!(e.value instanceof Array&&e.value.length)||(e.value=cx(e.value,n)),t)),t}function ux(t,n){return!t||!n||t instanceof Array&&!t.length||t instanceof Date?t:cx(t,n)}function cx(t,n){return t instanceof Array?t.map(i=>i&&(ks(i,n,"date")&&(i=n),i)):t}function dx(t){return t&&hx(t)}function fx(t){return t?.length&&t.map(n=>n&&hx(n)),t}function hx(t){const n=new Date;return t.setMilliseconds(n.getMilliseconds()),t.setSeconds(n.getSeconds()),t.setMinutes(n.getMinutes()),t.setHours(n.getHours()),t}function qw(t,n){let e=t.initialDate;const i=new Array(t.height);for(let r=0;r<t.height;r++){i[r]=new Array(t.width);for(let s=0;s<t.width;s++)i[r][s]=n(e),e=bi(e,t.shift)}return i}function Ww(t,n){const e=function _7(t){return Tm(t.getFullYear(),t.getMonth(),1,t.getHours(),t.getMinutes(),t.getSeconds())}(t),i=function kK(t,n){if(function y7(t,n){return t.getDay()===Number(n)}(t,n.firstDayOfWeek))return t;const i=function MK(t,n){const e=Number(n);if(isNaN(e))return 0;if(0===e)return t;const i=t-e%7;return i<0?i+7:i}(eo(t),n.firstDayOfWeek);return bi(t,{day:-i})}(e,n);return{daysMatrix:qw({width:n.width||0,height:n.height||0,initialDate:i,shift:{day:1}},o=>o),month:e}}function OK(t,n,e){return t.map(i=>i[0]?Zr(i[0],n,e):"")}function IK(t){const n=mi(t),e=n.weekdaysShort(),i=n.firstDayOfWeek();return[...e.slice(i),...e.slice(0,i)]}function px(t,n){return!n||t>=n}const xK=4,FK=3,NK={month:1};function mx(t,n){const e=Uo(t,"year");return{months:qw({width:FK,height:xK,initialDate:e,shift:NK},s=>({date:s,label:Zr(s,n.monthLabel,n.locale)})),monthTitle:"",yearTitle:Zr(t,n.yearTitle,n.locale),hideRightArrow:!1,hideLeftArrow:!1,disableRightArrow:!1,disableLeftArrow:!1}}const Gw=4,Zw=4,zm=Gw*Zw,_x=-1*(Math.floor(zm/2)-1),PK={year:1};function gx(t,n,e){const i=function VK(t,n){return n&&t.getFullYear()>=n.getFullYear()&&t.getFullYear()<n.getFullYear()+zm?n:bi(t,{year:_x})}(t,e),s=qw({width:Zw,height:Gw,initialDate:i,shift:PK},a=>({date:a,label:Zr(a,n.yearLabel,n.locale)})),o=function BK(t,n){return`${Zr(t[0][0].date,n.yearTitle,n.locale)} - ${Zr(t[Gw-1][Zw-1].date,n.yearTitle,n.locale)}`}(s,n);return{years:s,monthTitle:"",yearTitle:o,hideLeftArrow:!1,hideRightArrow:!1,disableLeftArrow:!1,disableRightArrow:!1}}function Qw(t,n){!t||!isNaN(t.getTime())||(t.setHours(n.getHours()),t.setMinutes(n.getMinutes()),t.setSeconds(n.getSeconds()),t.setMilliseconds(n.getMilliseconds()))}function yx(t=ax,n){switch(n.type){case ni.CALCULATE:return function $K(t){if(!t.view)return t;let n;n=t.displayOneMonthRange&&vx(t.view.date,t.minDate,t.maxDate)?1:t.displayMonths||1;let e=t.view.date;if("day"===t.view.mode&&t.monthViewOptions){t.showPreviousMonth&&t.selectedRange&&0===t.selectedRange.length&&(e=bi(e,{month:-1})),t.monthViewOptions.firstDayOfWeek=mi(t.locale).firstDayOfWeek();let i=new Array(n);for(let r=0;r<n;r++)i[r]=Ww(e,t.monthViewOptions),e=bi(e,{month:1});if(t.preventChangeToNextMonth&&t.flaggedMonths&&t.hoveredDate){const r=Ww(t.view.date,t.monthViewOptions);t.flaggedMonths.length&&t.flaggedMonths[1].month.getMonth()===r.month.getMonth()&&(i=t.flaggedMonths.map(s=>t.monthViewOptions?Ww(s.month,t.monthViewOptions):null).filter(s=>null!==s))}return Object.assign({},t,{monthsModel:i})}if("month"===t.view.mode){const i=new Array(n);for(let r=0;r<n;r++)i[r]=mx(e,hf(t)),e=bi(e,{year:1});return Object.assign({},t,{monthsCalendar:i})}if("year"===t.view.mode){const i=new Array(n);for(let r=0;r<n;r++)i[r]=gx(e,hf(t),"year"===t.minMode?lx(t,r):void 0),e=bi(e,{year:zm});return Object.assign({},t,{yearsCalendarModel:i})}return t}(t);case ni.FORMAT:return function jK(t){if(!t.view)return t;if("day"===t.view.mode&&t.monthsModel){const i=t.monthsModel.map((r,s)=>function EK(t,n,e){return{month:t.month,monthTitle:Zr(t.month,n.monthTitle,n.locale),yearTitle:Zr(t.month,n.yearTitle,n.locale),weekNumbers:OK(t.daysMatrix,n.weekNumbers,n.locale),weekdays:IK(n.locale),weeks:t.daysMatrix.map((i,r)=>({days:i.map((s,o)=>({date:s,label:Zr(s,n.dayLabel,n.locale),monthIndex:e,weekIndex:r,dayIndex:o}))})),hideLeftArrow:!1,hideRightArrow:!1,disableLeftArrow:!1,disableRightArrow:!1}}(r,hf(t),s));return Object.assign({},t,{formattedMonths:i})}const n=t.displayMonths||1;let e=t.view.date;if("month"===t.view.mode){const i=new Array(n);for(let r=0;r<n;r++)i[r]=mx(e,hf(t)),e=bi(e,{year:1});return Object.assign({},t,{monthsCalendar:i})}if("year"===t.view.mode){const i=new Array(n);for(let r=0;r<n;r++)i[r]=gx(e,hf(t)),e=bi(e,{year:16});return Object.assign({},t,{yearsCalendarModel:i})}return t}(t);case ni.FLAG:return function UK(t){if(!t.view)return t;const n=vx(t.view.date,t.minDate,t.maxDate)?1:t.displayMonths;if(t.formattedMonths&&"day"===t.view.mode){const e=t.formattedMonths.map((i,r)=>function AK(t,n){return t.weeks.forEach(e=>{e.days.forEach((i,r)=>{const s=!qu(i.date,t.month),o=!s&&va(i.date,n.hoveredDate),a=!s&&n.selectedRange&&va(i.date,n.selectedRange[0]),l=!s&&n.selectedRange&&va(i.date,n.selectedRange[1]),u=!s&&va(i.date,n.selectedDate)||a||l,c=!s&&n.selectedRange&&function RK(t,n,e){return!!(t&&n&&n[0])&&(n[1]?t>n[0]&&t<=n[1]:!!e&&t>n[0]&&t<=e)}(i.date,n.selectedRange,n.hoveredDate),d=n.isDisabled||no(i.date,n.minDate,"day")||ks(i.date,n.maxDate,"day")||function H9(t,n){return!(typeof n>"u"||!n||!n.length)&&n.some(e=>e===t.getDay())}(i.date,n.daysDisabled)||Yw(i.date,n.datesDisabled)||zw(i.date,n.datesEnabled),h=!s&&va(i.date,new Date),p=n.dateCustomClasses&&n.dateCustomClasses.map(I=>va(i.date,I.date)?I.classes:[]).reduce((I,q)=>I.concat(q),[]).join(" ")||"",v=n.dateTooltipTexts&&n.dateTooltipTexts.map(I=>va(i.date,I.date)?I.tooltipText:"").reduce((I,q)=>(I.push(q),I),[]).join(" ")||"",M=Object.assign({},i,{isOtherMonth:s,isHovered:o,isSelected:u,isSelectionStart:a,isSelectionEnd:l,isInRange:c,isDisabled:d,isToday:h,customClasses:p,tooltipText:v});(i.isOtherMonth!==M.isOtherMonth||i.isHovered!==M.isHovered||i.isSelected!==M.isSelected||i.isSelectionStart!==M.isSelectionStart||i.isSelectionEnd!==M.isSelectionEnd||i.isDisabled!==M.isDisabled||i.isInRange!==M.isInRange||i.customClasses!==M.customClasses||i.tooltipText!==M.tooltipText)&&(e.days[r]=M)})}),t.hideLeftArrow=n.isDisabled||!!n.monthIndex&&n.monthIndex>0&&n.monthIndex!==n.displayMonths,t.hideRightArrow=n.isDisabled||(!!n.monthIndex||0===n.monthIndex)&&!!n.displayMonths&&n.monthIndex<n.displayMonths&&n.monthIndex+1!==n.displayMonths,t.disableLeftArrow=Uw(bi(t.month,{month:-1}),n.minDate,n.maxDate),t.disableRightArrow=Uw(bi(t.month,{month:1}),n.minDate,n.maxDate),t}(i,{isDisabled:t.isDisabled,minDate:t.minDate,maxDate:t.maxDate,daysDisabled:t.daysDisabled,datesDisabled:t.datesDisabled,datesEnabled:t.datesEnabled,hoveredDate:t.hoveredDate,selectedDate:t.selectedDate,selectedRange:t.selectedRange,displayMonths:n,dateCustomClasses:t.dateCustomClasses,dateTooltipTexts:t.dateTooltipTexts,monthIndex:r}));return Object.assign({},t,{flaggedMonths:e})}if("month"===t.view.mode&&t.monthsCalendar){const e=t.monthsCalendar.map((i,r)=>function LK(t,n){return t.months.forEach((e,i)=>{e.forEach((r,s)=>{let o;const a=qu(r.date,n.hoveredMonth),l=n.isDisabled||Yw(r.date,n.datesDisabled)||zw(r.date,n.datesEnabled,"month")||Uw(r.date,n.minDate,n.maxDate);!n.selectedDate&&n.selectedRange?(o=qu(r.date,n.selectedRange[0]),o||(o=qu(r.date,n.selectedRange[1]))):o=qu(r.date,n.selectedDate);const u=Object.assign(r,{isHovered:a,isDisabled:l,isSelected:o});(r.isHovered!==u.isHovered||r.isDisabled!==u.isDisabled||r.isSelected!==u.isSelected)&&(t.months[i][s]=u)})}),t.hideLeftArrow=!!n.monthIndex&&n.monthIndex>0&&n.monthIndex!==n.displayMonths,t.hideRightArrow=(!!n.monthIndex||0===n.monthIndex)&&(!!n.displayMonths||0===n.displayMonths)&&n.monthIndex<n.displayMonths&&n.monthIndex+1!==n.displayMonths,t.disableLeftArrow=ff(bi(t.months[0][0].date,{year:-1}),n.minDate,n.maxDate),t.disableRightArrow=ff(bi(t.months[0][0].date,{year:1}),n.minDate,n.maxDate),t}(i,{isDisabled:t.isDisabled,minDate:t.minDate,maxDate:t.maxDate,hoveredMonth:t.hoveredMonth,selectedDate:t.selectedDate,datesDisabled:t.datesDisabled,datesEnabled:t.datesEnabled,selectedRange:t.selectedRange,displayMonths:n,monthIndex:r}));return Object.assign({},t,{flaggedMonthsCalendar:e})}if("year"===t.view.mode&&t.yearsCalendarModel){const e=t.yearsCalendarModel.map((i,r)=>function HK(t,n){t.years.forEach((r,s)=>{r.forEach((o,a)=>{let l;const u=Wu(o.date,n.hoveredYear),c=n.isDisabled||Yw(o.date,n.datesDisabled,"year")||zw(o.date,n.datesEnabled,"year")||ff(o.date,n.minDate,n.maxDate);!n.selectedDate&&n.selectedRange?(l=Wu(o.date,n.selectedRange[0]),l||(l=Wu(o.date,n.selectedRange[1]))):l=Wu(o.date,n.selectedDate);const d=Object.assign(o,{isHovered:u,isDisabled:c,isSelected:l});(o.isHovered!==d.isHovered||o.isDisabled!==d.isDisabled||o.isSelected!==d.isSelected)&&(t.years[s][a]=d)})}),t.hideLeftArrow=!!n.yearIndex&&n.yearIndex>0&&n.yearIndex!==n.displayMonths,t.hideRightArrow=!!n.yearIndex&&!!n.displayMonths&&n.yearIndex<n.displayMonths&&n.yearIndex+1!==n.displayMonths,t.disableLeftArrow=ff(bi(t.years[0][0].date,{year:-1}),n.minDate,n.maxDate);const e=t.years.length-1;return t.disableRightArrow=ff(bi(t.years[e][t.years[e].length-1].date,{year:1}),n.minDate,n.maxDate),t}(i,{isDisabled:t.isDisabled,minDate:t.minDate,maxDate:t.maxDate,hoveredYear:t.hoveredYear,selectedDate:t.selectedDate,datesDisabled:t.datesDisabled,datesEnabled:t.datesEnabled,selectedRange:t.selectedRange,displayMonths:n,yearIndex:r}));return Object.assign({},t,{yearsCalendarFlagged:e})}return t}(t);case ni.NAVIGATE_OFFSET:return function YK(t,n){if(!t.view)return t;const e=function zK(t,n){if(t.view){if("year"===t.view.mode&&"year"===t.minMode){const e=lx(t,0);if(e){const i=bi(e,{year:-_x});return bi(i,n.payload)}}return bi(Uo(t.view.date,"month"),n.payload)}}(t,n);if(!e)return t;return Object.assign({},t,{view:{mode:t.view.mode,date:e}})}(t,n);case ni.NAVIGATE_TO:{const e=n.payload;if(!t.view||!e.unit)return t;const i=function A7(t,n){return Tm(Gu(t.getFullYear(),n.year),Gu(t.getMonth(),n.month),1,Gu(t.getHours(),n.hour),Gu(t.getMinutes(),n.minute),Gu(t.getSeconds(),n.seconds),Gu(t.getMilliseconds(),n.milliseconds))}(t.view.date,e.unit);let r,s;return px(e.viewMode,t.minMode)?(s=e.viewMode,r={view:{date:i,mode:s}}):(s=t.view.mode,r={selectedDate:i,view:{date:i,mode:s}}),Object.assign({},t,r)}case ni.CHANGE_VIEWMODE:return px(n.payload,t.minMode)&&t.view?Object.assign({},t,{view:{date:t.view.date,mode:n.payload}}):t;case ni.HOVER:return Object.assign({},t,{hoveredDate:n.payload});case ni.SELECT:{if(!t.view)return t;const e={selectedDate:n.payload,view:t.view};if(Array.isArray(t.selectedTime)){const o=t.selectedTime[0];e.selectedDate&&o&&Qw(e.selectedDate,o)}const i=t.view.mode,s=Kw(n.payload||t.view.date,t.minDate,t.maxDate);return e.view={mode:i,date:s},Object.assign({},t,e)}case ni.SELECT_TIME:{const{date:e,index:i}=n.payload,r=t.selectedTime?[...t.selectedTime]:[];return r[i]=e,Object.assign({},t,{selectedTime:r})}case ni.SET_OPTIONS:{if(!t.view)return t;const e=n.payload,i=e.minMode?e.minMode:t.view.mode,s=Kw(ya(e.value)&&e.value||En(e.value)&&ya(e.value[0])&&e.value[0]||t.view.date,e.minDate,e.maxDate);return e.view={mode:i,date:s},e.value&&(En(e.value)&&(e.selectedRange=e.value,e.selectedTime=e.value.map(o=>o)),e.value instanceof Date&&(e.selectedDate=e.value,e.selectedTime=[e.value])),Object.assign({},t,e)}case ni.SELECT_RANGE:{if(!t.view)return t;const e={selectedRange:n.payload,view:t.view};e.selectedRange?.forEach((o,a)=>{if(Array.isArray(t.selectedTime)){const l=t.selectedTime[a];l&&Qw(o,l)}});const i=t.view.mode,s=Kw(n.payload&&n.payload[0]||t.view.date,t.minDate,t.maxDate);return e.view={mode:i,date:s},Object.assign({},t,e)}case ni.SET_MIN_DATE:return Object.assign({},t,{minDate:n.payload});case ni.SET_MAX_DATE:return Object.assign({},t,{maxDate:n.payload});case ni.SET_IS_DISABLED:return Object.assign({},t,{isDisabled:n.payload});case ni.SET_DATE_CUSTOM_CLASSES:return Object.assign({},t,{dateCustomClasses:n.payload});case ni.SET_DATE_TOOLTIP_TEXTS:return Object.assign({},t,{dateTooltipTexts:n.payload});default:return t}}function hf(t){return{locale:t.locale,monthTitle:t.monthTitle,yearTitle:t.yearTitle,dayLabel:t.dayLabel,monthLabel:t.monthLabel,yearLabel:t.yearLabel,weekNumbers:t.weekNumbers}}function Kw(t,n,e){const i=Array.isArray(t)?t[0]:t;return n&&ks(n,i,"day")?n:e&&no(e,i,"day")?e:i}function vx(t,n,e){return!(!e||!Ku(e,t,"day"))||n&&e&&n.getMonth()===e.getMonth()}let pf=(()=>{class t extends Bm{constructor(){const e=new yi({type:"[datepicker] dispatcher init"});super(e,yx,new PR(ax,e,yx))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),bx=(()=>{class t{constructor(){this.onSelect=new Me}selectFromRanges(e){this.onSelect.emit(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["bs-custom-date-view"]],inputs:{ranges:"ranges",selectedRange:"selectedRange",customRangeLabel:"customRangeLabel"},outputs:{onSelect:"onSelect"},decls:2,vars:1,consts:[[1,"bs-datepicker-predefined-btns"],["type","button","class","btn",3,"selected","click",4,"ngFor","ngForOf"],["type","button",1,"btn",3,"click"]],template:function(e,i){1&e&&(_(0,"div",0),V(1,eQ,2,3,"button",1),g()),2&e&&(m(1),y("ngForOf",i.ranges))},dependencies:[Ei],encapsulation:2,changeDetection:0}),t})();var Da=(()=>(function(t){t[t.UP=0]="UP",t[t.DOWN=1]="DOWN"}(Da||(Da={})),Da))();let sc,qK=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["bs-current-date"]],inputs:{title:"title"},decls:3,vars:1,consts:[[1,"current-timedate"]],template:function(e,i){1&e&&(_(0,"div",0)(1,"span"),S(2),g()()),2&e&&(m(2),it(i.title))},encapsulation:2}),t})(),WK=(()=>{class t{constructor(){this.ampm="ok",this.hours=0,this.minutes=0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["bs-timepicker"]],decls:16,vars:3,consts:[[1,"bs-timepicker-container"],[1,"bs-timepicker-controls"],["type","button",1,"bs-decrease"],["type","text","placeholder","00",3,"value"],["type","button",1,"bs-increase"],["type","button",1,"switch-time-format"],["src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAKCAYAAABi8KSDAAABSElEQVQYV3XQPUvDUBQG4HNuagtVqc6KgouCv6GIuIntYBLB9hcIQpLStCAIV7DYmpTcRWcXqZio3Vwc/UCc/QEqfgyKGbr0I7nS1EiHeqYzPO/h5SD0jaxUZjmSLCB+OFb+UFINFwASAEAdpu9gaGXVyAHHFQBkHpKHc6a9dzECvADyY9sqlAMsK9W0jzxDXqeytr3mhQckxSji27TJJ5/rPmIpwJJq3HrtduriYOurv1a4i1p5HnhkG9OFymi0ReoO05cGwb+ayv4dysVygjeFmsP05f8wpZQ8fsdvfmuY9zjWSNqUtgYFVnOVReILYoBFzdQI5/GGFzNHhGbeZnopDGU29sZbscgldmC99w35VOATTycIMMcBXIfpSVGzZhA6C8hh00conln6VQ9TGgV32OEAKQC4DrBq7CJwd0ggR7Vq/rPrfgB+C3sGypY5DAAAAABJRU5ErkJggg==","alt",""]],template:function(e,i){1&e&&(_(0,"div",0)(1,"div",1)(2,"button",2),S(3,"-"),g(),Se(4,"input",3),_(5,"button",4),S(6,"+"),g()(),_(7,"div",1)(8,"button",2),S(9,"-"),g(),Se(10,"input",3),_(11,"button",4),S(12,"+"),g()(),_(13,"button",5),S(14),Se(15,"img",6),g()()),2&e&&(m(4),y("value",i.hours),m(6),y("value",i.minutes),m(4),qt("",i.ampm," "))},encapsulation:2}),t})(),Jw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["bs-calendar-layout"]],ngContentSelectors:rQ,decls:6,vars:2,consts:[["title","hey there",4,"ngIf"],[1,"bs-datepicker-head"],[1,"bs-datepicker-body"],[4,"ngIf"],["title","hey there"]],template:function(e,i){1&e&&($c(iQ),V(0,tQ,1,0,"bs-current-date",0),_(1,"div",1),lu(2),g(),_(3,"div",2),lu(4,1),g(),V(5,nQ,1,0,"bs-timepicker",3)),2&e&&(y("ngIf",!1),m(5),y("ngIf",!1))},dependencies:[Jt,qK,WK],encapsulation:2}),t})(),GK=(()=>{class t{constructor(e,i,r){this._config=e,this._elRef=i,this._renderer=r,this.day={date:new Date,label:""}}ngOnInit(){this.day?.isToday&&this._config&&this._config.customTodayClass&&this._renderer.addClass(this._elRef.nativeElement,this._config.customTodayClass),"string"==typeof this.day?.customClasses&&this.day?.customClasses.split(" ").filter(e=>e).forEach(e=>{this._renderer.addClass(this._elRef.nativeElement,e)})}}return t.\u0275fac=function(e){return new(e||t)(D(qo),D(zt),D(kn))},t.\u0275cmp=He({type:t,selectors:[["","bsDatepickerDayDecorator",""]],hostVars:16,hostBindings:function(e,i){2&e&&st("disabled",i.day.isDisabled)("is-highlighted",i.day.isHovered)("is-other-month",i.day.isOtherMonth)("is-active-other-month",i.day.isOtherMonthHovered)("in-range",i.day.isInRange)("select-start",i.day.isSelectionStart)("select-end",i.day.isSelectionEnd)("selected",i.day.isSelected)},inputs:{day:"day"},attrs:sQ,decls:1,vars:1,template:function(e,i){1&e&&S(0),2&e&&it(i.day&&i.day.label||"")},encapsulation:2,changeDetection:0}),t})(),Xw=(()=>{class t{constructor(){this.isDisabled=!1,this.onNavigate=new Me,this.onViewMode=new Me}navTo(e){this.onNavigate.emit(e?Da.DOWN:Da.UP)}view(e){this.isDisabled||this.onViewMode.emit(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["bs-datepicker-navigation-view"]],inputs:{calendar:"calendar",isDisabled:"isDisabled"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode"},decls:12,vars:9,consts:[["type","button",1,"previous",3,"disabled","click"],[4,"ngIf"],["type","button",1,"current",3,"disabled","click"],["type","button",1,"next",3,"disabled","click"]],template:function(e,i){1&e&&(_(0,"button",0),F("click",function(){return i.navTo(!0)}),_(1,"span"),S(2,"\u2039"),g()(),V(3,oQ,5,2,"ng-container",1),S(4," \u200b "),_(5,"button",2),F("click",function(){return i.view("year")}),_(6,"span"),S(7),g()(),S(8," \u200b "),_(9,"button",3),F("click",function(){return i.navTo(!1)}),_(10,"span"),S(11,"\u203a"),g()()),2&e&&(vo("visibility",i.calendar.hideLeftArrow?"hidden":"visible"),y("disabled",i.calendar.disableLeftArrow),m(3),y("ngIf",i.calendar&&i.calendar.monthTitle),m(2),y("disabled",i.isDisabled),m(2),it(i.calendar.yearTitle),m(2),vo("visibility",i.calendar.hideRightArrow?"hidden":"visible"),y("disabled",i.calendar.disableRightArrow))},dependencies:[Jt],encapsulation:2,changeDetection:0}),t})(),wx=(()=>{class t{constructor(e){this._config=e,this.onNavigate=new Me,this.onViewMode=new Me,this.onSelect=new Me,this.onHover=new Me,this.onHoverWeek=new Me,this.isiOS=/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,this._config.dateTooltipTexts&&this._config.dateTooltipTexts.length>0&&(this.isShowTooltip=!0)}navigateTo(e){this.onNavigate.emit({step:{month:Da.DOWN===e?-1:1}})}changeViewMode(e){this.onViewMode.emit(e)}selectDay(e){this.onSelect.emit(e)}selectWeek(e){if(!this._config.selectWeek&&!this._config.selectWeekDateRange||0===e.days.length)return;if(this._config.selectWeek&&e.days[0]&&!e.days[0].isDisabled&&this._config.selectFromOtherMonth)return void this.onSelect.emit(e.days[0]);const i=e.days.find(r=>(this._config.selectFromOtherMonth||!r.isOtherMonth)&&!r.isDisabled);if(this.onSelect.emit(i),this._config.selectWeekDateRange){const s=e.days.slice(0).reverse().find(o=>(this._config.selectFromOtherMonth||!o.isOtherMonth)&&!o.isDisabled);this.onSelect.emit(s)}}weekHoverHandler(e,i){(this._config.selectWeek||this._config.selectWeekDateRange)&&e.days.find(s=>(this._config.selectFromOtherMonth||!s.isOtherMonth)&&!s.isDisabled)&&(e.isHovered=i,this.isWeekHovered=i,this.onHoverWeek.emit(e))}hoverDay(e,i){this._config.selectFromOtherMonth&&e.isOtherMonth&&(e.isOtherMonthHovered=i),this._config.dateTooltipTexts&&(e.tooltipText="",this._config.dateTooltipTexts.forEach(r=>{va(r.date,e.date)&&(e.tooltipText=r.tooltipText)})),this.onHover.emit({cell:e,isHovered:i})}}return t.\u0275fac=function(e){return new(e||t)(D(qo))},t.\u0275cmp=He({type:t,selectors:[["bs-days-calendar-view"]],inputs:{calendar:"calendar",options:"options",isDisabled:"isDisabled"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover",onHoverWeek:"onHoverWeek"},decls:9,vars:5,consts:[[3,"calendar","isDisabled","onNavigate","onViewMode"],["role","grid",1,"days","weeks"],[4,"ngIf"],["aria-label","weekday",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["aria-label","weekday"],["class","week",3,"active-week",4,"ngIf"],["role","gridcell",4,"ngFor","ngForOf"],[1,"week"],[3,"click",4,"ngIf"],[3,"click","mouseenter","mouseleave",4,"ngIf"],[3,"click"],[3,"click","mouseenter","mouseleave"],["role","gridcell"],["bsDatepickerDayDecorator","",3,"day","tooltip","click","mouseenter","mouseleave",4,"ngIf"],["bsDatepickerDayDecorator","",3,"day","click","mouseenter","mouseleave",4,"ngIf"],["bsDatepickerDayDecorator","",3,"day","click",4,"ngIf"],["bsDatepickerDayDecorator","",3,"day","tooltip","click","mouseenter","mouseleave"],["bsDatepickerDayDecorator","",3,"day","click","mouseenter","mouseleave"],["bsDatepickerDayDecorator","",3,"day","click"]],template:function(e,i){1&e&&(_(0,"bs-calendar-layout")(1,"bs-datepicker-navigation-view",0),F("onNavigate",function(s){return i.navigateTo(s)})("onViewMode",function(s){return i.changeViewMode(s)}),g(),_(2,"table",1)(3,"thead")(4,"tr"),V(5,aQ,1,0,"th",2),V(6,lQ,2,1,"th",3),g()(),_(7,"tbody"),V(8,_Q,3,2,"tr",4),g()()()),2&e&&(m(1),y("calendar",i.calendar)("isDisabled",!!i.isDisabled),m(4),y("ngIf",i.options&&i.options.showWeekNumbers),m(1),y("ngForOf",i.calendar.weekdays),m(2),y("ngForOf",i.calendar.weeks))},dependencies:[Ei,Jt,bA,Jw,GK,Xw],encapsulation:2}),t})(),Cx=(()=>{class t{constructor(){this.onNavigate=new Me,this.onViewMode=new Me,this.onSelect=new Me,this.onHover=new Me}navigateTo(e){this.onNavigate.emit({step:{year:Da.DOWN===e?-1:1}})}viewMonth(e){this.onSelect.emit(e)}hoverMonth(e,i){this.onHover.emit({cell:e,isHovered:i})}changeViewMode(e){this.onViewMode.emit(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["bs-month-calendar-view"]],inputs:{calendar:"calendar"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover"},decls:5,vars:2,consts:[[3,"calendar","onNavigate","onViewMode"],["role","grid",1,"months"],[4,"ngFor","ngForOf"],["role","gridcell",3,"disabled","is-highlighted","click","mouseenter","mouseleave",4,"ngFor","ngForOf"],["role","gridcell",3,"click","mouseenter","mouseleave"]],template:function(e,i){1&e&&(_(0,"bs-calendar-layout")(1,"bs-datepicker-navigation-view",0),F("onNavigate",function(s){return i.navigateTo(s)})("onViewMode",function(s){return i.changeViewMode(s)}),g(),_(2,"table",1)(3,"tbody"),V(4,yQ,2,1,"tr",2),g()()()),2&e&&(m(1),y("calendar",i.calendar),m(3),y("ngForOf",null==i.calendar?null:i.calendar.months))},dependencies:[Ei,Jw,Xw],encapsulation:2}),t})(),Dx=(()=>{class t{constructor(){this.onNavigate=new Me,this.onViewMode=new Me,this.onSelect=new Me,this.onHover=new Me}navigateTo(e){this.onNavigate.emit({step:{year:(Da.DOWN===e?-1:1)*zm}})}viewYear(e){this.onSelect.emit(e)}hoverYear(e,i){this.onHover.emit({cell:e,isHovered:i})}changeViewMode(e){this.onViewMode.emit(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["bs-years-calendar-view"]],inputs:{calendar:"calendar"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover"},decls:5,vars:2,consts:[[3,"calendar","onNavigate","onViewMode"],["role","grid",1,"years"],[4,"ngFor","ngForOf"],["role","gridcell",3,"disabled","is-highlighted","click","mouseenter","mouseleave",4,"ngFor","ngForOf"],["role","gridcell",3,"click","mouseenter","mouseleave"]],template:function(e,i){1&e&&(_(0,"bs-calendar-layout")(1,"bs-datepicker-navigation-view",0),F("onNavigate",function(s){return i.navigateTo(s)})("onViewMode",function(s){return i.changeViewMode(s)}),g(),_(2,"table",1)(3,"tbody"),V(4,bQ,2,1,"tr",2),g()()()),2&e&&(m(1),y("calendar",i.calendar),m(3),y("ngForOf",null==i.calendar?null:i.calendar.years))},dependencies:[Ei,Jw,Xw],encapsulation:2}),t})(),ZK=(()=>{class t extends ox{constructor(e,i,r,s,o,a,l){super(),this._config=i,this._store=r,this._element=s,this._actions=o,this._positionService=l,this.valueChange=new Me,this.animationState="void",this.isRangePicker=!1,this._subs=[],this._effects=a,e.setStyle(s.nativeElement,"display","block"),e.setStyle(s.nativeElement,"position","absolute")}set value(e){this._effects?.setValue(e)}get isDatePickerDisabled(){return!!this._config.isDisabled}get isDatepickerDisabled(){return this.isDatePickerDisabled?"":null}get isDatepickerReadonly(){return this.isDatePickerDisabled?"":null}ngOnInit(){let e;this._positionService.setOptions({modifiers:{flip:{enabled:this._config.adaptivePosition},preventOverflow:{enabled:this._config.adaptivePosition}},allowedPositions:this._config.allowedPositions}),this._positionService.event$?.pipe(Mo(1)).subscribe(()=>{this._positionService.disable(),this.animationState=this._config.isAnimated?this.isTopPosition?"animated-up":"animated-down":"unanimated"}),this.isOtherMonthsActive=this._config.selectFromOtherMonth,this.containerClass=this._config.containerClass,this.showTodayBtn=this._config.showTodayButton,this.todayBtnLbl=this._config.todayButtonLabel,this.todayPos=this._config.todayPosition,this.showClearBtn=this._config.showClearButton,this.clearBtnLbl=this._config.clearButtonLabel,this.clearPos=this._config.clearPosition,this.customRangeBtnLbl=this._config.customRangeButtonLabel,this.withTimepicker=this._config.withTimepicker,this._effects?.init(this._store).setOptions(this._config).setBindings(this).setEventHandlers(this).registerDatepickerSideEffects(),this._subs.push(this._store.select(i=>i.selectedDate).subscribe(i=>{e=i,this.valueChange.emit(i)})),this._subs.push(this._store.select(i=>i.selectedTime).subscribe(i=>{!i[0]||!(i[0]instanceof Date)||i[0]===e||this.valueChange.emit(i[0])})),this._store.dispatch(this._actions.changeViewMode(this._config.startView))}ngAfterViewInit(){this.selectedTimeSub.add(this.selectedTime?.subscribe(e=>{Array.isArray(e)&&e.length>=1&&this.startTimepicker?.writeValue(e[0])})),this.startTimepicker?.registerOnChange(e=>{this.timeSelectHandler(e,0)})}get isTopPosition(){return this._element.nativeElement.classList.contains("top")}positionServiceEnable(){this._positionService.enable()}timeSelectHandler(e,i){this._store.dispatch(this._actions.selectTime(e,i))}daySelectHandler(e){!e||(this.isOtherMonthsActive?e.isDisabled:e.isOtherMonth||e.isDisabled)||this._store.dispatch(this._actions.select(e.date))}monthSelectHandler(e){!e||e.isDisabled||this._store.dispatch(this._actions.navigateTo({unit:{month:Ot(e.date),year:xn(e.date)},viewMode:"day"}))}yearSelectHandler(e){!e||e.isDisabled||this._store.dispatch(this._actions.navigateTo({unit:{year:xn(e.date)},viewMode:"month"}))}setToday(){this._store.dispatch(this._actions.select(new Date))}clearDate(){this._store.dispatch(this._actions.select(void 0))}ngOnDestroy(){for(const e of this._subs)e.unsubscribe();this.selectedTimeSub.unsubscribe(),this._effects?.destroy()}}return t.\u0275fac=function(e){return new(e||t)(D(kn),D(qo),D(pf),D(zt),D(ni),D(df),D(xo))},t.\u0275cmp=He({type:t,selectors:[["bs-datepicker-container"]],viewQuery:function(e,i){if(1&e&&he(ix,5),2&e){let r;ue(r=ce())&&(i.startTimepicker=r.first)}},hostAttrs:["role","dialog","aria-label","calendar",1,"bottom"],hostVars:2,hostBindings:function(e,i){1&e&&F("click",function(s){return i._stopPropagation(s)}),2&e&&qn("disabled",i.isDatepickerDisabled)("readonly",i.isDatepickerReadonly)},features:[Kt([pf,df]),_t],decls:2,vars:3,consts:[["class","bs-datepicker",3,"ngClass",4,"ngIf"],[1,"bs-datepicker",3,"ngClass"],[1,"bs-datepicker-container"],["role","application",1,"bs-calendar-container",3,"ngSwitch"],[4,"ngSwitchCase"],["class","bs-media-container",4,"ngSwitchCase"],["class","bs-datepicker-buttons",4,"ngIf"],["class","bs-datepicker-custom-range",4,"ngIf"],[1,"bs-media-container"],[3,"bs-datepicker-multiple","calendar","isDisabled","options","onNavigate","onViewMode","onHover","onHoverWeek","onSelect",4,"ngFor","ngForOf"],["class","bs-timepicker-in-datepicker-container",4,"ngIf"],[3,"calendar","isDisabled","options","onNavigate","onViewMode","onHover","onHoverWeek","onSelect"],[1,"bs-timepicker-in-datepicker-container"],[3,"disabled"],["startTP",""],[3,"disabled",4,"ngIf"],["endTP",""],[3,"bs-datepicker-multiple","calendar","onNavigate","onViewMode","onHover","onSelect",4,"ngFor","ngForOf"],[3,"calendar","onNavigate","onViewMode","onHover","onSelect"],[1,"bs-datepicker-buttons"],["type","button",1,"btn","btn-success"],["type","button",1,"btn","btn-default"],["class","btn-today-wrapper",3,"today-left","today-right","today-center",4,"ngIf"],["class","btn-clear-wrapper",3,"clear-left","clear-right","clear-center",4,"ngIf"],[1,"btn-today-wrapper"],[1,"btn","btn-success",3,"click"],[1,"btn-clear-wrapper"],[1,"bs-datepicker-custom-range"],[3,"selectedRange","ranges","customRangeLabel","onSelect"]],template:function(e,i){1&e&&(V(0,FQ,10,11,"div",0),fr(1,"async")),2&e&&y("ngIf",hr(1,1,i.viewMode))},dependencies:[qh,Ei,Jt,td,Xy,Um,bx,wx,Cx,Dx,ev],encapsulation:2,data:{animation:[sx]}}),t})(),Tx=(()=>{class t{constructor(e,i,r,s,o){this._config=e,this._elementRef=i,this._renderer=r,this.placement="bottom",this.triggers="click",this.outsideClick=!0,this.container="body",this.outsideEsc=!0,this.isDestroy$=new It,this.isDisabled=!1,this.bsValueChange=new Me,this._subs=[],this._dateInputFormat$=new It,Object.assign(this,this._config),this._datepicker=o.createLoader(i,s,r),this.onShown=this._datepicker.onShown,this.onHidden=this._datepicker.onHidden,this.isOpen$=new yi(this.isOpen)}get readonlyValue(){return this.isDisabled?"":null}get isOpen(){return this._datepicker.isShown}set isOpen(e){this.isOpen$.next(e)}set bsValue(e){this._bsValue&&e&&this._bsValue.getTime()===e.getTime()||(!this._bsValue&&e&&!this._config.withTimepicker&&Qw(e,new Date),e&&this.bsConfig?.initCurrentTime&&(e=dx(e)),this.initPreviousValue(),this._bsValue=e,this.bsValueChange.emit(e))}get dateInputFormat$(){return this._dateInputFormat$}ngOnInit(){this._datepicker.listen({outsideClick:this.outsideClick,outsideEsc:this.outsideEsc,triggers:this.triggers,show:()=>this.show()}),this.setConfig(),this.initPreviousValue()}initPreviousValue(){sc=this._bsValue}ngOnChanges(e){e.bsConfig&&(e.bsConfig.currentValue?.initCurrentTime&&e.bsConfig.currentValue?.initCurrentTime!==e.bsConfig.previousValue?.initCurrentTime&&this._bsValue&&(this.initPreviousValue(),this._bsValue=dx(this._bsValue),this.bsValueChange.emit(this._bsValue)),this.setConfig(),this._dateInputFormat$.next(this.bsConfig&&this.bsConfig.dateInputFormat)),this._datepickerRef&&this._datepickerRef.instance&&(e.minDate&&(this._datepickerRef.instance.minDate=this.minDate),e.maxDate&&(this._datepickerRef.instance.maxDate=this.maxDate),e.daysDisabled&&(this._datepickerRef.instance.daysDisabled=this.daysDisabled),e.datesDisabled&&(this._datepickerRef.instance.datesDisabled=this.datesDisabled),e.datesEnabled&&(this._datepickerRef.instance.datesEnabled=this.datesEnabled),e.isDisabled&&(this._datepickerRef.instance.isDisabled=this.isDisabled),e.dateCustomClasses&&(this._datepickerRef.instance.dateCustomClasses=this.dateCustomClasses),e.dateTooltipTexts&&(this._datepickerRef.instance.dateTooltipTexts=this.dateTooltipTexts))}initSubscribes(){this._subs.push(this.bsValueChange.subscribe(e=>{this._datepickerRef&&(this._datepickerRef.instance.value=e)})),this._datepickerRef&&this._subs.push(this._datepickerRef.instance.valueChange.subscribe(e=>{this.initPreviousValue(),this.bsValue=e,!this.keepDatepickerModalOpened()&&this.hide()}))}keepDatepickerModalOpened(){return!!(sc&&this.bsConfig?.keepDatepickerOpened&&this._config.withTimepicker)&&this.isDateSame()}isDateSame(){return sc instanceof Date&&this._bsValue?.getDate()===sc?.getDate()&&this._bsValue?.getMonth()===sc?.getMonth()&&this._bsValue?.getFullYear()===sc?.getFullYear()}ngAfterViewInit(){this.isOpen$.pipe(Mn(e=>e!==this.isOpen),FA(this.isDestroy$)).subscribe(()=>this.toggle())}show(){this._datepicker.isShown||(this.setConfig(),this._datepickerRef=this._datepicker.provide({provide:qo,useValue:this._config}).attach(ZK).to(this.container).position({attachment:this.placement}).show({placement:this.placement}),this.initSubscribes())}hide(){this.isOpen&&this._datepicker.hide();for(const e of this._subs)e.unsubscribe();this._config.returnFocusToInput&&this._renderer.selectRootElement(this._elementRef.nativeElement).focus()}toggle(){if(this.isOpen)return this.hide();this.show()}setConfig(){this._config=Object.assign({},this._config,this.bsConfig,{value:ux(this._bsValue,this.maxDate||this.bsConfig&&this.bsConfig.maxDate),isDisabled:this.isDisabled,minDate:this.minDate||this.bsConfig&&this.bsConfig.minDate,maxDate:this.maxDate||this.bsConfig&&this.bsConfig.maxDate,daysDisabled:this.daysDisabled||this.bsConfig&&this.bsConfig.daysDisabled,dateCustomClasses:this.dateCustomClasses||this.bsConfig&&this.bsConfig.dateCustomClasses,dateTooltipTexts:this.dateTooltipTexts||this.bsConfig&&this.bsConfig.dateTooltipTexts,datesDisabled:this.datesDisabled||this.bsConfig&&this.bsConfig.datesDisabled,datesEnabled:this.datesEnabled||this.bsConfig&&this.bsConfig.datesEnabled,minMode:this.minMode||this.bsConfig&&this.bsConfig.minMode,initCurrentTime:this.bsConfig?.initCurrentTime,keepDatepickerOpened:this.bsConfig?.keepDatepickerOpened})}unsubscribeSubscriptions(){this._subs?.length&&(this._subs.map(e=>e.unsubscribe()),this._subs.length=0)}ngOnDestroy(){this._datepicker.dispose(),this.isOpen$.next(!1),this.isDestroy$&&(this.isDestroy$.next(null),this.isDestroy$.complete()),this.unsubscribeSubscriptions()}}return t.\u0275fac=function(e){return new(e||t)(D(qo),D(zt),D(kn),D(Si),D(qs))},t.\u0275dir=Ve({type:t,selectors:[["","bsDatepicker",""]],hostVars:1,hostBindings:function(e,i){2&e&&qn("readonly",i.readonlyValue)},inputs:{placement:"placement",triggers:"triggers",outsideClick:"outsideClick",container:"container",outsideEsc:"outsideEsc",isDisabled:"isDisabled",minDate:"minDate",maxDate:"maxDate",minMode:"minMode",daysDisabled:"daysDisabled",datesDisabled:"datesDisabled",datesEnabled:"datesEnabled",dateCustomClasses:"dateCustomClasses",dateTooltipTexts:"dateTooltipTexts",isOpen:"isOpen",bsValue:"bsValue",bsConfig:"bsConfig"},outputs:{onShown:"onShown",onHidden:"onHidden",bsValueChange:"bsValueChange"},exportAs:["bsDatepicker"],features:[Hi]}),t})(),QK=(()=>{class t extends ox{constructor(e,i,r,s,o,a,l){super(),this._config=i,this._store=r,this._element=s,this._actions=o,this._positionService=l,this.valueChange=new Me,this.animationState="void",this._rangeStack=[],this.chosenRange=[],this._subs=[],this.isRangePicker=!0,this._effects=a,this.customRanges=this._config.ranges||[],this.customRangeBtnLbl=this._config.customRangeButtonLabel,e.setStyle(s.nativeElement,"display","block"),e.setStyle(s.nativeElement,"position","absolute")}set value(e){this._effects?.setRangeValue(e)}get isDatePickerDisabled(){return!!this._config.isDisabled}get isDatepickerDisabled(){return this.isDatePickerDisabled?"":null}get isDatepickerReadonly(){return this.isDatePickerDisabled?"":null}ngOnInit(){let e;this._positionService.setOptions({modifiers:{flip:{enabled:this._config.adaptivePosition},preventOverflow:{enabled:this._config.adaptivePosition}},allowedPositions:this._config.allowedPositions}),this._positionService.event$?.pipe(Mo(1)).subscribe(()=>{this._positionService.disable(),this.animationState=this._config.isAnimated?this.isTopPosition?"animated-up":"animated-down":"unanimated"}),this.containerClass=this._config.containerClass,this.isOtherMonthsActive=this._config.selectFromOtherMonth,this.withTimepicker=this._config.withTimepicker,this._effects?.init(this._store).setOptions(this._config).setBindings(this).setEventHandlers(this).registerDatepickerSideEffects(),this._subs.push(this._store.select(i=>i.selectedRange).subscribe(i=>{e=i,this.valueChange.emit(i),this.chosenRange=i||[]})),this._subs.push(this._store.select(i=>i.selectedTime).subscribe(i=>{!i[0]||!i[1]||!(i[0]instanceof Date)||!(i[1]instanceof Date)||e&&i[0]===e[0]&&i[1]===e[1]||(this.valueChange.emit(i),this.chosenRange=i||[])}))}ngAfterViewInit(){this.selectedTimeSub.add(this.selectedTime?.subscribe(e=>{Array.isArray(e)&&e.length>=2&&(this.startTimepicker?.writeValue(e[0]),this.endTimepicker?.writeValue(e[1]))})),this.startTimepicker?.registerOnChange(e=>{this.timeSelectHandler(e,0)}),this.endTimepicker?.registerOnChange(e=>{this.timeSelectHandler(e,1)})}get isTopPosition(){return this._element.nativeElement.classList.contains("top")}positionServiceEnable(){this._positionService.enable()}timeSelectHandler(e,i){this._store.dispatch(this._actions.selectTime(e,i))}daySelectHandler(e){!e||(this.isOtherMonthsActive?e.isDisabled:e.isOtherMonth||e.isDisabled)||this.rangesProcessing(e)}monthSelectHandler(e){if(e&&!e.isDisabled){if(e.isSelected=!0,"month"!==this._config.minMode){if(e.isDisabled)return;return void this._store.dispatch(this._actions.navigateTo({unit:{month:Ot(e.date),year:xn(e.date)},viewMode:"day"}))}this.rangesProcessing(e)}}yearSelectHandler(e){if(e&&!e.isDisabled){if(e.isSelected=!0,"year"!==this._config.minMode){if(e.isDisabled)return;return void this._store.dispatch(this._actions.navigateTo({unit:{year:xn(e.date)},viewMode:"month"}))}this.rangesProcessing(e)}}rangesProcessing(e){1===this._rangeStack.length&&(this._rangeStack=e.date>=this._rangeStack[0]?[this._rangeStack[0],e.date]:[e.date]),this._config.maxDateRange&&this.setMaxDateRangeOnCalendar(e.date),0===this._rangeStack.length&&(this._rangeStack=[e.date],this._config.maxDateRange&&this.setMaxDateRangeOnCalendar(e.date)),this._store.dispatch(this._actions.selectRange(this._rangeStack)),2===this._rangeStack.length&&(this._rangeStack=[])}ngOnDestroy(){for(const e of this._subs)e.unsubscribe();this.selectedTimeSub.unsubscribe(),this._effects?.destroy()}setRangeOnCalendar(e){e&&(this._rangeStack=e.value instanceof Date?[e.value]:e.value),this._store.dispatch(this._actions.selectRange(this._rangeStack))}setMaxDateRangeOnCalendar(e){let i=new Date(e);if(this._config.maxDate){const r=this._config.maxDate.getTime(),s=e.getTime()+864e5*(this._config.maxDateRange||0);i=s>r?new Date(this._config.maxDate):new Date(s)}else i.setDate(e.getDate()+(this._config.maxDateRange||0));this._effects?.setMaxDate(i)}}return t.\u0275fac=function(e){return new(e||t)(D(kn),D(qo),D(pf),D(zt),D(ni),D(df),D(xo))},t.\u0275cmp=He({type:t,selectors:[["bs-daterangepicker-container"]],viewQuery:function(e,i){if(1&e&&(he(ix,5),he(GQ,5)),2&e){let r;ue(r=ce())&&(i.startTimepicker=r.first),ue(r=ce())&&(i.endTimepicker=r.first)}},hostAttrs:["role","dialog","aria-label","calendar",1,"bottom"],hostVars:2,hostBindings:function(e,i){1&e&&F("click",function(s){return i._stopPropagation(s)}),2&e&&qn("disabled",i.isDatepickerDisabled)("readonly",i.isDatepickerReadonly)},features:[Kt([pf,df]),_t],decls:2,vars:3,consts:[["class","bs-datepicker",3,"ngClass",4,"ngIf"],[1,"bs-datepicker",3,"ngClass"],[1,"bs-datepicker-container"],["role","application",1,"bs-calendar-container",3,"ngSwitch"],[4,"ngSwitchCase"],["class","bs-media-container",4,"ngSwitchCase"],["class","bs-datepicker-buttons",4,"ngIf"],["class","bs-datepicker-custom-range",4,"ngIf"],[1,"bs-media-container"],[3,"bs-datepicker-multiple","calendar","isDisabled","options","onNavigate","onViewMode","onHover","onHoverWeek","onSelect",4,"ngFor","ngForOf"],["class","bs-timepicker-in-datepicker-container",4,"ngIf"],[3,"calendar","isDisabled","options","onNavigate","onViewMode","onHover","onHoverWeek","onSelect"],[1,"bs-timepicker-in-datepicker-container"],[3,"disabled"],["startTP",""],[3,"disabled",4,"ngIf"],["endTP",""],[3,"bs-datepicker-multiple","calendar","onNavigate","onViewMode","onHover","onSelect",4,"ngFor","ngForOf"],[3,"calendar","onNavigate","onViewMode","onHover","onSelect"],[1,"bs-datepicker-buttons"],["type","button",1,"btn","btn-success"],["type","button",1,"btn","btn-default"],["class","btn-today-wrapper",3,"today-left","today-right","today-center",4,"ngIf"],["class","btn-clear-wrapper",3,"clear-left","clear-right","clear-center",4,"ngIf"],[1,"btn-today-wrapper"],[1,"btn","btn-success",3,"click"],[1,"btn-clear-wrapper"],[1,"bs-datepicker-custom-range"],[3,"selectedRange","ranges","customRangeLabel","onSelect"]],template:function(e,i){1&e&&(V(0,lK,10,11,"div",0),fr(1,"async")),2&e&&y("ngIf",hr(1,1,i.viewMode))},dependencies:[qh,Ei,Jt,td,Xy,Um,bx,wx,Cx,Dx,ev],encapsulation:2,data:{animation:[sx]}}),t})();const KK={provide:Sr,useExisting:Ut(()=>eC),multi:!0},JK={provide:gi,useExisting:Ut(()=>eC),multi:!0};let Ta,eC=(()=>{class t{constructor(e,i,r,s,o){this._picker=e,this._localeService=i,this._renderer=r,this._elRef=s,this.changeDetection=o,this._onChange=Function.prototype,this._onTouched=Function.prototype,this._validatorChange=Function.prototype,this._subs=new ve}ngOnInit(){const e=i=>{this._setInputValue(i),this._value!==i&&(this._value=i,this._onChange(i),this._onTouched()),this.changeDetection.markForCheck()};this._picker._bsValue&&e(this._picker._bsValue),this._subs.add(this._picker.bsValueChange.subscribe(e)),this._subs.add(this._localeService.localeChange.subscribe(()=>{this._setInputValue(this._value)})),this._subs.add(this._picker.dateInputFormat$.pipe(iw()).subscribe(()=>{this._setInputValue(this._value)}))}ngOnDestroy(){this._subs.unsubscribe()}onKeydownEvent(e){(13===e.keyCode||"Enter"===e.code)&&this.hide()}_setInputValue(e){const i=e?Zr(e,this._picker._config.dateInputFormat,this._localeService.currentLocale):"";this._renderer.setProperty(this._elRef.nativeElement,"value",i)}onChange(e){this.writeValue(e.target.value),this._onChange(this._value),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus(),this._onTouched()}validate(e){const i=e.value;if(null==i||""===i)return null;if(Cm(i)){if(!ya(i))return{bsDate:{invalid:i}};if(this._picker&&this._picker.minDate&&no(i,this._picker.minDate,"date"))return this.writeValue(this._picker.minDate),{bsDate:{minDate:this._picker.minDate}};if(this._picker&&this._picker.maxDate&&ks(i,this._picker.maxDate,"date"))return this.writeValue(this._picker.maxDate),{bsDate:{maxDate:this._picker.maxDate}}}return null}registerOnValidatorChange(e){this._validatorChange=e}writeValue(e){if(e){const i=this._localeService.currentLocale;if(!mi(i))throw new Error(`Locale "${i}" is not defined, please add it with "defineLocale(...)"`);this._value=sf(e,this._picker._config.dateInputFormat,this._localeService.currentLocale),this._picker._config.useUtc&&(this._value=hR(this._value))}else this._value=void 0;this._picker.bsValue=this._value}setDisabledState(e){this._picker.isDisabled=e,e?this._renderer.setAttribute(this._elRef.nativeElement,"disabled","disabled"):this._renderer.removeAttribute(this._elRef.nativeElement,"disabled")}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}onBlur(){this._onTouched()}hide(){this._picker.hide(),this._renderer.selectRootElement(this._elRef.nativeElement).blur(),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus()}}return t.\u0275fac=function(e){return new(e||t)(D(Tx,1),D(Ym),D(kn),D(zt),D(Co))},t.\u0275dir=Ve({type:t,selectors:[["input","bsDatepicker",""]],hostBindings:function(e,i){1&e&&F("change",function(s){return i.onChange(s)})("keyup.esc",function(){return i.hide()})("keydown",function(s){return i.onKeydownEvent(s)})("blur",function(){return i.onBlur()})},features:[Kt([KK,JK])]}),t})(),XK=(()=>{class t extends qo{constructor(){super(...arguments),this.displayMonths=2}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),eJ=(()=>{class t{constructor(e,i,r,s,o){this._config=e,this._elementRef=i,this._renderer=r,this.placement="bottom",this.triggers="click",this.outsideClick=!0,this.container="body",this.outsideEsc=!0,this.isDestroy$=new It,this.isDisabled=!1,this.bsValueChange=new Me,this._subs=[],this._rangeInputFormat$=new It,this._datepicker=o.createLoader(i,s,r),Object.assign(this,e),this.onShown=this._datepicker.onShown,this.onHidden=this._datepicker.onHidden,this.isOpen$=new yi(this.isOpen)}get isOpen(){return this._datepicker.isShown}set isOpen(e){this.isOpen$.next(e)}set bsValue(e){this._bsValue!==e&&(e&&this.bsConfig?.initCurrentTime&&(e=fx(e)),this.initPreviousValue(),this._bsValue=e,this.bsValueChange.emit(e))}get isDatepickerReadonly(){return this.isDisabled?"":null}get rangeInputFormat$(){return this._rangeInputFormat$}ngOnInit(){this.isDestroy$=new It,this._datepicker.listen({outsideClick:this.outsideClick,outsideEsc:this.outsideEsc,triggers:this.triggers,show:()=>this.show()}),this.initPreviousValue(),this.setConfig()}ngOnChanges(e){e.bsConfig&&(e.bsConfig.currentValue?.initCurrentTime&&e.bsConfig.currentValue?.initCurrentTime!==e.bsConfig.previousValue?.initCurrentTime&&this._bsValue&&(this.initPreviousValue(),this._bsValue=fx(this._bsValue),this.bsValueChange.emit(this._bsValue)),this.setConfig(),this._rangeInputFormat$.next(e.bsConfig.currentValue&&e.bsConfig.currentValue.rangeInputFormat)),this._datepickerRef&&this._datepickerRef.instance&&(e.minDate&&(this._datepickerRef.instance.minDate=this.minDate),e.maxDate&&(this._datepickerRef.instance.maxDate=this.maxDate),e.datesDisabled&&(this._datepickerRef.instance.datesDisabled=this.datesDisabled),e.datesEnabled&&(this._datepickerRef.instance.datesEnabled=this.datesEnabled),e.daysDisabled&&(this._datepickerRef.instance.daysDisabled=this.daysDisabled),e.isDisabled&&(this._datepickerRef.instance.isDisabled=this.isDisabled),e.dateCustomClasses&&(this._datepickerRef.instance.dateCustomClasses=this.dateCustomClasses))}ngAfterViewInit(){this.isOpen$.pipe(Mn(e=>e!==this.isOpen),FA(this.isDestroy$)).subscribe(()=>this.toggle())}show(){this._datepicker.isShown||(this.setConfig(),this._datepickerRef=this._datepicker.provide({provide:qo,useValue:this._config}).attach(QK).to(this.container).position({attachment:this.placement}).show({placement:this.placement}),this.initSubscribes())}initSubscribes(){this._subs.push(this.bsValueChange.subscribe(e=>{this._datepickerRef&&(this._datepickerRef.instance.value=e)})),this._datepickerRef&&this._subs.push(this._datepickerRef.instance.valueChange.pipe(Mn(e=>e&&e[0]&&!!e[1])).subscribe(e=>{this.initPreviousValue(),this.bsValue=e,!this.keepDatepickerModalOpened()&&this.hide()}))}initPreviousValue(){Ta=this._bsValue}keepDatepickerModalOpened(){return!!(Ta&&this.bsConfig?.keepDatepickerOpened&&this._config.withTimepicker)&&this.isDateSame()}isDateSame(){return this._bsValue?.[0]?.getDate()===Ta?.[0]?.getDate()&&this._bsValue?.[0]?.getMonth()===Ta?.[0]?.getMonth()&&this._bsValue?.[0]?.getFullYear()===Ta?.[0]?.getFullYear()&&this._bsValue?.[1]?.getDate()===Ta?.[1]?.getDate()&&this._bsValue?.[1]?.getMonth()===Ta?.[1]?.getMonth()&&this._bsValue?.[1]?.getFullYear()===Ta?.[1]?.getFullYear()}setConfig(){this._config=Object.assign({},this._config,this.bsConfig,{value:ux(this._bsValue,this.maxDate||this.bsConfig&&this.bsConfig.maxDate),isDisabled:this.isDisabled,minDate:this.minDate||this.bsConfig&&this.bsConfig.minDate,maxDate:this.maxDate||this.bsConfig&&this.bsConfig.maxDate,daysDisabled:this.daysDisabled||this.bsConfig&&this.bsConfig.daysDisabled,dateCustomClasses:this.dateCustomClasses||this.bsConfig&&this.bsConfig.dateCustomClasses,datesDisabled:this.datesDisabled||this.bsConfig&&this.bsConfig.datesDisabled,datesEnabled:this.datesEnabled||this.bsConfig&&this.bsConfig.datesEnabled,ranges:SK(this.bsConfig&&this.bsConfig.ranges,this.maxDate||this.bsConfig&&this.bsConfig.maxDate),maxDateRange:this.bsConfig&&this.bsConfig.maxDateRange,initCurrentTime:this.bsConfig?.initCurrentTime,keepDatepickerOpened:this.bsConfig?.keepDatepickerOpened})}hide(){this.isOpen&&this._datepicker.hide();for(const e of this._subs)e.unsubscribe();this._config.returnFocusToInput&&this._renderer.selectRootElement(this._elementRef.nativeElement).focus()}toggle(){if(this.isOpen)return this.hide();this.show()}unsubscribeSubscriptions(){this._subs?.length&&(this._subs.map(e=>e.unsubscribe()),this._subs.length=0)}ngOnDestroy(){this._datepicker.dispose(),this.isOpen$.next(!1),this.isDestroy$&&(this.isDestroy$.next(null),this.isDestroy$.complete()),this.unsubscribeSubscriptions()}}return t.\u0275fac=function(e){return new(e||t)(D(XK),D(zt),D(kn),D(Si),D(qs))},t.\u0275dir=Ve({type:t,selectors:[["","bsDaterangepicker",""]],hostVars:1,hostBindings:function(e,i){2&e&&qn("readonly",i.isDatepickerReadonly)},inputs:{placement:"placement",triggers:"triggers",outsideClick:"outsideClick",container:"container",outsideEsc:"outsideEsc",isOpen:"isOpen",bsValue:"bsValue",bsConfig:"bsConfig",isDisabled:"isDisabled",minDate:"minDate",maxDate:"maxDate",dateCustomClasses:"dateCustomClasses",daysDisabled:"daysDisabled",datesDisabled:"datesDisabled",datesEnabled:"datesEnabled"},outputs:{onShown:"onShown",onHidden:"onHidden",bsValueChange:"bsValueChange"},exportAs:["bsDaterangepicker"],features:[Hi]}),t})();const tJ={provide:Sr,useExisting:Ut(()=>kx),multi:!0},nJ={provide:gi,useExisting:Ut(()=>kx),multi:!0};let kx=(()=>{class t{constructor(e,i,r,s,o){this._picker=e,this._localeService=i,this._renderer=r,this._elRef=s,this.changeDetection=o,this._onChange=Function.prototype,this._onTouched=Function.prototype,this._validatorChange=Function.prototype,this._subs=new ve}ngOnInit(){this._picker._bsValue&&(i=>{this._setInputValue(i),this._value!==i&&(this._value=i,this._onChange(i),this._onTouched()),this.changeDetection.markForCheck()})(this._picker._bsValue),this._subs.add(this._picker.bsValueChange.subscribe(i=>{this._setInputValue(i),this._value!==i&&(this._value=i,this._onChange(i),this._onTouched()),this.changeDetection.markForCheck()})),this._subs.add(this._localeService.localeChange.subscribe(()=>{this._setInputValue(this._value)})),this._subs.add(this._picker.rangeInputFormat$.pipe(iw()).subscribe(()=>{this._setInputValue(this._value)}))}ngOnDestroy(){this._subs.unsubscribe()}onKeydownEvent(e){(13===e.keyCode||"Enter"===e.code)&&this.hide()}_setInputValue(e){let i="";if(e){const r=e[0]?Zr(e[0],this._picker._config.rangeInputFormat,this._localeService.currentLocale):"",s=e[1]?Zr(e[1],this._picker._config.rangeInputFormat,this._localeService.currentLocale):"";i=r&&s?r+this._picker._config.rangeSeparator+s:""}this._renderer.setProperty(this._elRef.nativeElement,"value",i)}onChange(e){this.writeValue(e.target.value),this._onChange(this._value),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus(),this._onTouched()}validate(e){let i=e.value;const r=[];if(null==i||!En(i))return null;i=i.slice().sort((a,l)=>a.getTime()-l.getTime());const s=ya(i[0]),o=ya(i[1]);return s?o?(this._picker&&this._picker.minDate&&no(i[0],this._picker.minDate,"date")&&(i[0]=this._picker.minDate,r.push({bsDate:{minDate:this._picker.minDate}})),this._picker&&this._picker.maxDate&&ks(i[1],this._picker.maxDate,"date")&&(i[1]=this._picker.maxDate,r.push({bsDate:{maxDate:this._picker.maxDate}})),r.length>0?(this.writeValue(i),r):null):{bsDate:{invalid:i[1]}}:{bsDate:{invalid:i[0]}}}registerOnValidatorChange(e){this._validatorChange=e}writeValue(e){if(e){const i=this._localeService.currentLocale;if(!mi(i))throw new Error(`Locale "${i}" is not defined, please add it with "defineLocale(...)"`);let s=[];if("string"==typeof e){const o=this._picker._config.rangeSeparator.trim();s=e.replace(/[^-]/g,"").length>1?e.split(this._picker._config.rangeSeparator):e.split(o.length>0?o:this._picker._config.rangeSeparator).map(a=>a.trim())}Array.isArray(e)&&(s=e),this._value=s.map(o=>this._picker._config.useUtc?hR(sf(o,this._picker._config.rangeInputFormat,this._localeService.currentLocale)):sf(o,this._picker._config.rangeInputFormat,this._localeService.currentLocale)).map(o=>isNaN(o.valueOf())?void 0:o)}else this._value=void 0;this._picker.bsValue=this._value}setDisabledState(e){this._picker.isDisabled=e,e?this._renderer.setAttribute(this._elRef.nativeElement,"disabled","disabled"):this._renderer.removeAttribute(this._elRef.nativeElement,"disabled")}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}onBlur(){this._onTouched()}hide(){this._picker.hide(),this._renderer.selectRootElement(this._elRef.nativeElement).blur(),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus()}}return t.\u0275fac=function(e){return new(e||t)(D(eJ,1),D(Ym),D(kn),D(zt),D(Co))},t.\u0275dir=Ve({type:t,selectors:[["input","bsDaterangepicker",""]],hostBindings:function(e,i){1&e&&F("change",function(s){return i.onChange(s)})("keyup.esc",function(){return i.hide()})("keydown",function(s){return i.onKeydownEvent(s)})("blur",function(){return i.onBlur()})},features:[Kt([tJ,nJ])]}),t})(),iJ=(()=>{class t{static forRoot(){return{ngModule:t,providers:[qs,xo,pf,ni,df,Ym,Yo]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=_i({type:t}),t.\u0275inj=ai({imports:[gu,wA,JR]}),t})();function rJ(t,n){if(1&t&&(_(0,"p",5),S(1),g()),2&t){const e=w();m(1),it(e.errorMessage)}}let mf=(()=>{class t{constructor(){this.label="",this.value=new Date,this._validator=t.DEFAULT_VALIDATOR,this._isReadOnly=!1,this.isTimeValid=!0}set isReadOnly(e){this._isReadOnly=e}get isReadOnly(){return this._isReadOnly}set initValue(e){this.value=e}set validator(e){this._validator=function(){var i=(0,b.Z)(function*(r,s){return t.DEFAULT_VALIDATOR(r,s)??e(r)});return function(r,s){return i.apply(this,arguments)}}()}getValue(){var e=this;return(0,b.Z)(function*(){return e.value})()}validate(){var e=this;return(0,b.Z)(function*(){const i=yield e._validator(yield e.getValue(),e.isTimeValid);return e.errorMessage=i,null==i})()}}return t.DEFAULT_VALIDATOR=function(){var n=(0,b.Z)(function*(e,i){return i?Vd(e)?void 0:"Date is invalid":"Time is invalid"});return function(e,i){return n.apply(this,arguments)}}(),t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["app-date-time-field"]],inputs:{label:"label",isReadOnly:"isReadOnly",initValue:"initValue",validator:"validator"},decls:7,vars:10,consts:[[1,"m-3"],[1,"form-label"],["type","text","bsDatepicker","",1,"form-control",3,"bsValue","isDisabled","disabled","bsValueChange"],[3,"ngModel","readonlyInput","disabled","showSeconds","showMeridian","ngModelChange","isValid"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(e,i){1&e&&(_(0,"div",0)(1,"div")(2,"label",1),S(3),g(),_(4,"input",2),F("bsValueChange",function(s){return i.value=s}),g(),_(5,"timepicker",3),F("ngModelChange",function(s){return i.value=s})("isValid",function(s){return i.isTimeValid=s}),g()(),V(6,rJ,2,1,"p",4),g()),2&e&&(m(3),it(i.label),m(1),y("bsValue",i.value)("isDisabled",i.isReadOnly)("disabled",i.isReadOnly),m(1),y("ngModel",i.value)("readonlyInput",i.isReadOnly)("disabled",i.isReadOnly)("showSeconds",!0)("showMeridian",!1),m(1),y("ngIf",i.errorMessage))},dependencies:[Jt,Er,_r,Tx,eC,Um]}),t})();const sJ=["idFieldComponent"],oJ=["nameFieldComponent"],aJ=["descriptionFieldComponent"],lJ=["tokenBalanceChangeFieldComponent"],uJ=["moduleNameFieldComponent"],cJ=["startTimeFieldComponent"],dJ=["gradeThresholdComponent"];let fJ=(()=>{class t extends Ks{constructor(e){super(),this.canvasService=e}set initValue(e){this._value=e}getValue(){var e=this;return(0,b.Z)(function*(){if(!(e._value&&e._idField&&e._nameField&&e._descriptionField&&e._tokenBalanceChangeField&&e._moduleNameField&&e._startTimeField&&e._gradeThreshold))throw new Error("Value is not ready yet");const i=e._value instanceof yt?e._value.configuration.course.id:e._value.group.configuration.course.id;return e._value instanceof yt?new Qa(e._value,"earn-by-module",yield e._idField.getValue(),yield e._nameField.getValue(),yield e._descriptionField.getValue(),yield e._tokenBalanceChangeField.getValue(),!1,yield e._moduleNameField.getValue(),yield e.canvasService.getModuleIdByName(i,yield e._moduleNameField.getValue()),yield e._startTimeField.getValue(),yield e._gradeThreshold.getValue()):(e._value.name=yield e._nameField.getValue(),e._value.description=yield e._descriptionField.getValue(),e._value.tokenBalanceChange=yield e._tokenBalanceChangeField.getValue(),e._value.moduleName=yield e._moduleNameField.getValue(),e._value.moduleId=yield e.canvasService.getModuleIdByName(i,yield e._moduleNameField.getValue()),e._value.startTime=yield e._startTimeField.getValue(),e._value.gradeThreshold=yield e._gradeThreshold.getValue(),e._value)})()}ngOnInit(){var e=this;if(!(this._value&&this._idField&&this._nameField&&this._descriptionField&&this._tokenBalanceChangeField&&this._moduleNameField&&this._startTimeField&&this._gradeThreshold))throw new Error("Fields are not ready yet!");this.addSubField(this._nameField),this.addSubField(this._descriptionField),this.addSubField(this._tokenBalanceChangeField),this.addSubField(this._moduleNameField),this.addSubField(this._startTimeField),this.addSubField(this._gradeThreshold),this._value instanceof yt?(this._idField.initValue=this._value.configuration.nextFreeTokenOptionId,this._nameField.initValue="",this._descriptionField.initValue="",this._tokenBalanceChangeField.initValue=0,this._moduleNameField.initValue="",this._startTimeField.initValue=Js(new Date,{hours:0,minutes:0,seconds:0,milliseconds:0}),this._gradeThreshold.initValue=1):(this._idField.initValue=this._value.id,this._nameField.initValue=this._value.name,this._descriptionField.initValue=this._value.description,this._tokenBalanceChangeField.initValue=this._value.tokenBalanceChange,this._moduleNameField.initValue=this._value.moduleName,this._startTimeField.initValue=this._value.startTime,this._gradeThreshold.initValue=this._value.gradeThreshold);const i=this._value instanceof yt?this._value.configuration.course.id:this._value.group.configuration.course.id;this._nameField.validator=function(){var r=(0,b.Z)(function*(s){if(0==s.length)return"Token option name cannot be empty"});return function(s){return r.apply(this,arguments)}}(),this._moduleNameField.validator=function(){var r=(0,b.Z)(function*(s){try{yield e.canvasService.getModuleIdByName(i,s)}catch(o){return o.toString()}});return function(s){return r.apply(this,arguments)}}(),this._gradeThreshold.validator=function(){var r=(0,b.Z)(function*(s){if(s<0||s>1)return"Grade threshold needs to be a number between 0 and 1 (inclusive). E.g, 0.7"});return function(s){return r.apply(this,arguments)}}()}}return t.\u0275fac=function(e){return new(e||t)(D(Rn))},t.\u0275cmp=He({type:t,selectors:[["app-earn-by-module-token-option-field"]],viewQuery:function(e,i){if(1&e&&(he(sJ,7),he(oJ,7),he(aJ,7),he(lJ,7),he(uJ,7),he(cJ,7),he(dJ,7)),2&e){let r;ue(r=ce())&&(i._idField=r.first),ue(r=ce())&&(i._nameField=r.first),ue(r=ce())&&(i._descriptionField=r.first),ue(r=ce())&&(i._tokenBalanceChangeField=r.first),ue(r=ce())&&(i._moduleNameField=r.first),ue(r=ce())&&(i._startTimeField=r.first),ue(r=ce())&&(i._gradeThreshold=r.first)}},features:[_t],decls:14,vars:7,consts:[["label","ID",3,"isReadOnly"],["idFieldComponent",""],["label","Name",3,"isReadOnly"],["nameFieldComponent",""],["label","Description",3,"isReadOnly"],["descriptionFieldComponent",""],["label","Token Balance Change",3,"isReadOnly"],["tokenBalanceChangeFieldComponent",""],["label","Module Name",3,"isReadOnly"],["moduleNameFieldComponent",""],["label","Start Time",3,"isReadOnly"],["startTimeFieldComponent",""],["label","Grade Threshold",3,"isReadOnly"],["gradeThresholdComponent",""]],template:function(e,i){1&e&&Se(0,"app-number-input-field",0,1)(2,"app-string-input-field",2,3)(4,"app-string-textarea-field",4,5)(6,"app-number-input-field",6,7)(8,"app-string-input-field",8,9)(10,"app-date-time-field",10,11)(12,"app-number-input-field",12,13),2&e&&(y("isReadOnly",!0),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly))},dependencies:[xr,Fr,Cs,mf]}),t})();const hJ=["idFieldComponent"],pJ=["nameFieldComponent"],mJ=["descriptionFieldComponent"],_J=["tokenBalanceChangeFieldComponent"],gJ=["quizNameFieldComponent"],yJ=["startTimeFieldComponent"],vJ=["gradeThresholdComponent"];let bJ=(()=>{class t extends Ks{constructor(e){super(),this.canvasService=e}set initValue(e){this._value=e}getValue(){var e=this;return(0,b.Z)(function*(){if(!(e._value&&e._idField&&e._nameField&&e._descriptionField&&e._tokenBalanceChangeField&&e._quizNameField&&e._startTimeField&&e._gradeThreshold))throw new Error("Value is not ready yet");const i=e._value instanceof yt?e._value.configuration.course.id:e._value.group.configuration.course.id;return e._value instanceof yt?new $d(e._value,"earn-by-quiz",yield e._idField.getValue(),yield e._nameField.getValue(),yield e._descriptionField.getValue(),yield e._tokenBalanceChangeField.getValue(),!1,yield e._quizNameField.getValue(),yield e.canvasService.getQuizIdByName(i,yield e._quizNameField.getValue()),yield e._startTimeField.getValue(),yield e._gradeThreshold.getValue()):(e._value.name=yield e._nameField.getValue(),e._value.description=yield e._descriptionField.getValue(),e._value.tokenBalanceChange=yield e._tokenBalanceChangeField.getValue(),e._value.quizName=yield e._quizNameField.getValue(),e._value.quizId=yield e.canvasService.getQuizIdByName(i,yield e._quizNameField.getValue()),e._value.startTime=yield e._startTimeField.getValue(),e._value.gradeThreshold=yield e._gradeThreshold.getValue(),e._value)})()}ngOnInit(){var e=this;if(!(this._value&&this._idField&&this._nameField&&this._descriptionField&&this._tokenBalanceChangeField&&this._quizNameField&&this._startTimeField&&this._gradeThreshold))throw new Error("Fields are not ready yet!");this.addSubField(this._nameField),this.addSubField(this._descriptionField),this.addSubField(this._tokenBalanceChangeField),this.addSubField(this._quizNameField),this.addSubField(this._startTimeField),this.addSubField(this._gradeThreshold),this._value instanceof yt?(this._idField.initValue=this._value.configuration.nextFreeTokenOptionId,this._nameField.initValue="",this._descriptionField.initValue="",this._tokenBalanceChangeField.initValue=0,this._quizNameField.initValue="",this._startTimeField.initValue=Js(new Date,{hours:0,minutes:0,seconds:0,milliseconds:0}),this._gradeThreshold.initValue=1):(this._idField.initValue=this._value.id,this._nameField.initValue=this._value.name,this._descriptionField.initValue=this._value.description,this._tokenBalanceChangeField.initValue=this._value.tokenBalanceChange,this._quizNameField.initValue=this._value.quizName,this._startTimeField.initValue=this._value.startTime,this._gradeThreshold.initValue=this._value.gradeThreshold);const i=this._value instanceof yt?this._value.configuration.course.id:this._value.group.configuration.course.id;this._nameField.validator=function(){var r=(0,b.Z)(function*(s){if(0==s.length)return"Token option name cannot be empty"});return function(s){return r.apply(this,arguments)}}(),this._quizNameField.validator=function(){var r=(0,b.Z)(function*(s){try{yield e.canvasService.getQuizIdByName(i,s)}catch(o){return o.toString()}});return function(s){return r.apply(this,arguments)}}(),this._gradeThreshold.validator=function(){var r=(0,b.Z)(function*(s){if(s<0||s>1)return"Grade threshold needs to be a number between 0 and 1 (inclusive). E.g, 0.7"});return function(s){return r.apply(this,arguments)}}()}}return t.\u0275fac=function(e){return new(e||t)(D(Rn))},t.\u0275cmp=He({type:t,selectors:[["app-earn-by-quiz-token-option-field"]],viewQuery:function(e,i){if(1&e&&(he(hJ,7),he(pJ,7),he(mJ,7),he(_J,7),he(gJ,7),he(yJ,7),he(vJ,7)),2&e){let r;ue(r=ce())&&(i._idField=r.first),ue(r=ce())&&(i._nameField=r.first),ue(r=ce())&&(i._descriptionField=r.first),ue(r=ce())&&(i._tokenBalanceChangeField=r.first),ue(r=ce())&&(i._quizNameField=r.first),ue(r=ce())&&(i._startTimeField=r.first),ue(r=ce())&&(i._gradeThreshold=r.first)}},features:[_t],decls:14,vars:7,consts:[["label","ID",3,"isReadOnly"],["idFieldComponent",""],["label","Name",3,"isReadOnly"],["nameFieldComponent",""],["label","Description",3,"isReadOnly"],["descriptionFieldComponent",""],["label","Token Balance Change",3,"isReadOnly"],["tokenBalanceChangeFieldComponent",""],["label","Quiz Name",3,"isReadOnly"],["quizNameFieldComponent",""],["label","Start Time",3,"isReadOnly"],["startTimeFieldComponent",""],["label","Grade Threshold",3,"isReadOnly"],["gradeThresholdComponent",""]],template:function(e,i){1&e&&Se(0,"app-number-input-field",0,1)(2,"app-string-input-field",2,3)(4,"app-string-textarea-field",4,5)(6,"app-number-input-field",6,7)(8,"app-string-input-field",8,9)(10,"app-date-time-field",10,11)(12,"app-number-input-field",12,13),2&e&&(y("isReadOnly",!0),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly))},dependencies:[xr,Fr,Cs,mf]}),t})();const wJ=["idFieldComponent"],CJ=["nameFieldComponent"],DJ=["descriptionFieldComponent"],TJ=["tokenBalanceChangeFieldComponent"],kJ=["surveyIdFieldComponent"],MJ=["fieldNameFieldComponent"],SJ=["startTimeFieldComponent"],EJ=["endTimeFieldComponent"];let OJ=(()=>{class t extends Ks{constructor(){super()}set initValue(e){this._value=e}getValue(){var e=this;return(0,b.Z)(function*(){if(!(e._value&&e._idField&&e._nameField&&e._descriptionField&&e._tokenBalanceChangeField&&e._surveyIdField&&e._fieldNameField&&e._startTimeField&&e._endTimeField))throw new Error("Value is not ready yet");return e._value instanceof yt?new jd(e._value,"earn-by-survey",yield e._idField.getValue(),yield e._nameField.getValue(),yield e._descriptionField.getValue(),yield e._tokenBalanceChangeField.getValue(),!1,yield e._surveyIdField.getValue(),yield e._fieldNameField.getValue(),yield e._startTimeField.getValue(),yield e._endTimeField.getValue()):(e._value.name=yield e._nameField.getValue(),e._value.description=yield e._descriptionField.getValue(),e._value.tokenBalanceChange=yield e._tokenBalanceChangeField.getValue(),e._value.surveyId=yield e._surveyIdField.getValue(),e._value.fieldName=yield e._fieldNameField.getValue(),e._value.startTime=yield e._startTimeField.getValue(),e._value.endTime=yield e._endTimeField.getValue(),e._value)})()}ngOnInit(){if(!(this._value&&this._idField&&this._nameField&&this._descriptionField&&this._tokenBalanceChangeField&&this._surveyIdField&&this._fieldNameField&&this._startTimeField&&this._endTimeField))throw new Error("Fields are not ready yet!");this.addSubField(this._nameField),this.addSubField(this._descriptionField),this.addSubField(this._tokenBalanceChangeField),this.addSubField(this._surveyIdField),this.addSubField(this._fieldNameField),this.addSubField(this._startTimeField),this.addSubField(this._endTimeField),this._value instanceof yt?(this._idField.initValue=this._value.configuration.nextFreeTokenOptionId,this._nameField.initValue="",this._descriptionField.initValue="",this._tokenBalanceChangeField.initValue=0,this._surveyIdField.initValue="",this._fieldNameField.initValue="",this._startTimeField.initValue=Js(new Date,{hours:0,minutes:0,seconds:0,milliseconds:0}),this._endTimeField.initValue=Js(new Date,{hours:23,minutes:59,seconds:59,milliseconds:999})):(this._idField.initValue=this._value.id,this._nameField.initValue=this._value.name,this._descriptionField.initValue=this._value.description,this._tokenBalanceChangeField.initValue=this._value.tokenBalanceChange,this._surveyIdField.initValue=this._value.surveyId,this._fieldNameField.initValue=this._value.fieldName,this._startTimeField.initValue=this._value.startTime,this._endTimeField.initValue=this._value.endTime),this._nameField.validator=function(){var e=(0,b.Z)(function*(i){if(0==i.length)return"Token option name cannot be empty"});return function(i){return e.apply(this,arguments)}}(),this._surveyIdField.validator=function(){var e=(0,b.Z)(function*(i){if(0==i.length)return"Qualtrics Survey ID cannot be empty"});return function(i){return e.apply(this,arguments)}}(),this._fieldNameField.validator=function(){var e=(0,b.Z)(function*(i){if(0==i.length)return"Qualtrics Survey field name cannot be empty"});return function(i){return e.apply(this,arguments)}}()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["app-earn-by-survey-token-option-field"]],viewQuery:function(e,i){if(1&e&&(he(wJ,7),he(CJ,7),he(DJ,7),he(TJ,7),he(kJ,7),he(MJ,7),he(SJ,7),he(EJ,7)),2&e){let r;ue(r=ce())&&(i._idField=r.first),ue(r=ce())&&(i._nameField=r.first),ue(r=ce())&&(i._descriptionField=r.first),ue(r=ce())&&(i._tokenBalanceChangeField=r.first),ue(r=ce())&&(i._surveyIdField=r.first),ue(r=ce())&&(i._fieldNameField=r.first),ue(r=ce())&&(i._startTimeField=r.first),ue(r=ce())&&(i._endTimeField=r.first)}},features:[_t],decls:16,vars:8,consts:[["label","ID",3,"isReadOnly"],["idFieldComponent",""],["label","Name",3,"isReadOnly"],["nameFieldComponent",""],["label","Description",3,"isReadOnly"],["descriptionFieldComponent",""],["label","Token Balance Change",3,"isReadOnly"],["tokenBalanceChangeFieldComponent",""],["label","Survey ID",3,"isReadOnly"],["surveyIdFieldComponent",""],["label","Survey Field Name",3,"isReadOnly"],["fieldNameFieldComponent",""],["label","Start Time",3,"isReadOnly"],["startTimeFieldComponent",""],["label","End Time",3,"isReadOnly"],["endTimeFieldComponent",""]],template:function(e,i){1&e&&Se(0,"app-number-input-field",0,1)(2,"app-string-input-field",2,3)(4,"app-string-textarea-field",4,5)(6,"app-number-input-field",6,7)(8,"app-string-input-field",8,9)(10,"app-string-input-field",10,11)(12,"app-date-time-field",12,13)(14,"app-date-time-field",14,15),2&e&&(y("isReadOnly",!0),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly))},dependencies:[xr,Fr,Cs,mf]}),t})();const IJ=["idFieldComponent"],AJ=["nameFieldComponent"],RJ=["descriptionFieldComponent"],xJ=["tokenBalanceChangeFieldComponent"],FJ=["assignmentNameFieldComponent"],NJ=["startTimeFieldComponent"],LJ=["endTimeFieldComponent"],PJ=["newDueTimeFieldComponent"];let VJ=(()=>{class t extends Ks{constructor(e){super(),this.canvasService=e}set initValue(e){this._value=e}getValue(){var e=this;return(0,b.Z)(function*(){if(!(e._value&&e._idField&&e._nameField&&e._descriptionField&&e._tokenBalanceChangeField&&e._assignmentNameField&&e._startTimeField&&e._endTimeField&&e._newDueTimeField))throw new Error("Value is not ready yet");const i=e._value instanceof yt?e._value.configuration.course.id:e._value.group.configuration.course.id;return e._value instanceof yt?new Ka(e._value,"spend-for-assignment-resubmission",yield e._idField.getValue(),yield e._nameField.getValue(),yield e._descriptionField.getValue(),yield e._tokenBalanceChangeField.getValue(),!1,yield e._assignmentNameField.getValue(),yield e.canvasService.getAssignmentIdByName(i,yield e._assignmentNameField.getValue()),yield e._startTimeField.getValue(),yield e._endTimeField.getValue(),yield e._newDueTimeField.getValue()):(e._value.name=yield e._nameField.getValue(),e._value.description=yield e._descriptionField.getValue(),e._value.tokenBalanceChange=yield e._tokenBalanceChangeField.getValue(),e._value.assignmentName=yield e._assignmentNameField.getValue(),e._value.assignmentId=yield e.canvasService.getAssignmentIdByName(i,yield e._assignmentNameField.getValue()),e._value.startTime=yield e._startTimeField.getValue(),e._value.endTime=yield e._endTimeField.getValue(),e._value.newDueTime=yield e._newDueTimeField.getValue(),e._value)})()}ngOnInit(){var e=this;if(!(this._value&&this._idField&&this._nameField&&this._descriptionField&&this._tokenBalanceChangeField&&this._assignmentNameField&&this._startTimeField&&this._endTimeField&&this._newDueTimeField))throw new Error("Fields are not ready yet!");this.addSubField(this._nameField),this.addSubField(this._descriptionField),this.addSubField(this._tokenBalanceChangeField),this.addSubField(this._assignmentNameField),this.addSubField(this._startTimeField),this.addSubField(this._endTimeField),this.addSubField(this._newDueTimeField),this._value instanceof yt?(this._idField.initValue=this._value.configuration.nextFreeTokenOptionId,this._nameField.initValue="",this._descriptionField.initValue="",this._tokenBalanceChangeField.initValue=0,this._assignmentNameField.initValue="",this._startTimeField.initValue=Js(new Date,{hours:0,minutes:0,seconds:0,milliseconds:0}),this._endTimeField.initValue=Js(new Date,{hours:23,minutes:59,seconds:59,milliseconds:999}),this._newDueTimeField.initValue=Js(new Date,{hours:23,minutes:59,seconds:59,milliseconds:999})):(this._idField.initValue=this._value.id,this._nameField.initValue=this._value.name,this._descriptionField.initValue=this._value.description,this._tokenBalanceChangeField.initValue=this._value.tokenBalanceChange,this._assignmentNameField.initValue=this._value.assignmentName,this._startTimeField.initValue=this._value.startTime,this._endTimeField.initValue=this._value.endTime,this._newDueTimeField.initValue=this._value.newDueTime);const i=this._value instanceof yt?this._value.configuration.course.id:this._value.group.configuration.course.id;this._nameField.validator=function(){var r=(0,b.Z)(function*(s){if(0==s.length)return"Token option name cannot be empty"});return function(s){return r.apply(this,arguments)}}(),this._assignmentNameField.validator=function(){var r=(0,b.Z)(function*(s){try{yield e.canvasService.getAssignmentIdByName(i,s)}catch(o){return o.toString()}});return function(s){return r.apply(this,arguments)}}()}}return t.\u0275fac=function(e){return new(e||t)(D(Rn))},t.\u0275cmp=He({type:t,selectors:[["app-spend-for-assignment-resubmission-token-option-field"]],viewQuery:function(e,i){if(1&e&&(he(IJ,7),he(AJ,7),he(RJ,7),he(xJ,7),he(FJ,7),he(NJ,7),he(LJ,7),he(PJ,7)),2&e){let r;ue(r=ce())&&(i._idField=r.first),ue(r=ce())&&(i._nameField=r.first),ue(r=ce())&&(i._descriptionField=r.first),ue(r=ce())&&(i._tokenBalanceChangeField=r.first),ue(r=ce())&&(i._assignmentNameField=r.first),ue(r=ce())&&(i._startTimeField=r.first),ue(r=ce())&&(i._endTimeField=r.first),ue(r=ce())&&(i._newDueTimeField=r.first)}},features:[_t],decls:16,vars:8,consts:[["label","ID",3,"isReadOnly"],["idFieldComponent",""],["label","Name",3,"isReadOnly"],["nameFieldComponent",""],["label","Description",3,"isReadOnly"],["descriptionFieldComponent",""],["label","Token Balance Change",3,"isReadOnly"],["tokenBalanceChangeFieldComponent",""],["label","Assignment Name",3,"isReadOnly"],["assignmentNameFieldComponent",""],["label","Start Time",3,"isReadOnly"],["startTimeFieldComponent",""],["label","End Time",3,"isReadOnly"],["endTimeFieldComponent",""],["label","New Due Time for Assignment",3,"isReadOnly"],["newDueTimeFieldComponent",""]],template:function(e,i){1&e&&Se(0,"app-number-input-field",0,1)(2,"app-string-input-field",2,3)(4,"app-string-textarea-field",4,5)(6,"app-number-input-field",6,7)(8,"app-string-input-field",8,9)(10,"app-date-time-field",10,11)(12,"app-date-time-field",12,13)(14,"app-date-time-field",14,15),2&e&&(y("isReadOnly",!0),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly))},dependencies:[xr,Fr,Cs,mf]}),t})();const BJ=["idFieldComponent"],HJ=["nameFieldComponent"],$J=["descriptionFieldComponent"],jJ=["tokenBalanceChangeFieldComponent"],UJ=["quizNameFieldComponent"],YJ=["startTimeFieldComponent"],zJ=["endTimeFieldComponent"],qJ=["newDueTimeFieldComponent"],WJ=["excludeTokenOptionIdsFieldComponent"];let GJ=(()=>{class t extends Ks{constructor(e){super(),this.canvasService=e}set initValue(e){this._value=e}getValue(){var e=this;return(0,b.Z)(function*(){if(!(e._value&&e._idField&&e._nameField&&e._descriptionField&&e._tokenBalanceChangeField&&e._quizNameField&&e._startTimeField&&e._endTimeField&&e._newDueTimeField&&e._excludeTokenOptionIdsField))throw new Error("Value is not ready yet");const i=e._value instanceof yt?e._value.configuration.course.id:e._value.group.configuration.course.id;return e._value instanceof yt?new _a(e._value,"spend-for-lab-data",yield e._idField.getValue(),yield e._nameField.getValue(),yield e._descriptionField.getValue(),yield e._tokenBalanceChangeField.getValue(),!1,yield e._quizNameField.getValue(),yield e.canvasService.getQuizIdByName(i,yield e._quizNameField.getValue()),yield e._startTimeField.getValue(),yield e._endTimeField.getValue(),yield e._newDueTimeField.getValue(),(yield e._excludeTokenOptionIdsField.getValue()).split(",").filter(r=>0!=r.trim().length).map(r=>parseInt(r.trim()))):(e._value.name=yield e._nameField.getValue(),e._value.description=yield e._descriptionField.getValue(),e._value.tokenBalanceChange=yield e._tokenBalanceChangeField.getValue(),e._value.quizName=yield e._quizNameField.getValue(),e._value.quizId=yield e.canvasService.getQuizIdByName(i,yield e._quizNameField.getValue()),e._value.startTime=yield e._startTimeField.getValue(),e._value.endTime=yield e._endTimeField.getValue(),e._value.newDueTime=yield e._newDueTimeField.getValue(),e._value.excludeTokenOptionIds=(yield e._excludeTokenOptionIdsField.getValue()).split(",").filter(r=>0!=r.trim().length).map(r=>parseInt(r.trim())),e._value)})()}ngOnInit(){var e=this;if(!(this._value&&this._idField&&this._nameField&&this._descriptionField&&this._tokenBalanceChangeField&&this._quizNameField&&this._startTimeField&&this._endTimeField&&this._newDueTimeField&&this._excludeTokenOptionIdsField))throw new Error("Fields are not ready yet!");this.addSubField(this._nameField),this.addSubField(this._descriptionField),this.addSubField(this._tokenBalanceChangeField),this.addSubField(this._quizNameField),this.addSubField(this._startTimeField),this.addSubField(this._endTimeField),this.addSubField(this._newDueTimeField),this.addSubField(this._excludeTokenOptionIdsField),this._value instanceof yt?(this._idField.initValue=this._value.configuration.nextFreeTokenOptionId,this._nameField.initValue="",this._descriptionField.initValue="",this._tokenBalanceChangeField.initValue=0,this._quizNameField.initValue="",this._startTimeField.initValue=Js(new Date,{hours:0,minutes:0,seconds:0,milliseconds:0}),this._endTimeField.initValue=Js(new Date,{hours:23,minutes:59,seconds:59,milliseconds:999}),this._newDueTimeField.initValue=Js(new Date,{hours:23,minutes:59,seconds:59,milliseconds:999}),this._excludeTokenOptionIdsField.initValue=""):(this._idField.initValue=this._value.id,this._nameField.initValue=this._value.name,this._descriptionField.initValue=this._value.description,this._tokenBalanceChangeField.initValue=this._value.tokenBalanceChange,this._quizNameField.initValue=this._value.quizName,this._startTimeField.initValue=this._value.startTime,this._endTimeField.initValue=this._value.endTime,this._newDueTimeField.initValue=this._value.newDueTime,this._excludeTokenOptionIdsField.initValue=this._value.excludeTokenOptionIds.join(","));const i=this._value instanceof yt?this._value.configuration.course.id:this._value.group.configuration.course.id;this._nameField.validator=function(){var r=(0,b.Z)(function*(s){if(0==s.length)return"Token option name cannot be empty"});return function(s){return r.apply(this,arguments)}}(),this._quizNameField.validator=function(){var r=(0,b.Z)(function*(s){try{yield e.canvasService.getQuizIdByName(i,s)}catch(o){return o.toString()}});return function(s){return r.apply(this,arguments)}}(),this._excludeTokenOptionIdsField.validator=function(){var r=(0,b.Z)(function*(s){const o=s.split(",");for(const a of o){const l=a.trim();if(0!=l.length&&isNaN(parseInt(l)))return"Non-numeric value exists in the list!"}});return function(s){return r.apply(this,arguments)}}()}}return t.\u0275fac=function(e){return new(e||t)(D(Rn))},t.\u0275cmp=He({type:t,selectors:[["app-spend-for-lab-data-token-option-field"]],viewQuery:function(e,i){if(1&e&&(he(BJ,7),he(HJ,7),he($J,7),he(jJ,7),he(UJ,7),he(YJ,7),he(zJ,7),he(qJ,7),he(WJ,7)),2&e){let r;ue(r=ce())&&(i._idField=r.first),ue(r=ce())&&(i._nameField=r.first),ue(r=ce())&&(i._descriptionField=r.first),ue(r=ce())&&(i._tokenBalanceChangeField=r.first),ue(r=ce())&&(i._quizNameField=r.first),ue(r=ce())&&(i._startTimeField=r.first),ue(r=ce())&&(i._endTimeField=r.first),ue(r=ce())&&(i._newDueTimeField=r.first),ue(r=ce())&&(i._excludeTokenOptionIdsField=r.first)}},features:[_t],decls:18,vars:9,consts:[["label","ID",3,"isReadOnly"],["idFieldComponent",""],["label","Name",3,"isReadOnly"],["nameFieldComponent",""],["label","Description",3,"isReadOnly"],["descriptionFieldComponent",""],["label","Token Balance Change",3,"isReadOnly"],["tokenBalanceChangeFieldComponent",""],["label","Quiz Name",3,"isReadOnly"],["quizNameFieldComponent",""],["label","Start Time",3,"isReadOnly"],["startTimeFieldComponent",""],["label","End Time",3,"isReadOnly"],["endTimeFieldComponent",""],["label","New Due Time for Lab Data Quiz",3,"isReadOnly"],["newDueTimeFieldComponent",""],["label","Mutually Exclusive Token Options' IDs (separated by comma)",3,"isReadOnly"],["excludeTokenOptionIdsFieldComponent",""]],template:function(e,i){1&e&&Se(0,"app-number-input-field",0,1)(2,"app-string-input-field",2,3)(4,"app-string-textarea-field",4,5)(6,"app-number-input-field",6,7)(8,"app-string-input-field",8,9)(10,"app-date-time-field",10,11)(12,"app-date-time-field",12,13)(14,"app-date-time-field",14,15)(16,"app-string-input-field",16,17),2&e&&(y("isReadOnly",!0),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly))},dependencies:[xr,Fr,Cs,mf]}),t})();const ZJ=["idFieldComponent"],QJ=["nameFieldComponent"],KJ=["descriptionFieldComponent"],JJ=["tokenBalanceChangeFieldComponent"],XJ=["excludeTokenOptionIdsFieldComponent"];let eX=(()=>{class t extends Ks{set initValue(e){this._value=e}ngOnInit(){if(!(this._value&&this._idField&&this._nameField&&this._descriptionField&&this._tokenBalanceChangeField&&this._excludeTokenOptionIdsField))throw new Error("Fields are not ready yet!");this.addSubField(this._nameField),this.addSubField(this._descriptionField),this.addSubField(this._tokenBalanceChangeField),this.addSubField(this._excludeTokenOptionIdsField),this._value instanceof yt?(this._idField.initValue=this._value.configuration.nextFreeTokenOptionId,this._nameField.initValue="",this._descriptionField.initValue="",this._tokenBalanceChangeField.initValue=0,this._excludeTokenOptionIdsField.initValue=""):(this._idField.initValue=this._value.id,this._nameField.initValue=this._value.name,this._descriptionField.initValue=this._value.description,this._tokenBalanceChangeField.initValue=this._value.tokenBalanceChange,this._excludeTokenOptionIdsField.initValue=this._value.excludeTokenOptionIds.join(",")),this._nameField.validator=function(){var e=(0,b.Z)(function*(i){if(0==i.length)return"Token option name cannot be empty"});return function(i){return e.apply(this,arguments)}}(),this._excludeTokenOptionIdsField.validator=function(){var e=(0,b.Z)(function*(i){const r=i.split(",");for(const s of r){const o=s.trim();if(0!=o.length&&isNaN(parseInt(o)))return"Non-numeric value exists in the list!"}});return function(i){return e.apply(this,arguments)}}()}getValue(){var e=this;return(0,b.Z)(function*(){if(!(e._value&&e._idField&&e._nameField&&e._descriptionField&&e._tokenBalanceChangeField&&e._excludeTokenOptionIdsField))throw new Error("Value is not ready yet!");return e._value instanceof yt?new Vu(e._value,"spend-for-lab-switch",yield e._idField.getValue(),yield e._nameField.getValue(),yield e._descriptionField.getValue(),yield e._tokenBalanceChangeField.getValue(),!1,(yield e._excludeTokenOptionIdsField.getValue()).split(",").filter(i=>0!=i.trim().length).map(i=>parseInt(i.trim()))):(e._value.name=yield e._nameField.getValue(),e._value.description=yield e._descriptionField.getValue(),e._value.tokenBalanceChange=yield e._tokenBalanceChangeField.getValue(),e._value.excludeTokenOptionIds=(yield e._excludeTokenOptionIdsField.getValue()).split(",").filter(i=>0!=i.trim().length).map(i=>parseInt(i.trim())),e._value)})()}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275cmp=He({type:t,selectors:[["app-spend-for-lab-switch-token-option-field"]],viewQuery:function(e,i){if(1&e&&(he(ZJ,7),he(QJ,7),he(KJ,7),he(JJ,7),he(XJ,7)),2&e){let r;ue(r=ce())&&(i._idField=r.first),ue(r=ce())&&(i._nameField=r.first),ue(r=ce())&&(i._descriptionField=r.first),ue(r=ce())&&(i._tokenBalanceChangeField=r.first),ue(r=ce())&&(i._excludeTokenOptionIdsField=r.first)}},features:[_t],decls:10,vars:5,consts:[["label","ID",3,"isReadOnly"],["idFieldComponent",""],["label","Name",3,"isReadOnly"],["nameFieldComponent",""],["label","Description",3,"isReadOnly"],["descriptionFieldComponent",""],["label","Token Balance Change",3,"isReadOnly"],["tokenBalanceChangeFieldComponent",""],["label","Mutually Exclusive Token Options' IDs (separated by comma)",3,"isReadOnly"],["excludeTokenOptionIdsFieldComponent",""]],template:function(e,i){1&e&&Se(0,"app-number-input-field",0,1)(2,"app-string-input-field",2,3)(4,"app-string-textarea-field",4,5)(6,"app-number-input-field",6,7)(8,"app-string-input-field",8,9),2&e&&(y("isReadOnly",!0),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly))},dependencies:[xr,Fr,Cs]}),t})();const tX=["idFieldComponent"],nX=["nameFieldComponent"],iX=["descriptionFieldComponent"],rX=["tokenBalanceChangeFieldComponent"],sX=["withdrawTokenOptionIdFieldComponent"];let oX=(()=>{class t extends Ks{set initValue(e){this._value=e}ngOnInit(){var e=this;if(!(this._value&&this._idField&&this._nameField&&this._descriptionField&&this._tokenBalanceChangeField&&this._withdrawTokenOptionIdField))throw new Error("Fields are not ready yet!");this.addSubField(this._nameField),this.addSubField(this._descriptionField),this.addSubField(this._tokenBalanceChangeField),this.addSubField(this._withdrawTokenOptionIdField),this._value instanceof yt?(this._idField.initValue=this._value.configuration.nextFreeTokenOptionId,this._nameField.initValue="",this._descriptionField.initValue="",this._tokenBalanceChangeField.initValue=0,this._withdrawTokenOptionIdField.initValue=-1):(this._idField.initValue=this._value.id,this._nameField.initValue=this._value.name,this._descriptionField.initValue=this._value.description,this._tokenBalanceChangeField.initValue=this._value.tokenBalanceChange,this._withdrawTokenOptionIdField.initValue=this._value.withdrawTokenOptionId),this._nameField.validator=function(){var i=(0,b.Z)(function*(r){if(0==r.length)return"Token option name cannot be empty"});return function(r){return i.apply(this,arguments)}}(),this._withdrawTokenOptionIdField.validator=function(){var i=(0,b.Z)(function*(r){const o=(e._value instanceof yt?e._value.configuration:e._value?.group.configuration)?.getTokenOptionById(r);return o?o instanceof Ka?void 0:"Token option type invalid: should be 'Spend Tokens for Assignment Resubmission'":"There is no token option with this id"});return function(r){return i.apply(this,arguments)}}()}getValue(){var e=this;return(0,b.Z)(function*(){if(!(e._value&&e._idField&&e._nameField&&e._descriptionField&&e._tokenBalanceChangeField&&e._withdrawTokenOptionIdField))throw new Error("Value is not ready yet!");return e._value instanceof yt?new om(e._value,"withdraw-assignment-resubmission",yield e._idField.getValue(),yield e._nameField.getValue(),yield e._descriptionField.getValue(),yield e._tokenBalanceChangeField.getValue(),!1,yield e._withdrawTokenOptionIdField.getValue()):(e._value.name=yield e._nameField.getValue(),e._value.description=yield e._descriptionField.getValue(),e._value.tokenBalanceChange=yield e._tokenBalanceChangeField.getValue(),e._value.withdrawTokenOptionId=yield e._withdrawTokenOptionIdField.getValue(),e._value)})()}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275cmp=He({type:t,selectors:[["app-withdraw-assignment-resubmission-option-field"]],viewQuery:function(e,i){if(1&e&&(he(tX,7),he(nX,7),he(iX,7),he(rX,7),he(sX,7)),2&e){let r;ue(r=ce())&&(i._idField=r.first),ue(r=ce())&&(i._nameField=r.first),ue(r=ce())&&(i._descriptionField=r.first),ue(r=ce())&&(i._tokenBalanceChangeField=r.first),ue(r=ce())&&(i._withdrawTokenOptionIdField=r.first)}},features:[_t],decls:10,vars:5,consts:[["label","ID",3,"isReadOnly"],["idFieldComponent",""],["label","Name",3,"isReadOnly"],["nameFieldComponent",""],["label","Description",3,"isReadOnly"],["descriptionFieldComponent",""],["label","Token Balance Change",3,"isReadOnly"],["tokenBalanceChangeFieldComponent",""],["label","Withdraw Token Option ID",3,"isReadOnly"],["withdrawTokenOptionIdFieldComponent",""]],template:function(e,i){1&e&&Se(0,"app-number-input-field",0,1)(2,"app-string-input-field",2,3)(4,"app-string-textarea-field",4,5)(6,"app-number-input-field",6,7)(8,"app-number-input-field",8,9),2&e&&(y("isReadOnly",!0),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly))},dependencies:[xr,Fr,Cs]}),t})();const aX=["idFieldComponent"],lX=["nameFieldComponent"],uX=["descriptionFieldComponent"],cX=["tokenBalanceChangeFieldComponent"],dX=["withdrawTokenOptionIdFieldComponent"];let fX=(()=>{class t extends Ks{set initValue(e){this._value=e}ngOnInit(){var e=this;if(!(this._value&&this._idField&&this._nameField&&this._descriptionField&&this._tokenBalanceChangeField&&this._withdrawTokenOptionIdField))throw new Error("Fields are not ready yet!");this.addSubField(this._nameField),this.addSubField(this._descriptionField),this.addSubField(this._tokenBalanceChangeField),this.addSubField(this._withdrawTokenOptionIdField),this._value instanceof yt?(this._idField.initValue=this._value.configuration.nextFreeTokenOptionId,this._nameField.initValue="",this._descriptionField.initValue="",this._tokenBalanceChangeField.initValue=0,this._withdrawTokenOptionIdField.initValue=-1):(this._idField.initValue=this._value.id,this._nameField.initValue=this._value.name,this._descriptionField.initValue=this._value.description,this._tokenBalanceChangeField.initValue=this._value.tokenBalanceChange,this._withdrawTokenOptionIdField.initValue=this._value.withdrawTokenOptionId),this._nameField.validator=function(){var i=(0,b.Z)(function*(r){if(0==r.length)return"Token option name cannot be empty"});return function(r){return i.apply(this,arguments)}}(),this._withdrawTokenOptionIdField.validator=function(){var i=(0,b.Z)(function*(r){const o=(e._value instanceof yt?e._value.configuration:e._value?.group.configuration)?.getTokenOptionById(r);return o?o instanceof _a?void 0:"Token option type invalid: should be 'Spend Tokens for Lab Data'":"There is no token option with this id"});return function(r){return i.apply(this,arguments)}}()}getValue(){var e=this;return(0,b.Z)(function*(){if(!(e._value&&e._idField&&e._nameField&&e._descriptionField&&e._tokenBalanceChangeField&&e._withdrawTokenOptionIdField))throw new Error("Value is not ready yet!");return e._value instanceof yt?new am(e._value,"withdraw-lab-data",yield e._idField.getValue(),yield e._nameField.getValue(),yield e._descriptionField.getValue(),yield e._tokenBalanceChangeField.getValue(),!1,yield e._withdrawTokenOptionIdField.getValue()):(e._value.name=yield e._nameField.getValue(),e._value.description=yield e._descriptionField.getValue(),e._value.tokenBalanceChange=yield e._tokenBalanceChangeField.getValue(),e._value.withdrawTokenOptionId=yield e._withdrawTokenOptionIdField.getValue(),e._value)})()}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275cmp=He({type:t,selectors:[["app-withdraw-lab-data-token-option-field"]],viewQuery:function(e,i){if(1&e&&(he(aX,7),he(lX,7),he(uX,7),he(cX,7),he(dX,7)),2&e){let r;ue(r=ce())&&(i._idField=r.first),ue(r=ce())&&(i._nameField=r.first),ue(r=ce())&&(i._descriptionField=r.first),ue(r=ce())&&(i._tokenBalanceChangeField=r.first),ue(r=ce())&&(i._withdrawTokenOptionIdField=r.first)}},features:[_t],decls:10,vars:5,consts:[["label","ID",3,"isReadOnly"],["idFieldComponent",""],["label","Name",3,"isReadOnly"],["nameFieldComponent",""],["label","Description",3,"isReadOnly"],["descriptionFieldComponent",""],["label","Token Balance Change",3,"isReadOnly"],["tokenBalanceChangeFieldComponent",""],["label","Withdraw Token Option ID",3,"isReadOnly"],["withdrawTokenOptionIdFieldComponent",""]],template:function(e,i){1&e&&Se(0,"app-number-input-field",0,1)(2,"app-string-input-field",2,3)(4,"app-string-textarea-field",4,5)(6,"app-number-input-field",6,7)(8,"app-number-input-field",8,9),2&e&&(y("isReadOnly",!0),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly))},dependencies:[xr,Fr,Cs]}),t})();const hX=["idFieldComponent"],pX=["nameFieldComponent"],mX=["descriptionFieldComponent"],_X=["tokenBalanceChangeFieldComponent"],gX=["withdrawTokenOptionIdFieldComponent"];let yX=(()=>{class t extends Ks{set initValue(e){this._value=e}ngOnInit(){var e=this;if(!(this._value&&this._idField&&this._nameField&&this._descriptionField&&this._tokenBalanceChangeField&&this._withdrawTokenOptionIdField))throw new Error("Fields are not ready yet!");this.addSubField(this._nameField),this.addSubField(this._descriptionField),this.addSubField(this._tokenBalanceChangeField),this.addSubField(this._withdrawTokenOptionIdField),this._value instanceof yt?(this._idField.initValue=this._value.configuration.nextFreeTokenOptionId,this._nameField.initValue="",this._descriptionField.initValue="",this._tokenBalanceChangeField.initValue=0,this._withdrawTokenOptionIdField.initValue=-1):(this._idField.initValue=this._value.id,this._nameField.initValue=this._value.name,this._descriptionField.initValue=this._value.description,this._tokenBalanceChangeField.initValue=this._value.tokenBalanceChange,this._withdrawTokenOptionIdField.initValue=this._value.withdrawTokenOptionId),this._nameField.validator=function(){var i=(0,b.Z)(function*(r){if(0==r.length)return"Token option name cannot be empty"});return function(r){return i.apply(this,arguments)}}(),this._withdrawTokenOptionIdField.validator=function(){var i=(0,b.Z)(function*(r){const o=(e._value instanceof yt?e._value.configuration:e._value?.group.configuration)?.getTokenOptionById(r);return o?o instanceof Vu?void 0:"Token option type invalid: should be 'Spend Tokens for Switching Lab'":"There is no token option with this id"});return function(r){return i.apply(this,arguments)}}()}getValue(){var e=this;return(0,b.Z)(function*(){if(!(e._value&&e._idField&&e._nameField&&e._descriptionField&&e._tokenBalanceChangeField&&e._withdrawTokenOptionIdField))throw new Error("Value is not ready yet!");return e._value instanceof yt?new Ud(e._value,"withdraw-lab-switch",yield e._idField.getValue(),yield e._nameField.getValue(),yield e._descriptionField.getValue(),yield e._tokenBalanceChangeField.getValue(),!1,yield e._withdrawTokenOptionIdField.getValue()):(e._value.name=yield e._nameField.getValue(),e._value.description=yield e._descriptionField.getValue(),e._value.tokenBalanceChange=yield e._tokenBalanceChangeField.getValue(),e._value.withdrawTokenOptionId=yield e._withdrawTokenOptionIdField.getValue(),e._value)})()}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=lt(t)))(i||t)}}(),t.\u0275cmp=He({type:t,selectors:[["app-withdraw-lab-switch-token-option-field"]],viewQuery:function(e,i){if(1&e&&(he(hX,7),he(pX,7),he(mX,7),he(_X,7),he(gX,7)),2&e){let r;ue(r=ce())&&(i._idField=r.first),ue(r=ce())&&(i._nameField=r.first),ue(r=ce())&&(i._descriptionField=r.first),ue(r=ce())&&(i._tokenBalanceChangeField=r.first),ue(r=ce())&&(i._withdrawTokenOptionIdField=r.first)}},features:[_t],decls:10,vars:5,consts:[["label","ID",3,"isReadOnly"],["idFieldComponent",""],["label","Name",3,"isReadOnly"],["nameFieldComponent",""],["label","Description",3,"isReadOnly"],["descriptionFieldComponent",""],["label","Token Balance Change",3,"isReadOnly"],["tokenBalanceChangeFieldComponent",""],["label","Withdraw Token Option ID",3,"isReadOnly"],["withdrawTokenOptionIdFieldComponent",""]],template:function(e,i){1&e&&Se(0,"app-number-input-field",0,1)(2,"app-string-input-field",2,3)(4,"app-string-textarea-field",4,5)(6,"app-number-input-field",6,7)(8,"app-number-input-field",8,9),2&e&&(y("isReadOnly",!0),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly),m(2),y("isReadOnly",i.isReadOnly))},dependencies:[xr,Fr,Cs]}),t})(),Mx=(()=>{class t{getComponentType(e){return t.REGISTRY[e]}}return t.REGISTRY={basic:n7,"earn-by-quiz":bJ,"earn-by-module":fJ,"earn-by-survey":OJ,"spend-for-lab-data":GJ,"spend-for-assignment-resubmission":VJ,"withdraw-assignment-resubmission":oX,"withdraw-lab-data":fX,"spend-for-lab-switch":eX,"withdraw-lab-switch":yX},t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const vX=["tokenOptionField"];function bX(t,n){if(1&t){const e=Fe();_(0,"button",13),F("click",function(){return H(e),$(w().onDelete())}),S(1," Delete "),g()}2&t&&y("disabled",w().isProcessing)}function wX(t,n){if(1&t){const e=Fe();_(0,"button",14),F("click",function(){return H(e),$(w().onEdit())}),S(1," Edit "),g()}2&t&&y("disabled",w().isProcessing)}function CX(t,n){}let Sx=(()=>{class t{set tokenOptionContainer(e){this._tokenOptionContainer=e,this.initialize()}set optionComponentType(e){this._optionComponentType=e,this.initialize()}set value(e){this._value=e,this.initialize()}constructor(e,i){this.configurationManagerService=e,this.modalManagerService=i,this.typeName="",this.isReadOnly=!0,this.isProcessing=!1}initialize(){if(!this._tokenOptionContainer||!this._optionComponentType||!this._value)return;this.componentRef||(this.componentRef=this._tokenOptionContainer.createComponent(this._optionComponentType)),this.isReadOnly=!!this.isEditing&&!this._value.isMigrating;const e=this.componentRef.instance;e.isReadOnly=this.isReadOnly,e.initValue=this._value}onEdit(){this.componentRef&&(this.isReadOnly=!1,this.componentRef.instance.isReadOnly=!1)}onCreate(){var e=this;return(0,b.Z)(function*(){if(!e.componentRef||e.isEditing)return;if(e.isProcessing=!0,!(yield e.componentRef.instance.validate()))return void(e.isProcessing=!1);const i=yield e.componentRef.instance.getValue(),r=e._value;r.addTokenOption(i),(yield e.configurationManagerService.updateTokenOptionGroup(r))||(yield e.notifyUpdateFailure()),e.isProcessing=!1,e.modalRef?.hide()})()}onSave(){var e=this;return(0,b.Z)(function*(){if(!e.componentRef||!e.isEditing)return;if(e.isProcessing=!0,!(yield e.componentRef.instance.validate()))return void(e.isProcessing=!1);const i=yield e.componentRef.instance.getValue();i.isMigrating&&(i.isMigrating=!1),(yield e.configurationManagerService.updateTokenOptionGroup(i.group))||(yield e.notifyUpdateFailure()),e.isProcessing=!1,e.modalRef?.hide()})()}notifyUpdateFailure(){var e=this;return(0,b.Z)(function*(){yield e.modalManagerService.createNotificationModal('Auto update failed. \nSome students have already taken the quiz that corresponds to the token option group that this token option belongs to. \nPlease click the "Save It Now" button in the quiz management page on Canvas to manually update.')})()}onDelete(){var e=this;return(0,b.Z)(function*(){if(!e.componentRef||!e.isEditing)return;e.isProcessing=!0;const i=e._value,[r,s]=yield e.modalManagerService.createConfirmationModal(`Do you really want to delete the token option '${i.name}'?`,"Confirmation",!0);if(!s)return r.hide(),void(e.isProcessing=!1);r.content&&(r.content.disableButton=!0);const o=i.group;o.deleteTokenOption(i),(yield e.configurationManagerService.updateTokenOptionGroup(o))||(yield e.notifyUpdateFailure()),r.hide(),e.isProcessing=!1,e.modalRef?.hide()})()}get isEditing(){return this._value instanceof Ao}}return t.\u0275fac=function(e){return new(e||t)(D(Ar),D(Fo))},t.\u0275cmp=He({type:t,selectors:[["app-token-option-management"]],viewQuery:function(e,i){if(1&e&&he(vX,5,Si),2&e){let r;ue(r=ce())&&(i.tokenOptionContainer=r.first)}},inputs:{typeName:"typeName",optionComponentType:"optionComponentType",value:"value"},decls:20,vars:13,consts:[[1,"modal-header","d-block"],[1,"d-flex","align-items-center"],[1,"modal-title","me-auto"],["type","button","class","btn btn-danger mx-2",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-primary mx-2",3,"disabled","click",4,"ngIf"],["type","button","aria-label","Close",1,"btn-close","close","mx-2",3,"disabled","click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-body"],[2,"max-height","65vh","overflow-y","auto"],["tokenOptionField",""],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark","mx-2",3,"disabled","click"],["type","button",1,"btn","mx-2",3,"disabled","hidden","click"],["type","button",1,"btn","btn-danger","mx-2",3,"disabled","click"],["type","button",1,"btn","btn-primary","mx-2",3,"disabled","click"]],template:function(e,i){1&e&&(_(0,"div",0)(1,"div",1)(2,"h4",2),S(3),g(),V(4,bX,2,1,"button",3),V(5,wX,2,1,"button",4),_(6,"button",5),F("click",function(){return null==i.modalRef?null:i.modalRef.hide()}),_(7,"span",6),S(8,"\xd7"),g()()()(),_(9,"div",7)(10,"p"),S(11),g(),_(12,"div",8),V(13,CX,0,0,"ng-template",null,9,pr),g()(),_(15,"div",10)(16,"button",11),F("click",function(){return null==i.modalRef?null:i.modalRef.hide()}),S(17," Close "),g(),_(18,"button",12),F("click",function(){return i.isEditing?i.onSave():i.onCreate()}),S(19),g()()),2&e&&(m(3),it((i.isEditing?"Edit":"Create")+" Token Option"),m(1),y("ngIf",i.isEditing),m(1),y("ngIf",i.isEditing&&i.isReadOnly),m(1),y("disabled",i.isProcessing),m(5),qt("Type: ",i.typeName,""),m(5),y("disabled",i.isProcessing),m(2),st("btn-primary",i.isEditing)("btn-success",!i.isEditing),y("disabled",i.isProcessing)("hidden",i.isReadOnly),m(1),qt(" ",i.isEditing?"Save":"Create"," "))},dependencies:[Jt]}),t})();function DX(t,n){if(1&t&&(_(0,"option",11),S(1),g()),2&t){const e=n.$implicit;y("ngValue",e[0]),m(1),qt(" ",e[1]," ")}}function TX(t,n){if(1&t){const e=Fe();Hn(0),_(1,"div",1)(2,"h4",2),S(3,"Create Token Option"),g(),_(4,"button",3),F("click",function(){H(e);const r=w();return $(null==r.modalRef?null:r.modalRef.hide())}),_(5,"span",4),S(6,"\xd7"),g()()(),_(7,"div",5)(8,"p"),S(9,"The type of the token option to be created:"),g(),_(10,"select",6),F("ngModelChange",function(r){return H(e),$(w().selectedOption=r)}),V(11,DX,2,2,"option",7),g()(),_(12,"div",8)(13,"button",9),F("click",function(){H(e);const r=w();return $(null==r.modalRef?null:r.modalRef.hide())}),S(14,"Cancel"),g(),_(15,"button",10),F("click",function(){return H(e),$(w().onNextStep())}),S(16,"Next Step"),g()(),$n()}if(2&t){const e=w();m(10),y("ngModel",e.selectedOption),m(1),y("ngForOf",e.options)}}let kX=(()=>{class t{constructor(e,i,r){this.tokenOptionRegistry=e,this.tokenOptionFieldRegistry=i,this.modalService=r,this.selectedOption=this.options[0]?.[0]}get options(){return this.tokenOptionRegistry.getRegisteredTokenOptionsDescriptiveNames()}onNextStep(){if(!this.group||!this.selectedOption)return;const e=this.tokenOptionFieldRegistry.getComponentType(this.selectedOption),i=this.tokenOptionRegistry.getDescriptiveName(this.selectedOption);if(!e||!i)return;const r=this.modalService.show(Sx,{initialState:{optionComponentType:e,value:this.group,typeName:i},class:"modal-lg",backdrop:"static",keyboard:!1});r.content&&(r.content.modalRef=r),this.modalRef?.hide()}}return t.\u0275fac=function(e){return new(e||t)(D(nw),D(Mx),D(Gr))},t.\u0275cmp=He({type:t,selectors:[["app-create-token-option-modal"]],inputs:{group:"group"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",3,"click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-body","message"],[1,"form-select",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary","me-4",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[3,"ngValue"]],template:function(e,i){1&e&&V(0,TX,17,2,"ng-container",0),2&e&&y("ngIf",i.group)},dependencies:[Ei,Jt,ud,cd,Ya,Er,_r]}),t})();const MX=function(t){return{dropdown:t}},SX=["*"];let EX=(()=>{class t{constructor(){this.autoClose=!0,this.insideClick=!1,this.isAnimated=!1,this.stopOnClickPropagation=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),gl=(()=>{class t{constructor(){this.direction="down",this.autoClose=!0,this.insideClick=!1,this.isAnimated=!1,this.stopOnClickPropagation=!1,this.isOpenChange=new Me,this.isDisabledChange=new Me,this.toggleClick=new Me,this.counts=0,this.dropdownMenu=new Promise(e=>{this.resolveDropdownMenu=e})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const Ex=[rs({height:0,overflow:"hidden"}),rc("220ms cubic-bezier(0, 0, 0.2, 1)",rs({height:"*",overflow:"hidden"}))];let IX=(()=>{class t{constructor(e,i,r,s,o){this._state=e,this.cd=i,this._renderer=r,this._element=s,this.isOpen=!1,this._factoryDropDownAnimation=o.build(Ex),this._subscription=e.isOpenChange.subscribe(a=>{this.isOpen=a;const l=this._element.nativeElement.querySelector(".dropdown-menu");this._renderer.addClass(this._element.nativeElement.querySelector("div"),"open"),l&&(this._renderer.addClass(l,"show"),(l.classList.contains("dropdown-menu-right")||l.classList.contains("dropdown-menu-end"))&&(this._renderer.setStyle(l,"left","auto"),this._renderer.setStyle(l,"right","0")),"up"===this.direction&&(this._renderer.setStyle(l,"top","auto"),this._renderer.setStyle(l,"transform","translateY(-101%)"))),l&&this._state.isAnimated&&this._factoryDropDownAnimation.create(l).play(),this.cd.markForCheck(),this.cd.detectChanges()})}get direction(){return this._state.direction}_contains(e){return this._element.nativeElement.contains(e)}ngOnDestroy(){this._subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(D(gl),D(Co),D(kn),D(zt),D(uf))},t.\u0275cmp=He({type:t,selectors:[["bs-dropdown-container"]],hostAttrs:[2,"display","block","position","absolute","z-index","1040"],ngContentSelectors:SX,decls:2,vars:9,consts:[[3,"ngClass"]],template:function(e,i){1&e&&($c(),_(0,"div",0),lu(1),g()),2&e&&(st("dropup","up"===i.direction)("show",i.isOpen)("open",i.isOpen),y("ngClass",function sM(t,n,e,i){return oM(J(),tr(),t,n,e,i)}(7,MX,"down"===i.direction)))},dependencies:[qh],encapsulation:2,changeDetection:0}),t})(),tC=(()=>{class t{constructor(e,i,r,s,o,a,l){this._elementRef=e,this._renderer=i,this._viewContainerRef=r,this._cis=s,this._state=o,this._config=a,this.dropup=!1,this._isInlineOpen=!1,this._isDisabled=!1,this._subscriptions=[],this._isInited=!1,this._state.autoClose=this._config.autoClose,this._state.insideClick=this._config.insideClick,this._state.isAnimated=this._config.isAnimated,this._state.stopOnClickPropagation=this._config.stopOnClickPropagation,this._factoryDropDownAnimation=l.build(Ex),this._dropdown=this._cis.createLoader(this._elementRef,this._viewContainerRef,this._renderer).provide({provide:gl,useValue:this._state}),this.onShown=this._dropdown.onShown,this.onHidden=this._dropdown.onHidden,this.isOpenChange=this._state.isOpenChange}set autoClose(e){this._state.autoClose=e}get autoClose(){return this._state.autoClose}set isAnimated(e){this._state.isAnimated=e}get isAnimated(){return this._state.isAnimated}set insideClick(e){this._state.insideClick=e}get insideClick(){return this._state.insideClick}set isDisabled(e){this._isDisabled=e,this._state.isDisabledChange.emit(e),e&&this.hide()}get isDisabled(){return this._isDisabled}get isOpen(){return this._showInline?this._isInlineOpen:this._dropdown.isShown}set isOpen(e){e?this.show():this.hide()}get _showInline(){return!this.container}ngOnInit(){this._isInited||(this._isInited=!0,this._dropdown.listen({outsideClick:!1,triggers:this.triggers,show:()=>this.show()}),this._subscriptions.push(this._state.toggleClick.subscribe(e=>this.toggle(e))),this._subscriptions.push(this._state.isDisabledChange.pipe(Mn(e=>e)).subscribe(()=>this.hide())))}show(){if(!this.isOpen&&!this.isDisabled){if(this._showInline)return this._inlinedMenu||this._state.dropdownMenu.then(e=>{this._dropdown.attachInline(e.viewContainer,e.templateRef),this._inlinedMenu=this._dropdown._inlineViewRef,this.addBs4Polyfills(),this._inlinedMenu&&this._renderer.addClass(this._inlinedMenu.rootNodes[0].parentNode,"open"),this.playAnimation()}).catch(),this.addBs4Polyfills(),this._isInlineOpen=!0,this.onShown.emit(!0),this._state.isOpenChange.emit(!0),void this.playAnimation();this._state.dropdownMenu.then(e=>{const i=this.dropup||typeof this.dropup<"u"&&this.dropup;this._state.direction=i?"up":"down";const r=this.placement||(i?"top start":"bottom start");this._dropdown.attach(IX).to(this.container).position({attachment:r}).show({content:e.templateRef,placement:r}),this._state.isOpenChange.emit(!0)}).catch()}}hide(){this.isOpen&&(this._showInline?(this.removeShowClass(),this.removeDropupStyles(),this._isInlineOpen=!1,this.onHidden.emit(!0)):this._dropdown.hide(),this._state.isOpenChange.emit(!1))}toggle(e){return this.isOpen||!e?this.hide():this.show()}_contains(e){return this._elementRef.nativeElement.contains(e.target)||this._dropdown.instance&&this._dropdown.instance._contains(e.target)}navigationClick(e){const i=this._elementRef.nativeElement.querySelector(".dropdown-menu");if(!i)return;const r=this._elementRef.nativeElement.ownerDocument.activeElement,s=i.querySelectorAll(".dropdown-item");switch(e.keyCode){case 38:this._state.counts>0&&s[--this._state.counts].focus();break;case 40:this._state.counts+1<s.length&&(r.classList!==s[this._state.counts].classList?s[this._state.counts].focus():s[++this._state.counts].focus())}e.preventDefault()}ngOnDestroy(){for(const e of this._subscriptions)e.unsubscribe();this._dropdown.dispose()}addBs4Polyfills(){this.addShowClass(),this.checkRightAlignment(),this.addDropupStyles()}playAnimation(){this._state.isAnimated&&this._inlinedMenu&&setTimeout(()=>{this._inlinedMenu&&this._factoryDropDownAnimation.create(this._inlinedMenu.rootNodes[0]).play()})}addShowClass(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.addClass(this._inlinedMenu.rootNodes[0],"show")}removeShowClass(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.removeClass(this._inlinedMenu.rootNodes[0],"show")}checkRightAlignment(){if(this._inlinedMenu&&this._inlinedMenu.rootNodes[0]){const e=this._inlinedMenu.rootNodes[0].classList.contains("dropdown-menu-right")||this._inlinedMenu.rootNodes[0].classList.contains("dropdown-menu-end");this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"left",e?"auto":"0"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"right",e?"0":"auto")}}addDropupStyles(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"top",this.dropup?"auto":"100%"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"transform",this.dropup?"translateY(-101%)":"translateY(0)"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"bottom","auto"))}removeDropupStyles(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"top"),this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"transform"),this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"bottom"))}}return t.\u0275fac=function(e){return new(e||t)(D(zt),D(kn),D(Si),D(qs),D(gl),D(EX),D(uf))},t.\u0275dir=Ve({type:t,selectors:[["","bsDropdown",""],["","dropdown",""]],hostVars:6,hostBindings:function(e,i){1&e&&F("keydown.arrowDown",function(s){return i.navigationClick(s)})("keydown.arrowUp",function(s){return i.navigationClick(s)}),2&e&&st("dropup",i.dropup)("open",i.isOpen)("show",i.isOpen)},inputs:{placement:"placement",triggers:"triggers",container:"container",dropup:"dropup",autoClose:"autoClose",isAnimated:"isAnimated",insideClick:"insideClick",isDisabled:"isDisabled",isOpen:"isOpen"},outputs:{isOpenChange:"isOpenChange",onShown:"onShown",onHidden:"onHidden"},exportAs:["bs-dropdown"],features:[Kt([gl])]}),t})(),Ox=(()=>{class t{constructor(e,i,r){e.resolveDropdownMenu({templateRef:r,viewContainer:i})}}return t.\u0275fac=function(e){return new(e||t)(D(gl),D(Si),D(gs))},t.\u0275dir=Ve({type:t,selectors:[["","bsDropdownMenu",""],["","dropdownMenu",""]],exportAs:["bs-dropdown-menu"]}),t})(),Ix=(()=>{class t{constructor(e,i,r,s,o){this._changeDetectorRef=e,this._dropdown=i,this._element=r,this._renderer=s,this._state=o,this.isOpen=!1,this._subscriptions=[],this._subscriptions.push(this._state.isOpenChange.subscribe(a=>{this.isOpen=a,a?(this._documentClickListener=this._renderer.listen("document","click",l=>{this._state.autoClose&&2!==l.button&&!this._element.nativeElement.contains(l.target)&&(!this._state.insideClick||!this._dropdown._contains(l))&&(this._state.toggleClick.emit(!1),this._changeDetectorRef.detectChanges())}),this._escKeyUpListener=this._renderer.listen(this._element.nativeElement,"keyup.esc",()=>{this._state.autoClose&&(this._state.toggleClick.emit(!1),this._changeDetectorRef.detectChanges())})):(this._documentClickListener&&this._documentClickListener(),this._escKeyUpListener&&this._escKeyUpListener())})),this._subscriptions.push(this._state.isDisabledChange.subscribe(a=>this.isDisabled=a||void 0))}onClick(e){this._state.stopOnClickPropagation&&e.stopPropagation(),!this.isDisabled&&this._state.toggleClick.emit(!0)}ngOnDestroy(){this._documentClickListener&&this._documentClickListener(),this._escKeyUpListener&&this._escKeyUpListener();for(const e of this._subscriptions)e.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(D(Co),D(tC),D(zt),D(kn),D(gl))},t.\u0275dir=Ve({type:t,selectors:[["","bsDropdownToggle",""],["","dropdownToggle",""]],hostVars:3,hostBindings:function(e,i){1&e&&F("click",function(s){return i.onClick(s)}),2&e&&qn("aria-haspopup",!0)("disabled",i.isDisabled)("aria-expanded",i.isOpen)},exportAs:["bs-dropdown-toggle"]}),t})(),AX=(()=>{class t{static forRoot(){return{ngModule:t,providers:[qs,xo,gl]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=_i({type:t}),t.\u0275inj=ai({imports:[gu]}),t})();const Ax="400ms cubic-bezier(0.4,0.0,0.2,1)",RX=[rs({height:0,visibility:"hidden"}),rc(Ax,rs({height:"*",visibility:"visible"}))],xX=[rs({height:"*",visibility:"visible"}),rc(Ax,rs({height:0,visibility:"hidden"}))];let FX=(()=>{class t{constructor(e,i,r){this._el=e,this._renderer=i,this.collapsed=new Me,this.collapses=new Me,this.expanded=new Me,this.expands=new Me,this.isExpanded=!0,this.collapseNewValue=!0,this.isCollapsed=!1,this.isCollapse=!0,this.isCollapsing=!1,this.isAnimated=!1,this._display="block",this._stylesLoaded=!1,this._COLLAPSE_ACTION_NAME="collapse",this._EXPAND_ACTION_NAME="expand",this._factoryCollapseAnimation=r.build(xX),this._factoryExpandAnimation=r.build(RX)}set display(e){this._display=e,"none"!==e?this.isAnimated?this.toggle():this.show():this.hide()}set collapse(e){this.collapseNewValue=e,(!this._player||this._isAnimationDone)&&(this.isExpanded=e,this.toggle())}get collapse(){return this.isExpanded}ngAfterViewChecked(){this._stylesLoaded=!0,this._player&&this._isAnimationDone&&(this._player.reset(),this._renderer.setStyle(this._el.nativeElement,"height","*"))}toggle(){this.isExpanded?this.hide():this.show()}hide(){this.isCollapsing=!0,this.isExpanded=!1,this.isCollapsed=!0,this.isCollapsing=!1,this.collapses.emit(this),this._isAnimationDone=!1,this.animationRun(this.isAnimated,this._COLLAPSE_ACTION_NAME)(()=>{this._isAnimationDone=!0,this.collapseNewValue!==this.isCollapsed&&this.isAnimated?this.show():(this.collapsed.emit(this),this._renderer.setStyle(this._el.nativeElement,"display","none"))})}show(){this._renderer.setStyle(this._el.nativeElement,"display",this._display),this.isCollapsing=!0,this.isExpanded=!0,this.isCollapsed=!1,this.isCollapsing=!1,this.expands.emit(this),this._isAnimationDone=!1,this.animationRun(this.isAnimated,this._EXPAND_ACTION_NAME)(()=>{this._isAnimationDone=!0,this.collapseNewValue!==this.isCollapsed&&this.isAnimated?this.hide():(this.expanded.emit(this),this._renderer.removeStyle(this._el.nativeElement,"overflow"))})}animationRun(e,i){if(!e||!this._stylesLoaded)return s=>s();this._renderer.setStyle(this._el.nativeElement,"overflow","hidden"),this._renderer.addClass(this._el.nativeElement,"collapse");const r=i===this._EXPAND_ACTION_NAME?this._factoryExpandAnimation:this._factoryCollapseAnimation;return this._player&&this._player.reset(),this._player=r.create(this._el.nativeElement),this._player.play(),s=>this._player?.onDone(s)}}return t.\u0275fac=function(e){return new(e||t)(D(zt),D(kn),D(uf))},t.\u0275dir=Ve({type:t,selectors:[["","collapse",""]],hostVars:9,hostBindings:function(e,i){2&e&&(qn("aria-hidden",i.isCollapsed),st("collapse",i.isCollapse)("in",i.isExpanded)("show",i.isExpanded)("collapsing",i.isCollapsing))},inputs:{display:"display",isAnimated:"isAnimated",collapse:"collapse"},outputs:{collapsed:"collapsed",collapses:"collapses",expanded:"expanded",expands:"expands"},exportAs:["bs-collapse"]}),t})(),NX=(()=>{class t{static forRoot(){return{ngModule:t,providers:[]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=_i({type:t}),t.\u0275inj=ai({}),t})();function LX(t,n){if(1&t&&(_(0,"option",11),S(1),g()),2&t){const e=n.$implicit;y("ngValue",e.value),m(1),qt(" ",e.value," ")}}function PX(t,n){if(1&t&&(_(0,"option",11),S(1),g()),2&t){const e=n.$implicit;y("ngValue",e),m(1),it(e.name)}}function VX(t,n){if(1&t&&(_(0,"option",11),S(1),g()),2&t){const e=n.$implicit;y("ngValue",e),m(1),qt(" ",e.name," ")}}function BX(t,n){if(1&t){const e=Fe();_(0,"select",9),F("ngModelChange",function(r){return H(e),$(w(3).selectedOption=r)}),V(1,VX,2,2,"option",10),g()}if(2&t){const e=w(3);y("ngModel",e.selectedOption),m(1),y("ngForOf",e.validTokenOptions)}}function HX(t,n){1&t&&(_(0,"p"),S(1," There is no valid token option for the operation you are about to perform in the current selected token option group. "),g())}function $X(t,n){if(1&t&&(Hn(0),V(1,BX,2,2,"select",12),V(2,HX,2,0,"ng-template",null,13,pr),$n()),2&t){const e=Fs(3),i=w(2);m(1),y("ngIf",i.validTokenOptions.length>0)("ngIfElse",e)}}function jX(t,n){if(1&t){const e=Fe();Hn(0),_(1,"select",9),F("ngModelChange",function(r){return H(e),$(w().selectedOperation=r)}),V(2,LX,2,2,"option",10),fr(3,"keyvalue"),g(),_(4,"select",9),F("ngModelChange",function(r){return H(e),$(w().onSelectTokenOptionGroup(r))}),V(5,PX,2,2,"option",10),g(),V(6,$X,4,2,"ng-container",5),$n()}if(2&t){const e=w();m(1),y("ngModel",e.selectedOperation),m(1),y("ngForOf",hr(3,5,e.moveOperations)),m(2),y("ngModel",e.selectedGroup),m(1),y("ngForOf",e.configuration.tokenOptionGroups),m(1),y("ngIf",e.validTokenOptions)}}var Lr=(()=>(function(t){t.TO_THE_TOP="To the top of ...",t.BEFORE="Before ...",t.AFTER="After ...",t.TO_THE_BOTTOM="To the bottom of ..."}(Lr||(Lr={})),Lr))();let UX=(()=>{class t{constructor(e,i){this.configurationManagerService=e,this.modalManagerService=i,this.isProcessing=!1,this.moveOperations=Lr,this.selectedOperation=Lr.TO_THE_TOP}onCancel(){this.modalRef?.hide()}onMove(){var e=this;return(0,b.Z)(function*(){if(!e.configuration||!e.srcOption||!e.selectedGroup)return;e.isProcessing=!0;const i=e.srcOption.group;i.deleteTokenOption(e.srcOption);const r=yield e.configurationManagerService.updateTokenOptionGroup(i);e.srcOption.group=e.selectedGroup,e.selectedGroup.addTokenOption(e.srcOption,e.destIndex);const s=yield e.configurationManagerService.updateTokenOptionGroup(e.selectedGroup);if(!r||!s){const o=[r?void 0:i,s||i==e.selectedGroup&&!r?void 0:e.selectedGroup].filter(l=>null!=l).map(l=>l?.name??""),a=Lo(o.length,"token option group");yield e.modalManagerService.createNotificationModal(`Auto update failed for ${a}: ${o.join(", ")}. Please go to Canvas and click the "Save It Now" button in the quiz management page of the quiz or quizzes that the ${a} mentioned above belong to.`)}e.modalRef?.hide()})()}get destIndex(){switch(this.selectedOperation){case Lr.TO_THE_TOP:return 0;case Lr.TO_THE_BOTTOM:return this.selectedGroup?.tokenOptions.length??-1;case Lr.BEFORE:return this.selectedOption?this.selectedGroup?.tokenOptions.indexOf(this.selectedOption)??-1:-1;case Lr.AFTER:return this.selectedOption?(this.selectedGroup?.tokenOptions.indexOf(this.selectedOption)??-2)+1:-1}}onSelectTokenOptionGroup(e){this.selectedGroup=e,this.selectedOption=void 0}get validTokenOptions(){if(this.selectedGroup&&this.selectedOperation!=Lr.TO_THE_TOP&&this.selectedOperation!=Lr.TO_THE_BOTTOM)return this.selectedGroup.tokenOptions.filter(e=>e!=this.srcOption)}get isValidSelection(){return!(!this.selectedGroup||this.selectedOperation!=Lr.TO_THE_TOP&&this.selectedOperation!=Lr.TO_THE_BOTTOM&&!this.selectedOption)}}return t.\u0275fac=function(e){return new(e||t)(D(Ar),D(Fo))},t.\u0275cmp=He({type:t,selectors:[["app-move-token-option-modal"]],inputs:{configuration:"configuration",srcOption:"srcOption"},decls:13,vars:4,consts:[[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",3,"disabled","click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-body","message"],[4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary","me-4",3,"disabled","click"],["type","button",1,"btn","btn-success",3,"disabled","click"],[1,"form-select","m-2",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"],["class","form-select m-2",3,"ngModel","ngModelChange",4,"ngIf","ngIfElse"],["noValidTokenOption",""]],template:function(e,i){1&e&&(_(0,"div",0)(1,"h4",1),S(2,"Move Token Option"),g(),_(3,"button",2),F("click",function(){return i.onCancel()}),_(4,"span",3),S(5,"\xd7"),g()()(),_(6,"div",4),V(7,jX,7,7,"ng-container",5),g(),_(8,"div",6)(9,"button",7),F("click",function(){return i.onCancel()}),S(10," Cancel "),g(),_(11,"button",8),F("click",function(){return i.onMove()}),S(12," Move "),g()()),2&e&&(m(3),y("disabled",i.isProcessing),m(4),y("ngIf",i.configuration),m(2),y("disabled",i.isProcessing),m(2),y("disabled",i.isProcessing||!i.isValidSelection))},dependencies:[Ei,Jt,ud,cd,Ya,Er,_r,xS]}),t})();function YX(t,n){1&t&&(Hn(0),Se(1,"span",5),S(2," Migrating "),Se(3,"span",6),S(4," Save It to Complete "),$n())}function zX(t,n){if(1&t){const e=Fe();_(0,"ul",10)(1,"li",11),F("click",function(){return H(e),$(w(3).onMove())}),_(2,"span"),Se(3,"i",12),S(4,"Move"),g()(),Se(5,"li",13),_(6,"li",11),F("click",function(){return H(e),$(w(3).onDelete())}),_(7,"span",14),Se(8,"i",15),S(9,"Delete"),g()()()}}function qX(t,n){1&t&&(_(0,"div")(1,"div",7),Se(2,"span",8),V(3,zX,10,0,"ul",9),g()())}function WX(t,n){if(1&t){const e=Fe();Hn(0),_(1,"div",1),F("mouseenter",function(){return H(e),$(w().hoverFocus=!0)})("mouseleave",function(){return H(e),$(w().hoverFocus=!1)}),_(2,"div",2),F("click",function(){return H(e),$(w().onViewTokenOption())}),_(3,"span",3),S(4),g(),Se(5,"br"),_(6,"span",4),S(7),Se(8,"span",5),S(9),V(10,YX,5,0,"ng-container",0),g()(),V(11,qX,4,0,"div",0),g(),$n()}if(2&t){const e=w();m(4),it(e.option.name),m(3),qt("",e.descriptiveName," "),m(2),qt(" ",(e.option.tokenBalanceChange>0?"Earn ":"Spend ")+e.getAbsValue(e.option.tokenBalanceChange).toString()+" token"+(1===e.getAbsValue(e.option.tokenBalanceChange)?"":"s")," "),m(1),y("ngIf",e.option.isMigrating),m(1),y("ngIf",e.hoverFocus)}}let GX=(()=>{class t{constructor(e,i,r,s,o){this.modalService=e,this.fieldRegistry=i,this.tokenOptionRegistry=r,this.modalManagerService=s,this.configurationManagerService=o,this.hoverFocus=!1}getAbsValue(e){return Math.abs(e)}onViewTokenOption(){if(!this.option)return;const e=this.fieldRegistry.getComponentType(this.option.type),i=this.tokenOptionRegistry.getDescriptiveName(this.option.type);if(!e||null==i)return;const r=this.modalService.show(Sx,{initialState:{optionComponentType:e,value:this.option,typeName:i},class:"modal-lg",backdrop:"static",keyboard:!1});r.content&&(r.content.modalRef=r)}get descriptiveName(){if(this.option)return this.tokenOptionRegistry.getDescriptiveName(this.option.type)}onMove(){var e=this;return(0,b.Z)(function*(){if(!e.option)return;const i=e.modalService.show(UX,{initialState:{configuration:e.option.group.configuration,srcOption:e.option},backdrop:"static",keyboard:!1});i.content&&(i.content.modalRef=i)})()}onDelete(){var e=this;return(0,b.Z)(function*(){if(!e.option)return;const[i,r]=yield e.modalManagerService.createConfirmationModal(`Do you really want to delete the token option '${e.option.name}'?`,"Confirmation",!0);if(!r)return void i.hide();i.content&&(i.content.disableButton=!0);const s=e.option.group;s.deleteTokenOption(e.option),(yield e.configurationManagerService.updateTokenOptionGroup(s))||(yield e.modalManagerService.createNotificationModal('Auto update failed. \nSome students have already taken the Canvas quiz that corresponds to the token option group that this token option belongs to. \nPlease click the "Save It Now" button in the quiz management page on Canvas to manually update.')),i.hide()})()}}return t.\u0275fac=function(e){return new(e||t)(D(Gr),D(Mx),D(nw),D(Fo),D(Ar))},t.\u0275cmp=He({type:t,selectors:[["app-token-option-display"]],inputs:{option:"option"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"d-flex","align-items-center",3,"mouseenter","mouseleave"],[1,"is-link","flex-grow-1",3,"click"],[1,"fs-4"],[1,"fs-6","fw-light","text-secondary"],[1,"bi","bi-dot"],[1,"bi","bi-exclamation-triangle-fill","text-warning"],["dropdown","",1,"btn-group"],["dropdownToggle","",1,"bi","bi-three-dots-vertical","fs-5","mx-3","is-link"],["class","dropdown-menu dropdown-menu-right border-dark text-center",4,"dropdownMenu"],[1,"dropdown-menu","dropdown-menu-right","border-dark","text-center"],[1,"is-link",3,"click"],[1,"bi","bi-arrows-move","me-2"],[1,"divider","dropdown-divider"],[1,"text-danger"],[1,"bi","bi-trash-fill","me-2"]],template:function(e,i){1&e&&V(0,WX,12,5,"ng-container",0),2&e&&y("ngIf",i.option)},dependencies:[Jt,Ox,Ix,tC]}),t})();function ZX(t,n){if(1&t){const e=Fe();_(0,"ul",13)(1,"li",14),F("click",function(){return H(e),$(w(2).onEditGroup())}),_(2,"span"),Se(3,"i",15),S(4,"Edit"),g()(),Se(5,"li",16),_(6,"li",14),F("click",function(){return H(e),$(w(2).onDeleteGroup())}),_(7,"span",17),Se(8,"i",18),S(9,"Delete"),g()()()}}function QX(t,n){if(1&t&&(_(0,"li",21),Se(1,"app-token-option-display",22),g()),2&t){const e=n.$implicit;m(1),y("option",e)}}function KX(t,n){if(1&t&&(Hn(0),_(1,"ul",19),V(2,QX,2,1,"li",20),g(),$n()),2&t){const e=w(2);m(2),y("ngForOf",e.group.tokenOptions)}}function JX(t,n){1&t&&(_(0,"p",23),S(1," No token options here. Click "),Se(2,"span",24),S(3," on the top-right corner of the token option group to create new token options. "),g())}function XX(t,n){if(1&t){const e=Fe();Hn(0),_(1,"div",1),F("mouseenter",function(){return H(e),$(w().hovering=!0)})("mouseleave",function(){return H(e),$(w().hovering=!1)}),_(2,"div",2),F("click",function(){H(e);const r=w();return $(r.isCollapsed=!r.isCollapsed)}),Se(3,"i",3),_(4,"span",4),S(5),g()(),Hn(6),_(7,"span",5),F("click",function(){H(e);const r=w();return $(r.group.isPublished?r.onUnpublishGroup():r.onPublishGroup())}),g(),_(8,"span",6),F("click",function(){return H(e),$(w().onCreateTokenOption())}),g(),_(9,"div",7),Se(10,"span",8),V(11,ZX,10,0,"ul",9),g(),$n(),g(),_(12,"div",10),V(13,KX,3,1,"ng-container",11),V(14,JX,4,0,"ng-template",null,12,pr),g(),$n()}if(2&t){const e=Fs(15),i=w();m(3),st("bi-caret-down-fill",!i.isCollapsed)("bi-caret-right-fill",i.isCollapsed),m(2),it(i.group.name),m(2),st("bi-check-circle",i.group.isPublished)("bi-slash-circle",!i.group.isPublished),m(5),y("collapse",i.isCollapsed)("isAnimated",!0),m(1),y("ngIf",i.group.tokenOptions.length>0)("ngIfElse",e)}}let eee=(()=>{class t{constructor(e,i,r){this.modalService=e,this.modalManagerService=i,this.configurationManagerService=r,this.isCollapsed=!1,this.hovering=!1}onEditGroup(){if(!this.group)return;const e=this.modalService.show(xA,{initialState:{group:this.group}});e.content&&(e.content.modalRef=e)}onCreateTokenOption(){var e=this;return(0,b.Z)(function*(){if(!e.group)return;const i=e.modalService.show(kX,{initialState:{group:e.group}});i.content&&(i.content.modalRef=i)})()}onPublishGroup(){var e=this;return(0,b.Z)(function*(){if(!e.group)return;const[i,r]=yield e.modalManagerService.createConfirmationModal(`Do you really want to publish the token option group '${e.group.name}'?`);r?(i.content&&(i.content.disableButton=!0),yield e.configurationManagerService.publishTokenOptionGroup(e.group),i.hide()):i.hide()})()}onUnpublishGroup(){var e=this;return(0,b.Z)(function*(){if(!e.group)return;const[i,r]=yield e.modalManagerService.createConfirmationModal(`Do you really want to unpublish the token option group '${e.group.name}'?`);r?(i.content&&(i.content.disableButton=!0),(yield e.configurationManagerService.unpublishTokenOptionGroup(e.group))||(yield e.modalManagerService.createNotificationModal(`Unpublishing token option group '${e.group.name}' failed. \nSome students have already taken the Canvas quiz for this token option group.`,"Error")),i.hide()):i.hide()})()}onDeleteGroup(){var e=this;return(0,b.Z)(function*(){if(!e.group)return;const[i,r]=yield e.modalManagerService.createConfirmationModal(`Do you really want to delete the token option group '${e.group.name}'?`,"Confirmation",!0);r?(i.content&&(i.content.disableButton=!0),yield e.configurationManagerService.deleteTokenOptionGroup(e.group),i.hide()):i.hide()})()}}return t.\u0275fac=function(e){return new(e||t)(D(Gr),D(Fo),D(Ar))},t.\u0275cmp=He({type:t,selectors:[["app-token-option-group-display"]],inputs:{group:"group"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"d-flex","border","border-secondary","border-2","rounded","align-items-center",3,"mouseenter","mouseleave"],[1,"d-inline","flex-grow-1","mx-2",3,"click"],[1,"bi"],[1,"fs-3"],[1,"bi","fs-5","mx-3","is-link",3,"click"],[1,"bi","bi-plus-circle","text-success","fs-5","mx-3","is-link",3,"click"],["dropdown","",1,"btn-group"],["dropdownToggle","",1,"bi","bi-three-dots-vertical","fs-5","mx-3","is-link"],["class","dropdown-menu dropdown-menu-right border-dark text-center",4,"dropdownMenu"],[1,"mx-2","border","border-dark","rounded","disable-top-border",3,"collapse","isAnimated"],[4,"ngIf","ngIfElse"],["emptyPrompt",""],[1,"dropdown-menu","dropdown-menu-right","border-dark","text-center"],[1,"is-link",3,"click"],[1,"bi","bi-pencil-fill","me-2"],[1,"divider","dropdown-divider"],[1,"text-danger"],[1,"bi","bi-trash-fill","me-2"],[1,"list-group","list-group-flush","m-1"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],[3,"option"],[1,"text-center"],[1,"bi","bi-plus-circle","text-success"]],template:function(e,i){1&e&&V(0,XX,16,13,"ng-container",0),2&e&&y("ngIf",i.group)},dependencies:[Ei,Jt,Ox,Ix,tC,FX,GX],styles:[".disable-top-border[_ngcontent-%COMP%]{border-top:0rem!important}"]}),t})();function tee(t,n){1&t&&(_(0,"div",2),Se(1,"app-canvas-loading-toast"),g())}function nee(t,n){if(1&t&&(_(0,"div",8),Se(1,"app-token-option-group-display",9),g()),2&t){const e=n.$implicit;m(1),y("group",e)}}function iee(t,n){if(1&t){const e=Fe();Hn(0),_(1,"div",4)(2,"div",5)(3,"button",6),F("click",function(){return H(e),$(w(2).onCreateTokenOptionGroup())}),S(4," New Token Option Group "),g()(),V(5,nee,2,1,"div",7),g(),$n()}if(2&t){const e=w(2);m(5),y("ngForOf",e.configuration.tokenOptionGroups)}}function ree(t,n){1&t&&V(0,iee,6,1,"ng-container",3),2&t&&y("ngIf",w().configuration)}let see=(()=>{class t{constructor(e,i){this.configurationManagerService=e,this.modalService=i}configureCourse(e){var i=this;return(0,b.Z)(function*(){i.course=e,i.configuration=yield i.configurationManagerService.getTokenATMConfiguration(i.course)})()}onCreateTokenOptionGroup(){if(!this.configuration)return;const e=this.modalService.show(xA,{initialState:{configuration:this.configuration}});e.content&&(e.content.modalRef=e)}}return t.\u0275fac=function(e){return new(e||t)(D(Ar),D(Gr))},t.\u0275cmp=He({type:t,selectors:[["app-token-option-configuration"]],decls:3,vars:2,consts:[["appCenter","",4,"ngIf","ngIfElse"],["tokenOptionPanel",""],["appCenter",""],[4,"ngIf"],[1,"container","mt-3"],[1,"row","align-items-end","mb-2"],[1,"col-auto","btn","btn-outline-success","ms-auto",3,"click"],["class","mb-5",4,"ngFor","ngForOf"],[1,"mb-5"],[3,"group"]],template:function(e,i){if(1&e&&(V(0,tee,2,0,"div",0),V(1,ree,1,1,"ng-template",null,1,pr)),2&e){const r=Fs(2);y("ngIf",!i.configuration)("ngIfElse",r)}},dependencies:[Ei,Jt,ga,eee,ju]}),t})();var aee=de(28);function lee(t,n){if(1&t&&(_(0,"div",12),Se(1,"div",13),g()),2&t){const e=w(2);m(1),vo("width",e.progress+"%")}}function uee(t,n){if(1&t&&(_(0,"div"),S(1),g()),2&t){const e=w(2);m(1),it(e.progressMessage)}}function cee(t,n){if(1&t){const e=Fe();Hn(0),_(1,"input",9),F("change",function(r){return H(e),$(w().onSelectFile(r))}),g(),_(2,"div",10),V(3,lee,2,2,"div",11),V(4,uee,2,1,"div",5),g(),$n()}if(2&t){const e=w();m(3),y("ngIf",e.progress),m(1),y("ngIf",e.progressMessage)}}let dee=(()=>{class t{constructor(e,i){this.managerService=e,this.canvasService=i,this.isProcessing=!1}onSelectFile(e){this.selectedFile=e.target?.files[0]}onImportCSV(){var e=this;return(0,b.Z)(function*(){if(!e.selectedFile||!e.configuration)return;let i;e.isProcessing=!0;const r=new Promise(a=>{i=a});aee.parse(e.selectedFile,{complete:a=>{i(a.data)}});const s=yield r;let o=0;for(const a of s){if(o++,e.progress=((o-1)/s.length*100).toFixed(2),e.progressMessage=`${o-1} out of ${Lo(s.length,"record")} processed`,!Array.isArray(a)||2!=a.length&&3!=a.length)continue;const l=a[0];if("string"!=typeof l)continue;const u=parseFloat(a[1]);if(isNaN(u))continue;const c=a[2],d=yield e.canvasService.getStudentByEmail(e.configuration.course.id,l);if(!d)continue;const f=yield e.managerService.getStudentRecord(e.configuration,d),h=new Date;yield e.managerService.logProcessedRequest(e.configuration,f,new hi(e.configuration,-1,"Manual Adjustment",f.student,!0,h,h,u,c??""))}e.modalRef?.hide()})()}}return t.\u0275fac=function(e){return new(e||t)(D(tw),D(Rn))},t.\u0275cmp=He({type:t,selectors:[["app-batch-token-balance-adjustment-modal"]],inputs:{configuration:"configuration"},decls:13,vars:4,consts:[[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",3,"disabled","click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-body","message"],[4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary","me-4",3,"disabled","click"],["type","button",1,"btn","btn-success",3,"disabled","click"],["type","file","accept",".csv",1,"form-control",3,"change"],[1,"d-flex","flex-column","align-items-center","justify-content-center"],["class","progress m-3 mx-auto","style","width: 15rem",4,"ngIf"],[1,"progress","m-3","mx-auto",2,"width","15rem"],["role","progressbar",1,"progress-bar","progress-bar-striped","bg-success"]],template:function(e,i){1&e&&(_(0,"div",0)(1,"h4",1),S(2,"Import CSV"),g(),_(3,"button",2),F("click",function(){return null==i.modalRef?null:i.modalRef.hide()}),_(4,"span",3),S(5,"\xd7"),g()()(),_(6,"div",4),V(7,cee,5,2,"ng-container",5),g(),_(8,"div",6)(9,"button",7),F("click",function(){return null==i.modalRef?null:i.modalRef.hide()}),S(10," Cancel "),g(),_(11,"button",8),F("click",function(){return i.onImportCSV()}),S(12,"Import"),g()()),2&e&&(m(3),y("disabled",i.isProcessing),m(4),y("ngIf",i.configuration),m(2),y("disabled",i.isProcessing),m(2),y("disabled",i.isProcessing))},dependencies:[Jt]}),t})();function fee(t,n){if(1&t&&(_(0,"option",13),S(1),g()),2&t){const e=n.$implicit;y("ngValue",e),m(1),it(e.name)}}function hee(t,n){if(1&t&&(_(0,"option",13),S(1),g()),2&t){const e=n.$implicit;y("ngValue",e),m(1),qt(" ",e.name," ")}}function pee(t,n){if(1&t){const e=Fe();_(0,"select",9),F("ngModelChange",function(r){return H(e),$(w(2).tokenOption=r)}),V(1,hee,2,2,"option",10),g()}if(2&t){const e=w(2);y("ngModel",e.tokenOption),m(1),y("ngForOf",e.getValidTokenOptions(e.tokenOptionGroup))}}function mee(t,n){1&t&&(_(0,"p"),S(1," There is no valid token option for the operation you are about to perform in the current selected token option group. "),g())}function _ee(t,n){if(1&t){const e=Fe();Hn(0),_(1,"select",9),F("ngModelChange",function(r){return H(e),$(w().onSelectTokenOptionGroup(r))}),V(2,fee,2,2,"option",10),g(),V(3,pee,2,2,"select",11),V(4,mee,2,0,"ng-template",null,12,pr),$n()}if(2&t){const e=Fs(5),i=w();m(1),y("ngModel",i.tokenOptionGroup),m(1),y("ngForOf",i.configuration.tokenOptionGroups),m(1),y("ngIf",i.tokenOptionGroup&&i.getValidTokenOptions(i.tokenOptionGroup).length>0)("ngIfElse",e)}}let gee=(()=>{class t{constructor(){this.isProcessing=!1}onCancel(){this.onResolve&&this.onResolve(void 0)}onPickTokenOption(){!this.configuration||!this.onResolve||!this.tokenOption||(this.isProcessing=!0,this.onResolve(this.tokenOption))}onSelectTokenOptionGroup(e){this.tokenOptionGroup=e,this.tokenOption=void 0}getValidTokenOptions(e){return this.filter?e.tokenOptions.filter(this.filter):e.tokenOptions}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["app-pick-token-option-modal"]],inputs:{configuration:"configuration",onResolve:"onResolve",filter:"filter"},decls:13,vars:4,consts:[[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",3,"disabled","click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-body","message"],[4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary","me-4",3,"disabled","click"],["type","button",1,"btn","btn-success",3,"disabled","click"],[1,"form-select","m-2",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["class","form-select m-2",3,"ngModel","ngModelChange",4,"ngIf","ngIfElse"],["noValidTokenOption",""],[3,"ngValue"]],template:function(e,i){1&e&&(_(0,"div",0)(1,"h4",1),S(2,"Pick Token Option"),g(),_(3,"button",2),F("click",function(){return i.onCancel()}),_(4,"span",3),S(5,"\xd7"),g()()(),_(6,"div",4),V(7,_ee,6,4,"ng-container",5),g(),_(8,"div",6)(9,"button",7),F("click",function(){return i.onCancel()}),S(10," Cancel "),g(),_(11,"button",8),F("click",function(){return i.onPickTokenOption()}),S(12," Pick "),g()()),2&e&&(m(3),y("disabled",i.isProcessing),m(4),y("ngIf",i.configuration),m(2),y("disabled",i.isProcessing),m(2),y("disabled",i.isProcessing||!i.tokenOption))},dependencies:[Ei,Jt,ud,cd,Ya,Er,_r]}),t})();function yee(t,n){1&t&&(_(0,"div",2),Se(1,"app-canvas-loading-toast"),g())}function vee(t,n){if(1&t&&(_(0,"li",13),S(1),g()),2&t){const e=w(3);m(1),qt(" Email: ",e.studentRecord.student.email," ")}}function bee(t,n){if(1&t&&(_(0,"tr")(1,"td"),S(2),g(),_(3,"td"),S(4),g(),_(5,"td"),S(6),g(),_(7,"td"),S(8),g(),_(9,"td"),S(10),g(),_(11,"td"),S(12),g()()),2&t){const e=n.$implicit,i=w(4);m(2),it(e.tokenOptionName),m(2),it(i.formatDate(e.submittedTime)),m(2),it(i.formatDate(e.processedTime)),m(2),it(e.isApproved?"Approved":"Rejected"),m(2),it(e.tokenBalanceChange),m(2),it(e.message)}}function wee(t,n){if(1&t){const e=Fe();_(0,"div",21)(1,"div",9)(2,"div",22)(3,"h5",23),S(4,"Request History"),g(),_(5,"button",19),F("click",function(){return H(e),$(w(3).onCreateProcessedRequest())}),S(6," Make Request on Student's Behalf "),g()(),_(7,"div",24)(8,"table",25)(9,"thead")(10,"tr")(11,"th",26),S(12,"Token Option Name"),g(),_(13,"th",26),S(14,"Submitted Time"),g(),_(15,"th",26),S(16,"Processed Time"),g(),_(17,"th",26),S(18,"Status"),g(),_(19,"th",26),S(20,"Token Balance Change"),g(),_(21,"th",26),S(22,"Message"),g()()(),_(23,"tbody"),V(24,bee,13,6,"tr",27),g()()()()()}if(2&t){const e=w(3);m(24),y("ngForOf",e.processedRequests)}}function Cee(t,n){if(1&t){const e=Fe();Hn(0),_(1,"div",7)(2,"div",8)(3,"div",9)(4,"h5",10),S(5,"Student Information"),g(),_(6,"div",11)(7,"ul",12)(8,"li",13),S(9),g(),_(10,"li",13),S(11),g(),V(12,vee,2,1,"li",14),_(13,"li",13),S(14),g()()()()(),Se(15,"div",15),_(16,"div",8)(17,"div",9)(18,"h5",10),S(19,"Token Balance Adjustment"),g(),_(20,"div",11)(21,"div",16)(22,"label"),S(23," Token Adjustment Count "),g(),_(24,"input",17),F("ngModelChange",function(r){return H(e),$(w(2).tokenAdjustmentCount=r)}),g()(),_(25,"div",16)(26,"label"),S(27," Message "),g(),_(28,"textarea",18),F("ngModelChange",function(r){return H(e),$(w(2).tokenAdjustmentMessage=r)}),g()(),_(29,"button",19),F("click",function(){return H(e),$(w(2).onAddManualChange())}),S(30,"Add"),g()()()(),V(31,wee,25,1,"div",20),g(),$n()}if(2&t){const e=w(2);m(9),qt("Canvas User ID: ",e.studentRecord.student.id,""),m(2),qt("Name: ",e.studentRecord.student.name,""),m(1),y("ngIf",""!==e.studentRecord.student.email),m(2),iy(" Current Token Balance: ",e.studentRecord.tokenBalance," ",1===e.studentRecord.tokenBalance?"token":"tokens"," "),m(10),y("ngModel",e.tokenAdjustmentCount),m(4),y("ngModel",e.tokenAdjustmentMessage),m(3),y("ngIf",e.processedRequests)}}function Dee(t,n){if(1&t){const e=Fe();_(0,"div",3)(1,"div",4)(2,"div")(3,"button",5),F("click",function(){return H(e),$(w().onGoBack())}),S(4,"Back"),g()(),V(5,Cee,32,8,"ng-container",6),g()()}if(2&t){const e=w();m(5),y("ngIf",e.studentRecord)}}let Tee=(()=>{class t{constructor(e,i,r,s){this.recordManagerService=e,this.modalManagerService=i,this.modalService=r,this.tokenOptionRegistry=s,this.tokenAdjustmentCount=0,this.tokenAdjustmentMessage="",this.goBack=new Me}configureStudent(e,i){var r=this;return(0,b.Z)(function*(){r.studentRecord=void 0,r.tokenAdjustmentCount=0,r.tokenAdjustmentMessage="",r.configuration=e,r.student=i,r.studentRecord=yield r.recordManagerService.getStudentRecord(r.configuration,r.student)})()}formatDate(e){return ma(e,"MMM dd, yyyy kk:mm:ss")}onAddManualChange(){var e=this;return(0,b.Z)(function*(){if(!e.configuration||!e.studentRecord||null==e.tokenAdjustmentCount)return;null==e.tokenAdjustmentMessage&&(e.tokenAdjustmentMessage="");const[i,r]=yield e.modalManagerService.createConfirmationModal("Do you really want to change this student's token balance by "+e.tokenAdjustmentCount.toString()+(""==e.tokenAdjustmentMessage?"?":` with the following message?\n${e.tokenAdjustmentMessage}`));if(r){i.content&&(i.content.disableButton=!0);const s=new Date;yield e.recordManagerService.logProcessedRequest(e.configuration,e.studentRecord,new hi(e.configuration,-1,"Manual Adjustment",e.studentRecord.student,!0,s,s,e.tokenAdjustmentCount,e.tokenAdjustmentMessage)),e.tokenAdjustmentCount=0,e.tokenAdjustmentMessage=""}i.hide()})()}onCreateProcessedRequest(){var e=this;return(0,b.Z)(function*(){if(!e.configuration||!e.studentRecord)return;let i;const r=new Promise(a=>{i=a}),s=e.modalService.show(gee,{initialState:{configuration:e.configuration,onResolve:i,filter:a=>e.tokenOptionRegistry.canCreateRequestByTeacher(a)},backdrop:"static",keyboard:!1}),o=yield r;if(null!=o){const a=new Date;yield e.recordManagerService.logProcessedRequest(e.configuration,e.studentRecord,new hi(e.configuration,o.id,o.name,e.studentRecord?.student,!0,a,a,o.tokenBalanceChange,"This request is made by instructors on your behalf."))}s.hide()})()}onGoBack(){this.goBack.next()}get processedRequests(){return this.studentRecord?.processedRequests.slice(0).reverse()}}return t.\u0275fac=function(e){return new(e||t)(D(tw),D(Fo),D(Gr),D(nw))},t.\u0275cmp=He({type:t,selectors:[["app-student-record-display"]],outputs:{goBack:"goBack"},decls:3,vars:2,consts:[["appCenter","",4,"ngIf","ngIfElse"],["studentRecordPanel",""],["appCenter",""],[1,"m-5"],[1,"d-flex","flex-column"],[1,"btn","btn-outline-primary","mb-1","ms-5",3,"click"],[4,"ngIf"],[1,"row","m-5"],[1,"col-5","card"],[1,"card-body"],[1,"card-titile"],[1,"card-text"],[1,"list-group","list-group-flush","my-auto"],[1,"list-group-item"],["class","list-group-item",4,"ngIf"],[1,"col-2"],[1,"mb-3"],["type","number","value","0",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-primary",3,"click"],["class","col-12 card my-5",4,"ngIf"],[1,"col-12","card","my-5"],[1,"m-2"],[1,"card-titile","d-inline","mx-2"],[1,"card-text","overflow-auto"],[1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"]],template:function(e,i){if(1&e&&(V(0,yee,2,0,"div",0),V(1,Dee,6,1,"ng-template",null,1,pr)),2&e){const r=Fs(2);y("ngIf",!i.studentRecord)("ngIfElse",r)}},dependencies:[Ei,Jt,Ps,cp,Er,_r,ga,ju],styles:["th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{text-align:center}"]}),t})();const kee=["individaulStudentRecordDisplay"];function Mee(t,n){1&t&&(_(0,"div",2),Se(1,"app-canvas-loading-toast"),g())}function See(t,n){if(1&t&&(_(0,"option",24),S(1),g()),2&t){const e=n.$implicit;y("ngValue",e),m(1),qt(" ",e," ")}}function Eee(t,n){if(1&t){const e=Fe();_(0,"tr",25),F("click",function(){const s=H(e).$implicit;return $(w(3).navigateToStudent(s))}),_(1,"td"),S(2),g(),_(3,"td"),S(4),g(),_(5,"td"),S(6),g()()}if(2&t){const e=n.$implicit,i=w(3);let r;m(2),it(e.name),m(2),it(e.email),m(2),it(null!==(r=i.studentGrades.get(e.id))&&void 0!==r?r:0)}}function Oee(t,n){if(1&t){const e=Fe();_(0,"div",14)(1,"div",15)(2,"button",16),F("click",function(){return H(e),$(w(2).prev())}),S(3," Prev "),g(),_(4,"div",17)(5,"span"),S(6,"Number of Students Per Page: "),g(),_(7,"select",18),F("ngModelChange",function(r){return H(e),$(w(2).changePageSize(r))}),V(8,See,2,2,"option",19),g()(),_(9,"button",16),F("click",function(){return H(e),$(w(2).next())}),S(10," Next "),g()(),_(11,"div")(12,"table",20)(13,"thead")(14,"tr")(15,"th"),S(16,"Student"),g(),_(17,"th"),S(18,"Email"),g(),_(19,"th"),S(20,"Token Balance"),g()()(),_(21,"tbody"),V(22,Eee,7,3,"tr",21),g()()(),_(23,"div",22)(24,"button",23),F("click",function(){return H(e),$(w(2).prev())}),S(25," Prev "),g(),_(26,"button",16),F("click",function(){return H(e),$(w(2).next())}),S(27," Next "),g()()()}if(2&t){const e=w(2);st("is-hidden",e.isShowingIndividualStudent),m(2),y("disabled",!e.students.hasPrevPage()||e.isFetchingInfo),m(5),y("ngModel",e.pageCnt),m(1),y("ngForOf",e.POSSIBLE_PAGE_CNTS),m(1),y("disabled",!e.students.hasNextPage()||e.isFetchingInfo),m(13),y("ngForOf",e.students),m(2),y("disabled",!e.students.hasPrevPage()||e.isFetchingInfo),m(2),y("disabled",!e.students.hasNextPage()||e.isFetchingInfo)}}function Iee(t,n){if(1&t){const e=Fe();_(0,"div",3)(1,"button",4),F("click",function(){return H(e),$(w().batchImport())}),S(2," Import CSV for Batch Manual Token Balance Change "),g()(),_(3,"div",5)(4,"label",6),S(5,"Search for Students"),g(),_(6,"div",7)(7,"input",8),F("ngModelChange",function(r){return H(e),$(w().studentSearchTerm=r)}),g()(),_(8,"button",9),F("click",function(){return H(e),$(w().search())}),S(9,"Search"),g(),_(10,"button",10),F("click",function(){return H(e),$(w().clearSearch())}),S(11," Clear "),g()(),V(12,Oee,28,9,"div",11),_(13,"div")(14,"app-student-record-display",12,13),F("goBack",function(){return H(e),$(w().onGoBack())}),g()()}if(2&t){const e=w();st("is-hidden",e.isShowingIndividualStudent),m(3),st("is-hidden",e.isShowingIndividualStudent),m(4),y("ngModel",e.studentSearchTerm),m(1),y("disabled",e.isFetchingInfo),m(2),y("disabled",e.isFetchingInfo),m(2),y("ngIf",e.students&&e.studentGrades),m(1),st("is-hidden",!e.isShowingIndividualStudent)}}let Aee=(()=>{class t{constructor(e,i,r,s){this.canvasService=e,this.tokenATMConfigurationManagerService=i,this.modalService=r,this.modalManagerService=s,this.POSSIBLE_PAGE_CNTS=[5,10,25,50],this.DEFAULT_PAGE_CNT=50,this.isFetchingInfo=!1,this.pageCnt=this.DEFAULT_PAGE_CNT,this.isShowingIndividualStudent=!1,this.studentItemInfo=new $s("studentSearchTerm","Search for Students","text"),this.studentSearchTerm=""}batchImport(){var e=this;return(0,b.Z)(function*(){if(!e.configuration)return;const i=e.modalService.show(dee,{initialState:{configuration:e.configuration},backdrop:"static",keyboard:!1});i.content&&(i.content.modalRef=i),i.onHide&&(yield function oee(t,n){const e="object"==typeof n;return new Promise((i,r)=>{const s=new G({next:o=>{i(o),s.unsubscribe()},error:r,complete:()=>{e?i(n.defaultValue):r(new dd)}});t.subscribe(s)})}(i.onHide),yield e.refreshStudentList(e.studentSearchTerm))})()}configureCourse(e){var i=this;return(0,b.Z)(function*(){i.course=e,i.configuration=yield i.tokenATMConfigurationManagerService.getTokenATMConfiguration(i.course),yield i.refreshStudentList(i.studentSearchTerm)})()}search(){var e=this;return(0,b.Z)(function*(){null==e.studentSearchTerm||1!=e.studentSearchTerm.length?yield e.refreshStudentList(e.studentSearchTerm):yield e.modalManagerService.createNotificationModal("Canvas does not allow searching for students by one character")})()}clearSearch(){var e=this;return(0,b.Z)(function*(){e.studentSearchTerm="",yield e.refreshStudentList(e.studentSearchTerm)})()}changePageSize(e){var i=this;return(0,b.Z)(function*(){i.pageCnt=e,yield i.refreshStudentList(i.studentSearchTerm)})()}refreshStudentList(e){var i=this;return(0,b.Z)(function*(){i.course&&(i.students=yield i.canvasService.getCourseStudents(i.course.id,i.pageCnt,e),yield i.getStudentGrades())})()}getStudentGrades(){var e=this;return(0,b.Z)(function*(){if(!e.course||!e.configuration||!e.students)return;e.studentGrades=void 0;const i=Array.from(e.students).map(r=>r.id);e.studentGrades=0!=i.length?yield e.canvasService.getStudentsGrades(e.course.id,e.configuration.logAssignmentId,i):new Map})()}prev(){var e=this;return(0,b.Z)(function*(){e.students&&(e.isFetchingInfo=!0,yield e.students.prev(),yield e.getStudentGrades(),e.isFetchingInfo=!1)})()}next(){var e=this;return(0,b.Z)(function*(){e.students&&(e.isFetchingInfo=!0,yield e.students.next(),yield e.getStudentGrades(),e.isFetchingInfo=!1)})()}navigateToStudent(e){var i=this;return(0,b.Z)(function*(){!i.configuration||!i.individaulStudentRecordDisplay||(i.isShowingIndividualStudent=!0,yield i.individaulStudentRecordDisplay.configureStudent(i.configuration,e))})()}onGoBack(){var e=this;return(0,b.Z)(function*(){e.isShowingIndividualStudent=!1,yield e.getStudentGrades()})()}}return t.\u0275fac=function(e){return new(e||t)(D(Rn),D(Ar),D(Gr),D(Fo))},t.\u0275cmp=He({type:t,selectors:[["app-student-list"]],viewQuery:function(e,i){if(1&e&&he(kee,5),2&e){let r;ue(r=ce())&&(i.individaulStudentRecordDisplay=r.first)}},decls:3,vars:2,consts:[["appCenter","",4,"ngIf","ngIfElse"],["studentListPanel",""],["appCenter",""],[1,"d-flex","align-items-center","justify-content-center","mx-5","mt-5","mb-3"],[1,"btn","btn-primary",3,"click"],[1,"row","align-items-center","justify-content-center","m-5"],[1,"col-auto","d-inline"],[1,"col-4"],["type","text",1,"form-control","mx-2",3,"ngModel","ngModelChange"],[1,"col-auto","btn","btn-primary","mx-2",3,"disabled","click"],[1,"col-auto","btn","btn-outline-danger","mx-2",3,"disabled","click"],["class","flex-column m-5",3,"is-hidden",4,"ngIf"],[3,"goBack"],["individaulStudentRecordDisplay",""],[1,"flex-column","m-5"],[1,"d-flex","align-self-stretch","mx-5","align-items-center"],[1,"btn","btn-dark",3,"disabled","click"],[1,"d-inline-block","mx-auto"],[1,"form-select",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"table"],["class","is-link",3,"click",4,"ngFor","ngForOf"],[1,"d-flex","align-self-stretch","mx-5"],[1,"btn","btn-dark","me-auto",3,"disabled","click"],[3,"ngValue"],[1,"is-link",3,"click"]],template:function(e,i){if(1&e&&(V(0,Mee,2,0,"div",0),V(1,Iee,16,10,"ng-template",null,1,pr)),2&e){const r=Fs(2);y("ngIf",!i.students||!i.studentGrades)("ngIfElse",r)}},dependencies:[Ei,Jt,ud,cd,Ps,Ya,Er,_r,ga,Tee,ju],styles:["th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{text-align:center;padding-left:1rem;padding-right:1rem}.is-hidden[_ngcontent-%COMP%]{display:none!important}"]}),t})();function qm(t,n){cn(2,arguments);var e=Kn(t),i=Ii(n);if(isNaN(i))return new Date(NaN);if(!i)return e;var r=e.getDate(),s=new Date(e.getTime());return s.setMonth(e.getMonth()+i+1,0),r>=s.getDate()?s:(e.setFullYear(s.getFullYear(),s.getMonth(),r),e)}function nC(t,n){return cn(2,arguments),qm(t,12*Ii(n))}let xee=(()=>{class t{constructor(e,i){this.manager=e,this.canvasService=i}configureCourse(e){var i=this;return(0,b.Z)(function*(){i.course=e})()}onRegenerateContent(){var e=this;return(0,b.Z)(function*(){e.course&&(yield e.manager.regenerateContent(yield e.manager.getTokenATMConfiguration(e.course)),console.log("Regeneration finished!"))})()}onDeleteAll(){var e=this;return(0,b.Z)(function*(){e.course&&(yield e.manager.deleteAll(yield e.manager.getTokenATMConfiguration(e.course)),console.log("Delete all finished!"))})()}onCreateConfiguration(){var e=this;return(0,b.Z)(function*(){if(!e.course)return;const i=yield e.manager.createTokenATMConfiguration(e.course,"Just Testing","This is just a test generation of the content");console.log("Configuration created",i)})()}onAddTokenOptionGroup(){var e=this;return(0,b.Z)(function*(){if(!e.course)return;const i=yield e.manager.getTokenATMConfiguration(e.course);yield e.manager.addNewTokenOptionGroup(new yt(i,"Test Token Option Group "+i.tokenOptionGroups.length.toString(),i.nextFreeTokenOptionGroupId,"",`Just a test <b>token option group</b> ${i.tokenOptionGroups.length}`,!1,[])),console.log("Add token option group finished")})()}onAddTokenOption(){var e=this;return(0,b.Z)(function*(){if(!e.course)return;const i=yield e.manager.getTokenATMConfiguration(e.course),r=i.tokenOptionGroups[i.tokenOptionGroups.length-1];if(!r)throw new Error("No token option groups exist in the configuration!");r.addTokenOption(new Ys(r,"basic",i.nextFreeTokenOptionId,`Test Token Option ${r.tokenOptions.length}`,`Just a test <b>token option</b> ${r.tokenOptions.length}`,r.tokenOptions.length,!1));const s=yield e.manager.updateTokenOptionGroup(r);console.log("Add token option finished!"),s||console.log("auto update failed. Need manual update")})()}onDeleteFirstTokenOptionGroup(){var e=this;return(0,b.Z)(function*(){if(!e.course)return;const i=yield e.manager.getTokenATMConfiguration(e.course);if(!i.tokenOptionGroups[0])throw new Error("No token option groups exist in the configuration!");yield e.manager.deleteTokenOptionGroup(i.tokenOptionGroups[0]),console.log("Delete first token option group finished!")})()}onDeleteFirstTokenOption(){var e=this;return(0,b.Z)(function*(){if(!e.course)return;const r=(yield e.manager.getTokenATMConfiguration(e.course)).tokenOptionGroups[0];if(!r)throw new Error("No token option groups exist in the configuration!");if(!r.tokenOptions[0])throw new Error("No token option exists in the first token option group!");r.deleteTokenOption(r.tokenOptions[0]);const s=yield e.manager.updateTokenOptionGroup(r);console.log("Delete first token option finished!"),s||console.log("auto update failed. Need manual update")})()}onChangeLastTokenOptionGroupPublishState(){var e=this;return(0,b.Z)(function*(){if(!e.course)return;const i=yield e.manager.getTokenATMConfiguration(e.course),r=i.tokenOptionGroups[i.tokenOptionGroups.length-1];if(!r)throw new Error("No token option groups exist in the configuration!");if(r.isPublished){const s=yield e.manager.unpublishTokenOptionGroup(r);console.log("Unpublish operation attempted. Result: ",s)}else yield e.manager.publishTokenOptionGroup(r),console.log("Token option group published!")})()}onResetStudentRecord(){var e=this;return(0,b.Z)(function*(){if(!e.course)return;const i=yield e.manager.getTokenATMConfiguration(e.course);var o,r=!1,s=!1;try{for(var l,a=vi(yield e.canvasService.getCourseStudentEnrollments(e.course.id));r=!(l=yield a.next()).done;r=!1){const u=l.value;yield e.canvasService.gradeSubmission(e.course.id,u.id,i.logAssignmentId,0);for(const c of yield e.canvasService.getSubmissionComments(e.course.id,u.id,i.logAssignmentId))yield e.canvasService.deleteComment(e.course.id,u.id,i.logAssignmentId,c.id)}}catch(u){s=!0,o=u}finally{try{r&&null!=a.return&&(yield a.return())}finally{if(s)throw o}}console.log("Deletion finished!")})()}onPopulateICSExpoConfiguration(){var e=this;return(0,b.Z)(function*(){if(!e.course)return;const i=yield e.manager.getTokenATMConfiguration(e.course),r=new yt(i,"Pass Module",i.nextFreeTokenOptionGroupId,"","Pass module with a specific grade threshold to get tokens!",!0,[]);yield e.manager.addNewTokenOptionGroup(r),r.addTokenOption(new Qa(r,"earn-by-module",i.nextFreeTokenOptionId,"getting tokens by passing module 1","Passing Module 1 with a score no less than 70% of the total score",1,!1,"Module 1","12612114",new Date,.7)),r.addTokenOption(new Qa(r,"earn-by-module",i.nextFreeTokenOptionId,"getting tokens by passing module 2","Passing Module 1 with a score no less than 80% of the total score",2,!1,"Module 2","12612167",new Date,.8)),yield e.manager.updateTokenOptionGroup(r);const s=new yt(i,"Basic Token Options (Testing)",i.nextFreeTokenOptionGroupId,"","Test Token ATM with these basic token options whose requests are always approved!",!0,[]);yield e.manager.addNewTokenOptionGroup(s),s.addTokenOption(new Ys(r,"basic",i.nextFreeTokenOptionId,"basic token option 1","Just a test <b>token option</b>",100,!1)),s.addTokenOption(new Ys(r,"basic",i.nextFreeTokenOptionId,"basic token option 2","Just a test <b>token option</b>",.5,!1)),s.addTokenOption(new Ys(r,"basic",i.nextFreeTokenOptionId,"basic token option 3","Just a test <b>token option</b>",-100,!1)),yield e.manager.updateTokenOptionGroup(s),console.log("Completed!")})()}onMyOperation(){var e=this;return(0,b.Z)(function*(){if(!e.course)return;const i=yield e.manager.getTokenATMConfiguration(e.course),r=new yt(i,"New Feature Testing",i.nextFreeTokenOptionGroupId,"","Testing new features",!0,[]);yield e.manager.addNewTokenOptionGroup(r),r.addTokenOption(new $d(r,"earn-by-quiz",i.nextFreeTokenOptionId,"Earn by Quiz Testing","Just a description",10,!1,"Argument Driven Inquiry (ADI) Quiz","14478031",new Date,.5)),r.addTokenOption(new Ka(r,"spend-for-assignment-resubmission",i.nextFreeTokenOptionId,"Spend for Assignment Resubmission Testing","Just a description",-1,!1,"Test Locked Assignment","38096634",new Date,qm(new Date,1),nC(new Date,1))),r.addTokenOption(new _a(r,"spend-for-lab-data",i.nextFreeTokenOptionId,"Spend for Lab Data Testing","Just a description",-2,!1,"Test Lab Data Quiz","14544887",new Date,qm(new Date,1),nC(new Date,1),[])),r.addTokenOption(new _a(r,"spend-for-lab-data",i.nextFreeTokenOptionId,"Expire Test","Just make it expired",-2,!1,"Test Lab Data Quiz","14544887",new Date,new Date,nC(new Date,1),[])),r.addTokenOption(new jd(r,"earn-by-survey",i.nextFreeTokenOptionId,"Earn by Taking Qualtrics Survey Testing","Just a description",10,!1,"SV_aVQu2sEgpSgSkBw","Email",new Date,qm(new Date,1))),yield e.manager.updateTokenOptionGroup(r),console.log("Completed!")})()}}return t.\u0275fac=function(e){return new(e||t)(D(Ar),D(Rn))},t.\u0275cmp=He({type:t,selectors:[["app-dev-test"]],decls:23,vars:0,consts:[["appCenter","",1,"flex-column"],[1,"btn","btn-danger","my-3",3,"click"],[1,"btn","btn-primary","my-3",3,"click"]],template:function(e,i){1&e&&(_(0,"div",0)(1,"button",1),F("click",function(){return i.onRegenerateContent()}),S(2,"Regenerate Content"),g(),_(3,"button",1),F("click",function(){return i.onDeleteAll()}),S(4,"Delete All"),g(),_(5,"button",2),F("click",function(){return i.onCreateConfiguration()}),S(6,"Create Configuration"),g(),_(7,"button",2),F("click",function(){return i.onAddTokenOptionGroup()}),S(8,"Add Token Option Group"),g(),_(9,"button",2),F("click",function(){return i.onAddTokenOption()}),S(10," Add Token Option to the Last Token Option Group "),g(),_(11,"button",1),F("click",function(){return i.onDeleteFirstTokenOptionGroup()}),S(12," Delete First Token Option Group "),g(),_(13,"button",1),F("click",function(){return i.onDeleteFirstTokenOption()}),S(14," Delete First Token Option in the First Token Option Gorup "),g(),_(15,"button",2),F("click",function(){return i.onChangeLastTokenOptionGroupPublishState()}),S(16," Publish/Unpublish Last Token Option Group "),g(),_(17,"button",1),F("click",function(){return i.onResetStudentRecord()}),S(18,"Reset all student records"),g(),_(19,"button",1),F("click",function(){return i.onPopulateICSExpoConfiguration()}),S(20," Populate ICS Expo Testing Configuration "),g(),_(21,"button",1),F("click",function(){return i.onMyOperation()}),S(22,"On My Operation"),g()())},dependencies:[ga]}),t})();const Fee=["suffixFieldComponent"],Nee=["descriptionFieldComponent"];let Lee=(()=>{class t{constructor(e){this.configurationManagerService=e,this.isProcessing=!0}ngOnInit(){!this._suffixFieldComponent||!this._descriptionFieldComponent||!this.configuration||(this._suffixFieldComponent.initValue=this.configuration.suffix,this._descriptionFieldComponent.initValue=this.configuration.description,this.isProcessing=!1)}onCancel(){this.modalRef?.hide()}onEditConfiguration(){var e=this;return(0,b.Z)(function*(){!e.configuration||!e._suffixFieldComponent||!e._descriptionFieldComponent||(e.isProcessing=!0,yield e.configurationManagerService.updateTokenATMMetadata(e.configuration,{suffix:yield e._suffixFieldComponent.getValue(),description:yield e._descriptionFieldComponent.getValue()}),e.modalRef?.hide(),e.isProcessing=!1)})()}}return t.\u0275fac=function(e){return new(e||t)(D(Ar))},t.\u0275cmp=He({type:t,selectors:[["app-edit-configuration-modal"]],viewQuery:function(e,i){if(1&e&&(he(Fee,7),he(Nee,7)),2&e){let r;ue(r=ce())&&(i._suffixFieldComponent=r.first),ue(r=ce())&&(i._descriptionFieldComponent=r.first)}},inputs:{modalRef:"modalRef",configuration:"configuration"},decls:13,vars:4,consts:[[1,"modal-header"],[1,"modal-title","pull-left"],[1,"modal-body"],["label","The suffix of Assignment Group & Module name",3,"isReadOnly"],["suffixFieldComponent",""],["label","Description of Token ATM Log Assignment",3,"isReadOnly"],["descriptionFieldComponent",""],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary","mx-2",3,"disabled","click"],["type","button",1,"btn","btn-primary","mx-2",3,"disabled","click"]],template:function(e,i){1&e&&(_(0,"div",0)(1,"h4",1),S(2,"Edit Token ATM Configuration Metadata"),g()(),_(3,"div",2),Se(4,"app-string-input-field",3,4)(6,"app-string-textarea-field",5,6),g(),_(8,"div",7)(9,"button",8),F("click",function(){return i.onCancel()}),S(10," Cancel "),g(),_(11,"button",9),F("click",function(){return i.onEditConfiguration()}),S(12," Edit "),g()()),2&e&&(m(4),y("isReadOnly",i.isProcessing),m(2),y("isReadOnly",i.isProcessing),m(3),y("disabled",i.isProcessing),m(2),y("disabled",i.isProcessing))},dependencies:[xr,Fr]}),t})();const Pee=["moduleNameModal"];function Vee(t,n){1&t&&(_(0,"div",3),Se(1,"app-canvas-loading-toast"),g())}function Bee(t,n){if(1&t){const e=Fe();_(0,"div",4)(1,"button",5),F("click",function(){return H(e),$(w().onCreateTestingConfiguration())}),S(2," Create Testing Configuration "),g(),_(3,"button",5),F("click",function(){return H(e),$(w().onEditConfigurationMetadata())}),S(4," Edit Token ATM Configuration Metadata "),g(),_(5,"button",6),F("click",function(){return H(e),$(w().onDeleteAll())}),S(6," Delete All Token-ATM related content "),g(),_(7,"button",6),F("click",function(){return H(e),$(w().onResetContent())}),S(8," Reset Token ATM "),g(),_(9,"button",6),F("click",function(){return H(e),$(w().onMigrate())}),S(10," Migrate Token ATM after a Course Copy/Import "),g()()}if(2&t){const e=w();m(1),y("disabled",e.isProcessing),m(2),y("disabled",e.isProcessing),m(2),y("disabled",e.isProcessing),m(2),y("disabled",e.isProcessing),m(2),y("disabled",e.isProcessing)}}function Hee(t,n){if(1&t){const e=Fe();_(0,"div",7)(1,"h4",8),S(2,"Provide course preparation module name"),g()(),_(3,"div",9)(4,"label",10),S(5,"The name of the course preparation module:"),g(),_(6,"input",11),F("ngModelChange",function(r){return H(e),$(w().moduleName=r)}),g()(),_(7,"div",12)(8,"button",13),F("click",function(){return H(e),$(w().onInputModuleName())}),S(9,"Submit"),g()()}if(2&t){const e=w();m(6),y("ngModel",e.moduleName)}}const Rx=[{name:"Process Request",path:"process-request",component:GG},{name:"Token Options",path:"configure-token-options",component:see},{name:"Students",path:"students",component:Aee},{name:"Configuration",path:"configuration",component:(()=>{class t{constructor(e,i,r,s){this.configurationManagerService=e,this.canvasService=i,this.modalSerivce=r,this.modalManagerSerivce=s,this.isProcessing=!1}configureCourse(e){var i=this;return(0,b.Z)(function*(){i.course=e})()}onCreateTestingConfiguration(){var e=this;return(0,b.Z)(function*(){if(e.course){e.isProcessing=!0;try{return yield e.canvasService.getPageIdByName(e.course.id,"Token ATM Configuration"),e.isProcessing=!1,void(yield e.modalManagerSerivce.createNotificationModal("There is an existing configuration for this course."))}catch{}try{const i=yield e.configurationManagerService.createTokenATMConfiguration(e.course,"(Complete to earn 1 TOKEN)","This is just a test generation of the content"),r=new yt(i,"Earn & Spend Tokens (Test)",i.nextFreeTokenOptionGroupId,"",String.raw`<p>Students,</p>
            <p>To earn an extra token to be applied to your final exam, please help us try out a new system developed by your fellow UCI students in their ICS capstone course. The purpose of this programming is take make the Token process more automatic - so students don't have to wait for the Head TA to manually process token counts.</p>
            <p>All you need to do is complete this quiz to let their programming (called a Token ATM) know you want to earn a token. You still need to wait for the Head TA to trigger the automatic request processing. To see if your request was approved, look at the Token ATM Log.&nbsp; The Token ATM Log displays your token balance and information about the requests you've made.</p>
            <p>Thanks for helping us test out the Token ATM!</p>`,!0,[]);yield e.configurationManagerService.addNewTokenOptionGroup(r),r.addTokenOption(new Ys(r,"basic",i.nextFreeTokenOptionId,"Earn 0.5 test tokens","The test tokens you obtained by requesting this token option is just for testing purpose and will not influence your real token counts",.5,!1)),r.addTokenOption(new Ys(r,"basic",i.nextFreeTokenOptionId,"Spend 1 test token","The test tokens you spent by requesting this token option is just for testing purpose and will not influence your real token counts",-1,!1)),yield e.configurationManagerService.updateTokenOptionGroup(r);const s=new yt(i,"Course Preparation Token (Test)",i.nextFreeTokenOptionGroupId,"",String.raw`<div id="quiz-instructions" class="user_content enhanced">
            <div class="description user_content teacher-version enhanced">
            <p>Students,</p>
            <p>To earn an extra token to be applied to your final exam, please help us try out a new system developed by your fellow UCI students in their ICS capstone course. The purpose of this programming is take make the Token process more automatic - so students don't have to wait for the Head TA to manually process token counts.</p>
            <p>All you need to do is complete this quiz to let their programming (called a Token ATM) know you want to earn a token. You still need to wait for the Head TA to trigger the automatic request processing. To see if your request was approved, look at the Token ATM Log.&nbsp; The Token ATM Log displays your token balance and information about the requests you've made.</p>
            <p>Thanks for helping us test out the Token ATM!</p>
            </div>
            </div>`,!0,[]);yield e.configurationManagerService.addNewTokenOptionGroup(s),e.moduleName="Course Preparation (Must pass with 70% or higher to earn 1 TOKEN)",e.moduleNameModalRef=e.modalSerivce.show(e.moduleNameModalTemplate,{backdrop:"static",keyboard:!1}),yield new Promise(l=>{e.moduleNamePromiseResolve=l});const a=yield e.canvasService.getModuleIdByName(e.course.id,e.moduleName);s.addTokenOption(new Qa(s,"earn-by-module",i.nextFreeTokenOptionId,"Course Preparation Token","To get this test token, you need to pass the Course Preparation Module with a score no less than 70% of the total score. The test token you got is just for testing purpose and will not influence your real token counts",1,!1,e.moduleName,a,new Date,.7)),yield e.configurationManagerService.updateTokenOptionGroup(s),e.isProcessing=!1,yield e.modalManagerSerivce.createNotificationModal("Testing Configuration Created!")}catch(i){yield e.modalManagerSerivce.createNotificationModal(`Error occured when creating test configuration: ${Po.serailize(i)}`,"Error"),e.isProcessing=!1}}})()}onDeleteAll(){var e=this;return(0,b.Z)(function*(){if(!e.course)return;e.isProcessing=!0;const[i,r]=yield e.modalManagerSerivce.createConfirmationModal("Do you really want to delete all Token ATM related content from this course?","Confirmation",!0);if(!r)return e.isProcessing=!1,void i.hide();i.content&&(i.content.disableButton=!0);try{const s=yield e.configurationManagerService.getTokenATMConfiguration(e.course);yield e.configurationManagerService.deleteAll(s),e.isProcessing=!1,yield e.modalManagerSerivce.createNotificationModal("All Token ATM related content has been deleted!")}catch(s){yield e.modalManagerSerivce.createNotificationModal(`Error occured when deleting Token ATM related content: ${Po.serailize(s)}\n***ACTION NEEDED***: \nYou can use Canvas to delete the Token ATM content by manually deleting: \n1) the two Canvas pages prefixed with 'Token ATM', \n2) the one Canvas assignment group prefixed with 'Token ATM', and \n3) the one Canvas module prefixed with 'Token ATM'. \n***Sorry for the inconvenience!`,"Error")}finally{e.isProcessing=!1,i.hide()}})()}onResetContent(){var e=this;return(0,b.Z)(function*(){if(!e.course)return;e.isProcessing=!0;const[i,r]=yield e.modalManagerSerivce.createConfirmationModal("Do you really want to reset Token ATM for this course? This will cause all information about token balances and requests being deleted! NOTE: if errors occur during reset, there is NO WAY to recover from it! Please export the course content as a backup.","Confirmation",!0);if(!r)return e.isProcessing=!1,void i.hide();i.content&&(i.content.disableButton=!0);try{const s=yield e.configurationManagerService.getTokenATMConfiguration(e.course);yield e.configurationManagerService.regenerateContent(s),yield e.modalManagerSerivce.createNotificationModal("Token ATM is successfully reset!")}catch(s){yield e.modalManagerSerivce.createNotificationModal(`Error occured when resetting Token ATM:\n***ACTION NEEDED*** Please delete the Token ATM content manually by deleting two pages prefixed with Token ATM, one assignment group prefixed with Token ATM, and one module prefixed with Token ATM. After that, please import the course content related to Token ATM (the things you deleted before) from the course export and then perform migration. Sorry for the inconvenience!\nError Message: ${Po.serailize(s)}`)}finally{e.isProcessing=!1,i.hide()}})()}onMigrate(){var e=this;return(0,b.Z)(function*(){if(!e.course)return;e.isProcessing=!0;const[i,r]=yield e.modalManagerSerivce.createConfirmationModal("Do you really want to start the migration of Token ATM for this course? This will cause all information about token balances and requests being deleted! Also, all token option groups will be unpublished, while all token options will need to be saved again to complete the migration. NOTE: if errors occur during migration, there is NO WAY to recover from it! Please export the course content as a backup.","Confirmation",!0);if(!r)return e.isProcessing=!1,void i.hide();i.content&&(i.content.disableButton=!0);try{const s=yield e.configurationManagerService.getTokenATMConfiguration(e.course);yield e.configurationManagerService.regenerateContent(s,!0),yield e.modalManagerSerivce.createNotificationModal("Token ATM migration is started sucessfully! You need to save every token option again to complete the migration.")}catch(s){yield e.modalManagerSerivce.createNotificationModal(`Error occured when migrating Token ATM:\n***ACTION NEEDED*** Please delete the Token ATM content manually by deleting two pages prefixed with Token ATM, one assignment group prefixed with Token ATM, and one module prefixed with Token ATM. After that, please import the course content related to Token ATM (the things you deleted before) from the course export and then try the migration again. Sorry for the inconvenience!\nError Message: ${Po.serailize(s)}`)}finally{e.isProcessing=!1,i.hide()}})()}onInputModuleName(){!this.moduleNameModalRef||!this.moduleNamePromiseResolve||(this.moduleNameModalRef.hide(),this.moduleNamePromiseResolve())}onEditConfigurationMetadata(){var e=this;return(0,b.Z)(function*(){if(!e.course)return;e.isProcessing=!0;const i=e.modalSerivce.show(Lee,{initialState:{configuration:yield e.configurationManagerService.getTokenATMConfiguration(e.course)},backdrop:"static",keyboard:!1});i.content&&(i.content.modalRef=i),e.isProcessing=!1})()}}return t.\u0275fac=function(e){return new(e||t)(D(Ar),D(Rn),D(Gr),D(Fo))},t.\u0275cmp=He({type:t,selectors:[["app-configuration"]],viewQuery:function(e,i){if(1&e&&he(Pee,5),2&e){let r;ue(r=ce())&&(i.moduleNameModalTemplate=r.first)}},decls:5,vars:2,consts:[["appCenter","",4,"ngIf","ngIfElse"],["configurationPanel",""],["moduleNameModal",""],["appCenter",""],["appCenter","",1,"flex-column"],[1,"btn","btn-primary","my-3",3,"disabled","click"],[1,"btn","btn-danger","my-3",3,"disabled","click"],[1,"modal-header"],[1,"modal-title","pull-left"],[1,"modal-body"],["for","renameText"],["type","text","id","renameText",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-primary","mx-2",3,"click"]],template:function(e,i){if(1&e&&(V(0,Vee,2,0,"div",0),V(1,Bee,11,5,"ng-template",null,1,pr),V(3,Hee,10,1,"ng-template",null,2,pr)),2&e){const r=Fs(2);y("ngIf",!i.course)("ngIfElse",r)}},dependencies:[Jt,Ps,Er,_r,ga,ju]}),t})()},{name:"Dev-Test",path:"dev-test",component:xee,canActivate:[()=>!1],isDev:!0}];function Uee(t,n){1&t&&Se(0,"img",12),2&t&&y("src",w().avatarUrl,yg)}function Yee(t,n){if(1&t&&(_(0,"p"),S(1),g()),2&t){const e=w();m(1),it(e.name)}}function zee(t,n){if(1&t&&(_(0,"p"),S(1),g()),2&t){const e=w();m(1),it(e.email)}}const qee=function(){return["/","select-course"]};function Wee(t,n){if(1&t&&(_(0,"div",13)(1,"p"),S(2),g(),_(3,"p"),S(4),g(),_(5,"span",14),S(6,"Switch Course"),g()()),2&t){const e=w();m(2),it(e.course.name),m(2),it(e.course.term),m(1),y("routerLink",function rM(t,n,e){const i=tr()+t,r=J();return r[i]===ft?xs(r,i,e?n.call(e):n()):function Bc(t,n){return t[n]}(r,i)}(3,qee))}}function Gee(t,n){if(1&t&&(Hn(0),_(1,"li",15)(2,"span",16),S(3),g()(),$n()),2&t){const e=n.$implicit;m(2),y("routerLink",e.path),m(1),it(e.name)}}let Zee=(()=>{class t{constructor(e,i){this.router=e,this.canvasService=i,this.courseSubscription=this.router.events.subscribe(r=>{if(!(r instanceof ua)||"/dashboard"!=r.url)return;const s=this.router.getCurrentNavigation()?.extras.state;s&&(this.configureCourse(s),this.configureUserInformation("self"))})}configureUserInformation(e){var i=this;return(0,b.Z)(function*(){const r=yield i.canvasService.getUserInformation(e);i.name=r.name,i.email=r.email,i.avatarUrl=r.avatarURL})()}configureCourse(e){this.course=e}ngOnDestroy(){this.courseSubscription&&this.courseSubscription.unsubscribe()}get routes(){return Rx.filter(e=>!e.isDev)}onComponentActivate(e){var i=this;return(0,b.Z)(function*(){i.course&&"configureCourse"in e&&"function"==typeof e.configureCourse&&(yield e.configureCourse(i.course))})()}}return t.\u0275fac=function(e){return new(e||t)(D(Yi),D(Rn))},t.\u0275cmp=He({type:t,selectors:[["app-dashboard"]],decls:13,vars:5,consts:[[1,"d-flex"],["id","sidebar",1,"d-flex","flex-column","flex-shrink-0","align-items-center","px-3","py-5","bg-light","vh-100","me-0","overflow-y-auto"],["src","assets/logo3.png","alt","logo"],[1,"d-flex","flex-column","align-items-center"],["alt","Avatar",3,"src",4,"ngIf"],[4,"ngIf"],["class","d-flex flex-column align-items-center my-5",4,"ngIf"],[1,"nav","nav-pills","flex-column","align-items-center"],[4,"ngFor","ngForOf"],[1,"overflow-auto","vh-100","flex-grow-1"],[1,"flex-grow-1","dashboard-component-container"],[3,"activate"],["alt","Avatar",3,"src"],[1,"d-flex","flex-column","align-items-center","my-5"],[1,"nav-link","fs-5","text-primary","is-link",3,"routerLink"],[1,"nav-item"],["routerLinkActive","fw-bold",1,"nav-link","fs-4","text-dark","is-link",3,"routerLink"]],template:function(e,i){1&e&&(_(0,"div",0)(1,"div",1),Se(2,"img",2),_(3,"div",3),V(4,Uee,1,1,"img",4),V(5,Yee,2,1,"p",5),V(6,zee,2,1,"p",5),g(),V(7,Wee,7,4,"div",6),_(8,"ul",7),V(9,Gee,4,2,"ng-container",8),g()(),_(10,"div",9)(11,"div",10)(12,"router-outlet",11),F("activate",function(s){return i.onComponentActivate(s)}),g()()()()),2&e&&(m(4),y("ngIf",i.avatarUrl),m(1),y("ngIf",i.name),m(1),y("ngIf",i.email),m(1),y("ngIf",i.course),m(2),y("ngForOf",i.routes))},dependencies:[Ei,Jt,Dp,xp,yO],styles:["#sidebar[_ngcontent-%COMP%]{width:20rem;display:inline}.dashboard-component-container[_ngcontent-%COMP%]{max-height:100vh}"]}),t})();class xx{constructor(){this.canvasURL="",this.canvasAccessToken="",this.qualtricsDataCenter="",this.qualtricsClientID="",this.qualtricsClientSecret=""}toJSON(){return{canvasURL:this.canvasURL,canvasAccessToken:this.canvasAccessToken,qualtricsDataCenter:this.qualtricsDataCenter,qualtricsClientID:this.qualtricsClientID,qualtricsClientSecret:this.qualtricsClientSecret}}}let Qee=(()=>{class t{getStoredItem(e,i=!0){const r=localStorage.getItem(e);if(!i)return r??"";if(null==r)throw new Error(`${e} not found in localStorage`);return r}storeCredentials(e,i){return(0,b.Z)(function*(){const r=window.crypto.getRandomValues(new Uint8Array(32)),s=yield ha.deriveAESKey(i,r),[o,a]=yield ha.encryptAES(s,JSON.stringify(e));localStorage.setItem("salt",qi_fromUint8Array(r)),localStorage.setItem("iv",qi_fromUint8Array(o)),localStorage.setItem("data",qi_fromUint8Array(a))})()}retrieveCredentials(e){var i=this;return(0,b.Z)(function*(){const r=new Uint8Array(qi_toUint8Array(i.getStoredItem("salt"))),s=yield ha.deriveAESKey(e,r),o=new Uint8Array(qi_toUint8Array(i.getStoredItem("iv"))),a=new Uint8Array(qi_toUint8Array(i.getStoredItem("data"))),l=yield ha.decryptAES(s,a,o);return JSON.parse(l)})()}hasCredentials(){return null!=localStorage.getItem("salt")&&null!=localStorage.getItem("iv")&&null!=localStorage.getItem("data")}clearCredentials(){localStorage.removeItem("salt"),localStorage.removeItem("iv"),localStorage.removeItem("data")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Kee=["retrieveCredentialModal"],Jee=["storeCredentialModal"];function Xee(t,n){if(1&t){const e=Fe();Hn(0),_(1,"app-form-item",11),F("dataChange",function(r){const o=H(e).$implicit;return $(w().credentials[o]=r)}),g(),$n()}if(2&t){const e=n.$implicit,i=w();m(1),y("info",i.getCredentialsFormItemInfoMap()[e])("data",i.credentials[e])}}function ete(t,n){if(1&t&&(_(0,"p",21),S(1),g()),2&t){const e=w(2);m(1),it(e.unlockCredentialErrorMessage)}}function tte(t,n){if(1&t){const e=Fe();_(0,"div",12)(1,"h4",13),S(2,"Unlock Credentials"),g()(),_(3,"div",14)(4,"form")(5,"app-form-item",11),F("dataChange",function(r){return H(e),$(w().password=r)}),g()(),V(6,ete,2,1,"p",15),g(),_(7,"div",16)(8,"div",17)(9,"button",18),F("click",function(){H(e);const r=w();return $(null==r.retrieveCredentialModalRef?null:r.retrieveCredentialModalRef.hide())}),S(10," Cancel "),g(),_(11,"button",19),F("click",function(){return H(e),$(w().onDeleteCredentials())}),S(12," Delete saved credentials "),g(),_(13,"button",20),F("click",function(){return H(e),$(w().onUnlockCredentials())}),S(14," Unlock "),g()()()}if(2&t){const e=w();m(5),y("info",e.getPasswordFormItemInfo())("data",e.password),m(1),y("ngIf",e.unlockCredentialErrorMessage),m(3),y("disabled",e.isProcessing),m(2),y("disabled",e.isProcessing),m(2),y("disabled",e.isProcessing)}}function nte(t,n){1&t&&(_(0,"p",21),S(1," Warning: Some credentials have already been saved. Saving new credentials will overwrite the previously saved credentials. "),g())}function ite(t,n){if(1&t){const e=Fe();_(0,"div",12)(1,"h4",13),S(2,"Save Credentials"),g()(),_(3,"div",14),V(4,nte,2,0,"p",15),_(5,"form")(6,"app-form-item",11),F("dataChange",function(r){return H(e),$(w().password=r)}),g()()(),_(7,"div",16)(8,"div",17)(9,"button",22),F("click",function(){H(e);const r=w();return $(null==r.storeCredentialModalRef?null:r.storeCredentialModalRef.hide())}),S(10," Cancel "),g(),_(11,"button",20),F("click",function(){return H(e),$(w().onSaveCredentials())}),S(12," Save "),g()()()}if(2&t){const e=w();m(4),y("ngIf",e.hasExistingCredentials()),m(2),y("info",e.getPasswordFormItemInfo())("data",e.password),m(3),y("disabled",e.isProcessing),m(2),y("disabled",e.isProcessing)}}class ro{constructor(n,e,i,r,s,o,a){this.canvasService=n,this.qualtricsService=e,this.credentialManagerService=i,this.router=r,this.modalService=s,this.modalManagerService=o,this.sanitizer=a,this.credentials=new xx,this.password="",this.unlockCredentialErrorMessage=void 0,this.isSavingCredentials=!1,this.isProcessing=!1}ngAfterViewInit(){var n=this;return(0,b.Z)(function*(){n.retrieveCredentialModalTemplate&&n.credentialManagerService.hasCredentials()&&(n.password="",n.retrieveCredentialModalRef=n.modalService.show(n.retrieveCredentialModalTemplate,{backdrop:"static",keyboard:!1}))})()}onDeleteCredentials(){this.isProcessing=!0,this.credentialManagerService.clearCredentials(),this.retrieveCredentialModalRef?.hide(),this.isProcessing=!1}onUnlockCredentials(){var n=this;return(0,b.Z)(function*(){n.unlockCredentialErrorMessage=void 0,n.isProcessing=!0;try{n.credentials=yield n.credentialManagerService.retrieveCredentials(n.password)}catch{return n.unlockCredentialErrorMessage="Unlock credentials failed. The password might be wrong, or the saved credentials might have broken.",void(n.isProcessing=!1)}yield n.onSubmitCredential(),n.retrieveCredentialModalRef?.hide(),n.isProcessing=!1})()}getPasswordFormItemInfo(){return new $s("password","Password","password")}openLink(){window.open("https://docs.google.com/document/d/1KzO0Aic923z5rmvbmKJJ43suaz4IwG4RhmAtLUyVfeY/edit?usp=sharing","_blank")}getCredentialsFormItemInfoMap(){return ro.CREDENTIALS_FORM_ITEM_INFO_MAP}getCredentialIDList(){return ro.CREDENTIALS_ID_LIST}hasExistingCredentials(){return this.credentialManagerService.hasCredentials()}onClickSubmitButton(){var n=this;return(0,b.Z)(function*(){if(!n.storeCredentialModalTemplate)throw new Error("Store Credential Modal is not available");if(n.isSavingCredentials)return n.password="",void(n.storeCredentialModalRef=n.modalService.show(n.storeCredentialModalTemplate,{backdrop:"static",keyboard:!1}));yield n.onSubmitCredential()})()}onSaveCredentials(){var n=this;return(0,b.Z)(function*(){n.isProcessing=!0,yield n.credentialManagerService.storeCredentials(n.credentials,n.password),yield n.onSubmitCredential(),n.storeCredentialModalRef?.hide(),n.isProcessing=!1})()}sanitizeAndParseURL(n){const e=this.sanitizer.sanitize(un.URL,n);if(null==e||e.startsWith("unsafe:"))throw new Error(`Provided Canvas URL (${n}) can't be sanitized.`);const i=new URL(e);return i.protocol="https:",i.origin}onSubmitCredential(){var n=this;return(0,b.Z)(function*(){try{n.credentials.canvasURL=n.sanitizeAndParseURL(n.credentials.canvasURL)}catch(r){return void(yield n.modalManagerService.createNotificationModal(Po.serailize(r),"Canvas URL Error"))}const e=yield n.canvasService.configureCredential(n.credentials.canvasURL,n.credentials.canvasAccessToken),i=yield n.qualtricsService.configureCredential(n.credentials.qualtricsDataCenter,n.credentials.qualtricsClientID,n.credentials.qualtricsClientSecret);if(null==e&&null==i)return n.credentials=new xx,void n.router.navigate(["/select-course"]);{const r=[];null!=e&&(r.push("Provided Canvas credentials are invalid. Error Message:"),r.push(Po.serailize(e))),null!=i&&(0!=r.length&&r.push(""),r.push("Provided Qualtrics credentials are invalid. Error Message:"),r.push(Po.serailize(i))),n.canvasService.clearCredential(),n.qualtricsService.clearCredential(),yield n.modalManagerService.createNotificationModal(r.join("\n"),"Error")}})()}}ro.CREDENTIALS_FORM_ITEM_INFO_MAP={canvasURL:new $s("canvasURL","Canvas URL","url","https://canvas.instructure.com",'The URL you use to access your Canvas instance. \nPlease remove the "/" character at the end of the URL if there is one. \nExample: https://canvas.eee.uci.edu'),canvasAccessToken:new $s("canvasAccessToken","Canvas Access Token","password","",'Please click your avatar on the left sidebar in Canvas and then click "Settings." \nIn the page you are redirected to, please scroll down until you see a "New Access Token" button in a section named "Approved Integrations." \nPlease click that button and follow the instruction to create a new access token, copy it, and then paste it here. \nExample: 1081~prKixoT8pyE04DPBIgmTod2IhyVTNUj7aVhazDI3UKbwt314ha31c6YXgxCpnOxH'),qualtricsDataCenter:new $s("qualtricsDataCenter","Qualtrics Data Center","text","",'Please access the Account Settings page on Qualtrics and click the "Qualtrics IDs" tab. \nThe value of "Datacenter ID" under the "User" table is what you want. \nExample: iad1'),qualtricsClientID:new $s("qualtricsClientID","Qualtrics Client ID","text","",'Please access the Account Settings page on Qualtrics and click the "Qualtrics IDs" tab. \nAfter that, clicks "OAuth Client Manager" tab. Press the "New Client" button. \nPlease follow the instruction to create a new client. \nToken ATM *requires* two permissions: read:survey_responses and read:users. \nAfter creation, please copy & paste the Client ID and the Client Secret that pop up. \nExample: m2fdch523fe62h7ds896b06587fhn650'),qualtricsClientSecret:new $s("qualtricsClientSecret","Qualtrics Client Secret","password","","Please see the tooltip for the Qualtris Client ID for more information. \nPlease note that you can no longer access the Client Secret again once you close the window that pops up after the creation. You will need to create a new Client in that case. \nExample: ye8gf6hGdscTFPn3zVs4Z3YI0amMk2zbccx2KJbhKv0JFrbsKFiOKPvctMYP6UjT")},ro.CREDENTIALS_ID_LIST=["canvasURL","canvasAccessToken","qualtricsDataCenter","qualtricsClientID","qualtricsClientSecret"],ro.\u0275fac=function(n){return new(n||ro)(D(Rn),D(vm),D(Qee),D(Yi),D(Gr),D(Fo),D(c1))},ro.\u0275cmp=He({type:ro,selectors:[["app-login"]],viewQuery:function(n,e){if(1&n&&(he(Kee,5),he(Jee,5)),2&n){let i;ue(i=ce())&&(e.retrieveCredentialModalTemplate=i.first),ue(i=ce())&&(e.storeCredentialModalTemplate=i.first)}},decls:20,vars:2,consts:[["appCenter",""],[1,"container","text-center"],[1,"text-primary"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center"],["type","checkbox","name","isSavingCredentials","id","checkSaveCredentials",3,"ngModel","ngModelChange"],["for","checkSaveCredentials",1,"ms-2"],["type","button",1,"btn","btn-primary",3,"click"],["type","button","target","_blank",1,"btn","btn-secondary","mt-5",3,"click"],["retrieveCredentialModal",""],["storeCredentialModal",""],[3,"info","data","dataChange"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],[1,"modal-body"],["class","text-danger",4,"ngIf"],[1,"modal-footer"],[1,"d-flex","flex-grow-1"],["type","button",1,"btn","btn-outline-secondary","me-2",3,"disabled","click"],["type","button",1,"btn","btn-danger","me-auto",3,"disabled","click"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[1,"text-danger"],["type","button",1,"btn","btn-outline-secondary","me-auto",3,"disabled","click"]],template:function(n,e){1&n&&(_(0,"div",0)(1,"div",1)(2,"h1",2),S(3,"Welcome to Token ATM"),g(),_(4,"p"),S(5,"Please provide your login credentials"),g(),_(6,"form"),V(7,Xee,2,2,"ng-container",3),_(8,"div",4)(9,"input",5),F("ngModelChange",function(r){return e.isSavingCredentials=r}),g(),_(10,"label",6),S(11,"Save credentials"),g()(),_(12,"button",7),F("click",function(){return e.onClickSubmitButton()}),S(13,"Login"),g()(),_(14,"button",8),F("click",function(){return e.openLink()}),S(15," Having trouble finding your credentials? "),g()()(),V(16,tte,15,6,"ng-template",null,9,pr),V(18,ite,13,5,"ng-template",null,10,pr)),2&n&&(m(7),y("ngForOf",e.getCredentialIDList()),m(2),y("ngModel",e.isSavingCredentials))},dependencies:[Ei,Jt,J1,hv,Er,V1,_r,up,ga,vA]});const iC=t=>!(!Ct(vm).hasCredentialConfigured()||!Ct(Rn).hasCredentialConfigured())||function xY(t,n,e=null,i=null){return function FE(t,n,e,i){let r=t;for(;r.parent;)r=r.parent;if(0===n.length)return wu(r,r,r,e,i);const s=PE(n);if(s.toRoot())return wu(r,r,new bt([],{}),e,i);const o=function NY(t,n,e){if(t.isAbsolute)return new Cu(n,!0,0);if(!e)return new Cu(n,!1,NaN);if(null===e.parent)return new Cu(e,!0,0);const i=gd(t.commands[0])?0:1;return VE(e,e.segments.length-1+i,t.numberOfDoubleDots)}(s,r,t),a=o.processChildren?Du(o.segmentGroup,o.index,s.commands):jv(o.segmentGroup,o.index,s.commands);return wu(r,o.segmentGroup,a,e,i)}(function xE(t){let n;const r=Hv(function e(s){const o={};for(const l of s.children){const u=e(l);o[l.outlet]=u}const a=new bt(s.url,o);return s===t&&(n=a),a}(t.root));return n??r}(t),n,e,i)}(t,["/","login"]),rte=[{path:"login",component:ro},{path:"dashboard",component:Zee,children:function jee(){return[...Rx.map(t=>({...t,name:void 0,isDev:void 0,hidden:void 0})),{path:"",redirectTo:"process-request",pathMatch:"full"}]}(),canActivate:[iC],canActivateChild:[iC]},{path:"select-course",component:q8,canActivate:[iC]},{path:"",pathMatch:"full",redirectTo:"/login"}];let ste=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=_i({type:t}),t.\u0275inj=ai({imports:[MO.forRoot(rte),MO]}),t})(),ote=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(e,i){1&e&&Se(0,"router-outlet")},dependencies:[Dp]}),t})();function Fx(t){return new U(3e3,!1)}function $te(){return typeof window<"u"&&typeof window.document<"u"}function rC(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function ka(t){switch(t.length){case 0:return new cf;case 1:return t[0];default:return new nx(t)}}function Nx(t,n,e,i,r=new Map,s=new Map){const o=[],a=[];let l=-1,u=null;if(i.forEach(c=>{const d=c.get("offset"),f=d==l,h=f&&u||new Map;c.forEach((p,v)=>{let M=v,I=p;if("offset"!==v)switch(M=n.normalizePropertyName(M,o),I){case jw:I=r.get(v);break;case zo:I=s.get(v);break;default:I=n.normalizeStyleValue(v,M,I,o)}h.set(M,I)}),f||a.push(h),u=h,l=d}),o.length)throw function Ote(t){return new U(3502,!1)}();return a}function sC(t,n,e,i){switch(n){case"start":t.onStart(()=>i(e&&oC(e,"start",t)));break;case"done":t.onDone(()=>i(e&&oC(e,"done",t)));break;case"destroy":t.onDestroy(()=>i(e&&oC(e,"destroy",t)))}}function oC(t,n,e){const s=aC(t.element,t.triggerName,t.fromState,t.toState,n||t.phaseName,e.totalTime??t.totalTime,!!e.disabled),o=t._data;return null!=o&&(s._data=o),s}function aC(t,n,e,i,r="",s=0,o){return{element:t,triggerName:n,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function Pr(t,n,e){let i=t.get(n);return i||t.set(n,i=e),i}function Lx(t){const n=t.indexOf(":");return[t.substring(1,n),t.slice(n+1)]}let lC=(t,n)=>!1,Px=(t,n,e)=>[],Vx=null;function uC(t){const n=t.parentNode||t.host;return n===Vx?null:n}(rC()||typeof Element<"u")&&($te()?(Vx=(()=>document.documentElement)(),lC=(t,n)=>{for(;n;){if(n===t)return!0;n=uC(n)}return!1}):lC=(t,n)=>t.contains(n),Px=(t,n,e)=>{if(e)return Array.from(t.querySelectorAll(n));const i=t.querySelector(n);return i?[i]:[]});let yl=null,Bx=!1;const Hx=lC,$x=Px;let jx=(()=>{class t{validateStyleProperty(e){return function Ute(t){yl||(yl=function Yte(){return typeof document<"u"?document.body:null}()||{},Bx=!!yl.style&&"WebkitAppearance"in yl.style);let n=!0;return yl.style&&!function jte(t){return"ebkit"==t.substring(1,6)}(t)&&(n=t in yl.style,!n&&Bx&&(n="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in yl.style)),n}(e)}matchesElement(e,i){return!1}containsElement(e,i){return Hx(e,i)}getParentElement(e){return uC(e)}query(e,i,r){return $x(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,o,a=[],l){return new cf(r,s)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})(),cC=(()=>{class t{}return t.NOOP=new jx,t})();const zte=1e3,dC="ng-enter",Wm="ng-leave",Gm="ng-trigger",Zm=".ng-trigger",Yx="ng-animating",fC=".ng-animating";function Wo(t){if("number"==typeof t)return t;const n=t.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:hC(parseFloat(n[1]),n[2])}function hC(t,n){return"s"===n?t*zte:t}function Qm(t,n,e){return t.hasOwnProperty("duration")?t:function Wte(t,n,e){let r,s=0,o="";if("string"==typeof t){const a=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return n.push(Fx()),{duration:0,delay:0,easing:""};r=hC(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=hC(parseFloat(l),a[4]));const u=a[5];u&&(o=u)}else r=t;if(!e){let a=!1,l=n.length;r<0&&(n.push(function ate(){return new U(3100,!1)}()),a=!0),s<0&&(n.push(function lte(){return new U(3101,!1)}()),a=!0),a&&n.splice(l,0,Fx())}return{duration:r,delay:s,easing:o}}(t,n,e)}function _f(t,n={}){return Object.keys(t).forEach(e=>{n[e]=t[e]}),n}function zx(t){const n=new Map;return Object.keys(t).forEach(e=>{n.set(e,t[e])}),n}function Ma(t,n=new Map,e){if(e)for(let[i,r]of e)n.set(i,r);for(let[i,r]of t)n.set(i,r);return n}function Wx(t,n,e){return e?n+":"+e+";":""}function Gx(t){let n="";for(let e=0;e<t.style.length;e++){const i=t.style.item(e);n+=Wx(0,i,t.style.getPropertyValue(i))}for(const e in t.style)t.style.hasOwnProperty(e)&&!e.startsWith("_")&&(n+=Wx(0,Kte(e),t.style[e]));t.setAttribute("style",n)}function so(t,n,e){t.style&&(n.forEach((i,r)=>{const s=mC(r);e&&!e.has(r)&&e.set(r,t.style[s]),t.style[s]=i}),rC()&&Gx(t))}function vl(t,n){t.style&&(n.forEach((e,i)=>{const r=mC(i);t.style[r]=""}),rC()&&Gx(t))}function gf(t){return Array.isArray(t)?1==t.length?t[0]:XR(t):t}const pC=new RegExp("{{\\s*(.+?)\\s*}}","g");function Zx(t){let n=[];if("string"==typeof t){let e;for(;e=pC.exec(t);)n.push(e[1]);pC.lastIndex=0}return n}function yf(t,n,e){const i=t.toString(),r=i.replace(pC,(s,o)=>{let a=n[o];return null==a&&(e.push(function cte(t){return new U(3003,!1)}()),a=""),a.toString()});return r==i?t:r}function Km(t){const n=[];let e=t.next();for(;!e.done;)n.push(e.value),e=t.next();return n}const Qte=/-+([a-z0-9])/g;function mC(t){return t.replace(Qte,(...n)=>n[1].toUpperCase())}function Kte(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Vr(t,n,e){switch(n.type){case 7:return t.visitTrigger(n,e);case 0:return t.visitState(n,e);case 1:return t.visitTransition(n,e);case 2:return t.visitSequence(n,e);case 3:return t.visitGroup(n,e);case 4:return t.visitAnimate(n,e);case 5:return t.visitKeyframes(n,e);case 6:return t.visitStyle(n,e);case 8:return t.visitReference(n,e);case 9:return t.visitAnimateChild(n,e);case 10:return t.visitAnimateRef(n,e);case 11:return t.visitQuery(n,e);case 12:return t.visitStagger(n,e);default:throw function dte(t){return new U(3004,!1)}()}}function Qx(t,n){return window.getComputedStyle(t)[n]}const e_="*";function ine(t,n){const e=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(i=>function rne(t,n,e){if(":"==t[0]){const l=function sne(t,n){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return n.push(function kte(t){return new U(3016,!1)}()),"* => *"}}(t,e);if("function"==typeof l)return void n.push(l);t=l}const i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function Tte(t){return new U(3015,!1)}()),n;const r=i[1],s=i[2],o=i[3];n.push(Kx(r,o));"<"==s[0]&&!(r==e_&&o==e_)&&n.push(Kx(o,r))}(i,e,n)):e.push(t),e}const t_=new Set(["true","1"]),n_=new Set(["false","0"]);function Kx(t,n){const e=t_.has(t)||n_.has(t),i=t_.has(n)||n_.has(n);return(r,s)=>{let o=t==e_||t==r,a=n==e_||n==s;return!o&&e&&"boolean"==typeof r&&(o=r?t_.has(t):n_.has(t)),!a&&i&&"boolean"==typeof s&&(a=s?t_.has(n):n_.has(n)),o&&a}}const one=new RegExp("s*:selfs*,?","g");function _C(t,n,e,i){return new ane(t).build(n,e,i)}class ane{constructor(n){this._driver=n}build(n,e,i){const r=new cne(e);return this._resetContextStyleTimingState(r),Vr(this,gf(n),r)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles=new Map,n.collectedStyles.set("",new Map),n.currentTime=0}visitTrigger(n,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],o=[];return"@"==n.name.charAt(0)&&e.errors.push(function hte(){return new U(3006,!1)}()),n.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const l=a,u=l.name;u.toString().split(/\s*,\s*/).forEach(c=>{l.name=c,s.push(this.visitState(l,e))}),l.name=u}else if(1==a.type){const l=this.visitTransition(a,e);i+=l.queryCount,r+=l.depCount,o.push(l)}else e.errors.push(function pte(){return new U(3007,!1)}())}),{type:7,name:n.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(n,e){const i=this.visitStyle(n.styles,e),r=n.options&&n.options.params||null;if(i.containsDynamicStyles){const s=new Set,o=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{Zx(l).forEach(u=>{o.hasOwnProperty(u)||s.add(u)})})}),s.size&&(Km(s.values()),e.errors.push(function mte(t,n){return new U(3008,!1)}()))}return{type:0,name:n.name,style:i,options:r?{params:r}:null}}visitTransition(n,e){e.queryCount=0,e.depCount=0;const i=Vr(this,gf(n.animation),e);return{type:1,matchers:ine(n.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:bl(n.options)}}visitSequence(n,e){return{type:2,steps:n.steps.map(i=>Vr(this,i,e)),options:bl(n.options)}}visitGroup(n,e){const i=e.currentTime;let r=0;const s=n.steps.map(o=>{e.currentTime=i;const a=Vr(this,o,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:3,steps:s,options:bl(n.options)}}visitAnimate(n,e){const i=function fne(t,n){if(t.hasOwnProperty("duration"))return t;if("number"==typeof t)return gC(Qm(t,n).duration,0,"");const e=t;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=gC(0,0,"");return s.dynamic=!0,s.strValue=e,s}const r=Qm(e,n);return gC(r.duration,r.delay,r.easing)}(n.timings,e.errors);e.currentAnimateTimings=i;let r,s=n.styles?n.styles:rs({});if(5==s.type)r=this.visitKeyframes(s,e);else{let o=n.styles,a=!1;if(!o){a=!0;const u={};i.easing&&(u.easing=i.easing),o=rs(u)}e.currentTime+=i.duration+i.delay;const l=this.visitStyle(o,e);l.isEmptyStep=a,r=l}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(n,e){const i=this._makeStyleAst(n,e);return this._validateStyleAst(i,e),i}_makeStyleAst(n,e){const i=[],r=Array.isArray(n.styles)?n.styles:[n.styles];for(let a of r)"string"==typeof a?a===zo?i.push(a):e.errors.push(new U(3002,!1)):i.push(zx(a));let s=!1,o=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let l of a.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:o,offset:n.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(n,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),n.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const u=e.collectedStyles.get(e.currentQuerySelector),c=u.get(l);let d=!0;c&&(s!=r&&s>=c.startTime&&r<=c.endTime&&(e.errors.push(function gte(t,n,e,i,r){return new U(3010,!1)}()),d=!1),s=c.startTime),d&&u.set(l,{startTime:s,endTime:r}),e.options&&function Zte(t,n,e){const i=n.params||{},r=Zx(t);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(function ute(t){return new U(3001,!1)}())})}(a,e.options,e.errors)})})}visitKeyframes(n,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function yte(){return new U(3011,!1)}()),i;let s=0;const o=[];let a=!1,l=!1,u=0;const c=n.steps.map(I=>{const q=this._makeStyleAst(I,e);let P=null!=q.offset?q.offset:function dne(t){if("string"==typeof t)return null;let n=null;if(Array.isArray(t))t.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;n=parseFloat(i.get("offset")),i.delete("offset")}});else if(t instanceof Map&&t.has("offset")){const e=t;n=parseFloat(e.get("offset")),e.delete("offset")}return n}(q.styles),oe=0;return null!=P&&(s++,oe=q.offset=P),l=l||oe<0||oe>1,a=a||oe<u,u=oe,o.push(oe),q});l&&e.errors.push(function vte(){return new U(3012,!1)}()),a&&e.errors.push(function bte(){return new U(3200,!1)}());const d=n.steps.length;let f=0;s>0&&s<d?e.errors.push(function wte(){return new U(3202,!1)}()):0==s&&(f=1/(d-1));const h=d-1,p=e.currentTime,v=e.currentAnimateTimings,M=v.duration;return c.forEach((I,q)=>{const P=f>0?q==h?1:f*q:o[q],oe=P*M;e.currentTime=p+v.delay+oe,v.duration=oe,this._validateStyleAst(I,e),I.offset=P,i.styles.push(I)}),i}visitReference(n,e){return{type:8,animation:Vr(this,gf(n.animation),e),options:bl(n.options)}}visitAnimateChild(n,e){return e.depCount++,{type:9,options:bl(n.options)}}visitAnimateRef(n,e){return{type:10,animation:this.visitReference(n.animation,e),options:bl(n.options)}}visitQuery(n,e){const i=e.currentQuerySelector,r=n.options||{};e.queryCount++,e.currentQuery=n;const[s,o]=function lne(t){const n=!!t.split(/\s*,\s*/).find(e=>":self"==e);return n&&(t=t.replace(one,"")),t=t.replace(/@\*/g,Zm).replace(/@\w+/g,e=>Zm+"-"+e.slice(1)).replace(/:animating/g,fC),[t,n]}(n.selector);e.currentQuerySelector=i.length?i+" "+s:s,Pr(e.collectedStyles,e.currentQuerySelector,new Map);const a=Vr(this,gf(n.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:n.selector,options:bl(n.options)}}visitStagger(n,e){e.currentQuery||e.errors.push(function Cte(){return new U(3013,!1)}());const i="full"===n.timings?{duration:0,delay:0,easing:"full"}:Qm(n.timings,e.errors,!0);return{type:12,animation:Vr(this,gf(n.animation),e),timings:i,options:null}}}class cne{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function bl(t){return t?(t=_f(t)).params&&(t.params=function une(t){return t?_f(t):null}(t.params)):t={},t}function gC(t,n,e){return{duration:t,delay:n,easing:e}}function yC(t,n,e,i,r,s,o=null,a=!1){return{type:1,element:t,keyframes:n,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}class i_{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,e){let i=this._map.get(n);i||this._map.set(n,i=[]),i.push(...e)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const mne=new RegExp(":enter","g"),gne=new RegExp(":leave","g");function vC(t,n,e,i,r,s=new Map,o=new Map,a,l,u=[]){return(new yne).buildKeyframes(t,n,e,i,r,s,o,a,l,u)}class yne{buildKeyframes(n,e,i,r,s,o,a,l,u,c=[]){u=u||new i_;const d=new bC(n,e,u,r,s,c,[]);d.options=l;const f=l.delay?Wo(l.delay):0;d.currentTimeline.delayNextStep(f),d.currentTimeline.setStyles([o],null,d.errors,l),Vr(this,i,d);const h=d.timelines.filter(p=>p.containsAnimation());if(h.length&&a.size){let p;for(let v=h.length-1;v>=0;v--){const M=h[v];if(M.element===e){p=M;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,l)}return h.length?h.map(p=>p.buildKeyframes()):[yC(e,[],[],[],0,f,"",!1)]}visitTrigger(n,e){}visitState(n,e){}visitTransition(n,e){}visitAnimateChild(n,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(n.options),s=e.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&e.transformIntoNewTimeline(o)}e.previousNode=n}visitAnimateRef(n,e){const i=e.createSubContext(n.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([n.options,n.animation.options],e,i),this.visitReference(n.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=n}_applyAnimationRefDelays(n,e,i){for(const r of n){const s=r?.delay;if(s){const o="number"==typeof s?s:Wo(yf(s,r?.params??{},e.errors));i.delayNextStep(o)}}}_visitSubInstructions(n,e,i){let s=e.currentTimeline.currentTime;const o=null!=i.duration?Wo(i.duration):null,a=null!=i.delay?Wo(i.delay):null;return 0!==o&&n.forEach(l=>{const u=e.appendInstructionToTimeline(l,o,a);s=Math.max(s,u.duration+u.delay)}),s}visitReference(n,e){e.updateOptions(n.options,!0),Vr(this,n.animation,e),e.previousNode=n}visitSequence(n,e){const i=e.subContextCount;let r=e;const s=n.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=r_);const o=Wo(s.delay);r.delayNextStep(o)}n.steps.length&&(n.steps.forEach(o=>Vr(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=n}visitGroup(n,e){const i=[];let r=e.currentTimeline.currentTime;const s=n.options&&n.options.delay?Wo(n.options.delay):0;n.steps.forEach(o=>{const a=e.createSubContext(n.options);s&&a.delayNextStep(s),Vr(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>e.currentTimeline.mergeTimelineCollectedStyles(o)),e.transformIntoNewTimeline(r),e.previousNode=n}_visitTiming(n,e){if(n.dynamic){const i=n.strValue;return Qm(e.params?yf(i,e.params,e.errors):i,e.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,e){const i=e.currentAnimateTimings=this._visitTiming(n.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=n.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=n}visitStyle(n,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||n.easing;n.isEmptyStep?i.applyEmptyStep(s):i.setStyles(n.styles,s,e.errors,e.options),e.previousNode=n}visitKeyframes(n,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,n.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+s),e.previousNode=n}visitQuery(n,e){const i=e.currentTimeline.currentTime,r=n.options||{},s=r.delay?Wo(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=r_);let o=i;const a=e.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((u,c)=>{e.currentQueryIndex=c;const d=e.createSubContext(n.options,u);s&&d.delayNextStep(s),u===e.element&&(l=d.currentTimeline),Vr(this,n.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=n}visitStagger(n,e){const i=e.parentContext,r=e.currentTimeline,s=n.timings,o=Math.abs(s.duration),a=o*(e.currentQueryTotal-1);let l=o*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const c=e.currentTimeline;l&&c.delayNextStep(l);const d=c.currentTime;Vr(this,n.animation,e),e.previousNode=n,i.currentStaggerTime=r.currentTime-d+(r.startTime-i.currentTimeline.startTime)}}const r_={};class bC{constructor(n,e,i,r,s,o,a,l){this._driver=n,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=r_,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new s_(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,e){if(!n)return;const i=n;let r=this.options;null!=i.duration&&(r.duration=Wo(i.duration)),null!=i.delay&&(r.delay=Wo(i.delay));const s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!e||!o.hasOwnProperty(a))&&(o[a]=yf(s[a],o,this.errors))})}}_copyOptions(){const n={};if(this.options){const e=this.options.params;if(e){const i=n.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return n}createSubContext(n=null,e,i){const r=e||this.element,s=new bC(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(n),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(n){return this.previousNode=r_,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,e,i){const r={duration:e??n.duration,delay:this.currentTimeline.currentTime+(i??0)+n.delay,easing:""},s=new vne(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,r,n.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,e,i,r,s,o){let a=[];if(r&&a.push(this.element),n.length>0){n=(n=n.replace(mne,"."+this._enterClassName)).replace(gne,"."+this._leaveClassName);let u=this._driver.query(this.element,n,1!=i);0!==i&&(u=i<0?u.slice(u.length+i,u.length):u.slice(0,i)),a.push(...u)}return!s&&0==a.length&&o.push(function Dte(t){return new U(3014,!1)}()),a}}class s_{constructor(n,e,i,r){this._driver=n,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+n),e&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,e){return this.applyStylesToKeyframe(),new s_(this._driver,n,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,e){this._localTimelineStyles.set(n,e),this._globalTimelineStyles.set(n,e),this._styleSummary.set(n,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&this._previousKeyframe.set("easing",n);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||zo),this._currentKeyframe.set(e,zo);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,e,i,r){e&&this._previousKeyframe.set("easing",e);const s=r&&r.params||{},o=function bne(t,n){const e=new Map;let i;return t.forEach(r=>{if("*"===r){i=i||n.keys();for(let s of i)e.set(s,zo)}else Ma(r,e)}),e}(n,this._globalTimelineStyles);for(let[a,l]of o){const u=yf(l,s,i);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??zo),this._updateStyle(a,u)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((n,e)=>{this._currentKeyframe.set(e,n)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((n,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,n)}))}snapshotCurrentStyles(){for(let[n,e]of this._localTimelineStyles)this._pendingStyles.set(n,e),this._updateStyle(n,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let e in this._currentKeyframe)n.push(e);return n}mergeTimelineCollectedStyles(n){n._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const u=Ma(a,new Map,this._backFill);u.forEach((c,d)=>{c===jw?n.add(d):c===zo&&e.add(d)}),i||u.set("offset",l/this.duration),r.push(u)});const s=n.size?Km(n.values()):[],o=e.size?Km(e.values()):[];if(i){const a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return yC(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}}class vne extends s_{constructor(n,e,i,r,s,o,a=!1){super(n,e,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],o=i+e,a=e/o,l=Ma(n[0]);l.set("offset",0),s.push(l);const u=Ma(n[0]);u.set("offset",eF(a)),s.push(u);const c=n.length-1;for(let d=1;d<=c;d++){let f=Ma(n[d]);const h=f.get("offset");f.set("offset",eF((e+h*i)/o)),s.push(f)}i=o,e=0,r="",n=s}return yC(this.element,n,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function eF(t,n=3){const e=Math.pow(10,n-1);return Math.round(t*e)/e}class wC{}const wne=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Cne extends wC{normalizePropertyName(n,e){return mC(n)}normalizeStyleValue(n,e,i,r){let s="";const o=i.toString().trim();if(wne.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function fte(t,n){return new U(3005,!1)}())}return o+s}}function tF(t,n,e,i,r,s,o,a,l,u,c,d,f){return{type:0,element:t,triggerName:n,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:u,postStyleProps:c,totalTime:d,errors:f}}const CC={};class nF{constructor(n,e,i){this._triggerName=n,this.ast=e,this._stateStyles=i}match(n,e,i,r){return function Dne(t,n,e,i,r){return t.some(s=>s(n,e,i,r))}(this.ast.matchers,n,e,i,r)}buildStyles(n,e,i){let r=this._stateStyles.get("*");return void 0!==n&&(r=this._stateStyles.get(n?.toString())||r),r?r.buildStyles(e,i):new Map}build(n,e,i,r,s,o,a,l,u,c){const d=[],f=this.ast.options&&this.ast.options.params||CC,p=this.buildStyles(i,a&&a.params||CC,d),v=l&&l.params||CC,M=this.buildStyles(r,v,d),I=new Set,q=new Map,P=new Map,oe="void"===r,tt={params:Tne(v,f),delay:this.ast.options?.delay},rt=c?[]:vC(n,e,this.ast.animation,s,o,p,M,tt,u,d);let dn=0;if(rt.forEach(xi=>{dn=Math.max(xi.duration+xi.delay,dn)}),d.length)return tF(e,this._triggerName,i,r,oe,p,M,[],[],q,P,dn,d);rt.forEach(xi=>{const Fi=xi.element,Fn=Pr(q,Fi,new Set);xi.preStyleProps.forEach(Ni=>Fn.add(Ni));const Ci=Pr(P,Fi,new Set);xi.postStyleProps.forEach(Ni=>Ci.add(Ni)),Fi!==e&&I.add(Fi)});const Qi=Km(I.values());return tF(e,this._triggerName,i,r,oe,p,M,rt,Qi,q,P,dn)}}function Tne(t,n){const e=_f(n);for(const i in t)t.hasOwnProperty(i)&&null!=t[i]&&(e[i]=t[i]);return e}class kne{constructor(n,e,i){this.styles=n,this.defaultParams=e,this.normalizer=i}buildStyles(n,e){const i=new Map,r=_f(this.defaultParams);return Object.keys(n).forEach(s=>{const o=n[s];null!==o&&(r[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=yf(o,r,e));const l=this.normalizer.normalizePropertyName(a,e);o=this.normalizer.normalizeStyleValue(a,l,o,e),i.set(a,o)})}),i}}class Sne{constructor(n,e,i){this.name=n,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new kne(r.style,r.options&&r.options.params||{},i))}),iF(this.states,"true","1"),iF(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new nF(n,r,this.states))}),this.fallbackTransition=function Ene(t,n,e){return new nF(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,e,i,r){return this.transitionFactories.find(o=>o.match(n,e,i,r))||null}matchStyles(n,e,i){return this.fallbackTransition.buildStyles(n,e,i)}}function iF(t,n,e){t.has(n)?t.has(e)||t.set(e,t.get(n)):t.has(e)&&t.set(n,t.get(e))}const One=new i_;class Ine{constructor(n,e,i){this.bodyNode=n,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(n,e){const i=[],r=[],s=_C(this._driver,e,i,r);if(i.length)throw function Ite(t){return new U(3503,!1)}();this._animations.set(n,s)}_buildPlayer(n,e,i){const r=n.element,s=Nx(0,this._normalizer,0,n.keyframes,e,i);return this._driver.animate(r,s,n.duration,n.delay,n.easing,[],!0)}create(n,e,i={}){const r=[],s=this._animations.get(n);let o;const a=new Map;if(s?(o=vC(this._driver,e,s,dC,Wm,new Map,new Map,i,One,r),o.forEach(c=>{const d=Pr(a,c.element,new Map);c.postStyleProps.forEach(f=>d.set(f,null))})):(r.push(function Ate(){return new U(3300,!1)}()),o=[]),r.length)throw function Rte(t){return new U(3504,!1)}();a.forEach((c,d)=>{c.forEach((f,h)=>{c.set(h,this._driver.computeStyle(d,h,zo))})});const u=ka(o.map(c=>{const d=a.get(c.element);return this._buildPlayer(c,new Map,d)}));return this._playersById.set(n,u),u.onDestroy(()=>this.destroy(n)),this.players.push(u),u}destroy(n){const e=this._getPlayer(n);e.destroy(),this._playersById.delete(n);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(n){const e=this._playersById.get(n);if(!e)throw function xte(t){return new U(3301,!1)}();return e}listen(n,e,i,r){const s=aC(e,"","","");return sC(this._getPlayer(n),i,s,r),()=>{}}command(n,e,i,r){if("register"==i)return void this.register(n,r[0]);if("create"==i)return void this.create(n,e,r[0]||{});const s=this._getPlayer(n);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(n)}}}const rF="ng-animate-queued",DC="ng-animate-disabled",Nne=[],sF={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Lne={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ss="__ng_removed";class TC{get params(){return this.options.params}constructor(n,e=""){this.namespaceId=e;const i=n&&n.hasOwnProperty("value");if(this.value=function Hne(t){return t??null}(i?n.value:n),i){const s=_f(n);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(n){const e=n.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const vf="void",kC=new TC(vf);class Pne{constructor(n,e,i){this.id=n,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,os(e,this._hostClassName)}listen(n,e,i,r){if(!this._triggers.has(e))throw function Fte(t,n){return new U(3302,!1)}();if(null==i||0==i.length)throw function Nte(t){return new U(3303,!1)}();if(!function $ne(t){return"start"==t||"done"==t}(i))throw function Lte(t,n){return new U(3400,!1)}();const s=Pr(this._elementListeners,n,[]),o={name:e,phase:i,callback:r};s.push(o);const a=Pr(this._engine.statesByElement,n,new Map);return a.has(e)||(os(n,Gm),os(n,Gm+"-"+e),a.set(e,kC)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(e)||a.delete(e)})}}register(n,e){return!this._triggers.has(n)&&(this._triggers.set(n,e),!0)}_getTrigger(n){const e=this._triggers.get(n);if(!e)throw function Pte(t){return new U(3401,!1)}();return e}trigger(n,e,i,r=!0){const s=this._getTrigger(e),o=new MC(this.id,e,n);let a=this._engine.statesByElement.get(n);a||(os(n,Gm),os(n,Gm+"-"+e),this._engine.statesByElement.set(n,a=new Map));let l=a.get(e);const u=new TC(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&u.absorbOptions(l.options),a.set(e,u),l||(l=kC),u.value!==vf&&l.value===u.value){if(!function Yne(t,n){const e=Object.keys(t),i=Object.keys(n);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!n.hasOwnProperty(s)||t[s]!==n[s])return!1}return!0}(l.params,u.params)){const v=[],M=s.matchStyles(l.value,l.params,v),I=s.matchStyles(u.value,u.params,v);v.length?this._engine.reportError(v):this._engine.afterFlush(()=>{vl(n,M),so(n,I)})}return}const f=Pr(this._engine.playersByElement,n,[]);f.forEach(v=>{v.namespaceId==this.id&&v.triggerName==e&&v.queued&&v.destroy()});let h=s.matchTransition(l.value,u.value,n,u.params),p=!1;if(!h){if(!r)return;h=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:e,transition:h,fromState:l,toState:u,player:o,isFallbackTransition:p}),p||(os(n,rF),o.onStart(()=>{oc(n,rF)})),o.onDone(()=>{let v=this.players.indexOf(o);v>=0&&this.players.splice(v,1);const M=this._engine.playersByElement.get(n);if(M){let I=M.indexOf(o);I>=0&&M.splice(I,1)}}),this.players.push(o),f.push(o),o}deregister(n){this._triggers.delete(n),this._engine.statesByElement.forEach(e=>e.delete(n)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const e=this._engine.playersByElement.get(n);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,e){const i=this._engine.driver.query(n,Zm,!0);i.forEach(r=>{if(r[ss])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(n,e,i,r){const s=this._engine.statesByElement.get(n),o=new Map;if(s){const a=[];if(s.forEach((l,u)=>{if(o.set(u,l.value),this._triggers.has(u)){const c=this.trigger(n,u,vf,r);c&&a.push(c)}}),a.length)return this._engine.markElementAsRemoved(this.id,n,!0,e,o),i&&ka(a).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const e=this._elementListeners.get(n),i=this._engine.statesByElement.get(n);if(e&&i){const r=new Set;e.forEach(s=>{const o=s.name;if(r.has(o))return;r.add(o);const l=this._triggers.get(o).fallbackTransition,u=i.get(o)||kC,c=new TC(vf),d=new MC(this.id,o,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:o,transition:l,fromState:u,toState:c,player:d,isFallbackTransition:!0})})}}removeNode(n,e){const i=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,e),this.triggerLeaveAnimation(n,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(n):[];if(s&&s.length)r=!0;else{let o=n;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(n),r)i.markElementAsRemoved(this.id,n,!1,e);else{const s=n[ss];(!s||s===sF)&&(i.afterFlush(()=>this.clearElementCache(n)),i.destroyInnerAnimations(n),i._onRemovalComplete(n,e))}}insertNode(n,e){os(n,this._hostClassName)}drainQueuedTransitions(n){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==i.triggerName){const l=aC(s,i.triggerName,i.fromState.value,i.toState.value);l._data=n,sC(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,o=r.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(n){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}elementContainsData(n){let e=!1;return this._elementListeners.has(n)&&(e=!0),e=!!this._queue.find(i=>i.element===n)||e,e}}class Vne{_onRemovalComplete(n,e){this.onRemovalComplete(n,e)}constructor(n,e,i){this.bodyNode=n,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){const n=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&n.push(i)})}),n}createNamespace(n,e){const i=new Pne(n,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[n]=i}_balanceNamespaceList(n,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,a=this.driver.getParentElement(e);for(;a;){const l=r.get(a);if(l){const u=i.indexOf(l);i.splice(u+1,0,n),o=!0;break}a=this.driver.getParentElement(a)}o||i.unshift(n)}else i.push(n);return r.set(e,n),n}register(n,e){let i=this._namespaceLookup[n];return i||(i=this.createNamespace(n,e)),i}registerTrigger(n,e,i){let r=this._namespaceLookup[n];r&&r.register(e,i)&&this.totalAnimations++}destroy(n,e){if(!n)return;const i=this._fetchNamespace(n);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[n];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const e=new Set,i=this.statesByElement.get(n);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&e.add(s)}return e}trigger(n,e,i,r){if(o_(e)){const s=this._fetchNamespace(n);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(n,e,i,r){if(!o_(e))return;const s=e[ss];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(n){const o=this._fetchNamespace(n);o&&o.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,e){e?this.disabledNodes.has(n)||(this.disabledNodes.add(n),os(n,DC)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),oc(n,DC))}removeNode(n,e,i,r){if(o_(e)){const s=n?this._fetchNamespace(n):null;if(s?s.removeNode(e,r):this.markElementAsRemoved(n,e,!1,r),i){const o=this.namespacesByHostElement.get(e);o&&o.id!==n&&o.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(n,e,i,r,s){this.collectedLeaveElements.push(e),e[ss]={namespaceId:n,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(n,e,i,r,s){return o_(e)?this._fetchNamespace(n).listen(e,i,r,s):()=>{}}_buildInstruction(n,e,i,r,s){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,i,r,n.fromState.options,n.toState.options,e,s)}destroyInnerAnimations(n){let e=this.driver.query(n,Zm,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(n,fC,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(n){const e=this.playersByElement.get(n);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(n){const e=this.playersByQueriedElement.get(n);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return ka(this.players).onDone(()=>n());n()})}processLeaveNode(n){const e=n[ss];if(e&&e.setForRemoval){if(n[ss]=sF,e.namespaceId){this.destroyInnerAnimations(n);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(n)}this._onRemovalComplete(n,e.setForRemoval)}n.classList?.contains(DC)&&this.markElementAsDisabled(n,!1),this.driver.query(n,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(n=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)os(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,n)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?ka(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(n){throw function Vte(t){return new U(3402,!1)}()}_flushAnimations(n,e){const i=new i_,r=[],s=new Map,o=[],a=new Map,l=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(ye=>{c.add(ye);const Be=this.driver.query(ye,".ng-animate-queued",!0);for(let nt=0;nt<Be.length;nt++)c.add(Be[nt])});const d=this.bodyNode,f=Array.from(this.statesByElement.keys()),h=lF(f,this.collectedEnterElements),p=new Map;let v=0;h.forEach((ye,Be)=>{const nt=dC+v++;p.set(Be,nt),ye.forEach(Bt=>os(Bt,nt))});const M=[],I=new Set,q=new Set;for(let ye=0;ye<this.collectedLeaveElements.length;ye++){const Be=this.collectedLeaveElements[ye],nt=Be[ss];nt&&nt.setForRemoval&&(M.push(Be),I.add(Be),nt.hasAnimation?this.driver.query(Be,".ng-star-inserted",!0).forEach(Bt=>I.add(Bt)):q.add(Be))}const P=new Map,oe=lF(f,Array.from(I));oe.forEach((ye,Be)=>{const nt=Wm+v++;P.set(Be,nt),ye.forEach(Bt=>os(Bt,nt))}),n.push(()=>{h.forEach((ye,Be)=>{const nt=p.get(Be);ye.forEach(Bt=>oc(Bt,nt))}),oe.forEach((ye,Be)=>{const nt=P.get(Be);ye.forEach(Bt=>oc(Bt,nt))}),M.forEach(ye=>{this.processLeaveNode(ye)})});const tt=[],rt=[];for(let ye=this._namespaceList.length-1;ye>=0;ye--)this._namespaceList[ye].drainQueuedTransitions(e).forEach(nt=>{const Bt=nt.player,Di=nt.element;if(tt.push(Bt),this.collectedEnterElements.length){const Ji=Di[ss];if(Ji&&Ji.setForMove){if(Ji.previousTriggersValues&&Ji.previousTriggersValues.has(nt.triggerName)){const wl=Ji.previousTriggersValues.get(nt.triggerName),as=this.statesByElement.get(nt.element);if(as&&as.has(nt.triggerName)){const u_=as.get(nt.triggerName);u_.value=wl,as.set(nt.triggerName,u_)}}return void Bt.destroy()}}const ao=!d||!this.driver.containsElement(d,Di),Br=P.get(Di),Sa=p.get(Di),Nn=this._buildInstruction(nt,i,Sa,Br,ao);if(Nn.errors&&Nn.errors.length)return void rt.push(Nn);if(ao)return Bt.onStart(()=>vl(Di,Nn.fromStyles)),Bt.onDestroy(()=>so(Di,Nn.toStyles)),void r.push(Bt);if(nt.isFallbackTransition)return Bt.onStart(()=>vl(Di,Nn.fromStyles)),Bt.onDestroy(()=>so(Di,Nn.toStyles)),void r.push(Bt);const gF=[];Nn.timelines.forEach(Ji=>{Ji.stretchStartingKeyframe=!0,this.disabledNodes.has(Ji.element)||gF.push(Ji)}),Nn.timelines=gF,i.append(Di,Nn.timelines),o.push({instruction:Nn,player:Bt,element:Di}),Nn.queriedElements.forEach(Ji=>Pr(a,Ji,[]).push(Bt)),Nn.preStyleProps.forEach((Ji,wl)=>{if(Ji.size){let as=l.get(wl);as||l.set(wl,as=new Set),Ji.forEach((u_,OC)=>as.add(OC))}}),Nn.postStyleProps.forEach((Ji,wl)=>{let as=u.get(wl);as||u.set(wl,as=new Set),Ji.forEach((u_,OC)=>as.add(OC))})});if(rt.length){const ye=[];rt.forEach(Be=>{ye.push(function Bte(t,n){return new U(3505,!1)}())}),tt.forEach(Be=>Be.destroy()),this.reportError(ye)}const dn=new Map,Qi=new Map;o.forEach(ye=>{const Be=ye.element;i.has(Be)&&(Qi.set(Be,Be),this._beforeAnimationBuild(ye.player.namespaceId,ye.instruction,dn))}),r.forEach(ye=>{const Be=ye.element;this._getPreviousPlayers(Be,!1,ye.namespaceId,ye.triggerName,null).forEach(Bt=>{Pr(dn,Be,[]).push(Bt),Bt.destroy()})});const xi=M.filter(ye=>cF(ye,l,u)),Fi=new Map;aF(Fi,this.driver,q,u,zo).forEach(ye=>{cF(ye,l,u)&&xi.push(ye)});const Ci=new Map;h.forEach((ye,Be)=>{aF(Ci,this.driver,new Set(ye),l,jw)}),xi.forEach(ye=>{const Be=Fi.get(ye),nt=Ci.get(ye);Fi.set(ye,new Map([...Array.from(Be?.entries()??[]),...Array.from(nt?.entries()??[])]))});const Ni=[],oo=[],Ki={};o.forEach(ye=>{const{element:Be,player:nt,instruction:Bt}=ye;if(i.has(Be)){if(c.has(Be))return nt.onDestroy(()=>so(Be,Bt.toStyles)),nt.disabled=!0,nt.overrideTotalTime(Bt.totalTime),void r.push(nt);let Di=Ki;if(Qi.size>1){let Br=Be;const Sa=[];for(;Br=Br.parentNode;){const Nn=Qi.get(Br);if(Nn){Di=Nn;break}Sa.push(Br)}Sa.forEach(Nn=>Qi.set(Nn,Di))}const ao=this._buildAnimation(nt.namespaceId,Bt,dn,s,Ci,Fi);if(nt.setRealPlayer(ao),Di===Ki)Ni.push(nt);else{const Br=this.playersByElement.get(Di);Br&&Br.length&&(nt.parentPlayer=ka(Br)),r.push(nt)}}else vl(Be,Bt.fromStyles),nt.onDestroy(()=>so(Be,Bt.toStyles)),oo.push(nt),c.has(Be)&&r.push(nt)}),oo.forEach(ye=>{const Be=s.get(ye.element);if(Be&&Be.length){const nt=ka(Be);ye.setRealPlayer(nt)}}),r.forEach(ye=>{ye.parentPlayer?ye.syncPlayerEvents(ye.parentPlayer):ye.destroy()});for(let ye=0;ye<M.length;ye++){const Be=M[ye],nt=Be[ss];if(oc(Be,Wm),nt&&nt.hasAnimation)continue;let Bt=[];if(a.size){let ao=a.get(Be);ao&&ao.length&&Bt.push(...ao);let Br=this.driver.query(Be,fC,!0);for(let Sa=0;Sa<Br.length;Sa++){let Nn=a.get(Br[Sa]);Nn&&Nn.length&&Bt.push(...Nn)}}const Di=Bt.filter(ao=>!ao.destroyed);Di.length?jne(this,Be,Di):this.processLeaveNode(Be)}return M.length=0,Ni.forEach(ye=>{this.players.push(ye),ye.onDone(()=>{ye.destroy();const Be=this.players.indexOf(ye);this.players.splice(Be,1)}),ye.play()}),Ni}elementContainsData(n,e){let i=!1;const r=e[ss];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(n).elementContainsData(e)||i}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,e,i,r,s){let o=[];if(e){const a=this.playersByQueriedElement.get(n);a&&(o=a)}else{const a=this.playersByElement.get(n);if(a){const l=!s||s==vf;a.forEach(u=>{u.queued||!l&&u.triggerName!=r||o.push(u)})}}return(i||r)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(n,e,i){const s=e.element,o=e.isRemovalTransition?void 0:n,a=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const u=l.element,c=u!==s,d=Pr(i,u,[]);this._getPreviousPlayers(u,c,o,a,e.toState).forEach(h=>{const p=h.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),h.destroy(),d.push(h)})}vl(s,e.fromStyles)}_buildAnimation(n,e,i,r,s,o){const a=e.triggerName,l=e.element,u=[],c=new Set,d=new Set,f=e.timelines.map(p=>{const v=p.element;c.add(v);const M=v[ss];if(M&&M.removedBeforeQueried)return new cf(p.duration,p.delay);const I=v!==l,q=function Une(t){const n=[];return uF(t,n),n}((i.get(v)||Nne).map(dn=>dn.getRealPlayer())).filter(dn=>!!dn.element&&dn.element===v),P=s.get(v),oe=o.get(v),tt=Nx(0,this._normalizer,0,p.keyframes,P,oe),rt=this._buildPlayer(p,tt,q);if(p.subTimeline&&r&&d.add(v),I){const dn=new MC(n,a,v);dn.setRealPlayer(rt),u.push(dn)}return rt});u.forEach(p=>{Pr(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function Bne(t,n,e){let i=t.get(n);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&t.delete(n)}return i}(this.playersByQueriedElement,p.element,p))}),c.forEach(p=>os(p,Yx));const h=ka(f);return h.onDestroy(()=>{c.forEach(p=>oc(p,Yx)),so(l,e.toStyles)}),d.forEach(p=>{Pr(r,p,[]).push(h)}),h}_buildPlayer(n,e,i){return e.length>0?this.driver.animate(n.element,e,n.duration,n.delay,n.easing,i):new cf(n.duration,n.delay)}}class MC{constructor(n,e,i){this.namespaceId=n,this.triggerName=e,this.element=i,this._player=new cf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>sC(n,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const e=this._player;e.triggerCallback&&n.onStart(()=>e.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,e){Pr(this._queuedCallbacks,n,[]).push(e)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const e=this._player;e.triggerCallback&&e.triggerCallback(n)}}function o_(t){return t&&1===t.nodeType}function oF(t,n){const e=t.style.display;return t.style.display=n??"none",e}function aF(t,n,e,i,r){const s=[];e.forEach(l=>s.push(oF(l)));const o=[];i.forEach((l,u)=>{const c=new Map;l.forEach(d=>{const f=n.computeStyle(u,d,r);c.set(d,f),(!f||0==f.length)&&(u[ss]=Lne,o.push(u))}),t.set(u,c)});let a=0;return e.forEach(l=>oF(l,s[a++])),o}function lF(t,n){const e=new Map;if(t.forEach(a=>e.set(a,[])),0==n.length)return e;const i=1,r=new Set(n),s=new Map;function o(a){if(!a)return i;let l=s.get(a);if(l)return l;const u=a.parentNode;return l=e.has(u)?u:r.has(u)?i:o(u),s.set(a,l),l}return n.forEach(a=>{const l=o(a);l!==i&&e.get(l).push(a)}),e}function os(t,n){t.classList?.add(n)}function oc(t,n){t.classList?.remove(n)}function jne(t,n,e){ka(e).onDone(()=>t.processLeaveNode(n))}function uF(t,n){for(let e=0;e<t.length;e++){const i=t[e];i instanceof nx?uF(i.players,n):n.push(i)}}function cF(t,n,e){const i=e.get(t);if(!i)return!1;let r=n.get(t);return r?i.forEach(s=>r.add(s)):n.set(t,i),e.delete(t),!0}class a_{constructor(n,e,i){this.bodyNode=n,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new Vne(n,e,i),this._timelineEngine=new Ine(n,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(n,e,i,r,s){const o=n+"-"+r;let a=this._triggerCache[o];if(!a){const l=[],u=[],c=_C(this._driver,s,l,u);if(l.length)throw function Ete(t,n){return new U(3404,!1)}();a=function Mne(t,n,e){return new Sne(t,n,e)}(r,c,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,r,a)}register(n,e){this._transitionEngine.register(n,e)}destroy(n,e){this._transitionEngine.destroy(n,e)}onInsert(n,e,i,r){this._transitionEngine.insertNode(n,e,i,r)}onRemove(n,e,i,r){this._transitionEngine.removeNode(n,e,r||!1,i)}disableAnimations(n,e){this._transitionEngine.markElementAsDisabled(n,e)}process(n,e,i,r){if("@"==i.charAt(0)){const[s,o]=Lx(i);this._timelineEngine.command(s,e,o,r)}else this._transitionEngine.trigger(n,e,i,r)}listen(n,e,i,r,s){if("@"==i.charAt(0)){const[o,a]=Lx(i);return this._timelineEngine.listen(o,e,a,s)}return this._transitionEngine.listen(n,e,i,r,s)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let qne=(()=>{class t{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=t.initialStylesByElement.get(e);s||t.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&so(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(so(this._element,this._initialStyles),this._endStyles&&(so(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(vl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(vl(this._element,this._endStyles),this._endStyles=null),so(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function SC(t){let n=null;return t.forEach((e,i)=>{(function Wne(t){return"display"===t||"position"===t})(i)&&(n=n||new Map,n.set(i,e))}),n}class dF{constructor(n,e,i,r){this.element=n,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(n){const e=[];return n.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(n,e,i){return n.animate(this._convertKeyframesToObject(e),i)}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&n.set(r,this._finished?i:Qx(this.element,r))}),this.currentSnapshot=n}triggerCallback(n){const e="start"===n?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Gne{validateStyleProperty(n){return!0}validateAnimatableStyleProperty(n){return!0}matchesElement(n,e){return!1}containsElement(n,e){return Hx(n,e)}getParentElement(n){return uC(n)}query(n,e,i){return $x(n,e,i)}computeStyle(n,e,i){return window.getComputedStyle(n)[e]}animate(n,e,i,r,s,o=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(l.easing=s);const u=new Map,c=o.filter(h=>h instanceof dF);(function Jte(t,n){return 0===t||0===n})(i,r)&&c.forEach(h=>{h.currentSnapshot.forEach((p,v)=>u.set(v,p))});let d=function Gte(t){return t.length?t[0]instanceof Map?t:t.map(n=>zx(n)):[]}(e).map(h=>Ma(h));d=function Xte(t,n,e){if(e.size&&n.length){let i=n[0],r=[];if(e.forEach((s,o)=>{i.has(o)||r.push(o),i.set(o,s)}),r.length)for(let s=1;s<n.length;s++){let o=n[s];r.forEach(a=>o.set(a,Qx(t,a)))}}return n}(n,d,u);const f=function zne(t,n){let e=null,i=null;return Array.isArray(n)&&n.length?(e=SC(n[0]),n.length>1&&(i=SC(n[n.length-1]))):n instanceof Map&&(e=SC(n)),e||i?new qne(t,e,i):null}(n,d);return new dF(n,d,l,f)}}let Zne=(()=>{class t extends uf{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:cs.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?XR(e):e;return fF(this._renderer,null,i,"register",[r]),new Qne(i,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(X(La),X(Wn))},t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})();class Qne extends JZ{constructor(n,e){super(),this._id=n,this._renderer=e}create(n,e){return new Kne(this._id,n,e||{},this._renderer)}}class Kne{constructor(n,e,i,r){this.id=n,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(n,e){return this._renderer.listen(this.element,`@@${this.id}:${n}`,e)}_command(n,...e){return fF(this._renderer,this.element,this.id,n,e)}onDone(n){this._listen("done",n)}onStart(n){this._listen("start",n)}onDestroy(n){this._listen("destroy",n)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(n){this._command("setPosition",n)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function fF(t,n,e,i,r){return t.setProperty(n,`@@${e}:${i}`,r)}const hF="@.disabled";let Jne=(()=>{class t{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let c=this._rendererCache.get(s);return c||(c=new pF("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,c)),c}const o=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const l=c=>{Array.isArray(c)?c.forEach(l):this.engine.registerTrigger(o,a,e,c.name,c)};return i.data.animation.forEach(l),new Xne(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(X(La),X(a_),X(pn))},t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})();class pF{constructor(n,e,i,r){this.namespaceId=n,this.delegate=e,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?s=>e.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(n,e){return this.delegate.createElement(n,e)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,e){this.delegate.appendChild(n,e),this.engine.onInsert(this.namespaceId,e,n,!1)}insertBefore(n,e,i,r=!0){this.delegate.insertBefore(n,e,i),this.engine.onInsert(this.namespaceId,e,n,r)}removeChild(n,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(n,e){return this.delegate.selectRootElement(n,e)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,e,i,r){this.delegate.setAttribute(n,e,i,r)}removeAttribute(n,e,i){this.delegate.removeAttribute(n,e,i)}addClass(n,e){this.delegate.addClass(n,e)}removeClass(n,e){this.delegate.removeClass(n,e)}setStyle(n,e,i,r){this.delegate.setStyle(n,e,i,r)}removeStyle(n,e,i){this.delegate.removeStyle(n,e,i)}setProperty(n,e,i){"@"==e.charAt(0)&&e==hF?this.disableAnimations(n,!!i):this.delegate.setProperty(n,e,i)}setValue(n,e){this.delegate.setValue(n,e)}listen(n,e,i){return this.delegate.listen(n,e,i)}disableAnimations(n,e){this.engine.disableAnimations(n,e)}}class Xne extends pF{constructor(n,e,i,r,s){super(e,i,r,s),this.factory=n,this.namespaceId=e}setProperty(n,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==hF?this.disableAnimations(n,i=void 0===i||!!i):this.engine.process(this.namespaceId,n,e.slice(1),i):this.delegate.setProperty(n,e,i)}listen(n,e,i){if("@"==e.charAt(0)){const r=function eie(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(n);let s=e.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function tie(t){const n=t.indexOf(".");return[t.substring(0,n),t.slice(n+1)]}(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(n,e,i)}}let nie=(()=>{class t extends a_{constructor(e,i,r,s){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return t.\u0275fac=function(e){return new(e||t)(X(Wn),X(cC),X(wC),X(mu))},t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})();const mF=[{provide:uf,useClass:Zne},{provide:wC,useFactory:function iie(){return new Cne}},{provide:a_,useClass:nie},{provide:La,useFactory:function rie(t,n,e){return new Jne(t,n,e)},deps:[Jh,a_,pn]}],EC=[{provide:cC,useFactory:()=>new Gne},{provide:BM,useValue:"BrowserAnimations"},...mF],_F=[{provide:cC,useClass:jx},{provide:BM,useValue:"NoopAnimations"},...mF];let sie=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?_F:EC}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=_i({type:t}),t.\u0275inj=ai({providers:EC,imports:[o1]}),t})();class oie{handleError(n){const e=window.open("about:blank","_blank");null!=e?(e.document.open(),e.document.write(`<head><title>Error Report</title></head>\n            <body style="white-space: pre-line; overflow-wrap: anywhere;">An Error occured. Sorry for the inconvenience. <br/>______________<br/>Error Message: ${Po.serailize(n)}</body>`),e.document.close()):console.error("Create error report failed!")}}let aie=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=_i({type:t,bootstrap:[ote]}),t.\u0275inj=ai({providers:[{provide:Pa,useClass:oie},{provide:Sb,useFactory:vW.getAxiosService},...d6.map(n=>({provide:qI,useClass:n,multi:!0})),...xG.map(n=>({provide:TA,useClass:n,multi:!0})),...fG.map(n=>({provide:DA,useClass:n,multi:!0}))],imports:[o1,ste,oY,AX.forRoot(),sie,NX.forRoot(),T8.forRoot(),iJ.forRoot(),JR.forRoot(),wA.forRoot()]}),t})();Wj().bootstrapModule(aie).catch(t=>console.error(t))},590:(Xt,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.config={sort_key:!1}},586:(Xt,j,de)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const Q=de(241),ge=de(902),De=de(636);function Re(N,ae){if(""===ae||"_"===ae)return null;const B=N[ge.decodeKey(ae)];if(null===B)return B;switch(typeof B){case"undefined":case"number":return B;case"string":switch(B[0]+B[1]){case"b|":return ge.decodeBool(B);case"o|":return function ve(N,ae){if("o|"===ae)return{};const Ee={},B=ae.split("|");let ee=Re(N,B[1]);const te=B.length;te-2==1&&!Array.isArray(ee)&&(ee=[ee]);for(let Ne=2;Ne<te;Ne++){const xe=ee[Ne-2];let Ze=B[Ne];Ze=Re(N,Ze),Ee[xe]=Ze}return Ee}(N,B);case"n|":return ge.decodeNum(B);case"a|":return function at(N,ae){if("a|"===ae)return[];const Ee=ae.split("|"),B=Ee.length-1,ie=new Array(B);for(let ee=0;ee<B;ee++){let te=Ee[ee+1];te=Re(N,te),ie[ee]=te}return ie}(N,B);default:return ge.decodeStr(B)}}return Q.throwUnknownDataType(B)}j.compress=function me(N){const ae=De.makeInMemoryMemory(),Ee=De.addValue(ae,N,void 0);return[De.memToValues(ae),Ee]},j.decode=Re,j.decompress=function pe(N){const[ae,Ee]=N;return Re(ae,Ee)}},241:(Xt,j)=>{"use strict";function de(ge){return Object.prototype.toString.call(ge)}Object.defineProperty(j,"__esModule",{value:!0}),j.getType=de,j.throwUnknownDataType=function Q(ge){throw new TypeError("unsupported data type: "+de(ge))}},902:(Xt,j,de)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const Q=de(897);j.encodeNum=function ge(N){return"n|"+Q.num_to_s(N)},j.decodeNum=function De(N){return N=N.replace("n|",""),Q.s_to_num(N)},j.decodeKey=function me(N){return"number"==typeof N?N:Q.s_to_int(N)},j.encodeBool=function ve(N){return N?"b|T":"b|F"},j.decodeBool=function at(N){switch(N){case"b|T":return!0;case"b|F":return!1}return!!N},j.encodeStr=function Re(N){switch(N[0]+N[1]){case"b|":case"o|":case"n|":case"a|":case"s|":N="s|"+N}return N},j.decodeStr=function pe(N){return N[0]+N[1]==="s|"?N.substr(2):N}},944:(Xt,j)=>{"use strict";function ge(De,me){me.add(De);for(const ve in De)if(void 0===De[ve])delete De[ve];else{const at=De[ve];at&&"object"==typeof at&&!me.has(at)&&ge(at,me)}}Object.defineProperty(j,"__esModule",{value:!0}),j.trimUndefined=function de(De){for(const me in De)void 0===De[me]&&delete De[me]},j.trimUndefinedRecursively=function Q(De){ge(De,new Set)}},667:(Xt,j,de)=>{"use strict";var ge=de(586);j.nN=ge.compress,j.Lj=ge.decompress,de(586),de(636);de(944)},636:(Xt,j,de)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const Q=de(590),ge=de(241),De=de(902),me=de(897);function at(){const B=[];return{forEach(ie){for(let ee=0;ee<B.length;ee++)if("break"===ie(B[ee]))return},add(ie){B.push(ie)},toArray:()=>B}}function Re(){const B=Object.create(null),ie=Object.create(null);return{getValue:ee=>B[ee],getSchema:ee=>ie[ee],forEachValue(ee){for(const[te,Ne]of Object.entries(B))if("break"===ee(te,Ne))return},forEachSchema(ee){for(const[te,Ne]of Object.entries(ie))if("break"===ee(te,Ne))return},setValue(ee,te){B[ee]=te},setSchema(ee,te){ie[ee]=te},hasValue:ee=>ee in B,hasSchema:ee=>ee in ie}}function N(B,ie){if(B.cache.hasValue(ie))return B.cache.getValue(ie);const ee=B.keyCount++,te=me.num_to_s(ee);return B.store.add(ie),B.cache.setValue(ie,te),te}j.memToValues=function ve(B){return B.store.toArray()},j.makeInMemoryStore=at,j.makeInMemoryCache=Re,j.makeInMemoryMemory=function pe(){return{store:at(),cache:Re(),keyCount:0}},j.addValue=function Ee(B,ie,ee){if(null===ie)return"";switch(typeof ie){case"undefined":if(Array.isArray(ee))return Ee(B,null,ee);break;case"object":if(null===ie)return N(B,null);if(Array.isArray(ie)){let te="a";for(let Ne=0;Ne<ie.length;Ne++){const xe=ie[Ne];te+="|"+(null===xe?"_":Ee(B,xe,ie))}return"a"===te&&(te="a|"),N(B,te)}{const te=Object.keys(ie);if(0===te.length)return N(B,"o|");let Ne="o";const xe=function ae(B,ie){Q.config.sort_key&&ie.sort();const ee=ie.join(",");if(B.cache.hasSchema(ee))return B.cache.getSchema(ee);const te=Ee(B,ie,void 0);return B.cache.setSchema(ee,te),te}(B,te);Ne+="|"+xe;for(const Ze of te)Ne+="|"+Ee(B,ie[Ze],ie);return N(B,Ne)}case"boolean":return N(B,De.encodeBool(ie));case"number":return N(B,De.encodeNum(ie));case"string":return N(B,De.encodeStr(ie))}return ge.throwUnknownDataType(ie)}},897:(Xt,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});let de="";for(let B=0;B<10;B++){const ie=String.fromCharCode(48+B);de+=ie}for(let B=0;B<26;B++){const ie=String.fromCharCode(65+B);de+=ie}for(let B=0;B<26;B++){const ie=String.fromCharCode(97+B);de+=ie}const Q=de.length,ge={};for(let B=0;B<Q;B++)ge[de[B]]=B;function De(B){let ie=0,ee=1;for(let te=B.length-1;te>=0;te--){let xe=ge[B[te]];xe*=ee,ie+=xe,ee*=Q}return ie}function me(B){let ie=BigInt(0),ee=BigInt(1);const te=BigInt(Q);for(let Ne=B.length-1;Ne>=0;Ne--){let Ze=BigInt(ge[B[Ne]]);Ze*=ee,ie+=Ze,ee*=te}return ie}function ve(B){if(0===B)return de[0];const ie=[];for(;0!==B;){const ee=B%Q;ie.push(de[ee]),B-=ee,B/=Q}return ie.reverse().join("")}function at(B){const ie=BigInt(0),ee=BigInt(Q);if(B===ie)return de[0];const te=[];for(;B!==ie;){const Ne=B%ee,xe=de[Number(Ne)];te.push(xe),B-=Ne,B/=ee}return te.reverse().join("")}function Re(B){return B.split("").reverse().join("")}function N(B){const ie=+B;return ie.toString()===B?ve(ie):":"+at(BigInt(B))}function ae(B){return":"===B[0]?me(B.substring(1)).toString():De(B).toString()}j.s_to_int=De,j.s_to_big_int=me,j.int_to_s=ve,j.big_int_to_s=at,j.num_to_s=function pe(B){if(B<0)return"-"+pe(-B);let te,[ie,ee]=B.toString().split(".");if(!ee)return ve(B);ee&&([ee,te]=ee.split("e")),ie=N(ie),ee=Re(ee),ee=N(ee);let Ne=ie+"."+ee;if(te){switch(Ne+=".",te[0]){case"+":te=te.slice(1);break;case"-":Ne+="-",te=te.slice(1)}te=Re(te),te=N(te),Ne+=te}return Ne},j.int_str_to_s=N,j.s_to_num=function Ee(B){if("-"===B[0])return-Ee(B.substr(1));let[ie,ee,te]=B.split(".");if(!ee)return De(ie);ie=ae(ie),ee=ae(ee),ee=Re(ee);let Ne=ie+"."+ee;if(te){Ne+="e";let xe=!1;"-"===te[0]&&(xe=!0,te=te.slice(1)),te=ae(te),te=Re(te),Ne+=xe?-te:+te}return+Ne}},316:(Xt,j)=>{"use strict";var de,ge;Object.defineProperty(j,"__esModule",{value:!0}),j.Doctype=j.CDATA=j.Tag=j.Style=j.Script=j.Comment=j.Directive=j.Text=j.Root=j.isTag=j.ElementType=void 0,(ge=de=j.ElementType||(j.ElementType={})).Root="root",ge.Text="text",ge.Directive="directive",ge.Comment="comment",ge.Script="script",ge.Style="style",ge.Tag="tag",ge.CDATA="cdata",ge.Doctype="doctype",j.isTag=function Q(ge){return ge.type===de.Tag||ge.type===de.Script||ge.type===de.Style},j.Root=de.Root,j.Text=de.Text,j.Directive=de.Directive,j.Comment=de.Comment,j.Script=de.Script,j.Style=de.Style,j.Tag=de.Tag,j.CDATA=de.CDATA,j.Doctype=de.Doctype},993:(Xt,j)=>{j.CASE_SENSITIVE_TAG_NAMES=["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"]},191:Xt=>{var j="html",Q="body",ge=/<([a-zA-Z]+[0-9]?)/,De=/<head[^]*>/i,me=/<body[^]*>/i,ve=function(){throw new Error("This browser does not support `document.implementation.createHTMLDocument`")},at=function(){throw new Error("This browser does not support `DOMParser.prototype.parseFromString`")},Re="object"==typeof window&&window.DOMParser;if("function"==typeof Re){var pe=new Re;ve=at=function(ee,te){return te&&(ee="<"+te+">"+ee+"</"+te+">"),pe.parseFromString(ee,"text/html")}}if("object"==typeof document&&document.implementation){var ae=document.implementation.createHTMLDocument();ve=function(ee,te){return te?(ae.documentElement.querySelector(te).innerHTML=ee,ae):(ae.documentElement.innerHTML=ee,ae)}}var B,Ee="object"==typeof document?document.createElement("template"):{};Ee.content&&(B=function(ee){return Ee.innerHTML=ee,Ee.content.childNodes}),Xt.exports=function ie(ee){var te,xe,Ze,fn,Ne=ee.match(ge);switch(Ne&&Ne[1]&&(te=Ne[1].toLowerCase()),te){case j:return xe=at(ee),De.test(ee)||(Ze=xe.querySelector("head"))&&Ze.parentNode.removeChild(Ze),me.test(ee)||(Ze=xe.querySelector(Q))&&Ze.parentNode.removeChild(Ze),xe.querySelectorAll(j);case"head":case Q:return fn=(xe=ve(ee)).querySelectorAll(te),me.test(ee)&&De.test(ee)?fn[0].parentNode.childNodes:fn;default:return B?B(ee):(Ze=ve(ee,Q).querySelector(Q)).childNodes}}},867:(Xt,j,de)=>{for(var ae,ge=de(860),me=de(993).CASE_SENSITIVE_TAG_NAMES,ve=ge.Comment,at=ge.Element,Re=ge.ProcessingInstruction,pe=ge.Text,N={},Ee=0,B=me.length;Ee<B;Ee++)N[(ae=me[Ee]).toLowerCase()]=ae;function ee(xe){for(var fn,Ze={},Wt=0,Jn=xe.length;Wt<Jn;Wt++)Ze[(fn=xe[Wt]).name]=fn.value;return Ze}function te(xe){return function ie(xe){return N[xe]}(xe=xe.toLowerCase())||xe}j.e=function Ne(xe,Ze,fn){Ze=Ze||null;for(var Jn,Wt=[],x=0,se=xe.length;x<se;x++){var k,G=xe[x];switch(G.nodeType){case 1:Jn=te(G.nodeName),(k=new at(Jn,ee(G.attributes))).children=Ne("template"===Jn?G.content.childNodes:G.childNodes,k);break;case 3:k=new pe(G.nodeValue);break;case 8:k=new ve(G.nodeValue);break;default:continue}var E=Wt[x-1]||null;E&&(E.next=k),k.parent=Ze,k.prev=E,k.next=null,Wt.push(k)}return fn&&((k=new Re(fn.substring(0,fn.indexOf(" ")).toLowerCase(),fn)).next=Wt[0]||null,k.parent=Ze,Wt.unshift(k),Wt[1]&&(Wt[1].prev=Wt[0])),Wt}},860:function(Xt,j,de){"use strict";var Q=this&&this.__createBinding||(Object.create?function(Re,pe,N,ae){void 0===ae&&(ae=N);var Ee=Object.getOwnPropertyDescriptor(pe,N);(!Ee||("get"in Ee?!pe.__esModule:Ee.writable||Ee.configurable))&&(Ee={enumerable:!0,get:function(){return pe[N]}}),Object.defineProperty(Re,ae,Ee)}:function(Re,pe,N,ae){void 0===ae&&(ae=N),Re[ae]=pe[N]}),ge=this&&this.__exportStar||function(Re,pe){for(var N in Re)"default"!==N&&!Object.prototype.hasOwnProperty.call(pe,N)&&Q(pe,Re,N)};Object.defineProperty(j,"__esModule",{value:!0}),j.DomHandler=void 0;var De=de(316),me=de(31);ge(de(31),j);var ve={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},at=function(){function Re(pe,N,ae){this.dom=[],this.root=new me.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,"function"==typeof N&&(ae=N,N=ve),"object"==typeof pe&&(N=pe,pe=void 0),this.callback=pe??null,this.options=N??ve,this.elementCB=ae??null}return Re.prototype.onparserinit=function(pe){this.parser=pe},Re.prototype.onreset=function(){this.dom=[],this.root=new me.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},Re.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},Re.prototype.onerror=function(pe){this.handleCallback(pe)},Re.prototype.onclosetag=function(){this.lastNode=null;var pe=this.tagStack.pop();this.options.withEndIndices&&(pe.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(pe)},Re.prototype.onopentag=function(pe,N){var Ee=new me.Element(pe,N,void 0,this.options.xmlMode?De.ElementType.Tag:void 0);this.addNode(Ee),this.tagStack.push(Ee)},Re.prototype.ontext=function(pe){var N=this.lastNode;if(N&&N.type===De.ElementType.Text)N.data+=pe,this.options.withEndIndices&&(N.endIndex=this.parser.endIndex);else{var ae=new me.Text(pe);this.addNode(ae),this.lastNode=ae}},Re.prototype.oncomment=function(pe){if(this.lastNode&&this.lastNode.type===De.ElementType.Comment)this.lastNode.data+=pe;else{var N=new me.Comment(pe);this.addNode(N),this.lastNode=N}},Re.prototype.oncommentend=function(){this.lastNode=null},Re.prototype.oncdatastart=function(){var pe=new me.Text(""),N=new me.CDATA([pe]);this.addNode(N),pe.parent=N,this.lastNode=pe},Re.prototype.oncdataend=function(){this.lastNode=null},Re.prototype.onprocessinginstruction=function(pe,N){var ae=new me.ProcessingInstruction(pe,N);this.addNode(ae)},Re.prototype.handleCallback=function(pe){if("function"==typeof this.callback)this.callback(pe,this.dom);else if(pe)throw pe},Re.prototype.addNode=function(pe){var N=this.tagStack[this.tagStack.length-1],ae=N.children[N.children.length-1];this.options.withStartIndices&&(pe.startIndex=this.parser.startIndex),this.options.withEndIndices&&(pe.endIndex=this.parser.endIndex),N.children.push(pe),ae&&(pe.prev=ae,ae.next=pe),pe.parent=N,this.lastNode=null},Re}();j.DomHandler=at,j.default=at},31:function(Xt,j,de){"use strict";var x,Q=this&&this.__extends||(x=function(se,G){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,E){k.__proto__=E}||function(k,E){for(var Z in E)Object.prototype.hasOwnProperty.call(E,Z)&&(k[Z]=E[Z])})(se,G)},function(se,G){if("function"!=typeof G&&null!==G)throw new TypeError("Class extends value "+String(G)+" is not a constructor or null");function k(){this.constructor=se}x(se,G),se.prototype=null===G?Object.create(G):(k.prototype=G.prototype,new k)}),ge=this&&this.__assign||function(){return ge=Object.assign||function(x){for(var se,G=1,k=arguments.length;G<k;G++)for(var E in se=arguments[G])Object.prototype.hasOwnProperty.call(se,E)&&(x[E]=se[E]);return x},ge.apply(this,arguments)};Object.defineProperty(j,"__esModule",{value:!0}),j.cloneNode=j.hasChildren=j.isDocument=j.isDirective=j.isComment=j.isText=j.isCDATA=j.isTag=j.Element=j.Document=j.CDATA=j.NodeWithChildren=j.ProcessingInstruction=j.Comment=j.Text=j.DataNode=j.Node=void 0;var De=de(316),me=function(){function x(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(x.prototype,"parentNode",{get:function(){return this.parent},set:function(se){this.parent=se},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"previousSibling",{get:function(){return this.prev},set:function(se){this.prev=se},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"nextSibling",{get:function(){return this.next},set:function(se){this.next=se},enumerable:!1,configurable:!0}),x.prototype.cloneNode=function(se){return void 0===se&&(se=!1),Wt(this,se)},x}();j.Node=me;var ve=function(x){function se(G){var k=x.call(this)||this;return k.data=G,k}return Q(se,x),Object.defineProperty(se.prototype,"nodeValue",{get:function(){return this.data},set:function(G){this.data=G},enumerable:!1,configurable:!0}),se}(me);j.DataNode=ve;var at=function(x){function se(){var G=null!==x&&x.apply(this,arguments)||this;return G.type=De.ElementType.Text,G}return Q(se,x),Object.defineProperty(se.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),se}(ve);j.Text=at;var Re=function(x){function se(){var G=null!==x&&x.apply(this,arguments)||this;return G.type=De.ElementType.Comment,G}return Q(se,x),Object.defineProperty(se.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),se}(ve);j.Comment=Re;var pe=function(x){function se(G,k){var E=x.call(this,k)||this;return E.name=G,E.type=De.ElementType.Directive,E}return Q(se,x),Object.defineProperty(se.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),se}(ve);j.ProcessingInstruction=pe;var N=function(x){function se(G){var k=x.call(this)||this;return k.children=G,k}return Q(se,x),Object.defineProperty(se.prototype,"firstChild",{get:function(){var G;return null!==(G=this.children[0])&&void 0!==G?G:null},enumerable:!1,configurable:!0}),Object.defineProperty(se.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(se.prototype,"childNodes",{get:function(){return this.children},set:function(G){this.children=G},enumerable:!1,configurable:!0}),se}(me);j.NodeWithChildren=N;var ae=function(x){function se(){var G=null!==x&&x.apply(this,arguments)||this;return G.type=De.ElementType.CDATA,G}return Q(se,x),Object.defineProperty(se.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),se}(N);j.CDATA=ae;var Ee=function(x){function se(){var G=null!==x&&x.apply(this,arguments)||this;return G.type=De.ElementType.Root,G}return Q(se,x),Object.defineProperty(se.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),se}(N);j.Document=Ee;var B=function(x){function se(G,k,E,Z){void 0===E&&(E=[]),void 0===Z&&(Z="script"===G?De.ElementType.Script:"style"===G?De.ElementType.Style:De.ElementType.Tag);var le=x.call(this,E)||this;return le.name=G,le.attribs=k,le.type=Z,le}return Q(se,x),Object.defineProperty(se.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(se.prototype,"tagName",{get:function(){return this.name},set:function(G){this.name=G},enumerable:!1,configurable:!0}),Object.defineProperty(se.prototype,"attributes",{get:function(){var G=this;return Object.keys(this.attribs).map(function(k){var E,Z;return{name:k,value:G.attribs[k],namespace:null===(E=G["x-attribsNamespace"])||void 0===E?void 0:E[k],prefix:null===(Z=G["x-attribsPrefix"])||void 0===Z?void 0:Z[k]}})},enumerable:!1,configurable:!0}),se}(N);function ie(x){return(0,De.isTag)(x)}function ee(x){return x.type===De.ElementType.CDATA}function te(x){return x.type===De.ElementType.Text}function Ne(x){return x.type===De.ElementType.Comment}function xe(x){return x.type===De.ElementType.Directive}function Ze(x){return x.type===De.ElementType.Root}function Wt(x,se){var G;if(void 0===se&&(se=!1),te(x))G=new at(x.data);else if(Ne(x))G=new Re(x.data);else if(ie(x)){var k=se?Jn(x.children):[],E=new B(x.name,ge({},x.attribs),k);k.forEach(function(Oe){return Oe.parent=E}),null!=x.namespace&&(E.namespace=x.namespace),x["x-attribsNamespace"]&&(E["x-attribsNamespace"]=ge({},x["x-attribsNamespace"])),x["x-attribsPrefix"]&&(E["x-attribsPrefix"]=ge({},x["x-attribsPrefix"])),G=E}else if(ee(x)){k=se?Jn(x.children):[];var Z=new ae(k);k.forEach(function(Qe){return Qe.parent=Z}),G=Z}else if(Ze(x)){k=se?Jn(x.children):[];var le=new Ee(k);k.forEach(function(Qe){return Qe.parent=le}),x["x-mode"]&&(le["x-mode"]=x["x-mode"]),G=le}else{if(!xe(x))throw new Error("Not implemented yet: ".concat(x.type));var be=new pe(x.name,x.data);null!=x["x-name"]&&(be["x-name"]=x["x-name"],be["x-publicId"]=x["x-publicId"],be["x-systemId"]=x["x-systemId"]),G=be}return G.startIndex=x.startIndex,G.endIndex=x.endIndex,null!=x.sourceCodeLocation&&(G.sourceCodeLocation=x.sourceCodeLocation),G}function Jn(x){for(var se=x.map(function(k){return Wt(k,!0)}),G=1;G<se.length;G++)se[G].prev=se[G-1],se[G-1].next=se[G];return se}j.Element=B,j.isTag=ie,j.isCDATA=ee,j.isText=te,j.isComment=Ne,j.isDirective=xe,j.isDocument=Ze,j.hasChildren=function fn(x){return Object.prototype.hasOwnProperty.call(x,"children")},j.cloneNode=Wt},28:function(Xt,j){var de,ge;de=function De(){"use strict";var me=typeof self<"u"?self:typeof window<"u"?window:void 0!==me?me:{},ve=!me.document&&!!me.postMessage,at=me.IS_PAPA_WORKER||!1,Re={},pe=0,N={parse:function(k,E){var Z=(E=E||{}).dynamicTyping||!1;if(G(Z)&&(E.dynamicTypingFunction=Z,Z={}),E.dynamicTyping=Z,E.transform=!!G(E.transform)&&E.transform,E.worker&&N.WORKERS_SUPPORTED){var le=function(){if(!N.WORKERS_SUPPORTED)return!1;var sn,We,Oe=(sn=me.URL||me.webkitURL||null,We=De.toString(),N.BLOB_URL||(N.BLOB_URL=sn.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",We,")();"],{type:"text/javascript"})))),Qe=new me.Worker(Oe);return Qe.onmessage=fn,Qe.id=pe++,Re[Qe.id]=Qe}();return le.userStep=E.step,le.userChunk=E.chunk,le.userComplete=E.complete,le.userError=E.error,E.step=G(E.step),E.chunk=G(E.chunk),E.complete=G(E.complete),E.error=G(E.error),delete E.worker,void le.postMessage({input:k,config:E,workerId:le.id})}var Oe,be=null;return"string"==typeof k?(k=65279===(Oe=k).charCodeAt(0)?Oe.slice(1):Oe,be=E.download?new B(E):new ee(E)):!0===k.readable&&G(k.read)&&G(k.on)?be=new te(E):(me.File&&k instanceof File||k instanceof Object)&&(be=new ie(E)),be.stream(k)},unparse:function(k,E){var Z=!1,le=!0,be=",",Oe="\r\n",Qe='"',sn=Qe+Qe,We=!1,Ie=null,en=!1;!function(){if("object"==typeof E){if("string"!=typeof E.delimiter||N.BAD_DELIMITERS.filter(function(Te){return-1!==E.delimiter.indexOf(Te)}).length||(be=E.delimiter),("boolean"==typeof E.quotes||"function"==typeof E.quotes||Array.isArray(E.quotes))&&(Z=E.quotes),"boolean"!=typeof E.skipEmptyLines&&"string"!=typeof E.skipEmptyLines||(We=E.skipEmptyLines),"string"==typeof E.newline&&(Oe=E.newline),"string"==typeof E.quoteChar&&(Qe=E.quoteChar),"boolean"==typeof E.header&&(le=E.header),Array.isArray(E.columns)){if(0===E.columns.length)throw new Error("Option columns is empty");Ie=E.columns}void 0!==E.escapeChar&&(sn=E.escapeChar+Qe),("boolean"==typeof E.escapeFormulae||E.escapeFormulae instanceof RegExp)&&(en=E.escapeFormulae instanceof RegExp?E.escapeFormulae:/^[=+\-@\t\r].*$/)}}();var je=new RegExp(xe(Qe),"g");if("string"==typeof k&&(k=JSON.parse(k)),Array.isArray(k)){if(!k.length||Array.isArray(k[0]))return ii(null,k,We);if("object"==typeof k[0])return ii(Ie||Object.keys(k[0]),k,We)}else if("object"==typeof k)return"string"==typeof k.data&&(k.data=JSON.parse(k.data)),Array.isArray(k.data)&&(k.fields||(k.fields=k.meta&&k.meta.fields||Ie),k.fields||(k.fields=Array.isArray(k.data[0])?k.fields:"object"==typeof k.data[0]?Object.keys(k.data[0]):[]),Array.isArray(k.data[0])||"object"==typeof k.data[0]||(k.data=[k.data])),ii(k.fields||[],k.data||[],We);throw new Error("Unable to serialize unrecognized input");function ii(Te,$t,pt){var Xe="";"string"==typeof Te&&(Te=JSON.parse(Te)),"string"==typeof $t&&($t=JSON.parse($t));var Cn=Array.isArray(Te)&&0<Te.length,Ae=!Array.isArray($t[0]);if(Cn&&le){for(var on=0;on<Te.length;on++)0<on&&(Xe+=be),Xe+=It(Te[on],on);0<$t.length&&(Xe+=Oe)}for(var Ue=0;Ue<$t.length;Ue++){var wt=Cn?Te.length:$t[Ue].length,tn=!1,an=Cn?0===Object.keys($t[Ue]).length:0===$t[Ue].length;if(pt&&!Cn&&(tn="greedy"===pt?""===$t[Ue].join("").trim():1===$t[Ue].length&&0===$t[Ue][0].length),"greedy"===pt&&Cn){for(var Lt=[],Ln=0;Ln<wt;Ln++)Lt.push($t[Ue][Ae?Te[Ln]:Ln]);tn=""===Lt.join("").trim()}if(!tn){for(var O=0;O<wt;O++)0<O&&!an&&(Xe+=be),Xe+=It($t[Ue][Cn&&Ae?Te[O]:O],O);Ue<$t.length-1&&(!pt||0<wt&&!an)&&(Xe+=Oe)}}return Xe}function It(Te,$t){if(null==Te)return"";if(Te.constructor===Date)return JSON.stringify(Te).slice(1,25);var pt=!1;en&&"string"==typeof Te&&en.test(Te)&&(Te="'"+Te,pt=!0);var Xe=Te.toString().replace(je,sn);return(pt=pt||!0===Z||"function"==typeof Z&&Z(Te,$t)||Array.isArray(Z)&&Z[$t]||function(Cn,Ae){for(var on=0;on<Ae.length;on++)if(-1<Cn.indexOf(Ae[on]))return!0;return!1}(Xe,N.BAD_DELIMITERS)||-1<Xe.indexOf(be)||" "===Xe.charAt(0)||" "===Xe.charAt(Xe.length-1))?Qe+Xe+Qe:Xe}}};if(N.RECORD_SEP=String.fromCharCode(30),N.UNIT_SEP=String.fromCharCode(31),N.BYTE_ORDER_MARK="\ufeff",N.BAD_DELIMITERS=["\r","\n",'"',N.BYTE_ORDER_MARK],N.WORKERS_SUPPORTED=!ve&&!!me.Worker,N.NODE_STREAM_INPUT=1,N.LocalChunkSize=10485760,N.RemoteChunkSize=5242880,N.DefaultDelimiter=",",N.Parser=Ze,N.ParserHandle=Ne,N.NetworkStreamer=B,N.FileStreamer=ie,N.StringStreamer=ee,N.ReadableStreamStreamer=te,me.jQuery){var ae=me.jQuery;ae.fn.parse=function(k){var E=k.config||{},Z=[];return this.each(function(Oe){if("INPUT"!==ae(this).prop("tagName").toUpperCase()||"file"!==ae(this).attr("type").toLowerCase()||!me.FileReader||!this.files||0===this.files.length)return!0;for(var Qe=0;Qe<this.files.length;Qe++)Z.push({file:this.files[Qe],inputElem:this,instanceConfig:ae.extend({},E)})}),le(),this;function le(){if(0!==Z.length){var Qe,sn,We,Ie=Z[0];if(G(k.before)){var en=k.before(Ie.file,Ie.inputElem);if("object"==typeof en){if("abort"===en.action)return"AbortError",Qe=Ie.file,sn=Ie.inputElem,We=en.reason,void(G(k.error)&&k.error({name:"AbortError"},Qe,sn,We));if("skip"===en.action)return void be();"object"==typeof en.config&&(Ie.instanceConfig=ae.extend(Ie.instanceConfig,en.config))}else if("skip"===en)return void be()}var je=Ie.instanceConfig.complete;Ie.instanceConfig.complete=function(ii){G(je)&&je(ii,Ie.file,Ie.inputElem),be()},N.parse(Ie.file,Ie.instanceConfig)}else G(k.complete)&&k.complete()}function be(){Z.splice(0,1),le()}}}function Ee(k){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(E){var Z=x(E);Z.chunkSize=parseInt(Z.chunkSize),E.step||E.chunk||(Z.chunkSize=null),this._handle=new Ne(Z),(this._handle.streamer=this)._config=Z}.call(this,k),this.parseChunk=function(E,Z){if(this.isFirstChunk&&G(this._config.beforeFirstChunk)){var le=this._config.beforeFirstChunk(E);void 0!==le&&(E=le)}this.isFirstChunk=!1,this._halted=!1;var be=this._partialLine+E;this._partialLine="";var Oe=this._handle.parse(be,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var Qe=Oe.meta.cursor;this._finished||(this._partialLine=be.substring(Qe-this._baseIndex),this._baseIndex=Qe),Oe&&Oe.data&&(this._rowCount+=Oe.data.length);var sn=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(at)me.postMessage({results:Oe,workerId:N.WORKER_ID,finished:sn});else if(G(this._config.chunk)&&!Z){if(this._config.chunk(Oe,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);Oe=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(Oe.data),this._completeResults.errors=this._completeResults.errors.concat(Oe.errors),this._completeResults.meta=Oe.meta),this._completed||!sn||!G(this._config.complete)||Oe&&Oe.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),sn||Oe&&Oe.meta.paused||this._nextChunk(),Oe}this._halted=!0},this._sendError=function(E){G(this._config.error)?this._config.error(E):at&&this._config.error&&me.postMessage({workerId:N.WORKER_ID,error:E,finished:!1})}}function B(k){var E;(k=k||{}).chunkSize||(k.chunkSize=N.RemoteChunkSize),Ee.call(this,k),this._nextChunk=ve?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(Z){this._input=Z,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(E=new XMLHttpRequest,this._config.withCredentials&&(E.withCredentials=this._config.withCredentials),ve||(E.onload=se(this._chunkLoaded,this),E.onerror=se(this._chunkError,this)),E.open(this._config.downloadRequestBody?"POST":"GET",this._input,!ve),this._config.downloadRequestHeaders){var Z=this._config.downloadRequestHeaders;for(var le in Z)E.setRequestHeader(le,Z[le])}this._config.chunkSize&&E.setRequestHeader("Range","bytes="+this._start+"-"+(this._start+this._config.chunkSize-1));try{E.send(this._config.downloadRequestBody)}catch(Oe){this._chunkError(Oe.message)}ve&&0===E.status&&this._chunkError()}},this._chunkLoaded=function(){var le;4===E.readyState&&(E.status<200||400<=E.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:E.responseText.length,this._finished=!this._config.chunkSize||this._start>=(null===(le=E.getResponseHeader("Content-Range"))?-1:parseInt(le.substring(le.lastIndexOf("/")+1))),this.parseChunk(E.responseText)))},this._chunkError=function(Z){this._sendError(new Error(E.statusText||Z))}}function ie(k){var E,Z;(k=k||{}).chunkSize||(k.chunkSize=N.LocalChunkSize),Ee.call(this,k);var le=typeof FileReader<"u";this.stream=function(be){this._input=be,Z=be.slice||be.webkitSlice||be.mozSlice,le?((E=new FileReader).onload=se(this._chunkLoaded,this),E.onerror=se(this._chunkError,this)):E=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var be=this._input;if(this._config.chunkSize){var Oe=Math.min(this._start+this._config.chunkSize,this._input.size);be=Z.call(be,this._start,Oe)}var Qe=E.readAsText(be,this._config.encoding);le||this._chunkLoaded({target:{result:Qe}})},this._chunkLoaded=function(be){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(be.target.result)},this._chunkError=function(){this._sendError(E.error)}}function ee(k){var E;Ee.call(this,k=k||{}),this.stream=function(Z){return E=Z,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var Z,le=this._config.chunkSize;return le?(Z=E.substring(0,le),E=E.substring(le)):(Z=E,E=""),this._finished=!E,this.parseChunk(Z)}}}function te(k){Ee.call(this,k=k||{});var E=[],Z=!0,le=!1;this.pause=function(){Ee.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){Ee.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(be){this._input=be,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){le&&1===E.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),E.length?this.parseChunk(E.shift()):Z=!0},this._streamData=se(function(be){try{E.push("string"==typeof be?be:be.toString(this._config.encoding)),Z&&(Z=!1,this._checkIsFinished(),this.parseChunk(E.shift()))}catch(Oe){this._streamError(Oe)}},this),this._streamError=se(function(be){this._streamCleanUp(),this._sendError(be)},this),this._streamEnd=se(function(){this._streamCleanUp(),le=!0,this._streamData("")},this),this._streamCleanUp=se(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function Ne(k){var E,Z,le,be=Math.pow(2,53),Oe=-be,Qe=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,sn=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,We=this,Ie=0,en=0,je=!1,ii=!1,It=[],Te={data:[],errors:[],meta:{}};if(G(k.step)){var $t=k.step;k.step=function(Ue){if(Te=Ue,Cn())Xe();else{if(Xe(),0===Te.data.length)return;Ie+=Ue.data.length,k.preview&&Ie>k.preview?Z.abort():(Te.data=Te.data[0],$t(Te,We))}}}function pt(Ue){return"greedy"===k.skipEmptyLines?""===Ue.join("").trim():1===Ue.length&&0===Ue[0].length}function Xe(){return Te&&le&&(on("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+N.DefaultDelimiter+"'"),le=!1),k.skipEmptyLines&&(Te.data=Te.data.filter(function(Ue){return!pt(Ue)})),Cn()&&function(){if(Te)if(Array.isArray(Te.data[0])){for(var wt=0;Cn()&&wt<Te.data.length;wt++)Te.data[wt].forEach(Ue);Te.data.splice(0,1)}else Te.data.forEach(Ue);function Ue(tn,an){G(k.transformHeader)&&(tn=k.transformHeader(tn,an)),It.push(tn)}}(),function(){if(!Te||!k.header&&!k.dynamicTyping&&!k.transform)return Te;function Ue(tn,an){var Lt,Ln=k.header?{}:[];for(Lt=0;Lt<tn.length;Lt++){var A=Lt,O=tn[Lt];k.header&&(A=Lt>=It.length?"__parsed_extra":It[Lt]),k.transform&&(O=k.transform(O,A)),O=Ae(A,O),"__parsed_extra"===A?(Ln[A]=Ln[A]||[],Ln[A].push(O)):Ln[A]=O}return k.header&&(Lt>It.length?on("FieldMismatch","TooManyFields","Too many fields: expected "+It.length+" fields but parsed "+Lt,en+an):Lt<It.length&&on("FieldMismatch","TooFewFields","Too few fields: expected "+It.length+" fields but parsed "+Lt,en+an)),Ln}var wt=1;return!Te.data.length||Array.isArray(Te.data[0])?(Te.data=Te.data.map(Ue),wt=Te.data.length):Te.data=Ue(Te.data,0),k.header&&Te.meta&&(Te.meta.fields=It),en+=wt,Te}()}function Cn(){return k.header&&0===It.length}function Ae(Ue,wt){return tn=Ue,k.dynamicTypingFunction&&void 0===k.dynamicTyping[tn]&&(k.dynamicTyping[tn]=k.dynamicTypingFunction(tn)),!0===(k.dynamicTyping[tn]||k.dynamicTyping)?"true"===wt||"TRUE"===wt||"false"!==wt&&"FALSE"!==wt&&(function(an){if(Qe.test(an)){var Lt=parseFloat(an);if(Oe<Lt&&Lt<be)return!0}return!1}(wt)?parseFloat(wt):sn.test(wt)?new Date(wt):""===wt?null:wt):wt;var tn}function on(Ue,wt,tn,an){var Lt={type:Ue,code:wt,message:tn};void 0!==an&&(Lt.row=an),Te.errors.push(Lt)}this.parse=function(Ue,wt,tn){if(k.newline||(k.newline=function(A,O){A=A.substring(0,1048576);var L=new RegExp(xe(O)+"([^]*?)"+xe(O),"gm"),Y=(A=A.replace(L,"")).split("\r"),ne=A.split("\n");if(1===Y.length||1<ne.length&&ne[0].length<Y[0].length)return"\n";for(var At=0,we=0;we<Y.length;we++)"\n"===Y[we][0]&&At++;return At>=Y.length/2?"\r\n":"\r"}(Ue,k.quoteChar||'"')),le=!1,k.delimiter)G(k.delimiter)&&(k.delimiter=k.delimiter(Ue),Te.meta.delimiter=k.delimiter);else{var Lt=function(A,O,L,Y,ne){var fe,At,we,ke;ne=ne||[",","\t","|",";",N.RECORD_SEP,N.UNIT_SEP];for(var xt=0;xt<ne.length;xt++){var Dt=ne[xt],ri=0,Ti=0,On=0;we=void 0;for(var Dn=new Ze({comments:Y,delimiter:Dt,newline:O,preview:10}).parse(A),Li=0;Li<Dn.data.length;Li++)if(L&&pt(Dn.data[Li]))On++;else{var Pt=Dn.data[Li].length;Ti+=Pt,void 0!==we?0<Pt&&(ri+=Math.abs(Pt-we),we=Pt):we=Pt}0<Dn.data.length&&(Ti/=Dn.data.length-On),(void 0===At||ri<=At)&&(void 0===ke||ke<Ti)&&1.99<Ti&&(At=ri,fe=Dt,ke=Ti)}return{successful:!!(k.delimiter=fe),bestDelimiter:fe}}(Ue,k.newline,k.skipEmptyLines,k.comments,k.delimitersToGuess);Lt.successful?k.delimiter=Lt.bestDelimiter:(le=!0,k.delimiter=N.DefaultDelimiter),Te.meta.delimiter=k.delimiter}var Ln=x(k);return k.preview&&k.header&&Ln.preview++,E=Ue,Z=new Ze(Ln),Te=Z.parse(E,wt,tn),Xe(),je?{meta:{paused:!0}}:Te||{meta:{paused:!1}}},this.paused=function(){return je},this.pause=function(){je=!0,Z.abort(),E=G(k.chunk)?"":E.substring(Z.getCharIndex())},this.resume=function(){We.streamer._halted?(je=!1,We.streamer.parseChunk(E,!0)):setTimeout(We.resume,3)},this.aborted=function(){return ii},this.abort=function(){ii=!0,Z.abort(),Te.meta.aborted=!0,G(k.complete)&&k.complete(Te),E=""}}function xe(k){return k.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Ze(k){var E,Z=(k=k||{}).delimiter,le=k.newline,be=k.comments,Oe=k.step,Qe=k.preview,sn=k.fastMode,We=E=null==k.quoteChar?'"':k.quoteChar;if(void 0!==k.escapeChar&&(We=k.escapeChar),("string"!=typeof Z||-1<N.BAD_DELIMITERS.indexOf(Z))&&(Z=","),be===Z)throw new Error("Comment character same as delimiter");!0===be?be="#":("string"!=typeof be||-1<N.BAD_DELIMITERS.indexOf(be))&&(be=!1),"\n"!==le&&"\r"!==le&&"\r\n"!==le&&(le="\n");var Ie=0,en=!1;this.parse=function(je,ii,It){if("string"!=typeof je)throw new Error("Input must be a string");var Te=je.length,$t=Z.length,pt=le.length,Xe=be.length,Cn=G(Oe),Ae=[],on=[],Ue=[],wt=Ie=0;if(!je)return Un();if(k.header&&!ii){var tn=je.split(le)[0].split(Z),an=[],Lt={},Ln=!1;for(var A in tn){var O=tn[A];G(k.transformHeader)&&(O=k.transformHeader(O,A));var L=O,Y=Lt[O]||0;for(0<Y&&(Ln=!0,L=O+"_"+Y),Lt[O]=Y+1;an.includes(L);)L=L+"_"+Y;an.push(L)}if(Ln){var ne=je.split(le);ne[0]=an.join(Z),je=ne.join(le)}}if(sn||!1!==sn&&-1===je.indexOf(E)){for(var fe=je.split(le),At=0;At<fe.length;At++){if(Ie+=(Ue=fe[At]).length,At!==fe.length-1)Ie+=le.length;else if(It)return Un();if(!be||Ue.substring(0,Xe)!==be){if(Cn){if(Ae=[],On(Ue.split(Z)),ls(),en)return Un()}else On(Ue.split(Z));if(Qe&&Qe<=At)return Ae=Ae.slice(0,Qe),Un(!0)}}return Un()}for(var we=je.indexOf(Z,Ie),ke=je.indexOf(le,Ie),xt=new RegExp(xe(We)+xe(E),"g"),Dt=je.indexOf(E,Ie);;)if(je[Ie]!==E)if(be&&0===Ue.length&&je.substring(Ie,Ie+Xe)===be){if(-1===ke)return Un();ke=je.indexOf(le,Ie=ke+pt),we=je.indexOf(Z,Ie)}else if(-1!==we&&(we<ke||-1===ke))Ue.push(je.substring(Ie,we)),we=je.indexOf(Z,Ie=we+$t);else{if(-1===ke)break;if(Ue.push(je.substring(Ie,ke)),Pt(ke+pt),Cn&&(ls(),en))return Un();if(Qe&&Ae.length>=Qe)return Un(!0)}else for(Dt=Ie,Ie++;;){if(-1===(Dt=je.indexOf(E,Dt+1)))return It||on.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Ae.length,index:Ie}),Li();if(Dt===Te-1)return Li(je.substring(Ie,Dt).replace(xt,E));if(E!==We||je[Dt+1]!==We){if(E===We||0===Dt||je[Dt-1]!==We){-1!==we&&we<Dt+1&&(we=je.indexOf(Z,Dt+1)),-1!==ke&&ke<Dt+1&&(ke=je.indexOf(le,Dt+1));var ri=Dn(-1===ke?we:Math.min(we,ke));if(je.substr(Dt+1+ri,$t)===Z){Ue.push(je.substring(Ie,Dt).replace(xt,E)),je[Ie=Dt+1+ri+$t]!==E&&(Dt=je.indexOf(E,Ie)),we=je.indexOf(Z,Ie),ke=je.indexOf(le,Ie);break}var Ti=Dn(ke);if(je.substring(Dt+1+Ti,Dt+1+Ti+pt)===le){if(Ue.push(je.substring(Ie,Dt).replace(xt,E)),Pt(Dt+1+Ti+pt),we=je.indexOf(Z,Ie),Dt=je.indexOf(E,Ie),Cn&&(ls(),en))return Un();if(Qe&&Ae.length>=Qe)return Un(!0);break}on.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Ae.length,index:Ie}),Dt++}}else Dt++}return Li();function On(si){Ae.push(si),wt=Ie}function Dn(si){var Go=0;if(-1!==si){var Zo=je.substring(Dt+1,si);Zo&&""===Zo.trim()&&(Go=Zo.length)}return Go}function Li(si){return It||(void 0===si&&(si=je.substring(Ie)),Ue.push(si),Ie=Te,On(Ue),Cn&&ls()),Un()}function Pt(si){Ie=si,On(Ue),Ue=[],ke=je.indexOf(le,Ie)}function Un(si){return{data:Ae,errors:on,meta:{delimiter:Z,linebreak:le,aborted:en,truncated:!!si,cursor:wt+(ii||0)}}}function ls(){Oe(Un()),Ae=[],on=[]}},this.abort=function(){en=!0},this.getCharIndex=function(){return Ie}}function fn(k){var E=k.data,Z=Re[E.workerId],le=!1;if(E.error)Z.userError(E.error,E.file);else if(E.results&&E.results.data){var be={abort:function(){le=!0,Wt(E.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:Jn,resume:Jn};if(G(Z.userStep)){for(var Oe=0;Oe<E.results.data.length&&(Z.userStep({data:E.results.data[Oe],errors:E.results.errors,meta:E.results.meta},be),!le);Oe++);delete E.results}else G(Z.userChunk)&&(Z.userChunk(E.results,be,E.file),delete E.results)}E.finished&&!le&&Wt(E.workerId,E.results)}function Wt(k,E){var Z=Re[k];G(Z.userComplete)&&Z.userComplete(E),Z.terminate(),delete Re[k]}function Jn(){throw new Error("Not implemented.")}function x(k){if("object"!=typeof k||null===k)return k;var E=Array.isArray(k)?[]:{};for(var Z in k)E[Z]=x(k[Z]);return E}function se(k,E){return function(){k.apply(E,arguments)}}function G(k){return"function"==typeof k}return at&&(me.onmessage=function(k){var E=k.data;if(void 0===N.WORKER_ID&&E&&(N.WORKER_ID=E.workerId),"string"==typeof E.input)me.postMessage({workerId:N.WORKER_ID,results:N.parse(E.input,E.config),finished:!0});else if(me.File&&E.input instanceof File||E.input instanceof Object){var Z=N.parse(E.input,E.config);Z&&me.postMessage({workerId:N.WORKER_ID,results:Z,finished:!0})}}),(B.prototype=Object.create(Ee.prototype)).constructor=B,(ie.prototype=Object.create(Ee.prototype)).constructor=ie,(ee.prototype=Object.create(ee.prototype)).constructor=ee,(te.prototype=Object.create(Ee.prototype)).constructor=te,N},void 0!==(ge=de.apply(j,[]))&&(Xt.exports=ge)},139:(Xt,j,de)=>{"use strict";de.d(j,{Dg:()=>lc});var Q=de(861);function ge(C){return C.arrayBuffer?C.arrayBuffer():new Promise((T,R)=>{const K=new FileReader;K.addEventListener("loadend",()=>{T(K.result)}),K.addEventListener("error",R),K.readAsArrayBuffer(C)})}function De(C){return me.apply(this,arguments)}function me(){return(me=(0,Q.Z)(function*(C){const T=yield ge(C);return new Uint8Array(T)})).apply(this,arguments)}function ve(C){return typeof Blob<"u"&&C instanceof Blob}function at(C){return typeof SharedArrayBuffer<"u"&&C instanceof SharedArrayBuffer}Xt=de.hmd(Xt);const Re=typeof process<"u"&&process.versions&&typeof process.versions.node<"u"&&typeof process.versions.electron>"u";class N{constructor(T){this.typedArray=T instanceof ArrayBuffer||at(T)?new Uint8Array(T):new Uint8Array(T.buffer,T.byteOffset,T.byteLength)}getLength(){var T=this;return(0,Q.Z)(function*(){return T.typedArray.byteLength})()}read(T,R){var K=this;return(0,Q.Z)(function*(){return new Uint8Array(K.typedArray.buffer,K.typedArray.byteOffset+T,R)})()}}class ae{constructor(T){this.blob=T}getLength(){var T=this;return(0,Q.Z)(function*(){return T.blob.size})()}read(T,R){var K=this;return(0,Q.Z)(function*(){const re=K.blob.slice(T,T+R),Le=yield ge(re);return new Uint8Array(Le)})()}sliceAsBlob(T,R,K=""){var re=this;return(0,Q.Z)(function*(){return re.blob.slice(T,T+R,K)})()}}function ie(C,T){var R=C.length;if(T<=R)return C;var K=new Uint8Array(Math.max(R<<1,T));return K.set(C,0),K}function ee(C,T,R,K,re,Le){for(var ze=fn,ut=Jn,Ft=0;Ft<R;){var _n=C[ut(K,re)&T];re+=15&_n;var Tt=_n>>>4;if(Tt<=15)Le[Ft]=Tt,Ft++;else{var jt=0,Rt=0;16==Tt?(Rt=3+ze(K,re,2),re+=2,jt=Le[Ft-1]):17==Tt?(Rt=3+ze(K,re,3),re+=3):18==Tt&&(Rt=11+ze(K,re,7),re+=7);for(var Ye=Ft+Rt;Ft<Ye;)Le[Ft]=jt,Ft++}}return re}function te(C,T,R,K){for(var re=0,Le=0,ze=K.length>>>1;Le<R;){var ut=C[Le+T];K[Le<<1]=0,K[1+(Le<<1)]=ut,ut>re&&(re=ut),Le++}for(;Le<ze;)K[Le<<1]=0,K[1+(Le<<1)]=0,Le++;return re}function Ne(C,T){for(var K,re,Le,ut,R=C.length,Ft=x.bl_count,ze=0;ze<=T;ze++)Ft[ze]=0;for(ze=1;ze<R;ze+=2)Ft[C[ze]]++;var _n=x.next_code;for(K=0,Ft[0]=0,re=1;re<=T;re++)_n[re]=K=K+Ft[re-1]<<1;for(Le=0;Le<R;Le+=2)0!=(ut=C[Le+1])&&(C[Le]=_n[ut],_n[ut]++)}function xe(C,T,R){for(var K=C.length,re=x.rev15,Le=0;Le<K;Le+=2)if(0!=C[Le+1])for(var ut=C[Le+1],Ft=Le>>1<<4|ut,_n=T-ut,Tt=C[Le]<<_n,jt=Tt+(1<<_n);Tt!=jt;)R[re[Tt]>>>15-T]=Ft,Tt++}function Ze(C,T){for(var R=x.rev15,K=15-T,re=0;re<C.length;re+=2)C[re]=R[C[re]<<T-C[re+1]]>>>K}function fn(C,T,R){return(C[T>>>3]|C[1+(T>>>3)]<<8)>>>(7&T)&(1<<R)-1}function Wt(C,T,R){return(C[T>>>3]|C[1+(T>>>3)]<<8|C[2+(T>>>3)]<<16)>>>(7&T)&(1<<R)-1}function Jn(C,T){return(C[T>>>3]|C[1+(T>>>3)]<<8|C[2+(T>>>3)]<<16)>>>(7&T)}const x=(C=Uint16Array,T=Uint32Array,{next_code:new C(16),bl_count:new C(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new C(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new T(32),flmap:new C(512),fltree:[],fdmap:new C(32),fdtree:[],lmap:new C(32768),ltree:[],ttree:[],dmap:new C(32768),dtree:[],imap:new C(512),itree:[],rev15:new C(32768),lhst:new T(286),dhst:new T(30),ihst:new T(19),lits:new T(15e3),strt:new C(65536),prev:new C(32768)});var C,T;!function(){for(var T=0;T<32768;T++){var R=T;x.rev15[T]=((R=(4278255360&(R=(4042322160&(R=(3435973836&(R=(2863311530&R)>>>1|(1431655765&R)<<1))>>>2|(858993459&R)<<2))>>>4|(252645135&R)<<4))>>>8|(16711935&R)<<8)>>>16|R<<16)>>>17}function K(re,Le,ze){for(;0!=Le--;)re.push(0,ze)}for(T=0;T<32;T++)x.ldef[T]=x.of0[T]<<3|x.exb[T],x.ddef[T]=x.df0[T]<<4|x.dxb[T];K(x.fltree,144,8),K(x.fltree,112,9),K(x.fltree,24,7),K(x.fltree,8,8),Ne(x.fltree,9),xe(x.fltree,9,x.flmap),Ze(x.fltree,9),K(x.fdtree,32,5),Ne(x.fdtree,5),xe(x.fdtree,5,x.fdmap),Ze(x.fdtree,5),K(x.itree,19,0),K(x.ltree,286,0),K(x.dtree,30,0),K(x.ttree,320,0)}();const se={table:function(){for(var C=new Uint32Array(256),T=0;T<256;T++){for(var R=T,K=0;K<8;K++)1&R?R=3988292384^R>>>1:R>>>=1;C[T]=R}return C}(),update:function(C,T,R,K){for(var re=0;re<K;re++)C=se.table[255&(C^T[R+re])]^C>>>8;return C},crc:function(C,T,R){return 4294967295^se.update(4294967295,C,T,R)}};const k={numWorkers:1,workerURL:"",useWorkers:!1};let E=0,Z=0,le=!0;const be=[],Oe=[],Qe=[],sn=new Map;function We(C){ii(C.target);const{id:T,error:R,data:K}=C.data,re=sn.get(T);sn.delete(T),R?re.reject(R):re.resolve(K)}function Ie(C){return new Promise((T,R)=>{const K=new Worker(C);K.onmessage=re=>{"start"===re.data?(K.onerror=void 0,K.onmessage=void 0,T(K)):R(new Error(`unexpected message: ${re.data}`))},K.onerror=R})}const je=function(){if(Re){const{Worker:C}=function en(C,T){return C.require?C.require(T):{}}(Xt,"worker_threads");return{createWorker:T=>(0,Q.Z)(function*(){return new C(T)})(),addEventListener(T,R){T.on("message",K=>{R({target:T,data:K})})},terminate:T=>(0,Q.Z)(function*(){yield T.terminate()})()}}return{createWorker:C=>(0,Q.Z)(function*(){try{return yield Ie(C)}catch{console.warn("could not load worker:",C)}let T;try{const R=yield fetch(C,{mode:"cors"});if(!R.ok)throw new Error(`could not load: ${C}`);T=yield R.text(),C=URL.createObjectURL(new Blob([T],{type:"application/javascript"}));const K=yield Ie(C);return k.workerURL=C,K}catch{console.warn("could not load worker via fetch:",C)}if(void 0!==T)try{C=`data:application/javascript;base64,${btoa(T)}`;const R=yield Ie(C);return k.workerURL=C,R}catch{console.warn("could not load worker via dataURI")}throw console.warn("workers will not be used"),new Error("can not start workers")})(),addEventListener(C,T){C.addEventListener("message",T)},terminate:C=>(0,Q.Z)(function*(){C.terminate()})()}}();function ii(C){Oe.push(C),pt()}function Te(){return Te=(0,Q.Z)(function*(){if(0===Oe.length&&Z<k.numWorkers){++Z;try{const C=yield je.createWorker(k.workerURL);be.push(C),Oe.push(C),je.addEventListener(C,We)}catch{le=!1}}return Oe.pop()}),Te.apply(this,arguments)}function $t(C,T,R,K){const re=new Uint8Array(T);(function G(C,T){return function B(C,T){var R=Uint8Array;if(3==C[0]&&0==C[1])return T||new R(0);var K=Wt,re=fn,Le=ee,ze=Jn,ut=null==T;ut&&(T=new R(C.length>>>2<<3));for(var yr,us,Ft=0,_n=0,Tt=0,jt=0,Rt=0,Ye=0,Pn=0,gn=0,Ht=0;0==Ft;)if(Ft=K(C,Ht,1),_n=K(C,Ht+1,2),Ht+=3,0!=_n){if(ut&&(T=ie(T,gn+(1<<17))),1==_n&&(yr=x.flmap,us=x.fdmap,Ye=511,Pn=31),2==_n){Tt=re(C,Ht,5)+257,jt=re(C,Ht+5,5)+1,Rt=re(C,Ht+10,4)+4,Ht+=14;for(var Tn=0;Tn<38;Tn+=2)x.itree[Tn]=0,x.itree[Tn+1]=0;var Xi=1;for(Tn=0;Tn<Rt;Tn++){var kl=re(C,Ht+3*Tn,3);x.itree[1+(x.ordr[Tn]<<1)]=kl,kl>Xi&&(Xi=kl)}Ht+=3*Rt,Ne(x.itree,Xi),xe(x.itree,Xi,x.imap),yr=x.lmap,us=x.dmap,Ht=Le(x.imap,(1<<Xi)-1,Tt+jt,C,Ht,x.ttree);var uc=te(x.ttree,0,Tt,x.ltree);Ye=(1<<uc)-1;var cc=te(x.ttree,Tt,jt,x.dtree);Pn=(1<<cc)-1,Ne(x.ltree,uc),xe(x.ltree,uc,yr),Ne(x.dtree,cc),xe(x.dtree,cc,us)}for(;;){var wf=yr[ze(C,Ht)&Ye];Ht+=15&wf;var Qo=wf>>>4;if(Qo>>>8){if(256==Qo)break;var Ml=gn+Qo-254;if(Qo>264){var dc=x.ldef[Qo-257];Ml=gn+(dc>>>3)+re(C,Ht,7&dc),Ht+=7&dc}var Cf=us[ze(C,Ht)&Pn],Sl=x.ddef[Cf>>>4],El=(Sl>>>4)+K(C,Ht+=15&Cf,15&Sl);for(Ht+=15&Sl,ut&&(T=ie(T,gn+(1<<17)));gn<Ml;)T[gn]=T[gn++-El],T[gn]=T[gn++-El],T[gn]=T[gn++-El],T[gn]=T[gn++-El];gn=Ml}else T[gn++]=Qo}}else{7&Ht&&(Ht+=8-(7&Ht));var Yn=4+(Ht>>>3),oi=C[Yn-4]|C[Yn-3]<<8;ut&&(T=ie(T,gn+oi)),T.set(new R(C.buffer,C.byteOffset+Yn,oi),gn),Ht=Yn+oi<<3,gn+=oi}return T.length==gn?T:T.slice(0,gn)}(C,T)})(C,re),K(R?new Blob([re],{type:R}):re.buffer)}function pt(){return Xe.apply(this,arguments)}function Xe(){return Xe=(0,Q.Z)(function*(){if(0!==Qe.length){if(k.useWorkers&&le){const C=yield function It(){return Te.apply(this,arguments)}();if(le){if(C){if(0===Qe.length)return void ii(C);const{id:T,src:R,uncompressedSize:K,type:re,resolve:Le,reject:ze}=Qe.shift();sn.set(T,{id:T,resolve:Le,reject:ze}),C.postMessage({type:"inflate",data:{id:T,type:re,src:R,uncompressedSize:K}},[])}return}}for(;Qe.length;){const{src:C,uncompressedSize:T,type:R,resolve:K}=Qe.shift();let re=C;ve(C)&&(re=yield De(C)),$t(re,T,R,K)}}}),Xe.apply(this,arguments)}function Ae(C,T,R){return new Promise((K,re)=>{Qe.push({src:C,uncompressedSize:T,type:R,resolve:K,reject:re,id:E++}),pt()})}class an{constructor(T,R){this._reader=T,this._rawEntry=R,this.name=R.name,this.nameBytes=R.nameBytes,this.size=R.uncompressedSize,this.compressedSize=R.compressedSize,this.comment=R.comment,this.commentBytes=R.commentBytes,this.compressionMethod=R.compressionMethod,this.lastModDate=function tn(C,T){return new Date(1980+(C>>9&127),(C>>5&15)-1,31&C,T>>11&31,T>>5&63,2*(31&T),0)}(R.lastModFileDate,R.lastModFileTime),this.isDirectory=0===R.uncompressedSize&&R.name.endsWith("/"),this.encrypted=!!(1&R.generalPurposeBitFlag),this.externalFileAttributes=R.externalFileAttributes,this.versionMadeBy=R.versionMadeBy}blob(T="application/octet-stream"){var R=this;return(0,Q.Z)(function*(){return yield function ac(C,T,R){return Cl.apply(this,arguments)}(R._reader,R._rawEntry,T)})()}arrayBuffer(){var T=this;return(0,Q.Z)(function*(){return yield function IC(C,T){return bf.apply(this,arguments)}(T._reader,T._rawEntry)})()}text(){var T=this;return(0,Q.Z)(function*(){const R=yield T.arrayBuffer();return ri(new Uint8Array(R))})()}json(){var T=this;return(0,Q.Z)(function*(){const R=yield T.text();return JSON.parse(R)})()}}const Lt=22,Ln=65535,A=101010256,O=101075792;function L(C,T,R){return Y.apply(this,arguments)}function Y(){return Y=(0,Q.Z)(function*(C,T,R){return yield C.read(T,R)}),Y.apply(this,arguments)}function ne(C,T,R,K){return fe.apply(this,arguments)}function fe(){return fe=(0,Q.Z)(function*(C,T,R,K){return C.sliceAsBlob?yield C.sliceAsBlob(T,R,K):yield C.read(T,R)}),fe.apply(this,arguments)}const At={unsigned:()=>0};function we(C,T){return C[T]+256*C[T+1]}function ke(C,T){return C[T]+256*C[T+1]+65536*C[T+2]+16777216*C[T+3]}function xt(C,T){return ke(C,T)+4294967296*ke(C,T+4)}const Dt=new TextDecoder;function ri(C,T){return at(C.buffer)&&(C=new Uint8Array(C)),Dt.decode(C)}function On(){return On=(0,Q.Z)(function*(C,T){const R=Math.min(Lt+Ln,T),K=T-R,re=yield L(C,K,R);for(let Le=R-Lt;Le>=0;--Le){if(ke(re,Le)!==A)continue;const ze=new Uint8Array(re.buffer,re.byteOffset+Le,re.byteLength-Le),ut=we(ze,4);if(0!==ut)throw new Error(`multi-volume zip files are not supported. This is volume: ${ut}`);const Ft=we(ze,10),_n=ke(ze,12),Tt=ke(ze,16),jt=we(ze,20),Rt=ze.length-Lt;if(jt!==Rt)throw new Error(`invalid comment length. expected: ${Rt}, actual: ${jt}`);const Ye=new Uint8Array(ze.buffer,ze.byteOffset+22,jt),Pn=ri(Ye);return 65535===Ft||4294967295===Tt?yield Li(C,K+Le,Pn,Ye):yield ls(C,Tt,_n,Ft,Pn,Ye)}throw new Error("could not find end of central directory. maybe not zip file")}),On.apply(this,arguments)}const Dn=117853008;function Li(C,T,R,K){return Pt.apply(this,arguments)}function Pt(){return Pt=(0,Q.Z)(function*(C,T,R,K){const re=T-20,Le=yield L(C,re,20);if(ke(Le,0)!==Dn)throw new Error("invalid zip64 end of central directory locator signature");const ze=xt(Le,8),ut=yield L(C,ze,56);if(ke(ut,0)!==O)throw new Error("invalid zip64 end of central directory record signature");const Ft=xt(ut,32),_n=xt(ut,40);return ls(C,xt(ut,48),_n,Ft,R,K)}),Pt.apply(this,arguments)}const Un=33639248;function ls(C,T,R,K,re,Le){return si.apply(this,arguments)}function si(){return si=(0,Q.Z)(function*(C,T,R,K,re,Le){let ze=0;const ut=yield L(C,T,R),Ft=[];for(let Tt=0;Tt<K;++Tt){const jt=ut.subarray(ze,ze+46),Rt=ke(jt,0);if(Rt!==Un)throw new Error(`invalid central directory file header signature: 0x${Rt.toString(16)}`);const Ye={versionMadeBy:we(jt,4),versionNeededToExtract:we(jt,6),generalPurposeBitFlag:we(jt,8),compressionMethod:we(jt,10),lastModFileTime:we(jt,12),lastModFileDate:we(jt,14),crc32:ke(jt,16),compressedSize:ke(jt,20),uncompressedSize:ke(jt,24),fileNameLength:we(jt,28),extraFieldLength:we(jt,30),fileCommentLength:we(jt,32),internalFileAttributes:we(jt,36),externalFileAttributes:ke(jt,38),relativeOffsetOfLocalHeader:ke(jt,42)};if(64&Ye.generalPurposeBitFlag)throw new Error("strong encryption is not supported");ze+=46;const Pn=ut.subarray(ze,ze+Ye.fileNameLength+Ye.extraFieldLength+Ye.fileCommentLength);Ye.nameBytes=Pn.slice(0,Ye.fileNameLength),Ye.name=ri(Ye.nameBytes);const gn=Ye.fileNameLength+Ye.extraFieldLength,Ht=Pn.slice(Ye.fileNameLength,gn);Ye.extraFields=[];let yr=0;for(;yr<Ht.length-3;){const Yn=we(Ht,yr+0),Tn=yr+4,Xi=Tn+we(Ht,yr+2);if(Xi>Ht.length)throw new Error("extra field length exceeds extra field buffer size");Ye.extraFields.push({id:Yn,data:Ht.slice(Tn,Xi)}),yr=Xi}if(Ye.commentBytes=Pn.slice(gn,gn+Ye.fileCommentLength),Ye.comment=ri(Ye.commentBytes),ze+=Pn.length,4294967295===Ye.uncompressedSize||4294967295===Ye.compressedSize||4294967295===Ye.relativeOffsetOfLocalHeader){const Yn=Ye.extraFields.find(Xi=>1===Xi.id);if(!Yn)throw new Error("expected zip64 extended information extra field");const oi=Yn.data;let Tn=0;if(4294967295===Ye.uncompressedSize){if(Tn+8>oi.length)throw new Error("zip64 extended information extra field does not include uncompressed size");Ye.uncompressedSize=xt(oi,Tn),Tn+=8}if(4294967295===Ye.compressedSize){if(Tn+8>oi.length)throw new Error("zip64 extended information extra field does not include compressed size");Ye.compressedSize=xt(oi,Tn),Tn+=8}if(4294967295===Ye.relativeOffsetOfLocalHeader){if(Tn+8>oi.length)throw new Error("zip64 extended information extra field does not include relative header offset");Ye.relativeOffsetOfLocalHeader=xt(oi,Tn),Tn+=8}}const us=Ye.extraFields.find(Yn=>28789===Yn.id&&Yn.data.length>=6&&1===Yn.data[0]&&ke(Yn.data,1),At.unsigned(Ye.nameBytes));if(us&&(Ye.fileName=ri(us.data.slice(5))),0===Ye.compressionMethod){let Yn=Ye.uncompressedSize;if(1&Ye.generalPurposeBitFlag&&(Yn+=12),Ye.compressedSize!==Yn)throw new Error(`compressed size mismatch for stored file: ${Ye.compressedSize} != ${Yn}`)}Ft.push(Ye)}return{zip:{comment:re,commentBytes:Le},entries:Ft.map(Tt=>new an(C,Tt))}}),si.apply(this,arguments)}function Go(C,T){return Zo.apply(this,arguments)}function Zo(){return Zo=(0,Q.Z)(function*(C,T){if(1&T.generalPurposeBitFlag)throw new Error("encrypted entries not supported");const R=yield L(C,T.relativeOffsetOfLocalHeader,30),K=yield C.getLength(),re=ke(R,0);if(67324752!==re)throw new Error(`invalid local file header signature: 0x${re.toString(16)}`);const Le=we(R,26),ze=we(R,28),ut=T.relativeOffsetOfLocalHeader+R.length+Le+ze;let Ft;if(0===T.compressionMethod)Ft=!1;else{if(8!==T.compressionMethod)throw new Error(`unsupported compression method: ${T.compressionMethod}`);Ft=!0}const _n=ut;if(0!==T.compressedSize&&_n+T.compressedSize>K)throw new Error(`file data overflows file bounds: ${_n} +  ${T.compressedSize}  > ${K}`);return{decompress:Ft,fileDataStart:_n}}),Zo.apply(this,arguments)}function bf(){return bf=(0,Q.Z)(function*(C,T){const{decompress:R,fileDataStart:K}=yield Go(C,T);if(!R){const ze=yield L(C,K,T.compressedSize);return function pe(C){return 0===C.byteOffset&&C.byteLength===C.buffer.byteLength}(ze)?ze.buffer:ze.slice().buffer}const re=yield ne(C,K,T.compressedSize);return yield Ae(re,T.uncompressedSize)}),bf.apply(this,arguments)}function Cl(){return Cl=(0,Q.Z)(function*(C,T,R){const{decompress:K,fileDataStart:re}=yield Go(C,T);if(!K){const ut=yield ne(C,re,T.compressedSize,R);return ve(ut)?ut:new Blob([at(ut.buffer)?new Uint8Array(ut):ut],{type:R})}const Le=yield ne(C,re,T.compressedSize);return yield Ae(Le,T.uncompressedSize,R)}),Cl.apply(this,arguments)}function lc(C){return Dl.apply(this,arguments)}function Dl(){return Dl=(0,Q.Z)(function*(C){let T;if(typeof Blob<"u"&&C instanceof Blob)T=new ae(C);else if(C instanceof ArrayBuffer||C&&C.buffer&&C.buffer instanceof ArrayBuffer)T=new N(C);else if(at(C)||at(C.buffer))T=new N(C);else if("string"==typeof C){const K=yield fetch(C);if(!K.ok)throw new Error(`failed http request ${C}, status: ${K.status}: ${K.statusText}`);const re=yield K.blob();T=new ae(re)}else{if("function"!=typeof C.getLength||"function"!=typeof C.read)throw new Error("unsupported source type");T=C}const R=yield T.getLength();if(R>Number.MAX_SAFE_INTEGER)throw new Error(`file too large. size: ${R}. Only file sizes up 4503599627370496 bytes are supported`);return yield function Ti(C,T){return On.apply(this,arguments)}(T,R)}),Dl.apply(this,arguments)}},321:()=>{"use strict";const Xt=":";class It extends Error{constructor(O){super(`No translation found for ${Ae(O)}.`),this.parsedMessage=O,this.type="MissingTranslationError"}}const an=function(A,...O){if(an.translate){const Y=an.translate(A,O);A=Y[0],O=Y[1]}let L=Ln(A[0],A.raw[0]);for(let Y=1;Y<A.length;Y++)L+=O[Y-1]+Ln(A[Y],A.raw[Y]);return L},Lt=":";function Ln(A,O){return O.charAt(0)===Lt?A.substring(function ii(A,O){for(let L=1,Y=1;L<A.length;L++,Y++)if("\\"===O[Y])Y++;else if(A[L]===Xt)return L;throw new Error(`Unterminated $localize metadata block in "${O}".`)}(A,O)+1):A}(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)().$localize=an},861:(Xt,j,de)=>{"use strict";function Q(De,me,ve,at,Re,pe,N){try{var ae=De[pe](N),Ee=ae.value}catch(B){return void ve(B)}ae.done?me(Ee):Promise.resolve(Ee).then(at,Re)}function ge(De){return function(){var me=this,ve=arguments;return new Promise(function(at,Re){var pe=De.apply(me,ve);function N(Ee){Q(pe,at,Re,N,ae,"next",Ee)}function ae(Ee){Q(pe,at,Re,N,ae,"throw",Ee)}N(void 0)})}}de.d(j,{Z:()=>ge})}},Xt=>{var j=Q=>Xt(Xt.s=Q);j(321),j(355)}]);